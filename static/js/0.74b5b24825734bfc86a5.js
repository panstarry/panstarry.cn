webpackJsonp([0],{

/***/ 1093:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1098)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1096),
  /* template */
  __webpack_require__(1099),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-30ba68e5",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1094:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1102)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1100),
  /* template */
  __webpack_require__(1103),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-6c86f0c9",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1095:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1111)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1107),
  /* template */
  __webpack_require__(1113),
  /* styles */
  injectStyle,
  /* scopeId */
  null,
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1096:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	props: {
		title: {
			type: String,
			required: false
		},
		menuList: {
			type: Array,
			default() {
				return [];
			}
		}
	},

	data() {
		return {};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1097:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-sub-tit[data-v-30ba68e5]{display:inline-block}.-sub-tit .-icon[data-v-30ba68e5]{font-weight:400;padding:0 7px;color:#aaa}.-sub-tit .-name[data-v-30ba68e5]{color:#e20;padding-left:25px}.back[data-v-30ba68e5]{display:inline-block;color:gray}.back[data-v-30ba68e5]:hover{color:red}", ""]);

// exports


/***/ }),

/***/ 1098:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1097);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("0b308ec4", content, true, {});

/***/ }),

/***/ 1099:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "page-header"
  }, [_c('ul', {
    staticClass: "menus"
  }, [_vm._m(0), _vm._v(" "), (_vm.title) ? _c('li', {
    staticClass: "tit"
  }, [_vm._v(_vm._s(_vm.title) + " "), _c('i', {
    staticClass: "iconfont icon-arrow-r"
  })]) : _vm._e(), _vm._v(" "), _vm._l((_vm.menuList), function(m, index) {
    return _c('li', {
      class: {
        'on': m.active
      }
    }, [_c('a', {
      key: index,
      on: {
        "click": function($event) {
          return _vm.$router.push('/' + m.path)
        }
      }
    }, [_vm._v(_vm._s(m.name))])])
  }), _vm._v(" "), _c('li', [_vm._t("default")], 2)], 2)])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('li', [_c('a', {
    staticClass: "back",
    attrs: {
      "href": "javascript: history.go(-1);",
      "title": "返回"
    }
  }, [_c('i', {
    staticClass: "iconfont icon-arrow-l-1"
  })])])
}]}

/***/ }),

/***/ 1100:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	props: {
		afterSelect: {
			type: Function,
			default() {
				return {};
			}
		},

		showLatestMember: {
			type: Boolean,
			default: true,
			required: false
		}
	},

	data() {
		return {
			g: window.$,
			memberQueryStr: null,
			memberCandidates: [],
			memberFlag: null,
			queryMemberList: [],
			latestMemberList: [],
			cardNo: null,
			queryType: 1,
			memberName: null
		};
	},

	created() {
		if (this.showLatestMember) {
			this.queryLatestMembers();
		}
	},

	methods: {
		handleSearchMember(value) {
			if (!value) {
				this.memberCandidates = [];
				return;
			}
			let args = { queryStr: value };
			$.Req.service($.SvName.MEMBER_QUERY_FOR_AUTO_COMPLETE, args, ret => {
				this.memberCandidates = ret.memberInfoList;
			});
		},

		quickQuery() {
			if (this.memberFlag) {
				let args = { nameOrPhone: this.memberFlag };
				$.Req.service($.SvName.MEMBER_ADV_QUERY, args, ret => {
					if (ret.memberList && ret.memberList.length) {
						if (ret.memberList && ret.memberList.length === 1) {
							this.selectMember(ret.memberList[0]);
							return;
						}
						this.queryMemberList = ret.memberList;
					} else {
						this.queryMemberList = [];
						$.Msg.info('未查到符合条件的会员');
					}
				});
			} else {
				$.Msg.error('请输入会员姓名或手机号');
			}
		},

		queryMemberByName() {
			if (!this.memberName) {
				$.Msg.error('请输入会员姓名');
				return;
			}

			let args = { fuzzyName: this.memberName };
			$.Req.service($.SvName.MEMBER_ADV_QUERY, args, ret => {
				if (ret.memberList && ret.memberList.length) {
					if (ret.memberList && ret.memberList.length === 1) {
						this.selectMember(ret.memberList[0]);
						return;
					}
					this.queryMemberList = ret.memberList;
				} else {
					this.queryMemberList = [];
					$.Msg.info('未查到符合条件的会员');
				}
			});
		},

		queryMemberByCard() {
			if (this.cardNo) {
				let args = { cardNo: this.cardNo };
				$.Req.service($.SvName.MEMBER_ADV_QUERY, args, ret => {
					if (ret.memberList && ret.memberList.length) {
						if (ret.memberList && ret.memberList.length === 1) {
							this.selectMember(ret.memberList[0]);
							return;
						}
						this.queryMemberList = ret.memberList;
					} else {
						this.queryMemberList = [];
						$.Msg.info('未查到符合条件的会员');
					}
				});
			} else {
				$.Msg.error('请输入会员卡号');
			}
		},

		queryLatestMembers() {
			let args = { page: 1 };
			$.Req.service($.SvName.MEMBER_ADV_QUERY, args, ret => {
				this.latestMemberList = ret.memberList;
			});
		},

		selectMember(m) {
			if (this.afterSelect) {
				this.afterSelect(m);
			}
		},

		selectMemberCandidate(val) {
			if (!val) return;
			let items = val.split('|');
			this.memberFlag = items[0].trim();
			this.quickQuery();
		}
	}
});

/***/ }),

/***/ 1101:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".input[data-v-6c86f0c9]{font-size:14px;font-weight:700;display:block}.member-list[data-v-6c86f0c9]{border:1px solid #dddee1;padding:10px;margin-top:20px;clear:both}.member-list li[data-v-6c86f0c9]{padding:5px 10px;margin:5px;background:#eee;display:inline-block;cursor:pointer;width:150px;text-align:center;max-height:28px;overflow:hidden}.member-list li[data-v-6c86f0c9]:hover{background:#ddd;color:#ff4500}.latest-members[data-v-6c86f0c9]{border:1px solid #9ed18b;margin-top:25px}.latest-members .-tit[data-v-6c86f0c9]{margin-bottom:10px;font-weight:700;font-size:13px;padding-left:5px}.latest-members ul[data-v-6c86f0c9]{padding-top:15px}", ""]);

// exports


/***/ }),

/***/ 1102:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1101);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("1adbe95f", content, true, {});

/***/ }),

/***/ 1103:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('div', {
    staticStyle: {
      "margin-bottom": "12px"
    }
  }, [_c('radio-group', {
    model: {
      value: (_vm.queryType),
      callback: function($$v) {
        _vm.queryType = $$v
      },
      expression: "queryType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("根据姓名和手机号联想查询")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("根据姓名模糊查询")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 3
    }
  }, [_vm._v("根据会员卡号查询")])], 1)], 1), _vm._v(" "), (_vm.queryType == 1) ? [_c('AutoComplete', {
    staticStyle: {
      "width": "360px"
    },
    attrs: {
      "data": _vm.memberCandidates,
      "icon": "ios-search",
      "clearable": true,
      "placeholder": "请输入姓名或手机号"
    },
    on: {
      "on-select": _vm.selectMemberCandidate,
      "on-search": _vm.handleSearchMember
    },
    model: {
      value: (_vm.memberQueryStr),
      callback: function($$v) {
        _vm.memberQueryStr = (typeof $$v === 'string' ? $$v.trim() : $$v)
      },
      expression: "memberQueryStr"
    }
  })] : _vm._e(), _vm._v(" "), (_vm.queryType == 2) ? [_c('i-input', {
    staticStyle: {
      "width": "360px"
    },
    attrs: {
      "placeholder": "请输入姓名后按回车查询"
    },
    on: {
      "on-enter": _vm.queryMemberByName
    },
    model: {
      value: (_vm.memberName),
      callback: function($$v) {
        _vm.memberName = (typeof $$v === 'string' ? $$v.trim() : $$v)
      },
      expression: "memberName"
    }
  }), _vm._v(" "), _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.queryMemberByName
    }
  }, [_vm._v("查询")])] : _vm._e(), _vm._v(" "), (_vm.queryType == 3) ? [_c('input-int', {
    staticStyle: {
      "width": "360px"
    },
    attrs: {
      "placeholder": "请刷卡或输入卡号后按回车"
    },
    on: {
      "enter": _vm.queryMemberByCard
    },
    model: {
      value: (_vm.cardNo),
      callback: function($$v) {
        _vm.cardNo = $$v
      },
      expression: "cardNo"
    }
  }), _vm._v(" "), _c('i-button', {
    staticStyle: {
      "position": "relative",
      "top": "-1px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.queryMemberByCard
    }
  }, [_vm._v("查询")])] : _vm._e(), _vm._v(" "), (_vm.queryMemberList && _vm.queryMemberList.length > 0) ? _c('div', {
    staticClass: "member-list"
  }, [_c('ul', _vm._l((_vm.queryMemberList), function(m) {
    return _c('li', {
      attrs: {
        "title": m.name
      },
      on: {
        "click": function($event) {
          return _vm.selectMember(m)
        }
      }
    }, [_vm._v(_vm._s(m.name) + "（" + _vm._s(_vm.g.Dict.Sex[m.sex]) + "）")])
  }), 0)]) : _vm._e(), _vm._v(" "), (_vm.showLatestMember && _vm.latestMemberList && _vm.latestMemberList.length > 0) ? _c('div', {
    staticClass: "member-list latest-members"
  }, [_c('span', {
    staticClass: "-tit"
  }, [_vm._v("最近新建的会员")]), _c('span', {
    staticClass: "gray l10"
  }, [_vm._v("（点击可选择会员）")]), _vm._v(" "), _c('ul', _vm._l((_vm.latestMemberList), function(m, idx) {
    return (idx < 15) ? _c('li', {
      on: {
        "click": function($event) {
          return _vm.selectMember(m)
        }
      }
    }, [_vm._v(_vm._s(m.name) + "（" + _vm._s(_vm.g.Dict.Sex[m.sex]) + "）")]) : _vm._e()
  }), 0)]) : _vm._e()], 2)
},staticRenderFns: []}

/***/ }),

/***/ 1104:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*!
 * qrcode.vue v1.7.0
 * A Vue component to generate QRCode.
 * © 2017-2019 @scopewu(https://github.com/scopewu)
 * MIT License.
 */
var mode = {
  MODE_NUMBER: 1 << 0,
  MODE_ALPHA_NUM: 1 << 1,
  MODE_8BIT_BYTE: 1 << 2,
  MODE_KANJI: 1 << 3
};

function QR8bitByte(data) {
  this.mode = mode.MODE_8BIT_BYTE;
  this.data = data;
}

QR8bitByte.prototype = {
  getLength: function (buffer) {
    return this.data.length;
  },
  write: function (buffer) {
    for (var i = 0; i < this.data.length; i++) {
      // not JIS ...
      buffer.put(this.data.charCodeAt(i), 8);
    }
  }
};
var _8BitByte = QR8bitByte;

var ErrorCorrectLevel = {
  L: 1,
  M: 0,
  Q: 3,
  H: 2
};

function QRRSBlock(totalCount, dataCount) {
  this.totalCount = totalCount;
  this.dataCount = dataCount;
}

QRRSBlock.RS_BLOCK_TABLE = [// L
// M
// Q
// H
// 1
[1, 26, 19], [1, 26, 16], [1, 26, 13], [1, 26, 9], // 2
[1, 44, 34], [1, 44, 28], [1, 44, 22], [1, 44, 16], // 3
[1, 70, 55], [1, 70, 44], [2, 35, 17], [2, 35, 13], // 4		
[1, 100, 80], [2, 50, 32], [2, 50, 24], [4, 25, 9], // 5
[1, 134, 108], [2, 67, 43], [2, 33, 15, 2, 34, 16], [2, 33, 11, 2, 34, 12], // 6
[2, 86, 68], [4, 43, 27], [4, 43, 19], [4, 43, 15], // 7		
[2, 98, 78], [4, 49, 31], [2, 32, 14, 4, 33, 15], [4, 39, 13, 1, 40, 14], // 8
[2, 121, 97], [2, 60, 38, 2, 61, 39], [4, 40, 18, 2, 41, 19], [4, 40, 14, 2, 41, 15], // 9
[2, 146, 116], [3, 58, 36, 2, 59, 37], [4, 36, 16, 4, 37, 17], [4, 36, 12, 4, 37, 13], // 10		
[2, 86, 68, 2, 87, 69], [4, 69, 43, 1, 70, 44], [6, 43, 19, 2, 44, 20], [6, 43, 15, 2, 44, 16], // 11
[4, 101, 81], [1, 80, 50, 4, 81, 51], [4, 50, 22, 4, 51, 23], [3, 36, 12, 8, 37, 13], // 12
[2, 116, 92, 2, 117, 93], [6, 58, 36, 2, 59, 37], [4, 46, 20, 6, 47, 21], [7, 42, 14, 4, 43, 15], // 13
[4, 133, 107], [8, 59, 37, 1, 60, 38], [8, 44, 20, 4, 45, 21], [12, 33, 11, 4, 34, 12], // 14
[3, 145, 115, 1, 146, 116], [4, 64, 40, 5, 65, 41], [11, 36, 16, 5, 37, 17], [11, 36, 12, 5, 37, 13], // 15
[5, 109, 87, 1, 110, 88], [5, 65, 41, 5, 66, 42], [5, 54, 24, 7, 55, 25], [11, 36, 12], // 16
[5, 122, 98, 1, 123, 99], [7, 73, 45, 3, 74, 46], [15, 43, 19, 2, 44, 20], [3, 45, 15, 13, 46, 16], // 17
[1, 135, 107, 5, 136, 108], [10, 74, 46, 1, 75, 47], [1, 50, 22, 15, 51, 23], [2, 42, 14, 17, 43, 15], // 18
[5, 150, 120, 1, 151, 121], [9, 69, 43, 4, 70, 44], [17, 50, 22, 1, 51, 23], [2, 42, 14, 19, 43, 15], // 19
[3, 141, 113, 4, 142, 114], [3, 70, 44, 11, 71, 45], [17, 47, 21, 4, 48, 22], [9, 39, 13, 16, 40, 14], // 20
[3, 135, 107, 5, 136, 108], [3, 67, 41, 13, 68, 42], [15, 54, 24, 5, 55, 25], [15, 43, 15, 10, 44, 16], // 21
[4, 144, 116, 4, 145, 117], [17, 68, 42], [17, 50, 22, 6, 51, 23], [19, 46, 16, 6, 47, 17], // 22
[2, 139, 111, 7, 140, 112], [17, 74, 46], [7, 54, 24, 16, 55, 25], [34, 37, 13], // 23
[4, 151, 121, 5, 152, 122], [4, 75, 47, 14, 76, 48], [11, 54, 24, 14, 55, 25], [16, 45, 15, 14, 46, 16], // 24
[6, 147, 117, 4, 148, 118], [6, 73, 45, 14, 74, 46], [11, 54, 24, 16, 55, 25], [30, 46, 16, 2, 47, 17], // 25
[8, 132, 106, 4, 133, 107], [8, 75, 47, 13, 76, 48], [7, 54, 24, 22, 55, 25], [22, 45, 15, 13, 46, 16], // 26
[10, 142, 114, 2, 143, 115], [19, 74, 46, 4, 75, 47], [28, 50, 22, 6, 51, 23], [33, 46, 16, 4, 47, 17], // 27
[8, 152, 122, 4, 153, 123], [22, 73, 45, 3, 74, 46], [8, 53, 23, 26, 54, 24], [12, 45, 15, 28, 46, 16], // 28
[3, 147, 117, 10, 148, 118], [3, 73, 45, 23, 74, 46], [4, 54, 24, 31, 55, 25], [11, 45, 15, 31, 46, 16], // 29
[7, 146, 116, 7, 147, 117], [21, 73, 45, 7, 74, 46], [1, 53, 23, 37, 54, 24], [19, 45, 15, 26, 46, 16], // 30
[5, 145, 115, 10, 146, 116], [19, 75, 47, 10, 76, 48], [15, 54, 24, 25, 55, 25], [23, 45, 15, 25, 46, 16], // 31
[13, 145, 115, 3, 146, 116], [2, 74, 46, 29, 75, 47], [42, 54, 24, 1, 55, 25], [23, 45, 15, 28, 46, 16], // 32
[17, 145, 115], [10, 74, 46, 23, 75, 47], [10, 54, 24, 35, 55, 25], [19, 45, 15, 35, 46, 16], // 33
[17, 145, 115, 1, 146, 116], [14, 74, 46, 21, 75, 47], [29, 54, 24, 19, 55, 25], [11, 45, 15, 46, 46, 16], // 34
[13, 145, 115, 6, 146, 116], [14, 74, 46, 23, 75, 47], [44, 54, 24, 7, 55, 25], [59, 46, 16, 1, 47, 17], // 35
[12, 151, 121, 7, 152, 122], [12, 75, 47, 26, 76, 48], [39, 54, 24, 14, 55, 25], [22, 45, 15, 41, 46, 16], // 36
[6, 151, 121, 14, 152, 122], [6, 75, 47, 34, 76, 48], [46, 54, 24, 10, 55, 25], [2, 45, 15, 64, 46, 16], // 37
[17, 152, 122, 4, 153, 123], [29, 74, 46, 14, 75, 47], [49, 54, 24, 10, 55, 25], [24, 45, 15, 46, 46, 16], // 38
[4, 152, 122, 18, 153, 123], [13, 74, 46, 32, 75, 47], [48, 54, 24, 14, 55, 25], [42, 45, 15, 32, 46, 16], // 39
[20, 147, 117, 4, 148, 118], [40, 75, 47, 7, 76, 48], [43, 54, 24, 22, 55, 25], [10, 45, 15, 67, 46, 16], // 40
[19, 148, 118, 6, 149, 119], [18, 75, 47, 31, 76, 48], [34, 54, 24, 34, 55, 25], [20, 45, 15, 61, 46, 16]];

QRRSBlock.getRSBlocks = function (typeNumber, errorCorrectLevel) {
  var rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);

  if (rsBlock == undefined) {
    throw new Error("bad rs block @ typeNumber:" + typeNumber + "/errorCorrectLevel:" + errorCorrectLevel);
  }

  var length = rsBlock.length / 3;
  var list = new Array();

  for (var i = 0; i < length; i++) {
    var count = rsBlock[i * 3 + 0];
    var totalCount = rsBlock[i * 3 + 1];
    var dataCount = rsBlock[i * 3 + 2];

    for (var j = 0; j < count; j++) {
      list.push(new QRRSBlock(totalCount, dataCount));
    }
  }

  return list;
};

QRRSBlock.getRsBlockTable = function (typeNumber, errorCorrectLevel) {
  switch (errorCorrectLevel) {
    case ErrorCorrectLevel.L:
      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];

    case ErrorCorrectLevel.M:
      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];

    case ErrorCorrectLevel.Q:
      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];

    case ErrorCorrectLevel.H:
      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];

    default:
      return undefined;
  }
};

var RSBlock = QRRSBlock;

function QRBitBuffer() {
  this.buffer = new Array();
  this.length = 0;
}

QRBitBuffer.prototype = {
  get: function (index) {
    var bufIndex = Math.floor(index / 8);
    return (this.buffer[bufIndex] >>> 7 - index % 8 & 1) == 1;
  },
  put: function (num, length) {
    for (var i = 0; i < length; i++) {
      this.putBit((num >>> length - i - 1 & 1) == 1);
    }
  },
  getLengthInBits: function () {
    return this.length;
  },
  putBit: function (bit) {
    var bufIndex = Math.floor(this.length / 8);

    if (this.buffer.length <= bufIndex) {
      this.buffer.push(0);
    }

    if (bit) {
      this.buffer[bufIndex] |= 0x80 >>> this.length % 8;
    }

    this.length++;
  }
};
var BitBuffer = QRBitBuffer;

var QRMath = {
  glog: function (n) {
    if (n < 1) {
      throw new Error("glog(" + n + ")");
    }

    return QRMath.LOG_TABLE[n];
  },
  gexp: function (n) {
    while (n < 0) {
      n += 255;
    }

    while (n >= 256) {
      n -= 255;
    }

    return QRMath.EXP_TABLE[n];
  },
  EXP_TABLE: new Array(256),
  LOG_TABLE: new Array(256)
};

for (var i = 0; i < 8; i++) {
  QRMath.EXP_TABLE[i] = 1 << i;
}

for (var i = 8; i < 256; i++) {
  QRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4] ^ QRMath.EXP_TABLE[i - 5] ^ QRMath.EXP_TABLE[i - 6] ^ QRMath.EXP_TABLE[i - 8];
}

for (var i = 0; i < 255; i++) {
  QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]] = i;
}

var math = QRMath;

function QRPolynomial(num, shift) {
  if (num.length == undefined) {
    throw new Error(num.length + "/" + shift);
  }

  var offset = 0;

  while (offset < num.length && num[offset] == 0) {
    offset++;
  }

  this.num = new Array(num.length - offset + shift);

  for (var i = 0; i < num.length - offset; i++) {
    this.num[i] = num[i + offset];
  }
}

QRPolynomial.prototype = {
  get: function (index) {
    return this.num[index];
  },
  getLength: function () {
    return this.num.length;
  },
  multiply: function (e) {
    var num = new Array(this.getLength() + e.getLength() - 1);

    for (var i = 0; i < this.getLength(); i++) {
      for (var j = 0; j < e.getLength(); j++) {
        num[i + j] ^= math.gexp(math.glog(this.get(i)) + math.glog(e.get(j)));
      }
    }

    return new QRPolynomial(num, 0);
  },
  mod: function (e) {
    if (this.getLength() - e.getLength() < 0) {
      return this;
    }

    var ratio = math.glog(this.get(0)) - math.glog(e.get(0));
    var num = new Array(this.getLength());

    for (var i = 0; i < this.getLength(); i++) {
      num[i] = this.get(i);
    }

    for (var i = 0; i < e.getLength(); i++) {
      num[i] ^= math.gexp(math.glog(e.get(i)) + ratio);
    } // recursive call


    return new QRPolynomial(num, 0).mod(e);
  }
};
var Polynomial = QRPolynomial;

var QRMaskPattern = {
  PATTERN000: 0,
  PATTERN001: 1,
  PATTERN010: 2,
  PATTERN011: 3,
  PATTERN100: 4,
  PATTERN101: 5,
  PATTERN110: 6,
  PATTERN111: 7
};
var QRUtil = {
  PATTERN_POSITION_TABLE: [[], [6, 18], [6, 22], [6, 26], [6, 30], [6, 34], [6, 22, 38], [6, 24, 42], [6, 26, 46], [6, 28, 50], [6, 30, 54], [6, 32, 58], [6, 34, 62], [6, 26, 46, 66], [6, 26, 48, 70], [6, 26, 50, 74], [6, 30, 54, 78], [6, 30, 56, 82], [6, 30, 58, 86], [6, 34, 62, 90], [6, 28, 50, 72, 94], [6, 26, 50, 74, 98], [6, 30, 54, 78, 102], [6, 28, 54, 80, 106], [6, 32, 58, 84, 110], [6, 30, 58, 86, 114], [6, 34, 62, 90, 118], [6, 26, 50, 74, 98, 122], [6, 30, 54, 78, 102, 126], [6, 26, 52, 78, 104, 130], [6, 30, 56, 82, 108, 134], [6, 34, 60, 86, 112, 138], [6, 30, 58, 86, 114, 142], [6, 34, 62, 90, 118, 146], [6, 30, 54, 78, 102, 126, 150], [6, 24, 50, 76, 102, 128, 154], [6, 28, 54, 80, 106, 132, 158], [6, 32, 58, 84, 110, 136, 162], [6, 26, 54, 82, 110, 138, 166], [6, 30, 58, 86, 114, 142, 170]],
  G15: 1 << 10 | 1 << 8 | 1 << 5 | 1 << 4 | 1 << 2 | 1 << 1 | 1 << 0,
  G18: 1 << 12 | 1 << 11 | 1 << 10 | 1 << 9 | 1 << 8 | 1 << 5 | 1 << 2 | 1 << 0,
  G15_MASK: 1 << 14 | 1 << 12 | 1 << 10 | 1 << 4 | 1 << 1,
  getBCHTypeInfo: function (data) {
    var d = data << 10;

    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {
      d ^= QRUtil.G15 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15);
    }

    return (data << 10 | d) ^ QRUtil.G15_MASK;
  },
  getBCHTypeNumber: function (data) {
    var d = data << 12;

    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {
      d ^= QRUtil.G18 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18);
    }

    return data << 12 | d;
  },
  getBCHDigit: function (data) {
    var digit = 0;

    while (data != 0) {
      digit++;
      data >>>= 1;
    }

    return digit;
  },
  getPatternPosition: function (typeNumber) {
    return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];
  },
  getMask: function (maskPattern, i, j) {
    switch (maskPattern) {
      case QRMaskPattern.PATTERN000:
        return (i + j) % 2 == 0;

      case QRMaskPattern.PATTERN001:
        return i % 2 == 0;

      case QRMaskPattern.PATTERN010:
        return j % 3 == 0;

      case QRMaskPattern.PATTERN011:
        return (i + j) % 3 == 0;

      case QRMaskPattern.PATTERN100:
        return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 == 0;

      case QRMaskPattern.PATTERN101:
        return i * j % 2 + i * j % 3 == 0;

      case QRMaskPattern.PATTERN110:
        return (i * j % 2 + i * j % 3) % 2 == 0;

      case QRMaskPattern.PATTERN111:
        return (i * j % 3 + (i + j) % 2) % 2 == 0;

      default:
        throw new Error("bad maskPattern:" + maskPattern);
    }
  },
  getErrorCorrectPolynomial: function (errorCorrectLength) {
    var a = new Polynomial([1], 0);

    for (var i = 0; i < errorCorrectLength; i++) {
      a = a.multiply(new Polynomial([1, math.gexp(i)], 0));
    }

    return a;
  },
  getLengthInBits: function (mode$1, type) {
    if (1 <= type && type < 10) {
      // 1 - 9
      switch (mode$1) {
        case mode.MODE_NUMBER:
          return 10;

        case mode.MODE_ALPHA_NUM:
          return 9;

        case mode.MODE_8BIT_BYTE:
          return 8;

        case mode.MODE_KANJI:
          return 8;

        default:
          throw new Error("mode:" + mode$1);
      }
    } else if (type < 27) {
      // 10 - 26
      switch (mode$1) {
        case mode.MODE_NUMBER:
          return 12;

        case mode.MODE_ALPHA_NUM:
          return 11;

        case mode.MODE_8BIT_BYTE:
          return 16;

        case mode.MODE_KANJI:
          return 10;

        default:
          throw new Error("mode:" + mode$1);
      }
    } else if (type < 41) {
      // 27 - 40
      switch (mode$1) {
        case mode.MODE_NUMBER:
          return 14;

        case mode.MODE_ALPHA_NUM:
          return 13;

        case mode.MODE_8BIT_BYTE:
          return 16;

        case mode.MODE_KANJI:
          return 12;

        default:
          throw new Error("mode:" + mode$1);
      }
    } else {
      throw new Error("type:" + type);
    }
  },
  getLostPoint: function (qrCode) {
    var moduleCount = qrCode.getModuleCount();
    var lostPoint = 0; // LEVEL1

    for (var row = 0; row < moduleCount; row++) {
      for (var col = 0; col < moduleCount; col++) {
        var sameCount = 0;
        var dark = qrCode.isDark(row, col);

        for (var r = -1; r <= 1; r++) {
          if (row + r < 0 || moduleCount <= row + r) {
            continue;
          }

          for (var c = -1; c <= 1; c++) {
            if (col + c < 0 || moduleCount <= col + c) {
              continue;
            }

            if (r == 0 && c == 0) {
              continue;
            }

            if (dark == qrCode.isDark(row + r, col + c)) {
              sameCount++;
            }
          }
        }

        if (sameCount > 5) {
          lostPoint += 3 + sameCount - 5;
        }
      }
    } // LEVEL2


    for (var row = 0; row < moduleCount - 1; row++) {
      for (var col = 0; col < moduleCount - 1; col++) {
        var count = 0;
        if (qrCode.isDark(row, col)) count++;
        if (qrCode.isDark(row + 1, col)) count++;
        if (qrCode.isDark(row, col + 1)) count++;
        if (qrCode.isDark(row + 1, col + 1)) count++;

        if (count == 0 || count == 4) {
          lostPoint += 3;
        }
      }
    } // LEVEL3


    for (var row = 0; row < moduleCount; row++) {
      for (var col = 0; col < moduleCount - 6; col++) {
        if (qrCode.isDark(row, col) && !qrCode.isDark(row, col + 1) && qrCode.isDark(row, col + 2) && qrCode.isDark(row, col + 3) && qrCode.isDark(row, col + 4) && !qrCode.isDark(row, col + 5) && qrCode.isDark(row, col + 6)) {
          lostPoint += 40;
        }
      }
    }

    for (var col = 0; col < moduleCount; col++) {
      for (var row = 0; row < moduleCount - 6; row++) {
        if (qrCode.isDark(row, col) && !qrCode.isDark(row + 1, col) && qrCode.isDark(row + 2, col) && qrCode.isDark(row + 3, col) && qrCode.isDark(row + 4, col) && !qrCode.isDark(row + 5, col) && qrCode.isDark(row + 6, col)) {
          lostPoint += 40;
        }
      }
    } // LEVEL4


    var darkCount = 0;

    for (var col = 0; col < moduleCount; col++) {
      for (var row = 0; row < moduleCount; row++) {
        if (qrCode.isDark(row, col)) {
          darkCount++;
        }
      }
    }

    var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;
    lostPoint += ratio * 10;
    return lostPoint;
  }
};
var util = QRUtil;

function QRCode(typeNumber, errorCorrectLevel) {
  this.typeNumber = typeNumber;
  this.errorCorrectLevel = errorCorrectLevel;
  this.modules = null;
  this.moduleCount = 0;
  this.dataCache = null;
  this.dataList = [];
} // for client side minification


var proto = QRCode.prototype;

proto.addData = function (data) {
  var newData = new _8BitByte(data);
  this.dataList.push(newData);
  this.dataCache = null;
};

proto.isDark = function (row, col) {
  if (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {
    throw new Error(row + "," + col);
  }

  return this.modules[row][col];
};

proto.getModuleCount = function () {
  return this.moduleCount;
};

proto.make = function () {
  // Calculate automatically typeNumber if provided is < 1
  if (this.typeNumber < 1) {
    var typeNumber = 1;

    for (typeNumber = 1; typeNumber < 40; typeNumber++) {
      var rsBlocks = RSBlock.getRSBlocks(typeNumber, this.errorCorrectLevel);
      var buffer = new BitBuffer();
      var totalDataCount = 0;

      for (var i = 0; i < rsBlocks.length; i++) {
        totalDataCount += rsBlocks[i].dataCount;
      }

      for (var i = 0; i < this.dataList.length; i++) {
        var data = this.dataList[i];
        buffer.put(data.mode, 4);
        buffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber));
        data.write(buffer);
      }

      if (buffer.getLengthInBits() <= totalDataCount * 8) break;
    }

    this.typeNumber = typeNumber;
  }

  this.makeImpl(false, this.getBestMaskPattern());
};

proto.makeImpl = function (test, maskPattern) {
  this.moduleCount = this.typeNumber * 4 + 17;
  this.modules = new Array(this.moduleCount);

  for (var row = 0; row < this.moduleCount; row++) {
    this.modules[row] = new Array(this.moduleCount);

    for (var col = 0; col < this.moduleCount; col++) {
      this.modules[row][col] = null; //(col + row) % 3;
    }
  }

  this.setupPositionProbePattern(0, 0);
  this.setupPositionProbePattern(this.moduleCount - 7, 0);
  this.setupPositionProbePattern(0, this.moduleCount - 7);
  this.setupPositionAdjustPattern();
  this.setupTimingPattern();
  this.setupTypeInfo(test, maskPattern);

  if (this.typeNumber >= 7) {
    this.setupTypeNumber(test);
  }

  if (this.dataCache == null) {
    this.dataCache = QRCode.createData(this.typeNumber, this.errorCorrectLevel, this.dataList);
  }

  this.mapData(this.dataCache, maskPattern);
};

proto.setupPositionProbePattern = function (row, col) {
  for (var r = -1; r <= 7; r++) {
    if (row + r <= -1 || this.moduleCount <= row + r) continue;

    for (var c = -1; c <= 7; c++) {
      if (col + c <= -1 || this.moduleCount <= col + c) continue;

      if (0 <= r && r <= 6 && (c == 0 || c == 6) || 0 <= c && c <= 6 && (r == 0 || r == 6) || 2 <= r && r <= 4 && 2 <= c && c <= 4) {
        this.modules[row + r][col + c] = true;
      } else {
        this.modules[row + r][col + c] = false;
      }
    }
  }
};

proto.getBestMaskPattern = function () {
  var minLostPoint = 0;
  var pattern = 0;

  for (var i = 0; i < 8; i++) {
    this.makeImpl(true, i);
    var lostPoint = util.getLostPoint(this);

    if (i == 0 || minLostPoint > lostPoint) {
      minLostPoint = lostPoint;
      pattern = i;
    }
  }

  return pattern;
};

proto.createMovieClip = function (target_mc, instance_name, depth) {
  var qr_mc = target_mc.createEmptyMovieClip(instance_name, depth);
  var cs = 1;
  this.make();

  for (var row = 0; row < this.modules.length; row++) {
    var y = row * cs;

    for (var col = 0; col < this.modules[row].length; col++) {
      var x = col * cs;
      var dark = this.modules[row][col];

      if (dark) {
        qr_mc.beginFill(0, 100);
        qr_mc.moveTo(x, y);
        qr_mc.lineTo(x + cs, y);
        qr_mc.lineTo(x + cs, y + cs);
        qr_mc.lineTo(x, y + cs);
        qr_mc.endFill();
      }
    }
  }

  return qr_mc;
};

proto.setupTimingPattern = function () {
  for (var r = 8; r < this.moduleCount - 8; r++) {
    if (this.modules[r][6] != null) {
      continue;
    }

    this.modules[r][6] = r % 2 == 0;
  }

  for (var c = 8; c < this.moduleCount - 8; c++) {
    if (this.modules[6][c] != null) {
      continue;
    }

    this.modules[6][c] = c % 2 == 0;
  }
};

proto.setupPositionAdjustPattern = function () {
  var pos = util.getPatternPosition(this.typeNumber);

  for (var i = 0; i < pos.length; i++) {
    for (var j = 0; j < pos.length; j++) {
      var row = pos[i];
      var col = pos[j];

      if (this.modules[row][col] != null) {
        continue;
      }

      for (var r = -2; r <= 2; r++) {
        for (var c = -2; c <= 2; c++) {
          if (r == -2 || r == 2 || c == -2 || c == 2 || r == 0 && c == 0) {
            this.modules[row + r][col + c] = true;
          } else {
            this.modules[row + r][col + c] = false;
          }
        }
      }
    }
  }
};

proto.setupTypeNumber = function (test) {
  var bits = util.getBCHTypeNumber(this.typeNumber);

  for (var i = 0; i < 18; i++) {
    var mod = !test && (bits >> i & 1) == 1;
    this.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod;
  }

  for (var i = 0; i < 18; i++) {
    var mod = !test && (bits >> i & 1) == 1;
    this.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod;
  }
};

proto.setupTypeInfo = function (test, maskPattern) {
  var data = this.errorCorrectLevel << 3 | maskPattern;
  var bits = util.getBCHTypeInfo(data); // vertical		

  for (var i = 0; i < 15; i++) {
    var mod = !test && (bits >> i & 1) == 1;

    if (i < 6) {
      this.modules[i][8] = mod;
    } else if (i < 8) {
      this.modules[i + 1][8] = mod;
    } else {
      this.modules[this.moduleCount - 15 + i][8] = mod;
    }
  } // horizontal


  for (var i = 0; i < 15; i++) {
    var mod = !test && (bits >> i & 1) == 1;

    if (i < 8) {
      this.modules[8][this.moduleCount - i - 1] = mod;
    } else if (i < 9) {
      this.modules[8][15 - i - 1 + 1] = mod;
    } else {
      this.modules[8][15 - i - 1] = mod;
    }
  } // fixed module


  this.modules[this.moduleCount - 8][8] = !test;
};

proto.mapData = function (data, maskPattern) {
  var inc = -1;
  var row = this.moduleCount - 1;
  var bitIndex = 7;
  var byteIndex = 0;

  for (var col = this.moduleCount - 1; col > 0; col -= 2) {
    if (col == 6) col--;

    while (true) {
      for (var c = 0; c < 2; c++) {
        if (this.modules[row][col - c] == null) {
          var dark = false;

          if (byteIndex < data.length) {
            dark = (data[byteIndex] >>> bitIndex & 1) == 1;
          }

          var mask = util.getMask(maskPattern, row, col - c);

          if (mask) {
            dark = !dark;
          }

          this.modules[row][col - c] = dark;
          bitIndex--;

          if (bitIndex == -1) {
            byteIndex++;
            bitIndex = 7;
          }
        }
      }

      row += inc;

      if (row < 0 || this.moduleCount <= row) {
        row -= inc;
        inc = -inc;
        break;
      }
    }
  }
};

QRCode.PAD0 = 0xEC;
QRCode.PAD1 = 0x11;

QRCode.createData = function (typeNumber, errorCorrectLevel, dataList) {
  var rsBlocks = RSBlock.getRSBlocks(typeNumber, errorCorrectLevel);
  var buffer = new BitBuffer();

  for (var i = 0; i < dataList.length; i++) {
    var data = dataList[i];
    buffer.put(data.mode, 4);
    buffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber));
    data.write(buffer);
  } // calc num max data.


  var totalDataCount = 0;

  for (var i = 0; i < rsBlocks.length; i++) {
    totalDataCount += rsBlocks[i].dataCount;
  }

  if (buffer.getLengthInBits() > totalDataCount * 8) {
    throw new Error("code length overflow. (" + buffer.getLengthInBits() + ">" + totalDataCount * 8 + ")");
  } // end code


  if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {
    buffer.put(0, 4);
  } // padding


  while (buffer.getLengthInBits() % 8 != 0) {
    buffer.putBit(false);
  } // padding


  while (true) {
    if (buffer.getLengthInBits() >= totalDataCount * 8) {
      break;
    }

    buffer.put(QRCode.PAD0, 8);

    if (buffer.getLengthInBits() >= totalDataCount * 8) {
      break;
    }

    buffer.put(QRCode.PAD1, 8);
  }

  return QRCode.createBytes(buffer, rsBlocks);
};

QRCode.createBytes = function (buffer, rsBlocks) {
  var offset = 0;
  var maxDcCount = 0;
  var maxEcCount = 0;
  var dcdata = new Array(rsBlocks.length);
  var ecdata = new Array(rsBlocks.length);

  for (var r = 0; r < rsBlocks.length; r++) {
    var dcCount = rsBlocks[r].dataCount;
    var ecCount = rsBlocks[r].totalCount - dcCount;
    maxDcCount = Math.max(maxDcCount, dcCount);
    maxEcCount = Math.max(maxEcCount, ecCount);
    dcdata[r] = new Array(dcCount);

    for (var i = 0; i < dcdata[r].length; i++) {
      dcdata[r][i] = 0xff & buffer.buffer[i + offset];
    }

    offset += dcCount;
    var rsPoly = util.getErrorCorrectPolynomial(ecCount);
    var rawPoly = new Polynomial(dcdata[r], rsPoly.getLength() - 1);
    var modPoly = rawPoly.mod(rsPoly);
    ecdata[r] = new Array(rsPoly.getLength() - 1);

    for (var i = 0; i < ecdata[r].length; i++) {
      var modIndex = i + modPoly.getLength() - ecdata[r].length;
      ecdata[r][i] = modIndex >= 0 ? modPoly.get(modIndex) : 0;
    }
  }

  var totalCodeCount = 0;

  for (var i = 0; i < rsBlocks.length; i++) {
    totalCodeCount += rsBlocks[i].totalCount;
  }

  var data = new Array(totalCodeCount);
  var index = 0;

  for (var i = 0; i < maxDcCount; i++) {
    for (var r = 0; r < rsBlocks.length; r++) {
      if (i < dcdata[r].length) {
        data[index++] = dcdata[r][i];
      }
    }
  }

  for (var i = 0; i < maxEcCount; i++) {
    for (var r = 0; r < rsBlocks.length; r++) {
      if (i < ecdata[r].length) {
        data[index++] = ecdata[r][i];
      }
    }
  }

  return data;
};

var QRCode_1 = QRCode;

/**
 * Encode UTF16 to UTF8.
 * See: http://jonisalonen.com/2012/from-utf-16-to-utf-8-in-javascript/
 * @param str {string}
 * @returns {string}
 */

function toUTF8String(str) {
  var utf8Str = '';

  for (var i = 0; i < str.length; i++) {
    var charCode = str.charCodeAt(i);

    if (charCode < 0x0080) {
      utf8Str += String.fromCharCode(charCode);
    } else if (charCode < 0x0800) {
      utf8Str += String.fromCharCode(0xc0 | charCode >> 6);
      utf8Str += String.fromCharCode(0x80 | charCode & 0x3f);
    } else if (charCode < 0xd800 || charCode >= 0xe000) {
      utf8Str += String.fromCharCode(0xe0 | charCode >> 12);
      utf8Str += String.fromCharCode(0x80 | charCode >> 6 & 0x3f);
      utf8Str += String.fromCharCode(0x80 | charCode & 0x3f);
    } else {
      // surrogate pair
      i++; // UTF-16 encodes 0x10000-0x10FFFF by
      // subtracting 0x10000 and splitting the
      // 20 bits of 0x0-0xFFFFF into two halves

      charCode = 0x10000 + ((charCode & 0x3ff) << 10 | str.charCodeAt(i) & 0x3ff);
      utf8Str += String.fromCharCode(0xf0 | charCode >> 18);
      utf8Str += String.fromCharCode(0x80 | charCode >> 12 & 0x3f);
      utf8Str += String.fromCharCode(0x80 | charCode >> 6 & 0x3f);
      utf8Str += String.fromCharCode(0x80 | charCode & 0x3f);
    }
  }

  return utf8Str;
}

function generatePath(modules) {
  var margin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  var ops = [];
  modules.forEach(function (row, y) {
    var start = null;
    row.forEach(function (cell, x) {
      if (!cell && start !== null) {
        // M0 0h7v1H0z injects the space with the move and drops the comma,
        // saving a char per operation
        ops.push("M".concat(start + margin, " ").concat(y + margin, "h").concat(x - start, "v1H").concat(start + margin, "z"));
        start = null;
        return;
      } // end of row, clean up or skip


      if (x === row.length - 1) {
        if (!cell) {
          // We would have closed the op above already so this can only mean
          // 2+ light modules in a row.
          return;
        }

        if (start === null) {
          // Just a single dark module.
          ops.push("M".concat(x + margin, ",").concat(y + margin, " h1v1H").concat(x + margin, "z"));
        } else {
          // Otherwise finish the current line.
          ops.push("M".concat(start + margin, ",").concat(y + margin, " h").concat(x + 1 - start, "v1H").concat(start + margin, "z"));
        }

        return;
      }

      if (cell && start === null) {
        start = x;
      }
    });
  });
  return ops.join('');
} // @vue/component


var QrcodeVue = {
  props: {
    value: {
      type: String,
      required: true,
      default: ''
    },
    className: {
      type: String,
      default: ''
    },
    size: {
      type: [Number, String],
      default: 100,
      validator: function validator(s) {
        return isNaN(Number(s)) !== true;
      }
    },
    level: {
      type: String,
      default: 'L',
      validator: function validator(l) {
        return ['L', 'Q', 'M', 'H'].indexOf(l) > -1;
      }
    },
    background: {
      type: String,
      default: '#fff'
    },
    foreground: {
      type: String,
      default: '#000'
    },
    renderAs: {
      type: String,
      required: false,
      default: 'canvas',
      validator: function validator(as) {
        return ['canvas', 'svg'].indexOf(as) > -1;
      }
    }
  },
  data: function data() {
    return {
      numCells: 0,
      fgPath: ''
    };
  },
  updated: function updated() {
    this.render();
  },
  mounted: function mounted() {
    this.render();
  },
  methods: {
    render: function render() {
      var value = this.value,
          size = this.size,
          level = this.level,
          background = this.background,
          foreground = this.foreground,
          renderAs = this.renderAs;

      var _size = size >>> 0; // size to number
      // We'll use type===-1 to force QRCode to automatically pick the best type


      var qrCode = new QRCode_1(-1, ErrorCorrectLevel[level]);
      qrCode.addData(toUTF8String(value));
      qrCode.make();
      var cells = qrCode.modules;
      var tileW = _size / cells.length;
      var tileH = _size / cells.length;
      var scale = window.devicePixelRatio || 1;

      if (renderAs === 'svg') {
        this.numCells = cells.length; // Drawing strategy: instead of a rect per module, we're going to create a
        // single path for the dark modules and layer that on top of a light rect,
        // for a total of 2 DOM nodes. We pay a bit more in string concat but that's
        // way faster than DOM ops.
        // For level 1, 441 nodes -> 2
        // For level 40, 31329 -> 2

        this.fgPath = generatePath(cells);
      } else {
        var canvas = this.$refs['qrcode-vue'];
        var ctx = canvas.getContext('2d');
        canvas.height = canvas.width = _size * scale;
        ctx.scale(scale, scale);
        cells.forEach(function (row, rdx) {
          row.forEach(function (cell, cdx) {
            ctx.fillStyle = cell ? foreground : background;
            var w = Math.ceil((cdx + 1) * tileW) - Math.floor(cdx * tileW);
            var h = Math.ceil((rdx + 1) * tileH) - Math.floor(rdx * tileH);
            ctx.fillRect(Math.round(cdx * tileW), Math.round(rdx * tileH), w, h);
          });
        });
      }
    }
  },
  render: function render(createElement) {
    var className = this.className,
        value = this.value,
        level = this.level,
        background = this.background,
        foreground = this.foreground,
        size = this.size,
        renderAs = this.renderAs,
        numCells = this.numCells,
        fgPath = this.fgPath;
    return createElement('div', {
      class: this.class || className,
      attrs: {
        value: value,
        level: level,
        background: background,
        foreground: foreground
      }
    }, [renderAs === 'svg' ? createElement('svg', {
      attrs: {
        height: size,
        width: size,
        shapeRendering: 'crispEdges',
        viewBox: "0 0 ".concat(numCells, " ").concat(numCells)
      },
      style: {
        width: size + 'px',
        height: size + 'px'
      }
    }, [createElement('path', {
      attrs: {
        fill: background,
        d: "M0,0 h".concat(numCells, "v").concat(numCells, "H0z")
      }
    }), createElement('path', {
      attrs: {
        fill: foreground,
        d: fgPath
      }
    })]) : createElement('canvas', {
      attrs: {
        height: size,
        width: size
      },
      style: {
        width: size + 'px',
        height: size + 'px'
      },
      ref: 'qrcode-vue'
    }, [])]);
  }
};

/* harmony default export */ __webpack_exports__["a"] = (QrcodeVue);


/***/ }),

/***/ 1107:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__nav_menu_vue__ = __webpack_require__(406);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__nav_menu_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__nav_menu_vue__);
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	props: ['menu'],
	components: { NavMenu: __WEBPACK_IMPORTED_MODULE_0__nav_menu_vue___default.a },
	data() {
		return {
			g: $,
			menus: [],
			menus0: [{ icon: 'icon-shop', 'name': '旗下门店', 'menu': 'tenant-shops' }, { icon: 'icon-shops', 'name': '新建门店', 'menu': 'tenant-shop-create' }, { icon: 'icon-tongji', 'name': '统计', 'menu': 'tenant-stat' }, { icon: 'icon-card', 'name': '会员卡', 'menu': 'tenant-card-conf' }, { icon: 'icon-config2', 'name': '设置', 'menu': 'tenant-conf' }],
			menus1: [{ icon: 'icon-shop', 'name': '门店', 'menu': 'tenant-shop' }, { icon: 'icon-shop-create', 'name': '新建门店', 'menu': 'tenant-shop-create' }, { icon: 'icon-card', 'name': '会员卡', 'menu': 'tenant-card-conf' }, { icon: 'icon-config2', 'name': '设置', 'menu': 'tenant-conf' }]
		};
	},

	computed: {
		tenantName() {
			if (this.$store.state.tenant && this.$store.state.tenant.tenantName) {
				return this.$store.state.tenant.tenantName;
			} else {
				return $.data.tenant.tenantName;
			}
		},
		tenantImg() {
			if (this.$store.state.tenant.logoPathname) {
				return $.Util.getImgUrl(this.$store.state.tenant.logoPathname, 500, 500, '333333');
			} else if ($.data.tenant.logoPathname) {
				return $.Util.getImgUrl($.data.tenant.logoPathname, 500, 500, '333333');
			} else {
				return 'http://www.jzongguan.com/imglib/default-tenant-logo.jpg';
			}
		}
	},

	beforeCreate() {
		if ($.data.user.isTenantOwner !== true) {
			this.$router.push('/user-login?f=t-nav');
		}
	},

	created() {
		$.data.sys.isInShop = false;
		if ($.data.tenant.tenantType === 0) this.menus = this.menus0;else if ($.data.tenant.tenantType === 1) this.menus = this.menus1;
	},

	methods: {
		count(obj) {
			return $.Util.countAttrs(obj) - 1;
		}
	}
});

/***/ }),

/***/ 1108:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_tenant_nav_vue__ = __webpack_require__(1095);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_tenant_nav_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_tenant_nav_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { TenantNav: __WEBPACK_IMPORTED_MODULE_0__components_tenant_nav_vue___default.a },
	data() {
		return {
			tid: null,
			mpAuthlink: null
		};
	},
	created() {
		this.queryTenantId();
	},
	methods: {
		queryTenantId() {
			$.Req.service($.SvName.TENANT_ID_QUERY, {}, ret => {
				this.tid = ret.tenantId;
				let pagecode = $.Util.md5(ret.tenantId + '/we-jzg-2017');
				this.mpAuthlink = 'http://tool.jzongguan.com/wx-open/auth-to-jzgmp.php?t={0}&pagecode={1}'.format(ret.tenantId, pagecode);
			});
		}
	}
});

/***/ }),

/***/ 1109:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1110:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "li[data-v-23c13726]{padding:6px;font-size:13px}.authlink[data-v-23c13726]{background:#2e90f7;padding:8px 20px;color:#fff}", ""]);

// exports


/***/ }),

/***/ 1111:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1109);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("70b71549", content, true, {});

/***/ }),

/***/ 1112:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1110);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("4763ee7d", content, true, {});

/***/ }),

/***/ 1113:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    class: 'g-nav g-nav-' + _vm.g.data.sys.skin
  }, [_c('div', {
    staticClass: "shop-info"
  }, [_c('div', {
    staticClass: "shop-name"
  }, [_c('i', {
    staticClass: "iconfont icon-home1"
  }), _vm._v(" "), _c('span', {
    staticClass: "tit",
    attrs: {
      "title": _vm.tenantName
    }
  }, [_vm._v(_vm._s(_vm.tenantName.shorten(8)))])]), _vm._v(" "), _c('div', {
    staticClass: "logo-img"
  }, [_c('img', {
    attrs: {
      "src": _vm.tenantImg
    }
  })])]), _vm._v(" "), _c('nav-menu', {
    attrs: {
      "menu": _vm.menu,
      "menus": _vm.menus
    }
  })], 1)
},staticRenderFns: []}

/***/ }),

/***/ 1114:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('tenant-nav', {
    attrs: {
      "menu": "tenant-conf"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "tenant-conf",
      "page": "tenant-mp-auth"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_vm._m(0), _vm._v(" "), _c('section', [_vm._m(1), _vm._v(" "), _c('ol', [_vm._m(2), _vm._v(" "), _c('li', [_vm._v("\n\t\t\t\t\t上一个步骤完成后，点击下面的授权按钮，将你们小程序的相关权限授予健总管系统\n\t\t\t\t\t"), _c('div', {
    staticStyle: {
      "padding": "20px 0"
    }
  }, [_c('a', {
    staticClass: "authlink",
    attrs: {
      "target": "_blank",
      "href": _vm.mpAuthlink
    }
  }, [_vm._v("授权微信小程序")])])]), _vm._v(" "), _c('li', [_vm._v("\n\t\t\t\t\t授权成功后，将进入小程序的审核流程（预计1 ~ 3个工作日），腾讯公司审核通过后会发送微信公众号消息给小程序管理员\n\t\t\t\t")]), _vm._v(" "), _c('li', [_vm._v("\n\t\t\t\t\t上一步成功后，健总管后台系统将于当日傍晚自动开通，即场馆可正常通过自己的小程序使用健总管小程序功能。\n\t\t\t\t")])])])])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("微信小程序授权说明")])]), _vm._v(" "), _c('ol', [_c('li', [_vm._v("如果您需要使用我们健总管小程序，但是又需要保留自己的小程序品牌名和Logo，就需要使用这里的小程序授权；")]), _vm._v(" "), _c('li', [_vm._v("你们的小程序授权给我们后，我们将有权限负责你们小程序的大部分业务（例如相关技术设置和发布）；")]), _vm._v(" "), _c('li', [_vm._v("您可以在微信小程序后台查看到我们的授权信息，也可以随时取消授权。")])])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("微信小程序授权步骤")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('li', [_vm._v("你们（场馆）首先需拥有一个独立的微信小程序（如还未拥有，"), _c('a', {
    attrs: {
      "target": "_blank",
      "href": "https://mp.weixin.qq.com/cgi-bin/wx?token=&lang=zh_CN"
    }
  }, [_vm._v("去腾讯申请注册小程序 →")]), _vm._v("）\n\t\t\t\t")])
}]}

/***/ }),

/***/ 1117:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_help_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ __webpack_exports__["default"] = ({
  components: { Help: __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default.a, ImgUpload: __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_2__pages_member_member_base_info_vue___default.a },
  props: {
    defaultCardId: {
      type: Number,
      default: null,
      required: false
    },
    from: {
      type: String,
      default: "shop"
    },
    defaultReadonly: {
      type: Boolean,
      default: false,
      required: false
    }
  },
  data() {
    return {
      g: $,
      readonly: true,
      BG_IMG_CNT: 8,
      viewBgImgDlg: false,
      viewBgFontDlg: false,
      bgImgType: 1,
      card: {
        cardId: "",
        cardName: "",
        cardType: null,
        cardClass: null,
        cardTimeType: 1,
        allowTransfer: false,
        transferFee: null,
        allowCheckin: true,
        checkinPayment: null,
        orderNo: 99,
        intro: "",
        defaultAmount: null,
        defaultDays: null,
        defaultTimes: null,
        createUname: "",
        createTime: "",
        limitTimes: [],
        encSidList: [],
        isOnlineSale: false,
        chargeByHourEnable: false,
        chargeByHourVal: null,
        chargeByHourConf: null,
        chargeByHourBegin: null,
        moreChargeUnitPirceHours: null,
        moreChargeUnitPirceAmount: null,
        isPublic: true,
        isShowPrice: true,
        bgFontColor: "f1f1f1",
        isShowBgText: true,
        limitBeginDays: null,
        limitOddEvenDay: 0,
        limitWeeks: null,
        limitVacationCount: null,
        limitVacationDays: null,
        allowMemberOptVacation: null,
        isOfflineSaleForPos: null, // pos
        onlineRechargeOptType: 0
      },
      chargeByHourConf: {
        fromMin1: null,
        toMin1: null,
        fromMin2: null,
        toMin2: null
      },
      hasMchId: false,
      cardTypeName: "",
      requiredFields: ["cardName", "cardType", "cardClass", "allowTransfer", "allowCheckin"],
      cardFormRule: {},
      imgUpload: {
        action: $.Conf.IMG_UPLOAD_URL,
        imgMaxWidth: 512,
        defaultList: []
      },
      bgImgUrl: null,
      bgFontColors: ["f1f1f1", "444444", "F8263E", "F37622", "F0DE3B", "A6E22E", "3399FF", "9A76B1"],
      moreCheckinPaymentIdxList: [],
      moreCheckinPaymentTitles: {},
      moreCheckinPaymentValues: {},
      limitDatesDlg: false,
      limitDate: {
        dlg: false,
        itemSize: 3,
        beginMonths: [],
        beginDays: [],
        endMonths: [],
        endDays: [],
        desc: null
      },
      moreCardPricePlans: [[], [], [], [], []],
      displayMoreCardPrices: false,
      shopId: null,
      isOnlineCardInDb: false,
      qrcodeUrl: null,
      limitWeekArr: [],
      freeCodeDlg: null,
      codeQuery: {
        status: null
      },
      cardOnlineFreeCodeList: null,
      cardOnlineFreeCodeCount: null,
      freeCodeCkList: new Array(30),
      selectFreeCodes: null,
      freeCodeViewDlg: null,
      isSelectAllFc: null,
      viewMemberId: null,
      viewMemberDlg: null,
      // pos
      isPosArg: false
    };
  },

  created() {
    if (this.$route.params.cardId) {
      this.card.cardId = this.$route.params.cardId;
      this.queryCard();
    } else if (this.defaultCardId) {
      this.card.cardId = this.defaultCardId;
      this.queryCard();
    } else {
      this.bgImgUrl = this.getBgImgUrl();
      if (this.defaultReadonly) this.readonly = true;else this.readonly = !$.Util.hasRoleFunc($.Dict.RoleFunc.CARD_EDIT.value);
    }
    if (this.requiredFields) {
      $.Util.addRequiredFieldsRules(this.cardFormRule, this.requiredFields);
    }
    this.queryMchId();
    this.queryShopId();
    this.shopArgQuery();
  },

  methods: {
    // pos
    shopArgQuery(callback) {
      let args = { typeId: $.Dict.ShopArg.POS_ENABLE };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
        if (ret.value === "false" || !ret.value) {
          this.isPosArg = false;
        } else if (ret.value === "true") {
          this.isPosArg = true;
        }
        if (callback) {
          callback();
        }
      });
    },
    queryCard() {
      const args = { queryType: 1, cardId: this.card.cardId };
      $.Req.service($.SvName.CARD_QUERY, args, ret => {
        if (ret && ret.cardList && ret.cardList[0]) {
          if ($.Util.isEmpty(ret.cardList[0].chargeByHourEnable)) {
            ret.cardList[0].chargeByHourEnable = false;
          }
          if (!ret.cardList[0].bgFontColor) ret.cardList[0].bgFontColor = "f1f1f1";
          this.card = ret.cardList[0];
          if ($.Util.isEmpty(this.card.limitOddEvenDay)) this.card.limitOddEvenDay = 0;
          this.setMoreCheckinPayments();
          this.bgImgUrl = this.getBgImgUrl();
          if (this.card.moreOnlinePrices) {
            this.displayMoreCardPrices = true;
            this.genMoreCardPricePlans(this.card.moreOnlinePrices);
          }
          this.showChargeByHoureConf(this.card.chargeByHourConf);
          if (!this.defaultReadonly) {
            this.readonly = !$.Util.hasRoleFunc($.Dict.RoleFunc.CARD_EDIT.value) || this.from === "shop" && this.card.isUniversal;
          }

          this.cardTypeName = $.Dict.CardType[this.card.cardType];
          if ($.Util.isNotEmpty(this.card.limitBeginTime) && this.card.limitEndTime) {
            this.card.limitTimes = [$.Util.formatTime(this.card.limitBeginTime), $.Util.formatTime(this.card.limitEndTime)];
          } else {
            this.card.limitTimes = null;
          }
          if (this.card.limitDates) {
            let items = this.card.limitDates.split(";");
            for (let i = 0, len = items.length; i < len; i++) {
              let dates = items[i].split(",");
              let beginDates = dates[0].split("/");
              this.limitDate.beginMonths[i] = parseInt(beginDates[0]);
              this.limitDate.beginDays[i] = parseInt(beginDates[1]);
              let endDates = dates[1].split("/");
              this.limitDate.endMonths[i] = parseInt(endDates[0]);
              this.limitDate.endDays[i] = parseInt(endDates[1]);
            }
            this.formatLimitDates();
          }
          if (this.card.chargeByHourValMore) {
            let arr = this.card.chargeByHourValMore.split(",");
            if (arr && arr.length === 2) {
              this.card.moreChargeUnitPirceHours = parseInt(arr[0]);
              this.card.moreChargeUnitPirceAmount = parseFloat(arr[1]);
            }
          }
          if (this.card.defaultDays) {
            if (!this.card.limitGlBookingDays) this.card.limitGlBookingDays = this.card.defaultDays;
            if (!this.card.limitPlBookingDays) this.card.limitPlBookingDays = this.card.defaultDays;
          }
        } else {
          if (this.from === "shop") this.$router.push("/shop-card-conf");else if (this.from === "tenant") this.$router.push("/tenant-card-conf");
        }
        this.isOnlineCardInDb = this.card.isOnlineSale === true;
        if (this.card.limitWeeks) {
          for (let w of this.card.limitWeeks.split(",")) {
            this.limitWeekArr.push(parseInt(w));
          }
        }
        if (!this.card.onlineRechargeOptType) this.card.onlineRechargeOptType = 0;
      }, true);
    },

    submitCard() {
      this.$refs.card.validate(valid => {
        if (!valid) {
          $.Msg.error($.Lang.SUBMIT_ERR);
          return false;
        }

        if (this.from === "tenant") {
          if (!this.card.encSidList || this.card.encSidList.length === 0) {
            $.Dlg.error("请选择适用门店");
            return;
          }
        }

        if (this.card.defaultDays && this.card.defaultDays > 36500) {
          $.Dlg.error("默认使用天数不能超过36500天（一百年）。");
          return;
        }

        if (this.card.allowCheckin && !this.card.checkinPayment && this.card.cardType !== 1 && this.card.cardType !== 4 && !this.card.chargeByHourEnable) {
          $.Dlg.error("您忘了设置【每次签到计费】");
          return;
        }
        if (this.card.intro && this.card.intro.length > 1000) {
          $.Dlg.warning("会员卡简介太长了，不能超过1千字。");
          return;
        }
        if (this.hasMchId && this.card.isOnlineSale) {
          if ($.Util.isEmpty(this.card.onlinePrice)) {
            $.Dlg.error("请输入在线售卡价格。");
            return;
          }
          if (this.card.onlinePrice <= 0) {
            $.Dlg.error("请输入大于0的在线售卡价格。");
            return;
          }
          if (!this.card.defaultAmount) {
            $.Dlg.error("请输入默认充值金额。");
            return;
          }
          if (this.card.cardType === 2 && !this.card.defaultTimes) {
            window.scrollTo(0, 0);
            $.Dlg.error("请输入默认使用次数。");
            return;
          }
          if (this.card.cardType === 4 && !this.card.defaultTimes) {
            window.scrollTo(0, 0);
            $.Dlg.error("请输入默认使用时间。");
            return;
          }
          if (!this.card.defaultDays) {
            $.Dlg.error("请输入默认使用天数。");
            window.scrollTo(0, 0);
            return;
          }
        }
        if (this.card.chargeByHourEnable) {
          if (!this.card.chargeByHourVal) {
            $.Dlg.error("请输入每小时计费。");
            return;
          }
          this.card.chargeByHourConf = this.genChargeByHourConf();
          this.card.checkinPayment = null;
        }

        if (this.card.limitTimes && this.card.limitTimes.length === 2) {
          if (this.card.limitTimes[0]) {
            this.card.limitBeginTime = $.Util.getTimeNum(this.card.limitTimes[0]);
          } else {
            this.card.limitBeginTime = null;
          }
          if (this.card.limitTimes[1]) {
            this.card.limitEndTime = $.Util.getTimeNum(this.card.limitTimes[1]);
          } else {
            this.card.limitEndTime = null;
          }
        } else {
          this.card.limitBeginTime = null;
          this.card.limitEndTime = null;
        }
        if (this.limitDate.beginMonth && this.limitDate.beginDay && this.limitDate.endMonth && this.limitDate.endDay) {
          this.card.limitBeginDate = parseInt(this.limitDate.beginMonth) * 100 + parseInt(this.limitDate.beginDay);
          this.card.limitEndDate = parseInt(this.limitDate.endMonth) * 100 + parseInt(this.limitDate.endDay);
        } else {
          this.card.limitBeginDate = null;
          this.card.limitEndDate = null;
        }
        try {
          this.card.moreCheckinPayments = this.getMoreCheckinPayments();
        } catch (e) {
          $.Dlg.error(e);
          return;
        }

        let actionType;
        if (this.card.cardId) {
          // update
          actionType = "U";
        } else {
          // create
          actionType = "I";
        }
        if (this.card.cardType === 1) {
          this.card.defaultTimes = null;
        } else if (this.card.cardType === 3) {
          this.card.defaultTimes = null;
        }
        if (this.card.moreChargeUnitPirceHours && !$.Util.isEmpty(this.card.moreChargeUnitPirceAmount)) {
          this.card.chargeByHourValMore = this.card.moreChargeUnitPirceHours + "," + this.card.moreChargeUnitPirceAmount;
        }

        try {
          this.card.moreOnlinePrices = this.genMoreCardPrices();
        } catch (err) {
          $.Dlg.error(err);
          return;
        }
        if (!$.Util.isEmptyArray(this.limitWeekArr)) {
          this.card.limitWeeks = this.limitWeekArr.join(",");
        } else {
          this.card.limitWeeks = null;
        }

        let args = { actionType: actionType, card: this.card };
        $.Req.service($.SvName.CARD_SAVE, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          if (actionType === "I") {
            if (this.from === "shop") this.$router.push("/shop-card-conf");else if (this.from === "tenant") this.$router.push("/tenant-card-conf");
          }
        });
      });
    },

    changeCardType(cardType) {
      if (parseInt(cardType) === 2) this.card.checkinPayment = 1;else this.card.checkinPayment = null;
    },

    changeCardClass() {
      if (this.card.cardId) return;

      if (this.card.cardClass === 0) {
        this.card.allowCheckin = true;
      } else {
        this.card.allowCheckin = false;
      }
    },

    queryMchId() {
      let args = {};
      if (this.from === "shop") args.queryType = "shop";else if (this.from === "tenant") args.queryType = "tenant";
      $.Req.service($.SvName.WX_MCHID_QUERY, args, ret => {
        if (ret.mchId) this.hasMchId = true;
      });
    },

    genChargeByHourConf() {
      let confs = [];
      if (!$.Util.isEmpty(this.chargeByHourConf.fromMin1) && this.chargeByHourConf.toMin1) {
        confs.push("1:{0},{1}".format(this.chargeByHourConf.fromMin1, this.chargeByHourConf.toMin1));
      }
      if (!$.Util.isEmpty(this.chargeByHourConf.fromMin2) && this.chargeByHourConf.toMin2) {
        confs.push("2:{0},{1}".format(this.chargeByHourConf.fromMin2, this.chargeByHourConf.toMin2));
      }

      return confs.join(";");
    },

    showChargeByHoureConf(confStr) {
      if (!confStr) return;

      let confs = confStr.split(";");
      for (let c of confs) {
        let items = c.split(":");
        let minArr = items[1].split(",");
        if (items[0] === "1") {
          this.chargeByHourConf.fromMin1 = parseInt(minArr[0]);
          this.chargeByHourConf.toMin1 = parseInt(minArr[1]);
        } else if (items[0] === "2") {
          this.chargeByHourConf.fromMin2 = parseInt(minArr[0]);
          this.chargeByHourConf.toMin2 = parseInt(minArr[1]);
        }
      }
    },

    chooseBgImg(no) {
      this.card.bgImg = no + ".jpg";
      this.viewBgImgDlg = false;
      this.bgImgUrl = this.getBgImgUrl();
    },

    getBgImgUrl() {
      if (!this.card.bgImg) {
        this.card.bgImg = "3.jpg";
      }
      if (this.card.bgImg.length < 10) {
        return $.Conf.IMG_LIB_URL + "/cardbg/" + this.card.bgImg;
      } else {
        return $.Util.getImgUrl(this.card.bgImg);
      }
    },

    handleImgUploadSuccess(res, file) {
      file.url = res.data.url;
      file.name = res.data.name;
      this.bgImgUrl = res.data.url;
      this.card.bgImg = res.data.name;
      this.viewBgImgDlg = false;
    },

    selectBgFontColor(color) {
      this.card.bgFontColor = color;
      this.viewBgFontDlg = false;
    },

    addMoreCheckinPayment() {
      this.moreCheckinPaymentIdxList.push(true);
    },

    getMoreCheckinPayments() {
      let conf = [];
      for (let i = 0, len = this.moreCheckinPaymentIdxList.length; i < len; i++) {
        let tit = this.moreCheckinPaymentTitles[i];
        let val = this.moreCheckinPaymentValues[i];
        if (tit && !val) {
          throw "请为【{0}】设置计费金额".format(tit);
        } else if (!tit && val) {
          throw "请为计费金额【{0}】设置计费项目名".format(val);
        } else if (tit && val) {
          conf.push("{0},{1}".format(tit, val));
        }
      }

      return conf.join(";");
    },

    setMoreCheckinPayments() {
      if (!this.card.moreCheckinPayments) return;

      let items = this.card.moreCheckinPayments.split(";");
      let i = 0;
      for (let item of items) {
        let arr = item.split(",");
        this.moreCheckinPaymentIdxList.push(true);
        this.moreCheckinPaymentTitles[i] = arr[0];
        this.moreCheckinPaymentValues[i] = parseFloat(arr[1]);
        i++;
      }
    },

    confirmLimitDates() {
      let dataArr = [];
      for (let i = 0; i < this.limitDate.itemSize; i++) {
        if (this.limitDate.beginMonths[i] && this.limitDate.beginDays[i] && this.limitDate.endMonths[i] && this.limitDate.endDays[i]) {
          dataArr.push("{0}/{1},{2}/{3}".format(this.limitDate.beginMonths[i], this.limitDate.beginDays[i], this.limitDate.endMonths[i], this.limitDate.endDays[i]));

          let beginDate = this.limitDate.beginMonths[i] * 100 + this.limitDate.beginDays[i];
          let endDate = this.limitDate.endMonths[i] * 100 + this.limitDate.endDays[i];
          if (beginDate >= endDate) {
            $.Dlg.error("【{0}】：结束日期必须大于开始日期".format(descArr[i]), null, false);
            return;
          }
        }
      }
      this.card.limitDates = dataArr.join(";");
      this.formatLimitDates();
      this.limitDate.dlg = false;
    },

    formatLimitDates() {
      let descArr = [];
      for (let i = 0; i < this.limitDate.itemSize; i++) {
        if (this.limitDate.beginMonths[i] && this.limitDate.beginDays[i] && this.limitDate.endMonths[i] && this.limitDate.endDays[i]) {
          descArr.push("{0}月{1}日 ~ {2}月{3}日".format(this.limitDate.beginMonths[i], this.limitDate.beginDays[i], this.limitDate.endMonths[i], this.limitDate.endDays[i]));
        }
      }
      this.limitDate.desc = descArr.join("\n");
    },

    clearLimitDates() {
      for (let i = 0; i < this.limitDate.itemSize; i++) {
        this.limitDate.beginMonths[i] = null;
        this.limitDate.beginDays[i] = null;
        this.limitDate.endMonths[i] = null;
        this.limitDate.endDays[i] = null;
      }
      this.limitDate.desc = null;
      this.card.limitDates = null;
      this.limitDate.dlg = false;
    },

    genMoreCardPrices() {
      let items = [];
      let i = 0;
      for (let p of this.moreCardPricePlans) {
        i++;
        if (p[0] && !p[1] || !p[0] && p[1]) {
          throw "第 {0} 行数据不全，请填写完整".format(i);
        } else if (p[0] && p[1]) {
          if (this.card.cardType === 2 && !p[2]) {
            throw "第 {0} 行请填写使用次数".format(i);
          } else if (this.card.cardType === 4 && !p[2]) {
            throw "第 {0} 行请填写使用时间".format(i);
          }

          if (p[2]) items.push(p[0] + "," + p[1] + "," + p[2]);else items.push(p[0] + "," + p[1]);
        }
      }

      return items.join(";");
    },

    genMoreCardPricePlans(priceConf) {
      if ($.Util.isEmpty(priceConf)) return;

      let items = priceConf.split(";");
      for (let i = 0, len = items.length; i < len; i++) {
        let data = items[i].split(",");
        this.moreCardPricePlans[i] = [data[0], data[1]];
        if (data.length === 3) this.moreCardPricePlans[i].push(data[2]);
      }
    },

    openLimitDateDlg() {
      if (!this.readonly) this.limitDate.dlg = true;
    },

    queryShopId() {
      $.Req.service($.SvName.SHOP_ID_QUERY_FOR_MSITE, {}, ret => {
        this.shopId = ret.shopId;
        let url = "http://tool.jzongguan.com/#/shop-card-sale/{0}?s={1}".format(this.card.cardId, this.shopId);
        this.qrcodeUrl = $.Conf.QR_CODE_URL + encodeURIComponent(url);
      });
    },

    addLimitDates() {
      this.limitDate.itemSize++;
    },

    openFreeCodeDlg() {
      this.queryFreeCodeList();
      this.freeCodeDlg = true;
    },

    queryFreeCodeList(page = null) {
      let args = {
        page: page,
        status: this.codeQuery.status,
        cardId: this.card.cardId
      };
      $.Req.service($.SvName.CARD_ONLINE_FREE_CODE_QUERY, args, ret => {
        this.cardOnlineFreeCodeList = ret.cardOnlineFreeCodeList;
        if (!page) {
          this.cardOnlineFreeCodeCount = ret.count;
        }
        this.unSelectAllFc();
      });
    },

    createFreeCodeList() {
      let count = prompt("请输入批量生成兑换码的数量（每次最多30个）");
      if (!count || !parseInt(count)) {
        $.Msg.error("无效输入");
        return;
      }

      count = parseInt(count);
      if (count > 30) {
        $.Dlg.error("每次最多30个，请重新输入");
        return;
      }

      let args = {
        cardId: this.card.cardId,
        count: count
      };
      $.Req.service($.SvName.CARD_ONLINE_FREE_CODE_CREATE, args, ret => {
        this.queryFreeCodeList();
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.selectFreeCodes = ret.codeList.join("\n");
        this.freeCodeViewDlg = true;
        this.freeCodeViewDlg();
      }, true);
    },

    selectFreeCode(idx) {
      this.$set(this.freeCodeCkList, idx, !this.freeCodeCkList[idx]);
    },

    selectAllFc() {
      this.isSelectAllFc = !this.isSelectAllFc;
      for (let i = 0, len = this.freeCodeCkList.length && this.cardOnlineFreeCodeList.length; i < len; i++) {
        this.$set(this.freeCodeCkList, i, this.isSelectAllFc);
      }
    },

    unSelectAllFc() {
      for (let i = 0, len = this.freeCodeCkList.length && this.cardOnlineFreeCodeList.length; i < len; i++) {
        this.$set(this.freeCodeCkList, i, false);
      }
    },

    viewFreeCodeList() {
      let checkedCodeList = [];
      for (let i = 0, len = this.freeCodeCkList.length && this.cardOnlineFreeCodeList.length; i < len; i++) {
        if (this.freeCodeCkList[i]) {
          checkedCodeList.push(this.cardOnlineFreeCodeList[i].code);
        }
      }
      if (checkedCodeList.length) {
        this.selectFreeCodes = checkedCodeList.join("\n");
        this.freeCodeViewDlg = true;
      } else {
        $.Msg.warning("您尚未选择");
      }
    },

    delFreeCodeList() {
      let checkedCodeIdList = [];
      for (let i = 0, len = this.freeCodeCkList.length && this.cardOnlineFreeCodeList.length; i < len; i++) {
        if (this.freeCodeCkList[i]) {
          checkedCodeIdList.push(this.cardOnlineFreeCodeList[i].codeId);
          if (this.cardOnlineFreeCodeList[i].status !== 0) {
            $.Msg.error("不能删除已使用的兑换码");
            return;
          }
        }
      }
      if (checkedCodeIdList.length) {
        if (!confirm("您确定要删除选择的兑换码？")) {
          return;
        }
        let args = {
          codeIdList: checkedCodeIdList
        };
        $.Req.service($.SvName.CARD_ONLINE_FREE_CODE_DEL, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.queryFreeCodeList();
        });
      } else {
        $.Msg.warning("您尚未选择");
      }
    },

    viewMember(memberId) {
      this.viewMemberId = memberId;
      this.viewMemberDlg = true;
    }
  }
});

/***/ }),

/***/ 1119:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-warn[data-v-2b762e30]{margin-left:10px;color:orange}.charge-by-hour-conf[data-v-2b762e30]{margin-top:10px;border:1px dashed #ddd;padding:10px}.charge-by-hour-conf ul[data-v-2b762e30]{padding-top:5px}.charge-by-hour-conf li[data-v-2b762e30]{display:block;padding:5px 0}.charge-by-hour-conf li .input-s[data-v-2b762e30]{width:80px;margin:0 5px;text-align:center}.input-ss[data-v-2b762e30]{width:60px}.more-chare-conf[data-v-2b762e30]{background:#f5f5f5;margin:10px 0 0;padding:10px}.more-chare-conf input[data-v-2b762e30]{width:80px;margin:0 10px;text-align:center;font-weight:700}.bgimgs li[data-v-2b762e30]{display:inline-block;padding:6px;line-height:1;border-radius:3px}.bgimgs li[data-v-2b762e30]:hover{cursor:pointer}.bgimgs li img[data-v-2b762e30]{border-radius:9px;height:120px;width:200px}.bgimgs li.on[data-v-2b762e30]{background:#aaa}.bgimg[data-v-2b762e30]{margin-top:10px;display:block;width:200px;height:120px;border-radius:9px}.bgfont[data-v-2b762e30]{position:absolute;margin-top:50px;margin-left:10px;font-size:14px}.bgfont-conf[data-v-2b762e30]{padding:10px;background:#aaa}.bgfont-conf li[data-v-2b762e30]{width:70px;height:40px;border-radius:2px;margin:8px;display:inline-block;cursor:pointer}.more-ckin-payments li[data-v-2b762e30]{margin:10px 0}.more-ckin-payments .input-num[data-v-2b762e30]{position:relative;margin-left:3px;top:2px}.myform .tit[data-v-2b762e30]{width:800px;margin-top:25px}.limit-date li.item[data-v-2b762e30]{display:block;background:#f5f5f5;padding:10px;margin:10px 0}.limit-date .input-box[data-v-2b762e30]{width:270px;display:inline-block;cursor:pointer}.limit-date .textarea-box[data-v-2b762e30]{outline:none;border:1px solid #ddd}.limit-date .spt[data-v-2b762e30]{padding:0 10px}.limit-date .sel[data-v-2b762e30]{width:80px;display:inline-block}.limit-date .remark[data-v-2b762e30]{margin-top:20px;color:orange}.more-prices td[data-v-2b762e30],.more-prices th[data-v-2b762e30]{text-align:left;padding:5px}.more-prices input[data-v-2b762e30]{width:110px}.qrcode img[data-v-2b762e30]{width:180px}.card-form-submit[data-v-2b762e30]{padding-left:140px}.form-submit-bottom[data-v-2b762e30]{padding-left:340px}.textarea-box[data-v-2b762e30]{background:#f4f4f4;padding:5px 10px;line-height:1.8}.free-code-opts button[data-v-2b762e30]{margin-right:8px}", ""]);

// exports


/***/ }),

/***/ 1121:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1119);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("3f26076e", content, true, {});

/***/ }),

/***/ 1123:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1121)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1117),
  /* template */
  __webpack_require__(1126),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-2b762e30",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1126:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('section', [(!_vm.defaultReadonly) ? [(!_vm.card.cardId) ? _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("新建会员卡种类")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "gray",
    attrs: {
      "href": "javascript: history.go(-1);"
    }
  }, [_vm._v("返回 "), _c('icon', {
    attrs: {
      "type": "android-arrow-forward"
    }
  })], 1)])]) : _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员卡种类详情")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "gray",
    attrs: {
      "href": "javascript: history.go(-1);"
    }
  }, [_vm._v("返回 "), _c('icon', {
    attrs: {
      "type": "android-arrow-forward"
    }
  })], 1)])])] : _c('div', {
    staticStyle: {
      "margin-top": "-20px"
    }
  }), _vm._v(" "), _c('i-form', {
    ref: "card",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.card,
      "rules": _vm.cardFormRule,
      "label-width": 140
    }
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("基础信息设置")]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "cardClass",
      "label": "卡类别"
    }
  }, [(_vm.readonly) ? _c('div', {
    staticClass: "bold"
  }, [_vm._v(_vm._s(_vm.g.Dict.CardClass[_vm.card.cardClass]))]) : [_c('radio-group', {
    attrs: {
      "type": "button"
    },
    on: {
      "on-change": _vm.changeCardClass
    },
    model: {
      value: (_vm.card.cardClass),
      callback: function($$v) {
        _vm.$set(_vm.card, "cardClass", $$v)
      },
      expression: "card.cardClass"
    }
  }, [_c('radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("会籍卡")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("团课卡")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("私教卡")])], 1), _vm._v(" \n          "), (_vm.card.cardClass === 0) ? _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 会籍卡，会员入场自由锻炼用的卡")]) : _vm._e(), _vm._v(" "), (_vm.card.cardClass === 1) ? _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 团课卡，会员上团课使用的卡")]) : _vm._e(), _vm._v(" "), (_vm.card.cardClass === 2) ? _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 私教卡，会员上私教课使用的卡")]) : _vm._e()]], 2), _vm._v(" "), (!_vm.card.cardId) ? _c('form-item', {
    attrs: {
      "prop": "cardType",
      "label": "卡类型"
    }
  }, [_c('radio-group', {
    attrs: {
      "type": "button"
    },
    on: {
      "on-change": _vm.changeCardType
    },
    model: {
      value: (_vm.card.cardType),
      callback: function($$v) {
        _vm.$set(_vm.card, "cardType", _vm._n($$v))
      },
      expression: "card.cardType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("期限卡")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("次数卡")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 3
    }
  }, [_vm._v("储值卡")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 4
    }
  }, [_vm._v("计时卡")])], 1), _vm._v(" "), _c('span', {
    staticClass: "orangered l10"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 请慎重选择，设置后不可修改")])], 1) : _vm._e(), _vm._v(" "), (_vm.card.cardId) ? _c('form-item', {
    attrs: {
      "label": "卡类型"
    }
  }, [_c('b', [_vm._v(_vm._s(_vm.cardTypeName))])]) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "cardName",
      "label": "卡名称"
    }
  }, [(!_vm.readonly) ? _c('i-input', {
    attrs: {
      "type": "text",
      "maxlength": 50,
      "placeholder": ""
    },
    model: {
      value: (_vm.card.cardName),
      callback: function($$v) {
        _vm.$set(_vm.card, "cardName", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "card.cardName"
    }
  }) : _c('b', [_vm._v(_vm._s(_vm.card.cardName))])], 1), _vm._v(" "), (_vm.from === 'tenant') ? _c('form-item', {
    attrs: {
      "prop": "encSidList",
      "label": "适用门店"
    }
  }, [_c('checkbox-group', {
    staticStyle: {
      "display": "inline"
    },
    model: {
      value: (_vm.card.encSidList),
      callback: function($$v) {
        _vm.$set(_vm.card, "encSidList", $$v)
      },
      expression: "card.encSidList"
    }
  }, _vm._l((_vm.g.data.shopList), function(s, k) {
    return (!s.forbiddenInChain) ? _c('checkbox', {
      key: k,
      attrs: {
        "label": s.encSid
      }
    }, [_vm._v(_vm._s(s.shopName))]) : _vm._e()
  }), 1)], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "defaultAmount",
      "label": "默认充值金额"
    }
  }, [(_vm.readonly) ? _c('span', [_vm._v(_vm._s(_vm.card.defaultAmount))]) : _c('input-num', {
    staticClass: "input-s",
    attrs: {
      "min": "0"
    },
    model: {
      value: (_vm.card.defaultAmount),
      callback: function($$v) {
        _vm.$set(_vm.card, "defaultAmount", $$v)
      },
      expression: "card.defaultAmount"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")]), _vm._v(" "), (_vm.card.cardClass !== 0 && _vm.card.cardType === 3) ? _c('span', {
    staticClass: "l10"
  }, [_c('help', [_vm._v("\n            一般情况不用填写默认充值金额（除非贵店只有几种固定金额的卡），可以在给会员办卡的页面填写具体充值金额。\n          ")])], 1) : _vm._e()], 1), _vm._v(" "), (_vm.card.cardType === 2) ? _c('form-item', {
    attrs: {
      "prop": "defaultTimes",
      "label": "默认使用次数"
    }
  }, [(_vm.readonly) ? _c('span', [_vm._v(_vm._s(_vm.card.defaultTimes))]) : _c('input-num', {
    staticClass: "input-s",
    attrs: {
      "min": "0"
    },
    model: {
      value: (_vm.card.defaultTimes),
      callback: function($$v) {
        _vm.$set(_vm.card, "defaultTimes", $$v)
      },
      expression: "card.defaultTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次")]), _vm._v(" "), (_vm.card.cardClass !== 0) ? _c('span', {
    staticClass: "l10"
  }, [_c('help', [_vm._v("\n            一般情况不用填写默认使用次数（除非贵店只有几种次数的卡），可以在给会员办卡的页面填写具体购买次数。\n          ")])], 1) : _vm._e()], 1) : _vm._e(), _vm._v(" "), (_vm.card.cardType === 4) ? _c('form-item', {
    attrs: {
      "prop": "cardTimeType",
      "label": "时间类型"
    }
  }, [_c('radio-group', {
    model: {
      value: (_vm.card.cardTimeType),
      callback: function($$v) {
        _vm.$set(_vm.card, "cardTimeType", _vm._n($$v))
      },
      expression: "card.cardTimeType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("分钟")])], 1)], 1) : _vm._e(), _vm._v(" "), (_vm.card.cardType === 4) ? _c('form-item', {
    attrs: {
      "prop": "defaultTimes",
      "label": "默认使用时间"
    }
  }, [(_vm.readonly) ? _c('span', [_vm._v(_vm._s(_vm.card.defaultTimes))]) : _c('input-num', {
    staticClass: "input-s",
    attrs: {
      "min": "0"
    },
    model: {
      value: (_vm.card.defaultTimes),
      callback: function($$v) {
        _vm.$set(_vm.card, "defaultTimes", $$v)
      },
      expression: "card.defaultTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v(_vm._s(_vm.g.Dict.CardTimeTypes[_vm.card.cardTimeType]))]), _vm._v(" "), (_vm.card.cardClass !== 0) ? _c('span', {
    staticClass: "l10"
  }, [_c('help', [_vm._v("\n            一般情况不用填写默认使用时间（除非贵店只有几种计时卡），可以在给会员办卡的页面填写具体购买时间。\n          ")])], 1) : _vm._e()], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "defaultDays",
      "label": "默认使用天数"
    }
  }, [(_vm.readonly) ? _c('span', [_vm._v(_vm._s(_vm.card.defaultDays))]) : _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "min": "0"
    },
    model: {
      value: (_vm.card.defaultDays),
      callback: function($$v) {
        _vm.$set(_vm.card, "defaultDays", $$v)
      },
      expression: "card.defaultDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), (_vm.card.cardType !== 1) ? _c('help', {
    staticClass: "l10"
  }, [_vm._v("\n          指默认使用的有效期天数，员工给会员实际办卡时可自由调整。\n          "), _c('p'), _vm._v("\n          如果设置了在线售卡，会员购买成功后，系统自动将此卡添加有效期天数。\n        ")]) : _vm._e()], 1), _vm._v(" "), (_vm.card.cardType > 1 && _vm.card.defaultDays) ? _c('form-item', {
    attrs: {
      "prop": "expDateDisable",
      "label": "禁止修改有效期"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.expDateDisable),
      callback: function($$v) {
        _vm.$set(_vm.card, "expDateDisable", $$v)
      },
      expression: "card.expDateDisable"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('help', {
    staticClass: "l10"
  }, [_vm._v("\n          如果选择“是”，工作人员给会员办卡时，系统根据“默认使用天数”自动设置有效期，并且不可修改。否则，可自由设置会员卡有效期。\n        ")])], 1) : _vm._e(), _vm._v(" "), (_vm.card.cardClass === 0) ? _c('form-item', {
    attrs: {
      "prop": "allowCheckin",
      "label": "是否入场签到用"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.allowCheckin),
      callback: function($$v) {
        _vm.$set(_vm.card, "allowCheckin", $$v)
      },
      expression: "card.allowCheckin"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])])], 1) : _vm._e(), _vm._v(" "), (_vm.card.cardClass === 0 && _vm.card.allowCheckin && _vm.card.cardType !== 1 && _vm.card.cardType !== 4 && !_vm.card.chargeByHourEnable) ? _c('form-item', {
    attrs: {
      "prop": "checkinPayment",
      "label": "每次签到计费"
    }
  }, [(_vm.readonly) ? _c('span', [_vm._v(_vm._s(_vm.card.checkinPayment))]) : _c('input-num', {
    staticClass: "input-s",
    attrs: {
      "min": "0",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.checkinPayment),
      callback: function($$v) {
        _vm.$set(_vm.card, "checkinPayment", $$v)
      },
      expression: "card.checkinPayment"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [(_vm.card.cardType === 2) ? _c('span', [_vm._v("次")]) : (_vm.card.cardType === 4) ? _c('span', [_vm._v(_vm._s(_vm.g.Dict.CardTimeTypes[_vm.card.cardTimeType]))]) : _vm._e()]), _vm._v(" "), (_vm.card.cardType === 3) ? [_c('b', {
    staticClass: "red"
  }, [_vm._v(" 元")]), _vm._v(" "), (!_vm.readonly) ? _c('span', {
    staticStyle: {
      "padding": "0 5px 0 20px"
    }
  }, [_c('a', {
    on: {
      "click": _vm.addMoreCheckinPayment
    }
  }, [_c('Icon', {
    attrs: {
      "type": "ios-plus-empty",
      "size": "14"
    }
  }), _vm._v(" 添加更多计费方案\n            ")], 1)]) : _vm._e(), _vm._v(" "), _c('help', [_vm._v("\n            储值卡入场签到可设置多个计费方案，工作人员在给会员签到计费时，需要选择一个计费方案。\n          ")]), _vm._v(" "), _c('ul', {
    staticClass: "more-ckin-payments"
  }, _vm._l((_vm.moreCheckinPaymentIdxList), function(v, idx) {
    return _c('li', [_c('i-input', {
      staticClass: "input-s",
      attrs: {
        "placeholder": "计费项目名",
        "disabled": _vm.readonly
      },
      model: {
        value: (_vm.moreCheckinPaymentTitles[idx]),
        callback: function($$v) {
          _vm.$set(_vm.moreCheckinPaymentTitles, idx, $$v)
        },
        expression: "moreCheckinPaymentTitles[idx]"
      }
    }), _vm._v(" "), _c('input-num', {
      staticClass: "input-s input-num",
      attrs: {
        "readonly": _vm.readonly,
        "placeholder": "计费金额"
      },
      model: {
        value: (_vm.moreCheckinPaymentValues[idx]),
        callback: function($$v) {
          _vm.$set(_vm.moreCheckinPaymentValues, idx, $$v)
        },
        expression: "moreCheckinPaymentValues[idx]"
      }
    }), _vm._v(" 元\n            ")], 1)
  }), 0)] : _vm._e()], 2) : _vm._e(), _vm._v(" "), (_vm.card.cardClass === 0 && _vm.card.allowCheckin && _vm.card.cardType !== 1 && _vm.card.cardType !== 4) ? _c('form-item', {
    attrs: {
      "prop": "chargeByHourEnable",
      "label": "启用按小时计费"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.chargeByHourEnable),
      callback: function($$v) {
        _vm.$set(_vm.card, "chargeByHourEnable", $$v)
      },
      expression: "card.chargeByHourEnable"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('help', {
    staticClass: "l10"
  }, [_vm._v("\n          如果本卡启用了按小时计费，会员入场签到后，系统就开始计时，会员离场时需要前台做签出操作，\n          系统会根据签到和签出的时间差自动扣除会员卡的费用。\n        ")])], 1) : _vm._e(), _vm._v(" "), (_vm.card.chargeByHourEnable && _vm.card.cardClass === 0 && _vm.card.allowCheckin && (_vm.card.cardType !== 1 && _vm.card.cardType !== 4)) ? _c('form-item', {
    attrs: {
      "prop": "chargeByHourVal",
      "label": "每小时计费"
    }
  }, [(_vm.readonly) ? _c('span', [_vm._v(_vm._s(_vm.card.chargeByHourVal))]) : _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "min": "0"
    },
    model: {
      value: (_vm.card.chargeByHourVal),
      callback: function($$v) {
        _vm.$set(_vm.card, "chargeByHourVal", $$v)
      },
      expression: "card.chargeByHourVal"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [(_vm.card.cardType === 2) ? _c('span', [_vm._v("次")]) : _vm._e()]), _vm._v(" "), (_vm.card.cardType === 3) ? _c('span', [_c('b', {
    staticClass: "red"
  }, [_vm._v(" 元")]), _vm._v("  \n        ")]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "charge-by-hour-conf"
  }, [_c('span', {
    staticClass: "orange"
  }, [_vm._v("不足一小时的计费设置：")]), _vm._v(" "), _c('ul', [_c('li', [_c('Icon', {
    attrs: {
      "type": "ios-time-outline",
      "size": "18"
    }
  }), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "readonly": _vm.readonly
    },
    model: {
      value: (_vm.chargeByHourConf.fromMin1),
      callback: function($$v) {
        _vm.$set(_vm.chargeByHourConf, "fromMin1", $$v)
      },
      expression: "chargeByHourConf.fromMin1"
    }
  }), _vm._v(" 分钟\n              ~ "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "readonly": _vm.readonly
    },
    model: {
      value: (_vm.chargeByHourConf.toMin1),
      callback: function($$v) {
        _vm.$set(_vm.chargeByHourConf, "toMin1", $$v)
      },
      expression: "chargeByHourConf.toMin1"
    }
  }), _vm._v(" 分钟，按半小时计费\n            ")], 1), _vm._v(" "), _c('li', [_c('Icon', {
    attrs: {
      "type": "ios-clock-outline",
      "size": "18"
    }
  }), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "readonly": _vm.readonly
    },
    model: {
      value: (_vm.chargeByHourConf.fromMin2),
      callback: function($$v) {
        _vm.$set(_vm.chargeByHourConf, "fromMin2", $$v)
      },
      expression: "chargeByHourConf.fromMin2"
    }
  }), _vm._v(" 分钟\n              ~ "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "readonly": _vm.readonly
    },
    model: {
      value: (_vm.chargeByHourConf.toMin2),
      callback: function($$v) {
        _vm.$set(_vm.chargeByHourConf, "toMin2", $$v)
      },
      expression: "chargeByHourConf.toMin2"
    }
  }), _vm._v(" 分钟，按一小时计费\n            ")], 1)])]), _vm._v(" "), _c('div', {
    staticClass: "more-chare-conf"
  }, [_vm._v("\n          入场签到"), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "readonly": _vm.readonly
    },
    model: {
      value: (_vm.card.chargeByHourBegin),
      callback: function($$v) {
        _vm.$set(_vm.card, "chargeByHourBegin", $$v)
      },
      expression: "card.chargeByHourBegin"
    }
  }), _vm._v("分钟后开始计时（计费）\n           \n          "), _c('help', [_vm._v("\n            设置此时间后，系统在计费时将先扣除此时间，然后再根据剩余的时间计费。\n          ")])], 1), _vm._v(" "), _c('div', {
    staticClass: "more-chare-conf"
  }, [_vm._v("\n          超过"), _c('input-int', {
    attrs: {
      "readonly": _vm.readonly
    },
    model: {
      value: (_vm.card.moreChargeUnitPirceHours),
      callback: function($$v) {
        _vm.$set(_vm.card, "moreChargeUnitPirceHours", $$v)
      },
      expression: "card.moreChargeUnitPirceHours"
    }
  }), _vm._v("小时后，\n          按照"), _c('input-num', {
    attrs: {
      "readonly": _vm.readonly
    },
    model: {
      value: (_vm.card.moreChargeUnitPirceAmount),
      callback: function($$v) {
        _vm.$set(_vm.card, "moreChargeUnitPirceAmount", $$v)
      },
      expression: "card.moreChargeUnitPirceAmount"
    }
  }), _vm._v("元/小时计费\n        ")], 1)], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "tit"
  }, [_vm._v("使用限制设置 "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("（可选填）")])]), _vm._v(" "), (_vm.card.cardClass > 0) ? _c('form-item', {
    attrs: {
      "prop": "limitTimes",
      "label": "限定约课时间"
    }
  }, [_c('time-picker', {
    staticClass: "input-s",
    attrs: {
      "format": "HH:mm",
      "type": "timerange",
      "confirm": "",
      "disabled": _vm.readonly,
      "placeholder": "选择时间范围"
    },
    model: {
      value: (_vm.card.limitTimes),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitTimes", $$v)
      },
      expression: "card.limitTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 表示使用该卡只能预约该时间段的课")]), _vm._v(" "), _c('help', [_vm._v("\n          如果此时间段设置为“8:00 ~ 18:00”，那么使用本卡只能预约这个时间段的课；若预约“18:00 ~ 19:00”的课，系统将禁止并提示。\n        ")])], 1) : (_vm.card.cardClass === 0 || (!_vm.g.Util.isEmptyArray(_vm.card.limitTimes) && _vm.card.limitTimes[1])) ? _c('form-item', {
    attrs: {
      "prop": "limitTimes",
      "label": "限定用卡时间"
    }
  }, [_c('time-picker', {
    staticClass: "input-s",
    attrs: {
      "format": "HH:mm",
      "type": "timerange",
      "confirm": "",
      "disabled": _vm.readonly,
      "placeholder": "选择时间范围"
    },
    model: {
      value: (_vm.card.limitTimes),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitTimes", $$v)
      },
      expression: "card.limitTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 表示每天只能在此时间段内使用本卡")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "limitTimes",
      "label": _vm.card.cardClass === 0 ? '限定用卡星期' : '限定上课星期'
    }
  }, [_c('CheckboxGroup', {
    staticStyle: {
      "display": "inline-block"
    },
    model: {
      value: (_vm.limitWeekArr),
      callback: function($$v) {
        _vm.limitWeekArr = $$v
      },
      expression: "limitWeekArr"
    }
  }, [_c('Checkbox', {
    attrs: {
      "label": 1,
      "disabled": _vm.readonly
    }
  }, [_vm._v("周一")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": 2,
      "disabled": _vm.readonly
    }
  }, [_vm._v("周二")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": 3,
      "disabled": _vm.readonly
    }
  }, [_vm._v("周三")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": 4,
      "disabled": _vm.readonly
    }
  }, [_vm._v("周四")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": 5,
      "disabled": _vm.readonly
    }
  }, [_vm._v("周五")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": 6,
      "disabled": _vm.readonly
    }
  }, [_vm._v("周六")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": 0,
      "disabled": _vm.readonly
    }
  }, [_vm._v("周日")])], 1), _vm._v(" "), _c('help', [_vm._v("\n          全不选（默认）表示不限制，相当于全选。\n          "), (_vm.card.cardClass === 0) ? [_vm._v("\n            如果勾选部分星期，表示只限定规定的星期可使用卡。\n            "), _c('p', [_vm._v("例如，勾选了“周六、周日”，表示只能在每周的周六和周日使用本卡。")])] : [_vm._v("\n            如果勾选部分星期，表示只能限定上规定星期的课。\n            "), _c('p', [_vm._v("例如，勾选了“周六、周日”，表示只能使用本卡上周六与周日的课。")])]], 2)], 1), _vm._v(" "), _c('form-item', {
    staticClass: "limit-date",
    attrs: {
      "prop": "limitDates",
      "label": "限定用卡日期"
    }
  }, [_c('i-button', {
    on: {
      "click": _vm.openLimitDateDlg
    }
  }, [_vm._v("点击设置")]), _vm._v(" "), _c('span', {
    staticClass: "l15 tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 表示每年只能在此期限内使用本卡")]), _vm._v(" "), _c('div', {
    staticClass: "p10"
  }, [_c('textarea', {
    staticClass: "textarea-box",
    attrs: {
      "cols": "40",
      "rows": "3",
      "readonly": "readonly"
    }
  }, [_vm._v(_vm._s(_vm.limitDate.desc))])]), _vm._v(" "), _c('div', [_c('checkbox', {
    model: {
      value: (_vm.card.ignoreLimitWeeks),
      callback: function($$v) {
        _vm.$set(_vm.card, "ignoreLimitWeeks", $$v)
      },
      expression: "card.ignoreLimitWeeks"
    }
  }, [_vm._v("限定用卡日期内是否忽略【限定用卡星期】")])], 1)], 1), _vm._v(" "), (_vm.card.cardClass === 0 || _vm.card.limitOddEvenDay) ? _c('form-item', {
    attrs: {
      "prop": "limitOddEvenDay",
      "label": "限定单双日使用"
    }
  }, [_c('radio-group', {
    model: {
      value: (_vm.card.limitOddEvenDay),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitOddEvenDay", _vm._n($$v))
      },
      expression: "card.limitOddEvenDay"
    }
  }, [_c('radio', {
    attrs: {
      "label": 0,
      "disabled": _vm.readonly
    }
  }, [_vm._v("不限制")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 1,
      "disabled": _vm.readonly
    }
  }, [_vm._v("限定单日使用")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2,
      "disabled": _vm.readonly
    }
  }, [_vm._v("限定双日使用")])], 1)], 1) : _vm._e(), _vm._v(" "), (_vm.card.allowCheckin) ? _c('form-item', {
    attrs: {
      "prop": "limitWeekUses",
      "label": "入场签到限制"
    }
  }, [_c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitDayUses),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitDayUses", $$v)
      },
      expression: "card.limitDayUses"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/天")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitWeekUses),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitWeekUses", $$v)
      },
      expression: "card.limitWeekUses"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/周")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitMonthUses),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitMonthUses", $$v)
      },
      expression: "card.limitMonthUses"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/月")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitEntryUses),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitEntryUses", $$v)
      },
      expression: "card.limitEntryUses"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitEntryUseDays),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitEntryUseDays", $$v)
      },
      expression: "card.limitEntryUseDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('help', [_vm._v("\n          表示每个会员使用此卡【每天 / 每周 / 每月 / 规定使用天数内】最多可入场签到多少次。\n          "), _c('p'), _vm._v("\n          例如，如果设置为：1次/天，3次/周，10次/月，则表示，会员每天最多可入场签到1次，每周最多入场签到3次，每月最多入场签到10次\n        ")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "limitWeekGlBookings",
      "label": "团课上课限制"
    }
  }, [_c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitDayGlBookings),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitDayGlBookings", $$v)
      },
      expression: "card.limitDayGlBookings"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/天")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitWeekGlBookings),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitWeekGlBookings", $$v)
      },
      expression: "card.limitWeekGlBookings"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/周")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitMonthGlBookings),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitMonthGlBookings", $$v)
      },
      expression: "card.limitMonthGlBookings"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/月")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitGlBookings),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitGlBookings", $$v)
      },
      expression: "card.limitGlBookings"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitGlBookingDays),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitGlBookingDays", $$v)
      },
      expression: "card.limitGlBookingDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('help', [_vm._v("\n          表示每个会员使用此卡【每天 / 每周 / 每月 / 规定使用天数内】最多可上团课多少次。\n          "), _c('p'), _vm._v("\n          例如，如果设置为：1次/天，3次/周，10次/月，则表示，会员每天最多可上课1次，每周（自然周）最多可上课3次，每月（自然月）最多可上课10次\n          "), _c('br'), _vm._v("如果设置了 10次/30天，则表示从开卡日计算，每30天限制上团课10次。\n        ")])], 1), _vm._v(" "), (_vm.card.cardClass === 2 || _vm.card.cardType > 1) ? _c('form-item', {
    attrs: {
      "prop": "limitWeekPlBookings",
      "label": "私教课预约限制"
    }
  }, [_c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitDayPlBookings),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitDayPlBookings", $$v)
      },
      expression: "card.limitDayPlBookings"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/天")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitWeekPlBookings),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitWeekPlBookings", $$v)
      },
      expression: "card.limitWeekPlBookings"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/周")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitMonthPlBookings),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitMonthPlBookings", $$v)
      },
      expression: "card.limitMonthPlBookings"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/月")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitPlBookings),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitPlBookings", $$v)
      },
      expression: "card.limitPlBookings"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitPlBookingDays),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitPlBookingDays", $$v)
      },
      expression: "card.limitPlBookingDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('help', [_vm._v("\n          表示每个会员使用此卡【每天 / 每周 / 每月 / 规定使用天数内】最多可预约上私教课多少次。\n          "), _c('p'), _vm._v("\n          例如，如果设置为：1次/天，3次/周，10次/月，则表示，会员每天最多可预约上课1次，每周（自然周）最多可预约上课3次，每月（自然月）最多可预约上课10次。\n          "), _c('br'), _vm._v("如果设置了 10次/30天，则表示从开卡日计算，每30天限制预约私教课10次。\n        ")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "limitVacationCount",
      "label": "请假次数限制"
    }
  }, [_c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitVacationCount),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitVacationCount", $$v)
      },
      expression: "card.limitVacationCount"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次")]), _vm._v(" "), _c('help', [_vm._v("\n          表示使用该卡在使用期内可请假多少次，不填表示不限制\n        ")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "limitVacationDays",
      "label": "请假天数限制"
    }
  }, [_c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitVacationDays),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitVacationDays", $$v)
      },
      expression: "card.limitVacationDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('help', [_vm._v("\n          表示使用该卡在使用期内最多累计请假多少天，不填表示不限制\n        ")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "allowMemberOptVacation",
      "label": "会员可否自助请假"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.allowMemberOptVacation),
      callback: function($$v) {
        _vm.$set(_vm.card, "allowMemberOptVacation", $$v)
      },
      expression: "card.allowMemberOptVacation"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('help', {
    staticClass: "l10"
  }, [_vm._v("如果选择“是”，会员将允许在手机版自助请假，否则不允许。\n          "), _c('p', [_vm._v("设置为“是”时，建议设置好上面的“请假次数限制”或“请假天数限制”。")])])], 1), _vm._v(" "), (_vm.isPosArg) ? _c('form-item', {
    attrs: {
      "prop": "isOfflineSaleForPos",
      "label": "是否强制POS机支付"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.isOfflineSaleForPos),
      callback: function($$v) {
        _vm.$set(_vm.card, "isOfflineSaleForPos", $$v)
      },
      expression: "card.isOfflineSaleForPos"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('help', {
    staticClass: "l10"
  }, [_vm._v("如果选择“是”，在创建会员买课、购课、续课的时候支付方式强制为“POS机”"), _c('p')])], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "tit"
  }, [_vm._v("展示信息设置 "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("（可选填）")])]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "isPublic",
      "label": "是否对外展示"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.isPublic),
      callback: function($$v) {
        _vm.$set(_vm.card, "isPublic", $$v)
      },
      expression: "card.isPublic"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('help', {
    staticClass: "l10"
  }, [_vm._v("是否对访客或会员展示，如果选择“是”，将在微官网和会员系统的门店信息中展示。")])], 1), _vm._v(" "), (_vm.card.isPublic) ? _c('form-item', {
    attrs: {
      "prop": "isShowPrice",
      "label": "是否显示价格"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.isShowPrice),
      callback: function($$v) {
        _vm.$set(_vm.card, "isShowPrice", $$v)
      },
      expression: "card.isShowPrice"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('help', {
    staticClass: "l10"
  }, [_vm._v("展示时是否显示会员卡原价，即“默认充值金额”")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "bgImg",
      "label": "会员卡背景图"
    }
  }, [(!_vm.readonly) ? _c('i-button', {
    on: {
      "click": function($event) {
        _vm.viewBgImgDlg = true
      }
    }
  }, [_vm._v("设置背景图")]) : _vm._e(), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 将展示在会员系统和微官网，会员和访客可看到")]), _vm._v(" "), (_vm.card.cardName && _vm.card.isShowBgText) ? _c('div', {
    staticClass: "bgfont",
    style: ('color:#' + _vm.card.bgFontColor)
  }, [_vm._v(_vm._s(_vm.card.cardName.shorten(15)))]) : _vm._e(), _vm._v(" "), _c('img', {
    staticClass: "bgimg",
    attrs: {
      "src": _vm.bgImgUrl
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "isShowPrice",
      "label": "是否显示背景文字"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.isShowBgText),
      callback: function($$v) {
        _vm.$set(_vm.card, "isShowBgText", $$v)
      },
      expression: "card.isShowBgText"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])])], 1), _vm._v(" "), (_vm.card.isShowBgText) ? _c('form-item', {
    attrs: {
      "prop": "bgImg",
      "label": "背景文字颜色"
    }
  }, [(!_vm.readonly) ? _c('i-button', {
    on: {
      "click": function($event) {
        _vm.viewBgFontDlg = true
      }
    }
  }, [_vm._v("设置文字颜色")]) : _vm._e(), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 显示在会员卡背景图上的文字（会员卡名、价格等）")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "orderNo",
      "label": "展示序号"
    }
  }, [(_vm.readonly) ? _c('span', [_vm._v(_vm._s(_vm.card.orderNo))]) : _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "min": "0",
      "title": ""
    },
    model: {
      value: (_vm.card.orderNo),
      callback: function($$v) {
        _vm.$set(_vm.card, "orderNo", _vm._n($$v))
      },
      expression: "card.orderNo"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 用于微官网上展示的顺序，数值越小越靠前")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "intro",
      "label": "会员卡简介"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "600px"
    },
    attrs: {
      "type": "textarea",
      "rows": 15,
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.intro),
      callback: function($$v) {
        _vm.$set(_vm.card, "intro", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "card.intro"
    }
  })], 1), _vm._v(" "), (_vm.hasMchId) ? _c('div', {
    staticClass: "tit"
  }, [_vm._v("在线购卡设置")]) : _vm._e(), _vm._v(" "), (_vm.hasMchId) ? _c('form-item', {
    attrs: {
      "label": "是否允许在线售卡"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.isOnlineSale),
      callback: function($$v) {
        _vm.$set(_vm.card, "isOnlineSale", $$v)
      },
      expression: "card.isOnlineSale"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('help', {
    staticClass: "l10"
  }, [_vm._v("\n          如果设置为“是”，会员可在本店系统中购卡或续费，客户可在本店微官网上在线购买会员卡，购买后自动成为本店会员。\n        ")])], 1) : _vm._e(), _vm._v(" "), (_vm.hasMchId && _vm.card.isOnlineSale) ? [_c('form-item', {
    attrs: {
      "label": "在线售卡价格"
    }
  }, [(_vm.readonly) ? _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.card.onlinePrice))]) : _c('input-num', {
    staticClass: "input-s big bold",
    model: {
      value: (_vm.card.onlinePrice),
      callback: function($$v) {
        _vm.$set(_vm.card, "onlinePrice", $$v)
      },
      expression: "card.onlinePrice"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")]), _vm._v(" "), _c('help', {
    staticClass: "l5"
  }, [_vm._v("\n            此价格为在线售卡的实际价格，即客户需要支付的金额。\n          ")])], 1), _vm._v(" "), (_vm.card.defaultDays) ? _c('form-item', {
    attrs: {
      "prop": "limitBeginDays",
      "label": "最迟开卡天数"
    }
  }, [_c('input-int', {
    staticClass: "input-s",
    attrs: {
      "min": "0",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitBeginDays),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitBeginDays", $$v)
      },
      expression: "card.limitBeginDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('help', {
    staticClass: "l5"
  }, [_vm._v("\n            指会员在线购买或充值会员卡后，最迟多少天内要使用此卡，否则按照最迟开卡日期为起始日期\n          ")]), _vm._v(" "), _c('span', {
    staticClass: "l10 red"
  }, [_vm._v("（ 如果填写"), _c('b', [_vm._v(" 0 ")]), _vm._v("表示购买后立即开卡）")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "在线售卡限制"
    }
  }, [_c('checkbox', {
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.isOnlineSaleForGuest),
      callback: function($$v) {
        _vm.$set(_vm.card, "isOnlineSaleForGuest", $$v)
      },
      expression: "card.isOnlineSaleForGuest"
    }
  }, [_vm._v("只限访客购买")]), _vm._v(" "), _c('checkbox', {
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.isOnlineSaleOnce),
      callback: function($$v) {
        _vm.$set(_vm.card, "isOnlineSaleOnce", $$v)
      },
      expression: "card.isOnlineSaleOnce"
    }
  }, [_vm._v("每个手机账号只能购买一次")])], 1), _vm._v(" "), (_vm.card.cardType === 3 || _vm.card.cardType === 2) ? _c('form-item', {
    attrs: {
      "label": "更多价格方案"
    }
  }, [_c('checkbox', {
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.displayMoreCardPrices),
      callback: function($$v) {
        _vm.displayMoreCardPrices = $$v
      },
      expression: "displayMoreCardPrices"
    }
  }, [_vm._v("显示")]), _vm._v(" "), _c('help', {
    staticClass: "l5"
  }, [_vm._v("\n            启用并编辑更多价格方案后，访客或会员在线购买时可选择任意一种。\n          ")]), _vm._v(" "), (_vm.displayMoreCardPrices) ? _c('table', {
    staticClass: "more-prices"
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "40"
    }
  }, [_vm._v("#")]), _vm._v(" "), (_vm.card.cardType === 2) ? _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("使用次数")]) : (_vm.card.cardType === 4) ? _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("使用时间")]) : _vm._e(), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [(_vm.card.cardType === 3) ? [_vm._v("充值金额（元）")] : [_vm._v("原价（元）")]], 2), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("在线售价（元）")])]), _vm._v(" "), _vm._l((_vm.moreCardPricePlans), function(p, idx) {
    return _c('tr', [_c('td', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), (_vm.card.cardType === 2 || _vm.card.cardType === 4) ? _c('td', [_c('input', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: (p[2]),
        expression: "p[2]"
      }],
      attrs: {
        "type": "number",
        "readonly": _vm.readonly
      },
      domProps: {
        "value": (p[2])
      },
      on: {
        "input": function($event) {
          if ($event.target.composing) { return; }
          _vm.$set(p, 2, $event.target.value)
        }
      }
    })]) : _vm._e(), _vm._v(" "), _c('td', [_c('input', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: (p[0]),
        expression: "p[0]"
      }],
      attrs: {
        "type": "number",
        "readonly": _vm.readonly
      },
      domProps: {
        "value": (p[0])
      },
      on: {
        "input": function($event) {
          if ($event.target.composing) { return; }
          _vm.$set(p, 0, $event.target.value)
        }
      }
    })]), _vm._v(" "), _c('td', [_c('input', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: (p[1]),
        expression: "p[1]"
      }],
      attrs: {
        "type": "number",
        "readonly": _vm.readonly
      },
      domProps: {
        "value": (p[1])
      },
      on: {
        "input": function($event) {
          if ($event.target.composing) { return; }
          _vm.$set(p, 1, $event.target.value)
        }
      }
    })])])
  })], 2) : _vm._e()], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "续费处理方式"
    }
  }, [_c('radio-group', {
    model: {
      value: (_vm.card.onlineRechargeOptType),
      callback: function($$v) {
        _vm.$set(_vm.card, "onlineRechargeOptType", $$v)
      },
      expression: "card.onlineRechargeOptType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("直接在原卡上续费")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("卡过期时，续费后将自动创建新卡")])], 1)], 1), _vm._v(" "), (_vm.card.cardId) ? _c('form-item', {
    attrs: {
      "label": "免费兑换码"
    }
  }, [_c('checkbox', {
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.enableFreeCode),
      callback: function($$v) {
        _vm.$set(_vm.card, "enableFreeCode", $$v)
      },
      expression: "card.enableFreeCode"
    }
  }, [_vm._v("启用")]), _vm._v(" "), (!_vm.readonly && _vm.card.enableFreeCode) ? _c('a', {
    on: {
      "click": _vm.openFreeCodeDlg
    }
  }, [_vm._v("兑换码设置")]) : _vm._e(), _vm._v(" "), _c('help', {
    staticClass: "l5"
  }, [_vm._v("\n            启用免费兑换码后，场馆可在此处生成若干兑换码发放给客户，客户在线购卡时输入获取到的兑换码即可免费获得本会员卡。\n          ")])], 1) : _vm._e(), _vm._v(" "), (_vm.card.cardId && _vm.isOnlineCardInDb) ? _c('form-item', {
    attrs: {
      "label": "微官网卡页面链接"
    }
  }, [_vm._v("\n          http://tool.jzongguan.com/#/shop-card-sale/" + _vm._s(_vm.card.cardId) + "?s=" + _vm._s(_vm.shopId) + "\n          "), _c('help', [_vm._v("\n            此链接地址可复制到文案中作为超连接，也可用于制作二维码。\n          ")]), _vm._v(" "), (_vm.qrcodeUrl) ? _c('div', {
    staticClass: "qrcode"
  }, [_c('img', {
    attrs: {
      "src": _vm.qrcodeUrl
    }
  })]) : _vm._e()], 1) : _vm._e()] : _vm._e(), _vm._v(" "), (_vm.card.cardId) ? _c('div', {
    staticClass: "tit"
  }, [_vm._v("更新记录")]) : _vm._e(), _vm._v(" "), (_vm.card.cardId) ? _c('form-item', {
    staticClass: "low-margin",
    attrs: {
      "label": "更新人"
    }
  }, [_vm._v("\n        " + _vm._s(_vm.card.updateUname) + "\n      ")]) : _vm._e(), _vm._v(" "), (_vm.card.cardId) ? _c('form-item', {
    staticClass: "low-margin",
    attrs: {
      "label": "更新时间"
    }
  }, [_vm._v("\n        " + _vm._s(_vm.card.updateTime) + "\n      ")]) : _vm._e()], 2), _vm._v(" "), _c('div', {
    class: {
      'form-submit card-form-submit': !_vm.card.cardId,
      'form-submit-bottom': _vm.card.cardId
    }
  }, [(!_vm.readonly) ? _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.submitCard()
      }
    }
  }, [_vm._v("提交")]) : (!_vm.defaultReadonly) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("【只读模式，不可编辑】")]) : _vm._e()], 1)], 2), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡背景图设置",
      "width": "880",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewBgImgDlg),
      callback: function($$v) {
        _vm.viewBgImgDlg = $$v
      },
      expression: "viewBgImgDlg"
    }
  }, [_c('div', {
    staticStyle: {
      "padding-bottom": "15px"
    }
  }, [_c('RadioGroup', {
    model: {
      value: (_vm.bgImgType),
      callback: function($$v) {
        _vm.bgImgType = _vm._n($$v)
      },
      expression: "bgImgType"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("选择系统默认背景图")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("上传自定义背景图")])], 1)], 1), _vm._v(" "), (_vm.bgImgType === 1) ? _c('ul', {
    staticClass: "bgimgs"
  }, _vm._l((_vm.BG_IMG_CNT), function(n) {
    return _c('li', {
      class: {
        'on': _vm.card.bgImg === n + '.jpg'
      },
      on: {
        "click": function($event) {
          return _vm.chooseBgImg(n)
        }
      }
    }, [_c('img', {
      attrs: {
        "src": _vm.g.Conf.IMG_LIB_URL + '/cardbg/' + n + '.jpg'
      }
    })])
  }), 0) : (_vm.bgImgType === 2) ? _c('div', [_c('img-upload', {
    attrs: {
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "on-success": _vm.handleImgUploadSuccess,
      "max-size": _vm.imgUpload.maxSize,
      "default-file-list": _vm.imgUpload.defaultList
    }
  }, [_c('i-button', {
    staticClass: "input-s",
    attrs: {
      "type": "ghost",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("点击上传图片")])], 1)], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "form-submit center"
  }, [_c('i-button', {
    staticStyle: {
      "width": "120px"
    },
    on: {
      "click": function($event) {
        _vm.viewBgImgDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡背景文字颜色设置",
      "width": "750",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewBgFontDlg),
      callback: function($$v) {
        _vm.viewBgFontDlg = $$v
      },
      expression: "viewBgFontDlg"
    }
  }, [_c('ul', {
    staticClass: "bgfont-conf"
  }, _vm._l((_vm.bgFontColors), function(c) {
    return _c('li', {
      style: ('background: #' + c),
      on: {
        "click": function($event) {
          return _vm.selectBgFontColor(c)
        }
      }
    }, [_vm._v(" ")])
  }), 0)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "限定用卡日期设置",
      "width": "550",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.limitDate.dlg),
      callback: function($$v) {
        _vm.$set(_vm.limitDate, "dlg", $$v)
      },
      expression: "limitDate.dlg"
    }
  }, [_c('div', {
    staticClass: "limit-date"
  }, [_c('ul', _vm._l((_vm.limitDate.itemSize), function(i) {
    return _c('li', {
      staticClass: "item"
    }, [_c('i-select', {
      staticClass: "sel",
      attrs: {
        "placeholder": "开始月"
      },
      model: {
        value: (_vm.limitDate.beginMonths[i - 1]),
        callback: function($$v) {
          _vm.$set(_vm.limitDate.beginMonths, i - 1, $$v)
        },
        expression: "limitDate.beginMonths[i - 1]"
      }
    }, _vm._l((12), function(month) {
      return _c('i-option', {
        key: month,
        attrs: {
          "value": month
        }
      }, [_vm._v(_vm._s(month) + "月")])
    }), 1), _vm._v(" "), _c('i-select', {
      staticClass: "sel",
      attrs: {
        "placeholder": "开始日"
      },
      model: {
        value: (_vm.limitDate.beginDays[i - 1]),
        callback: function($$v) {
          _vm.$set(_vm.limitDate.beginDays, i - 1, $$v)
        },
        expression: "limitDate.beginDays[i - 1]"
      }
    }, _vm._l((31), function(day) {
      return _c('i-option', {
        key: day,
        attrs: {
          "value": day
        }
      }, [_vm._v(_vm._s(day) + "日")])
    }), 1), _vm._v(" "), _c('span', {
      staticClass: "spt"
    }, [_vm._v("~")]), _vm._v(" "), _c('i-select', {
      staticClass: "sel",
      attrs: {
        "placeholder": "结束月"
      },
      model: {
        value: (_vm.limitDate.endMonths[i - 1]),
        callback: function($$v) {
          _vm.$set(_vm.limitDate.endMonths, i - 1, $$v)
        },
        expression: "limitDate.endMonths[i - 1]"
      }
    }, _vm._l((12), function(month) {
      return _c('i-option', {
        key: month,
        attrs: {
          "value": month
        }
      }, [_vm._v(_vm._s(month) + "月")])
    }), 1), _vm._v(" "), _c('i-select', {
      staticClass: "sel",
      attrs: {
        "placeholder": "结束日"
      },
      model: {
        value: (_vm.limitDate.endDays[i - 1]),
        callback: function($$v) {
          _vm.$set(_vm.limitDate.endDays, i - 1, $$v)
        },
        expression: "limitDate.endDays[i - 1]"
      }
    }, _vm._l((31), function(day) {
      return _c('i-option', {
        key: day,
        attrs: {
          "value": day
        }
      }, [_vm._v(_vm._s(day) + "日")])
    }), 1)], 1)
  }), 0), _vm._v(" "), _c('div', [_c('i-button', {
    on: {
      "click": _vm.addLimitDates
    }
  }, [_vm._v("+添加日期设置项")])], 1), _vm._v(" "), _c('div', {
    staticClass: "remark"
  }, [_vm._v("\n        此日期范围表示，该会员卡只能在"), _c('b', [_vm._v("每年")]), _vm._v("的上述日期范围内使用，例如：寒暑假卡、节日卡\n      ")])]), _vm._v(" "), _c('div', {
    staticClass: "center form-submit",
    staticStyle: {
      "margin-top": "-10px"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.confirmLimitDates
    }
  }, [_vm._v("确定")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.limitDate.dlg = false
      }
    }
  }, [_vm._v("关闭")]), _vm._v(" "), _c('a', {
    staticClass: "l15",
    on: {
      "click": _vm.clearLimitDates
    }
  }, [_vm._v("清空")])], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "免费兑换码设置",
      "width": "900",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.freeCodeDlg),
      callback: function($$v) {
        _vm.freeCodeDlg = $$v
      },
      expression: "freeCodeDlg"
    }
  }, [_c('div', {
    staticClass: "free-code-opts"
  }, [_c('i-button', {
    on: {
      "click": _vm.createFreeCodeList
    }
  }, [_vm._v("批量生成兑换码")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.viewFreeCodeList
    }
  }, [_vm._v("批量拷贝兑换码")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.delFreeCodeList
    }
  }, [_vm._v("批量删除")]), _vm._v(" "), _c('i-select', {
    staticStyle: {
      "width": "100px"
    },
    attrs: {
      "placeholder": "请选择状态"
    },
    on: {
      "on-change": function($event) {
        return _vm.queryFreeCodeList(null)
      }
    },
    model: {
      value: (_vm.codeQuery.status),
      callback: function($$v) {
        _vm.$set(_vm.codeQuery, "status", _vm._n($$v))
      },
      expression: "codeQuery.status"
    }
  }, [_c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_c('i', [_vm._v("不限")])]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 0
    }
  }, [_vm._v("未使用")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("已使用")])], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "mytbl p10"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "60"
    },
    on: {
      "click": function($event) {
        return _vm.selectAllFc()
      }
    }
  }, [(_vm.isSelectAllFc) ? _c('i', {
    staticClass: "iconfont icon-checkbox-checked ckbox-1",
    staticStyle: {
      "font-weight": "normal"
    }
  }) : _c('i', {
    staticClass: "iconfont icon-checkbox-empty ckbox-0",
    staticStyle: {
      "font-weight": "normal"
    }
  })]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("兑换码")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("创建人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("创建时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("使用人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("使用时间")])]), _vm._v(" "), _vm._l((_vm.cardOnlineFreeCodeList), function(c, idx) {
    return _c('tr', [_c('td', {
      on: {
        "click": function($event) {
          return _vm.selectFreeCode(idx)
        }
      }
    }, [(!_vm.freeCodeCkList[idx]) ? _c('i', {
      staticClass: "iconfont icon-checkbox-empty"
    }) : _c('i', {
      staticClass: "iconfont icon-checkbox-checked"
    })]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.code))]), _vm._v(" "), _c('td', [(c.status === 0) ? [_vm._v("未使用")] : (c.status === 1) ? [_vm._v("已使用")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createTime))]), _vm._v(" "), _c('td', [(c.memberId) ? _c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(c.memberId)
        }
      }
    }, [_vm._v(_vm._s(c.memberName))]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.mcpCreateTime))])])
  })], 2), _vm._v(" "), (_vm.cardOnlineFreeCodeList && _vm.cardOnlineFreeCodeCount) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.cardOnlineFreeCodeCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryFreeCodeList
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.cardOnlineFreeCodeList && !_vm.cardOnlineFreeCodeList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()]), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "免费兑换码查看（可复制）",
      "width": "400",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.freeCodeViewDlg),
      callback: function($$v) {
        _vm.freeCodeViewDlg = $$v
      },
      expression: "freeCodeViewDlg"
    }
  }, [_c('div', [(_vm.selectFreeCodes) ? _c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 15,
      "readonly": true
    },
    model: {
      value: (_vm.selectFreeCodes),
      callback: function($$v) {
        _vm.selectFreeCodes = $$v
      },
      expression: "selectFreeCodes"
    }
  }) : _vm._e()], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员信息",
      "width": "780",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 1163:
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABMCAYAAADHl1ErAAAKk0lEQVR4Xt2cC9Bu1RjH/3/XItfkEinOIErJpdLNrYSS20wYSeVMIaUoXYiaUrpRk64GlcsMkVDRhaKLkJxESomQS3JLLqcx/ub/zdrfrG+13r3X3vvd++18z8yZM/O9a6/1rN9ee61nPet5FjEjkbQagK0ArAtgdQCPBrAegMcnKt0B4PfRv98CuILk12ehOsdqVNKDAbwYwIsAbAngmT3b/jeACwGcB+Ackn/qWV/R44MCk/QMAK8NI2mLIo26F7oAwCkkz+leRfOTgwCT9BIA+wLYulmFqZf4A4BPATiV5K3Trn2qwCRtD+AAAM/qqOjfAPwZQPV5eZ5bFcDDO9Z3mvUh+ZeOz9/jsakAk/QYAKcDeFmhYgZyBYCrAPwcwI0kr697VtI6AJ4KYG0AGwHYLMBsatKwDiR5alPBkt97A5P0egAnA3hEQ4OXAzgbwAVNcEoUd5kA8eUAXgNgk4bnrgawK8kfldafK9cZmKQHAfgkAAObJF7JjgNwAkmbBoOJpCcA2BPAHgBWqmloT5IndFWkEzBJawI4N9hQk9o2qA+RtB01mkh6HIAPAHhbTaNnkNypi1KtgUny0P9qzfzheWkXkj/rotC0npHkhefMGnvvOgDbkvx1mzZbAZP0RgCfm9DAfwC8h+RJbRQYuqykAz3SJ7TjxWdTkjeV6lEMTJINz4sB3D9T+fcAvIHkr0obHrOcpKcD+PyE0fYbABuT/F2JTkXAwmp0JYCHZio9muR7SxqbdRlJNmhzc5dNm01I2gaslUZgwcb6YWZT7IoPInlYUyP3lt8lub8nAnh7RqdrAWxO8h91+pYA+z6A52Uq2YPkx+4tMNroIekYz7eZZ84l+crOwCQdCuD9mQr2JelGV1iRZGM7Z3osJfmJSR2bOMIkPR+A561UDiN50ApLKlJc0hkAdkz68k8vDiR/metjFljwXf0YwJOTh75tfxZJLRJg3hF4q+T9aSweKJ7P/pf2cxKwowHskxT+O4B1SN62GGBVfZD0HADeZ6biDfsRjcAkeVT9IlPBDiQ/u5hgRdA+CODgpG82xNdIt3b3GGGS7LF8VfLwJSTtXi6WsDVZH8C1JJcVP9ijoCT7zdzmrW2MaEk2xm/ITEFHkdwvVmkBsGDNe55KZW2SN5b2RZLflt9aJceR3Lv0+S7lJNkg/WjkbNybpB0ARSLJ3uFvJIX/BWDNeJSlwL4CYLvkoWNJpvPZRCXCyMr5nE4nuXOR9i0LBVi24lN5UsuR5gOVVySVLBhl88DCsdftSWH7s57YxkUj6YUALpnQ56lDq4FlFdqOsmcD8K4mFo8yM5jbNsXA7Is/PCl8BEnv9otF0loAsjZMqGRq0BpgubkN2s6fknJf2e6VFyYGZk+DHYOV2AZ5bJfzPkmeO95VQ7k3tAJYnZyEknxu+q1E9/lFbw6YpA0AXJMUOp/kNsVDKykoyYcibxkCmiS/jLoJvROswMJM7FS0y7sSG+qr+bOsgNk9c2TSue1JntUVWGh86tBqXDSVqp1hzdOR7IF5X9L33UieVgHzkbvjHCr5L4BVSC7vA2za0MaAFXS2d8ZemlguIvlSSnogAG97/H8ll5PcvC+s6I31HmljwQrA7hOYrBIxWE5yJQPbGMB3EziHkEy3Cr349ZnTxoQVvWSfiqVz+BIDs3vDbo5Ytibpz3Sq0gXaLGCFUeY5LPUmb2dguQnO24FWx0+lZNtAmxWsAOx1AL6Y9OsAA/sMgDdFP9xF8iGlALqUK4EW6q07bO29GtbpHg5+fpKUOdPALgXwgugHexe6Rt8U8yuAVlfXoLCieSx1lF5tYDcDWBJpdxVJu6cHl47QRoEVPsu/JqFWtxmYN9hx8MalJL09GEVaQhsNVgBmH9nTIhB3Glg67C4mGRuxg4MrhDYqrADsshCHVjG4OwfsMpJDx6MueAkFq6HL996wt33zkr4ZApmrR5fngF1D0gcDo0ghrEqXUaFJcszIhhGIOwzMQRiOqarkJpIOjRxcWsIaHZqknwJwJHgltxiY3Tp271RyO0nHrA4qHWGNCk2SjxSddFHJMgPL7ZkeRvLOoYgVwKq2aoP400r6JekBAFJvzdcM7BQAuyWVbEQydW+UtNNYpgRWFU5ZsHoONqdJei6AHyQdOsbA3g3g2OSHHUl+urH3LQu0gVVVPStoknYAkDJYamA+oPXyGcvJJN/Rkkdt8S6wZgltQnTPFgb2yJB9EXf4epJOJJiK9IE1K2iSUivfqqxcuai9K08BrTqNlJNpwBobmiSnIv4xGS1zXugK2PEhKSAuM+f07zPECmDtTNLu62IZY06T5OnIoZ2xHEzykAqY00/OTwpcSXLT4p5EBUNQiOMc6vxZrWGNNdIk5cJU1yN5XQXMTn9nusYWv/VbQvKWttAkfRnAq2ue6wyrBbTjSe7VQXcH16VJGTeTfIrrik++HfyfhgWcSPKdbRqtCUapqukNqwW0VsEorlfSxwEszX2OKTDnWjtc4H5R4bsBrNUmsUqS36o/x5xMDVYhNIeX2qNcJCGY0DH7940ecMjE6iTnFoE03MnRw7sktbeyyWpG2NRhFUBrFYwiyblJb076/wWS8xl7KTB7KXKBc+uTdJBwkSSjzIfEe7VdDYsaigplAmBana1KshvH7pxUnFYz//dcyOaXQmJ7/KCvPXAGbLGEldKHKctIOjV5cAmju2qzVZioJAcBpoc/55HcNlY8B2zSKHsrSSeULjqR5HDSj2Q6ti5J+8TmpU3YuXNwXMEgB7yzegsh080+wTSL9ySSu6d6TQLmg1yHnjurPxYH/G+2iBIbbBEYVnrpiG1P5yQ49HyB1KXO+EoF5ximcjjJNHZqVgOkV7uSclaB69yQZOoLm2urNputZt+2P8k0AK+X8mM/LMmJ8jmjvHZ1bQLm+3JyOUfuX6/s/LEBxe1J+jCABQkL4fdGa6AkX9JHbj7QXDnTyRVupNUELNvF5YSsWhOoEZghSfJtTBdNGBUrzJwmybej7Jrph+/osYHqe3tqpQhYgOYMCcewx3vNqvLvOO9wiMuBmjpQ8rskx0d4AXMeUipOWPAkX+SVKQYWoDm913dW5MR22j59nY4lANqUkeS5ynNWTryh3sp+rtI6WwEL0DynOSdn0mGv57udSt9YqaJtyxVc9OE985Yk7QcsltbAArQ1ArS6W+ZsdhxJ0jFWo4kkf3Z2MdV5e22Ab9M0weeU7gSsqkiS9191aX3+TI8KN8cNegdPuLvMFxU1OQnOImmjvJP0AhZGm4Pv7EeKU01yyjjDzddhXUjSTrreEkaTfVX24TXFg3gFtO3YK7ulN7AAzQaur2vYv5CClfd9YvYzVReu1SawBjj2pHjFc0ipL00qvbnO9wHtR/KuQv0mFpsKsOgTdeqf566uQ97znW+Uq67086jxlX65K2xK+m5zx3dsTC1OZKrAInBeDDzaDC5nt5V0tmsZ++BtLx7a9za6qU/6TT0Kt8b5yhYHdjyqqXzP321T2Tj1bXiODB9EBhlhOU0lOUPMB8bO34nDIPt0zJ+w7zM7m2SaFNqn3nHmsFINQwCMl3/HYNlu8tzn+Spd6TyfObDP5onhODXat3F6o3zDLIzj/wNdI0/rKU29qQAAAABJRU5ErkJggg=="

/***/ }),

/***/ 1167:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1771)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1296),
  /* template */
  __webpack_require__(2113),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-06b2727a",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1181:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/img/example.ef5a2c6.png";

/***/ }),

/***/ 1182:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/img/front-demo.372646f.png";

/***/ }),

/***/ 1183:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/img/side-demo.38d599d.png";

/***/ }),

/***/ 1184:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1764)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1194),
  /* template */
  __webpack_require__(2106),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-03cc60d4",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1186:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1969)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1283),
  /* template */
  __webpack_require__(2315),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-7ad8123c",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1187:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1775)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1284),
  /* template */
  __webpack_require__(2117),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-09b35ea3",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1188:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1822)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1285),
  /* template */
  __webpack_require__(2167),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-25497bc1",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1189:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2013)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1286),
  /* template */
  __webpack_require__(2361),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-c845a348",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1190:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1956)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1287),
  /* template */
  __webpack_require__(2302),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-7229c083",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1191:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1978)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1298),
  /* template */
  __webpack_require__(2325),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-80c32664",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1194:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	data() {
		return {
			g: window.$,
			add: [null, null, '&nbsp;'],
			subtract: [null, null, '&nbsp;'],
			mult: [null, null, '&nbsp;'],
			div: [null, null, '&nbsp;']
		};
	},

	created() {
		// ＋
	},

	methods: {
		doAdd() {
			if ($.Util.isEmpty(this.add[0]) || $.Util.isEmpty(this.add[1])) {
				$.Msg.warning('请输入两个需要计算的数');
				return;
			}
			this.$set(this.add, 2, this.add[0] + this.add[1]);
		},

		doSubtract() {
			if ($.Util.isEmpty(this.subtract[0]) || $.Util.isEmpty(this.subtract[1])) {
				$.Msg.warning('请输入两个需要计算的数');
				return;
			}
			this.$set(this.subtract, 2, this.subtract[0] - this.subtract[1]);
		},

		doMult() {
			if ($.Util.isEmpty(this.mult[0]) || $.Util.isEmpty(this.mult[1])) {
				$.Msg.warning('请输入两个需要计算的数');
				return;
			}
			this.$set(this.mult, 2, this.mult[0] * this.mult[1]);
		},

		doDiv() {
			if ($.Util.isEmpty(this.div[0]) || $.Util.isEmpty(this.div[1])) {
				$.Msg.warning('请输入两个需要计算的数');
				return;
			}
			if (this.div[1] === 0) {
				$.Msg.warning('除数不能为0');
				return;
			}
			this.$set(this.div, 2, (this.div[0] / this.div[1]).toFixed(2));
		}
	}
});

/***/ }),

/***/ 1283:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	props: {
		defaultVal: {
			type: Number,
			required: false
		},
		afterConfirm: {
			type: Function,
			default() {
				return {};
			}
		}
	},

	data() {
		return {
			g: window.$,
			oldAmount: this.defaultVal,
			feeRate: null,
			newAmount: null,
			favRates: []
		};
	},

	created() {
		let ckVal = $.Util.cookie.get($.Conf.CookieKeys.DISCOUNT);
		if (ckVal) {
			this.favRates = ckVal.split(',');
		}
	},

	watch: {
		defaultVal(val, oldVal) {
			this.oldAmount = val;
		}
	},

	methods: {
		confirm() {
			this.calcNewAmount();
			if (this.newAmount) {
				if (this.afterConfirm) this.afterConfirm(this.newAmount);
			}
		},

		calcNewAmount() {
			if (this.feeRate) {
				if (!this.favRates.contains(this.feeRate)) {
					this.favRates.push(this.feeRate);
					let ckVal = this.favRates.join(',');
					if (this.favRates.length > 6) {
						this.favRates.shift();
					}
					$.Util.cookie.set($.Conf.CookieKeys.DISCOUNT, ckVal, 365);
				}
			}

			if (this.feeRate && this.oldAmount) {
				this.newAmount = $.Util.round(this.oldAmount * this.feeRate / 10);
			} else {
				this.newAmount = null;
			}
		},

		seletRate(val) {
			this.feeRate = val;
			this.calcNewAmount();
		}
	}
});

/***/ }),

/***/ 1284:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	props: {
		defaultVal: {
			type: Number,
			required: false
		},
		afterConfirm: {
			type: Function,
			default() {
				return {};
			}
		}
	},

	data() {
		return {
			g: window.$,
			oldAmount: this.defaultVal,
			feeRate: null,
			newAmount: null,
			favRates: []
		};
	},

	created() {
		let ckVal = $.Util.cookie.get($.Conf.CookieKeys.FEE_RATE);
		if (ckVal) {
			this.favRates = ckVal.split(',');
		}
	},

	watch: {
		defaultVal(val, oldVal) {
			this.oldAmount = val;
		}
	},

	methods: {
		confirm() {
			this.calcNewAmount();
			if (this.newAmount) {
				if (this.afterConfirm) this.afterConfirm(this.newAmount);
			}
		},

		calcNewAmount() {
			if (this.feeRate) {
				if (!this.favRates.contains(this.feeRate)) {
					this.favRates.push(this.feeRate);
					let ckVal = this.favRates.join(',');
					if (this.favRates.length > 6) {
						this.favRates.shift();
					}
					$.Util.cookie.set($.Conf.CookieKeys.FEE_RATE, ckVal, 365);
				}
			}

			if (this.feeRate && this.oldAmount) {
				this.newAmount = this.oldAmount - $.Util.round(this.oldAmount * this.feeRate / 100);
			} else {
				this.newAmount = null;
			}
		},

		seletRate(val) {
			this.feeRate = val;
			this.calcNewAmount();
		}
	}
});

/***/ }),

/***/ 1285:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	components: {},
	props: {
		memberCard: {
			type: Object,
			required: true
		}
	},
	data() {
		return {
			g: $,
			mcId: this.memberCard.mcId,
			tabName: null,
			statSum: null,
			cardUnitName: $.Dict.CardUnitName[this.memberCard.cardType],
			statSumChartData: [],
			statSumNames: [],
			valueCardChargeList: null,
			valueCardChargeCount: null,
			entryCheckinCount: null,
			entryCheckinList: null,
			groupLessonCount: null,
			groupLessonList: null,
			privateLessonCount: null,
			privateLessonList: null,
			venueBookingCount: null,
			venueBookingList: null,
			venueCheckinCount: null,
			venueCheckinList: null,
			chargeCount: null,
			chargeList: null,
			mallOrderList: null,
			mallOrderCount: null,
			venueBookingCancelLogList: null,
			venueBookingCancelLogCount: null,
			memberCardPaymentList: null,
			mplExtraPaymentList: null,
			mplExtraPaymentCount: null,
			shopPlStatList: null
		};
	},

	created() {
		this.statMemberCardConsume();
	},

	methods: {
		statMemberCardConsume() {
			$.Req.service($.SvName.MEMBER_CARD_CONSUME_STAT, { mcId: this.mcId }, ret => {
				this.statSum = ret.stat;

				if (ret.stat.costOfEntryCheckin) {
					let title = '入场签到消费 {0}{1}（{2}%）'.format(ret.stat.costOfEntryCheckin, this.cardUnitName, (100 * ret.stat.costOfEntryCheckin / ret.stat.costSum).toFixed(1));
					this.statSumNames.push(title);
					this.statSumChartData.push({ value: ret.stat.costOfEntryCheckin, name: title });
				}
				if (ret.stat.costOfGroupLesson) {
					let title = '团课消费 {0}{1}（{2}%）'.format(ret.stat.costOfGroupLesson, this.cardUnitName, (100 * ret.stat.costOfGroupLesson / ret.stat.costSum).toFixed(1));
					this.statSumNames.push(title);
					this.statSumChartData.push({ value: ret.stat.costOfGroupLesson, name: title });
				}
				if (ret.stat.costOfPrivateLesson) {
					let title = '私教课消费 {0}{1}（{2}%）'.format(ret.stat.costOfPrivateLesson, this.cardUnitName, (100 * ret.stat.costOfPrivateLesson / ret.stat.costSum).toFixed(1));
					this.statSumNames.push(title);
					this.statSumChartData.push({ value: ret.stat.costOfPrivateLesson, name: title });
				}
				if (ret.stat.costOfAccProduct) {
					let title = '记账商品消费 {0}{1}（{2}%）'.format(ret.stat.costOfAccProduct, this.cardUnitName, (100 * ret.stat.costOfAccProduct / ret.stat.costSum).toFixed(1));
					this.statSumNames.push(title);
					this.statSumChartData.push({ value: ret.stat.costOfAccProduct, name: title });
				}
				if (ret.stat.costOfAcc) {
					let title = '其他记账消费 {0}{1}（{2}%）'.format(ret.stat.costOfAcc, this.cardUnitName, (100 * ret.stat.costOfAcc / ret.stat.costSum).toFixed(1));
					this.statSumNames.push(title);
					this.statSumChartData.push({ value: ret.stat.costOfAcc, name: title });
				}
				if (ret.stat.costOfVenueBooking) {
					let title = '场地预约消费 {0}{1}（{2}%）'.format(ret.stat.costOfVenueBooking, this.cardUnitName, (100 * ret.stat.costOfVenueBooking / ret.stat.costSum).toFixed(1));
					this.statSumNames.push(title);
					this.statSumChartData.push({ value: ret.stat.costOfVenueBooking, name: title });
				}
				if (ret.stat.costOfVenueCheckin) {
					let title = '场地计时消费 {0}{1}（{2}%）'.format(ret.stat.costOfVenueCheckin, this.cardUnitName, (100 * ret.stat.costOfVenueCheckin / ret.stat.costSum).toFixed(1));
					this.statSumNames.push(title);
					this.statSumChartData.push({ value: ret.stat.costOfVenueCheckin, name: title });
				}
				if (ret.stat.costOfMallOrder) {
					let title = '微商城消费 {0}{1}（{2}%）'.format(ret.stat.costOfMallOrder, this.cardUnitName, (100 * ret.stat.costOfMallOrder / ret.stat.costSum).toFixed(1));
					this.statSumNames.push(title);
					this.statSumChartData.push({ value: ret.stat.costOfMallOrder, name: title });
				}
				if (ret.stat.venueBookingCancelFee) {
					let title = '场地预约取消扣费 {0}{1}（{2}%）'.format(ret.stat.venueBookingCancelFee, this.cardUnitName, (100 * ret.stat.venueBookingCancelFee / ret.stat.costSum).toFixed(1));
					this.statSumNames.push(title);
					this.statSumChartData.push({ value: ret.stat.venueBookingCancelFee, name: title });
				}
				if (ret.stat.payForCard) {
					let title = '储值卡充值消费 {0}{1}（{2}%）'.format(ret.stat.payForCard, this.cardUnitName, (100 * ret.stat.payForCard / ret.stat.costSum).toFixed(1));
					this.statSumNames.push(title);
					this.statSumChartData.push({ value: ret.stat.payForCard, name: title });
				}
				if (ret.stat.mplExtraCost) {
					let title = '私教课额外消费 {0}{1}（{2}%）'.format(ret.stat.mplExtraCost, this.cardUnitName, (100 * ret.stat.mplExtraCost / ret.stat.costSum).toFixed(1));
					this.statSumNames.push(title);
					this.statSumChartData.push({ value: ret.stat.mplExtraCost, name: title });
				}

				if (this.statSumChartData.length === 1) {
					if (ret.stat.costOfEntryCheckin) this.changeTab('entryCheckin');else if (ret.stat.costOfGroupLesson) this.changeTab('groupLesson');else if (ret.stat.costOfPrivateLesson) this.changeTab('privateLesson');else if (ret.stat.costOfAccProduct) this.changeTab('accProduct');else if (ret.stat.costOfAcc) this.changeTab('acc');else if (ret.stat.costOfVenueBooking) this.changeTab('venueBooking');else if (ret.stat.costOfVenueCheckin) this.changeTab('venueCheckin');else if (ret.stat.costOfMallOrder) this.changeTab('mall');else if (ret.stat.venueBookingCancelFee) this.changeTab('venueBookingCancelFee');else if (ret.stat.payForCard) this.changeTab('cardPayment');else if (ret.stat.mplExtraCost) this.changeTab('mplExtraCost');
				}
			}, true);
		},

		changeTab(tabName) {
			if (tabName === 'entryCheckin') {
				this.queryEntryCheckin();
			} else if (tabName === 'groupLesson') {
				this.queryMemberLesson();
			} else if (tabName === 'privateLesson') {
				this.queryMemberPrivateLesson();
			} else if (tabName === 'venueBooking') {
				this.queryVenueBooking();
			} else if (tabName === 'venueCheckin') {
				this.queryVenueCheckin();
			} else if (tabName === 'accProduct') {
				this.queryMemberValueCardCharge();
			} else if (tabName === 'mall') {
				this.queryMallOrder();
			} else if (tabName === 'acc') {
				this.queryAccCharge();
			} else if (tabName === 'venueBookingCancelFee') {
				this.queryVenueBookingCancelLog();
			} else if (tabName === 'cardPayment') {
				this.queryMemberCardPaymentList();
			} else if (tabName === 'mplExtraCost') {
				this.queryMplExtraPayment();
			}
		},

		queryEntryCheckin(page = null) {
			if (!page) this.entryCheckinCount = null;
			let args = { mcId: this.mcId, page: page, includeAllShops: true, memberId: this.memberCard.memberId };
			$.Req.service($.SvName.MEMBER_ENTRY_CHECKIN_QUERY, args, ret => {
				this.entryCheckinList = ret.mecList;
				if (!page) {
					this.entryCheckinCount = ret.count;
				}
				window.scrollTo(0, 0);
			}, true);
		},

		queryMemberLesson(page = null) {
			if (!page) this.groupLessonCount = null;
			let args = { mcId: this.mcId, page: page, includeAllShops: true };
			$.Req.service($.SvName.MEMBER_GROUP_LESSON_QUERY, args, ret => {
				this.groupLessonList = ret.memberLessonList;
				for (let l of this.groupLessonList) {
					l.lessonDate = l.lessonDate ? $.Util.formatDate(l.lessonDate) : null;
					if (l.beginTime) {
						l.lessonTimeDesc = "{0}~{1}".format($.Util.formatTime(l.beginTime), $.Util.formatTime(l.endTime));
					}
				}
				if (!page) {
					this.groupLessonCount = ret.count;
				}
				window.scrollTo(0, 0);
			}, true);
		},

		queryMemberPrivateLesson(page = null) {
			if (!page) this.privateLessonCount = null;
			let args = {
				mcId: this.mcId,
				includeAllShops: true,
				page: page
			};
			$.Req.service($.SvName.MEMBER_PRIVATE_LESSON_QUERY, args, ret => {
				this.privateLessonList = ret.memberPcLessonList;
				for (let l of this.privateLessonList) {
					l.lessonDate = $.Util.formatDate(l.lessonDate);
					l.lessonTimeDesc = "{0}~{1}".format($.Util.formatTime(l.beginTime), $.Util.formatTime(l.endTime));
				}
				if (!page) {
					this.privateLessonCount = ret.count;
					this.shopPlStatList = ret.shopPlStatList;
				}
				window.scrollTo(0, 0);
			}, true);
		},

		queryMemberValueCardCharge(page = null) {
			if (!page) this.valueCardChargeCount = null;
			let args = {
				refId: this.mcId,
				chargeFrom: 1,
				paymentChannel: 0,
				page: page
			};
			$.Req.service($.SvName.CHARGE_QUERY, args, ret => {
				this.valueCardChargeList = ret.chargeList;
				if (!this.valueCardChargePage) {
					this.valueCardChargeCount = ret.count;
				}
				window.scrollTo(0, 0);
			}, true);
		},

		queryVenueBooking(page = null) {
			if (!page) this.venueBookingCount = null;
			let args = {
				mcId: this.mcId,
				page: page
			};
			$.Req.service($.SvName.VENUE_AREA_BOOKING_QUERY, args, ret => {
				this.venueBookingList = ret.vabList;
				if (!page) {
					this.venueBookingCount = ret.count;
				}
				window.scrollTo(0, 0);
			}, true);
		},

		queryVenueCheckin(page = null) {
			if (!page) this.venueCheckinCount = null;
			let args = {
				mcId: this.mcId,
				page: page
			};
			$.Req.service($.SvName.VENUE_AREA_CHECKIN_QUERY, args, ret => {
				this.venueCheckinList = ret.vacList;
				if (!page) {
					this.venueCheckinCount = ret.count;
				}
				window.scrollTo(0, 0);
			}, true);
		},

		queryAccCharge(page = null) {
			if (!page) this.chargeCount = null;
			let args = {
				mcId: this.mcId,
				chargeFromList: [5],
				page: this.page
			};
			$.Req.service($.SvName.CHARGE_QUERY, args, ret => {
				this.chargeList = ret.chargeList;
				if (!page) this.chargeCount = ret.count;
			});
		},

		queryMallOrder(page = null) {
			if (!page) this.mallOrderCount = null;
			let args = {
				mcId: this.mcId,
				page: this.page
			};
			$.Req.service($.SvName.MALL_ORDER_QUERY, args, ret => {
				this.mallOrderList = ret.orderList;
				if (!page) this.mallOrderCount = ret.count;
			});
		},

		queryVenueBookingCancelLog(page = null) {
			if (!page) this.venueBookingCancelLogCount = null;
			let args = {
				mcId: this.mcId,
				ignoreFree: true
			};
			$.Req.service($.SvName.VENUE_AREA_BOOKING_CANCEL_LOG_QUERY, args, ret => {
				this.venueBookingCancelLogList = ret.logList;
				if (!page) this.venueBookingCancelLogCount = ret.count;
			});
		},

		queryMemberCardPaymentList() {
			let args = {
				chargeFromMcId: this.mcId
			};
			$.Req.service($.SvName.MEMBER_CARD_PAYMENT_QUERY, args, ret => {
				this.memberCardPaymentList = ret.memberCardPaymentList;
			});
		},

		queryMplExtraPayment(page = null) {
			if (!page) this.mplExtraPaymentCount = null;
			let args = {
				mcId: this.mcId,
				page: this.page
			};
			$.Req.service($.SvName.MPL_EXTRA_PAYMENT_QUERY, args, ret => {
				this.mplExtraPaymentList = ret.mplExtraPaymentList;
				if (!page) this.mplExtraPaymentCount = ret.count;
			});
		}
	},

	computed: {
		memberCardConsumeStatOption() {
			return {
				title: {
					text: '会员卡消费统计（共消费 {0} {1}）'.format(this.statSum.costSum, this.cardUnitName),
					x: 'center'
				},
				tooltip: {
					trigger: 'item',
					formatter: "{b}"
				},
				legend: {
					orient: 'vertical',
					x: 'left',
					data: this.statSumNames
				},
				toolbox: {
					show: true,
					feature: {
						mark: { show: true },
						dataView: { show: true, readOnly: false },
						magicType: {
							show: true,
							type: ['pie', 'funnel'],
							option: {
								funnel: {
									x: '25%',
									width: '50%',
									funnelAlign: 'left',
									max: 1548
								}
							}
						},
						restore: { show: true },
						saveAsImage: { show: true }
					}
				},
				calculable: true,
				series: [{
					name: '会员卡消费',
					type: 'pie',
					radius: '75%',
					center: ['50%', '55%'],
					data: this.statSumChartData
				}]
			};
		}
	}
});

/***/ }),

/***/ 1286:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_qrcode_vue__ = __webpack_require__(1104);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_help_vue__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_help_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

// pos




/* harmony default export */ __webpack_exports__["default"] = ({
  components: { ImgUpload: __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default.a, Help: __WEBPACK_IMPORTED_MODULE_2__components_help_vue___default.a, QrcodeVue: __WEBPACK_IMPORTED_MODULE_0_qrcode_vue__["a" /* default */] },
  props: {
    mcdId: {
      type: Number
    },
    memberId: {
      type: Number
    },
    memberCard: {
      type: Object
    },
    onSubmit: {
      type: Function,
      default() {
        return {};
      }
    }
  },

  data() {
    return {
      g: window.$,
      editMplTimePermit: $.Util.hasRoleFunc($.Dict.RoleFunc.EDIT_MPL_TIME.value),
      dict: {
        cardList: [],
        salesList: [],
        coachTypeList: null,
        coachList: null
      },
      memberNewCard: {
        cardId: "",
        cardType: null,
        paymentChannel: null,
        usableDays: null,
        hasExp: false,
        autoActiveCard: false,
        salesId: "",
        cardTimeType: 1,
        chargeFromMcId: null,
        createTime: null
      },
      requiredFileds: ["cardId", "usableAmount", "paymentAmount", "paymentChannel"],
      memberNewCardFormRule: {},
      futureDateOption: {
        disabledDate(date) {
          return date && date.valueOf() < Date.now() - 86400000;
        }
      },
      needCreateMoreCards: null,
      memberNewCardCount: null,
      memberValueCardList: null,
      now: new Date(),
      enableCreateTimeEdit: null,
      cardEndDateEditType: 1,
      memberCardDraftCreatePermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_CARD_DRAFT_CREATE.value, true),
      auditStaffList: [],
      memberCoachType: null,
      memberCoachId: null,
      imgUpload: {
        action: $.Conf.IMG_UPLOAD_URL,
        imgMaxWidth: 1024,
        defaultList: []
      },
      imgFileList: [],
      createMcSuccessDlg: null,
      createPcScheduleUrl: null,

      // pos
      isPosArg: false,
      cardMap: {},
      posTradeNoShow: false,
      posPayRole: $.Util.hasRoleFunc($.Dict.RoleFunc.POS_PAY.value),
      qrcodeTradeNoUrl: null,
      paymentAmount: null
    };
  },
  watch: {
    // pos
    "memberNewCard.cardId"(newValue) {
      if (!newValue) {
        this.cardMap = {};
        this.memberNewCard.paymentChannel = null;
        return;
      }
      $.Req.service($.SvName.CARD_QUERY, {
        queryType: 1,
        cardId: this.memberNewCard.cardId
      }, ret => {
        if (ret.cardList && ret.cardList.length) {
          let card = ret.cardList[0];
          if (card.isOfflineSaleForPos && !this.isPosArg) {
            this.memberNewCard.cardId = "";
            $.Dlg.info("该卡为强制POS机支付，您未开启POS机支付，请刷新重试！");
            return;
          }

          if (card.isOfflineSaleForPos && !this.posPayRole) {
            this.memberNewCard.cardId = "";
            $.Dlg.info("您没有POS机支付权限，请刷新重试！");
            return;
          }
          this.cardMap = card;
          if (this.cardMap && this.cardMap.isOfflineSaleForPos) {
            this.memberNewCard.paymentChannel = 8;
          }
        }
      });
    }
  },

  created() {
    // pos
    this.shopArgQuery();

    $.Util.addRequiredFieldsRules(this.memberNewCardFormRule, this.requiredFileds);

    // query cards
    $.Req.service($.SvName.CARD_QUERY, { queryType: 2, status: 0 }, (ret, systime) => {
      this.dict.cardList = ret.cardList;
      for (let c of this.dict.cardList) {
        c.cardTypeName = $.Dict.CardType[c.cardType];
      }
      this.now = Date.new(systime);
    });
    if (this.memberCardDraftCreatePermit) {
      this.queryAuditStaff();
    }
    this.memberNewCard = this.memberCard ? this.memberCard : {
      cardId: "",
      cardType: null,
      paymentChannel: null,
      usableDays: null,
      hasExp: false,
      autoActiveCard: false,
      salesId: "",
      cardTimeType: 1,
      chargeFromMcId: null,
      createTime: null,
      createUid: $.data.user.uid
    };
    // query staff as sales
    $.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
      this.dict.salesList = ret.staffList;
    });

    this.queryMemberValueCards();
    this.queryCoachTypeList();
    this.queryCoachList();
  },

  methods: {
    queryAuditStaff() {
      let args = {
        roleFuncId: $.Dict.RoleFunc.MEMBER_CARD_DRAFT_CHECK.value,
        needBaseInfo: true
      };
      $.Req.service($.SvName.STAFF_QUERY, args, ret => {
        this.auditStaffList = ret.staffList;
      });
    },

    handleCardSelect(cardId) {
      for (let c of this.dict.cardList) {
        if (c.cardId === this.memberNewCard.cardId) {
          this.memberNewCard.cardClass = c.cardClass;
          this.memberNewCard.cardType = c.cardType;
          this.memberNewCard.usableAmount = c.defaultAmount;
          this.memberNewCard.paymentAmount = c.defaultAmount;
          this.memberNewCard.expDateDisable = c.expDateDisable;
          this.memberNewCard.usableDays = c.defaultDays;
          this.memberNewCard.cardTimeType = c.cardTimeType;

          if (c.defaultDays && !this.memberNewCard.autoActiveCard) {
            //this.memberNewCard.autoActiveCard = true;
            this.memberNewCard.beginDate = new Date();
            if (c.defaultDays) {
              this.memberNewCard.endDate = new Date(new Date().getTime() + 3600000 * 24 * c.defaultDays);
            } else {
              this.memberNewCard.endDate = null;
            }
          }
          if (c.cardType === 2 || c.cardType === 4) {
            this.memberNewCard.usableTimes = c.defaultTimes;
          }
          this.calcCardEndDate();
          break;
        }
      }
    },

    handleSubmit(status) {
      this.$refs.memberNewCard.validate(valid => {
        if (!valid) {
          $.Msg.error($.Lang.SUBMIT_ERR);
          return;
        }
        if (this.memberNewCard.usableDays && this.memberNewCard.autoActiveCard && !this.memberNewCard.beginDate) {
          $.Msg.error("请设置开卡日期");
          return;
        }
        if (this.memberNewCard.cardType === 2) {
          if ($.Util.isEmpty(this.memberNewCard.usableTimes)) {
            $.Msg.error("请输入使用次数");
            return;
          }
          if (this.memberNewCard.usableTimes < 0) {
            $.Msg.error("使用次数不能小于0");
            return;
          }
        } else if (this.memberNewCard.cardType === 4) {
          if (!this.memberNewCard.usableTimes) {
            $.Dlg.error("请输入使用时间");
            return;
          }
          if (this.memberNewCard.usableTimes < 0) {
            $.Dlg.error("使用时间不能小于0");
            return;
          }
        }
        if (this.needCreateMoreCards) {
          if ($.Util.isEmpty(this.memberNewCardCount)) {
            $.Msg.error("请输入批量创建会员卡的数量");
            return;
          }
          if (this.memberNewCardCount < 2) {
            $.Msg.error("批量创建会员卡的数量不能小于2");
            return;
          }
        }
        if (!this.memberNewCard.autoActiveCard) {
          this.memberNewCard.beginDate = null;
        }
        if (this.memberNewCard.paymentChannel === 0) {
          if (!this.memberNewCard.chargeFromMcId) {
            $.Msg.error("请选择一个储值卡");
            return;
          }
        } else {
          this.memberNewCard.chargeFromMcId = null;
        }
        if (this.memberNewCard.createTime && this.now.compareDatePart(this.memberNewCard.createTime) < 0) {
          $.Dlg.error("充值日期不能大于今日");
          return;
        }

        this.createMemberCard(status);
      });
    },

    createMemberCard(status) {
      if (!this.memberNewCard.usableDays) {
        this.memberNewCard.beginDate = null;
        this.memberNewCard.endDate = null;
      }

      let args = {
        memberId: this.memberId,
        memberNewCard: this.memberNewCard
      };

      if (this.needCreateMoreCards && this.memberNewCardCount > 1) {
        args.memberNewCardCount = this.memberNewCardCount;
      }

      if (this.memberCardDraftCreatePermit) {
        args.actionType = this.mcdId ? "U" : "I";
        args.memberNewCard.mcdId = this.mcdId ? this.mcdId : "";
        args.memberNewCard.memberId = this.memberId;
        args.memberNewCard.status = status;
        $.Req.service($.SvName.MEMBER_CARD_DRAFT_SAVE, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          if (this.mcdId) {
            this.onSubmit();
          } else {
            this.$router.push("/member-card-draft-query");
          }
        }, true);
      } else {
        if (this.memberNewCard.cardClass !== 0 && this.memberCoachId) {
          args.memberCoachType = this.memberCoachType;
          args.memberCoachId = this.memberCoachId;
        }
        if (!$.Util.isEmptyArray(this.imgFileList)) {
          let imgNames = [];
          for (let img of this.imgFileList) imgNames.push(img.name);
          args.memberNewCard.attachmentImgs = imgNames.join(",");
        }

        // pos
        let url = $.SvName.MEMBER_CARD_CREATE;
        if (this.memberNewCard.paymentChannel == 8) {
          url = $.SvName.CARD_POS_ORDER_SAVE;
          args.apiType = 2;
        }
        if (this.qrcodeTradeNoUrl) {
          args.tradeNo = this.qrcodeTradeNoUrl;
        }

        $.Req.service(url, args, ret => {
          // pos
          if (this.memberNewCard.paymentChannel == 8) {
            this.posTradeNoShow = true;
            this.qrcodeTradeNoUrl = ret.tradeNo;
            this.paymentAmount = this.memberNewCard.paymentAmount;
            if (args.tradeNo) {
              $.Msg.success("支付订单修改成功！");
            } else {
              $.Msg.success("支付订单创建成功！");
            }
          } else {
            if (this.memberNewCard.cardClass === 2) {
              // 私教卡
              this.createPcScheduleUrl = this.getPcScheduleCreateUrl(this.memberId, this.memberNewCard.cardId);
            } else {
              $.Msg.success($.Lang.OPT_SUCCESS, null, false);
              this.closeThisDlg();
            }
          }
        }, true);
      }
    },

    getPcScheduleCreateUrl(memberId, cardId) {
      let usableTimes = this.memberNewCard.cardType === 2 ? this.memberNewCard.usableTimes : 0;
      let avgPrice = usableTimes ? $.Util.round(this.memberNewCard.paymentAmount / this.memberNewCard.usableTimes) : 0;
      let lessonDates = "0";
      if (this.memberNewCard.beginDate) {
        let endDate = null;
        if (this.memberNewCard.usableDays) {
          endDate = Date.new(this.memberNewCard.beginDate).addDays(this.memberNewCard.usableDays);
        } else if (this.memberNewCard.endDate) {
          endDate = this.memberNewCard.endDate;
        }
        if (endDate) {
          lessonDates = "{0}_{1}".format($.Util.formatDate(this.memberNewCard.beginDate), $.Util.formatDate(endDate));
        }
      }

      return "/private-course-schedule-create/{0}/{1}/{2}/{3}?chooseCardId={4}".format(memberId, usableTimes, avgPrice, lessonDates, cardId);
    },

    closeThisDlg() {
      //this.$refs['memberNewCard'].resetFields();
      if (this.onSubmit) this.onSubmit();
    },

    queryMemberValueCards() {
      let args = { memberId: this.memberId };
      $.Req.service($.SvName.MEMBER_VALUE_CARD_QUERY, args, ret => {
        this.memberValueCardList = ret.memberCards;
      });
    },

    editCreateTime(val) {
      this.enableCreateTimeEdit = true;
      this.memberNewCard.createTime = this.now;
    },

    calcCardEndDate() {
      if (this.cardEndDateEditType === 1) {
        // 根据天数编辑
        if (this.memberNewCard.usableDays && this.memberNewCard.beginDate) {
          this.memberNewCard.endDate = $.Util.formatDate(Date.new(this.memberNewCard.beginDate).addDays(this.memberNewCard.usableDays));
        } else {
          this.memberNewCard.endDate = null;
        }
      } else {
        this.calcCardUsableDays();
      }
    },

    calcCardUsableDays() {
      if (this.memberNewCard.beginDate && this.memberNewCard.endDate) {
        this.memberNewCard.usableDays = $.Util.calcDateDiffDays(this.memberNewCard.endDate, this.memberNewCard.beginDate);
      }
    },

    queryCoachTypeList() {
      $.Req.service($.SvName.COACH_TYPE_QUERY, { isBaseInfo: true }, ret => {
        this.dict.coachTypeList = ret.coachTypeList;
      });
    },

    queryCoachList() {
      $.Req.queryCoachBase(null, coachList => {
        this.dict.coachList = coachList;
      });
    },

    handleImgUploadSuccess(res, file) {
      file.url = res.data.url;
      file.name = res.data.name;
      this.imgFileList.push(file);
    },

    handleImgRemove(file, fileList) {
      this.imgFileList.splice(this.imgFileList.indexOf(file), 1);
    },

    // pos
    shopArgQuery(callback) {
      let args = { typeId: $.Dict.ShopArg.POS_ENABLE };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
        if (ret.value === "false" || !ret.value) {
          this.isPosArg = false;
        } else if (ret.value === "true") {
          this.isPosArg = true;
        }
        if (callback) {
          callback();
        }
      });
    }
  }
});

/***/ }),

/***/ 1287:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_qrcode_vue__ = __webpack_require__(1104);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
  components: { ImgUpload: __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default.a, QrcodeVue: __WEBPACK_IMPORTED_MODULE_0_qrcode_vue__["a" /* default */] },
  props: {
    mcpdId: {
      type: Number
    },
    memberId: {
      type: Number
    },
    mcpDraft: {
      type: Object
    },
    selectCard: {
      type: Object
    },
    onSubmit: {
      type: Function,
      default() {
        return {};
      }
    }
  },

  data() {
    return {
      g: window.$,
      editable: true,
      editMplTimePermit: $.Util.hasRoleFunc($.Dict.RoleFunc.EDIT_MPL_TIME.value),
      cardPayment: {
        cardId: null,
        usableAmount: null,
        paymentAmount: null,
        usableDays: null,
        usableTimes: null,
        paymentChannel: null,
        remark: null,
        hasExp: null,
        beginDate: new Date(),
        endDate: null,
        createTime: null,
        createUid: $.data.user.uid
      },
      now: new Date(),
      requiredFileds: ["usableAmount", "paymentAmount", "paymentChannel"],
      cardPaymentFormRule: {},
      salesList: null,
      processing: false,
      dateEditType: 1, // 1-使用天数，2-到期日期
      memberValueCardList: null,
      enableCreateTimeEdit: null,
      cardList: null,
      showCardList: false,
      memberCardPaymentDraftCreatePermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_CARD_DRAFT_CREATE.value, true),
      auditStaffList: [],
      creatPaymentType: 1,
      imgUpload: {
        action: $.Conf.IMG_UPLOAD_URL,
        imgMaxWidth: 1024,
        defaultList: []
      },
      imgFileList: [],
      // pos
      isPosArg: false,
      cardMap: {},
      posPayRole: $.Util.hasRoleFunc($.Dict.RoleFunc.POS_PAY.value),
      qrcodeTradeNoUrl: null,
      paymentAmount: null,
      posTradeNoShow: false
    };
  },
  watch: {
    // pos
    "cardPayment.cardId"(newValue) {
      if (this.mcpDraft) return;
      if (!newValue) {
        this.cardMap = {};
        this.cardPayment.paymentChannel = null;
        return;
      }
      $.Req.service($.SvName.CARD_QUERY, {
        queryType: 1,
        cardId: newValue
      }, (ret, systime) => {
        if (ret.cardList && ret.cardList.length) {
          let card = ret.cardList[0];

          this.cardPayment.usableAmount = card.defaultAmount;
          this.cardPayment.paymentAmount = card.defaultAmount;
          this.cardPayment.usableDays = card.defaultDays;
          this.cardPayment.usableTimes = card.defaultTimes;
          this.cardPayment.hasExp = this.selectCard.hasExp;
          this.now = Date.new(systime);

          if (card.isOfflineSaleForPos && !this.isPosArg) {
            this.cardPayment.cardId = "";
            $.Dlg.info("该卡为强制POS机支付，您未开启POS机支付，请刷新重试！");
            return;
          }

          if (card.isOfflineSaleForPos && !this.posPayRole) {
            this.cardPayment.cardId = "";
            $.Dlg.info("您没有POS机支付权限，请刷新重试！");
            return;
          }
          this.cardMap = card;
          if (this.cardMap && this.cardMap.isOfflineSaleForPos) {
            this.cardPayment.paymentChannel = 8;
          }
        }
      });
    }
  },
  created() {
    $.Util.addRequiredFieldsRules(this.cardPaymentFormRule, this.requiredFileds);
    this.cardPayment.cardId = this.selectCard.cardId;

    // pos
    this.shopArgQuery();

    // query staff as sales
    $.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
      this.salesList = ret.staffList;
    });

    if (this.mcpDraft) {
      this.selectCard.cardName = this.mcpDraft.cardName;
      $.Util.copyAttributes(this.mcpDraft, this.cardPayment);
      if (this.memberCardPaymentDraftCreatePermit && !this.cardPayment.status && this.cardPayment.createUid === $.data.user.uid) {
        this.editable = true;
      } else {
        this.editable = false;
      }
    }

    this.queryCardList();
    this.queryMemberValueCards();
    if (this.memberCardPaymentDraftCreatePermit) {
      this.queryAuditStaff();
    }
  },

  methods: {
    shopArgQuery(callback) {
      let args = { typeId: $.Dict.ShopArg.POS_ENABLE };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
        if (ret.value === "false" || !ret.value) {
          this.isPosArg = false;
        } else if (ret.value === "true") {
          this.isPosArg = true;
        }
        if (callback) {
          callback();
        }
      });
    },
    queryCardList() {
      // query cards
      $.Req.service($.SvName.CARD_QUERY, { queryType: 2, status: 0 }, ret => {
        this.cardList = ret.cardList;
      });
    },

    queryMemberValueCards() {
      let args = { memberId: this.selectCard.memberId };
      $.Req.service($.SvName.MEMBER_VALUE_CARD_QUERY, args, ret => {
        this.memberValueCardList = ret.memberCards;
      });
    },

    queryAuditStaff() {
      let args = {
        roleFuncId: $.Dict.RoleFunc.MEMBER_CARD_DRAFT_CHECK.value,
        needBaseInfo: true
      };
      $.Req.service($.SvName.STAFF_QUERY, args, ret => {
        this.auditStaffList = ret.staffList;
      });
    },

    handleSubmit(status) {
      if (!this.selectCard.mcId) {
        alert("Missing mcId");
        return;
      }

      this.cardPayment.mcId = this.selectCard.mcId;
      this.cardPayment.hasExp = this.cardPayment.usableDays && this.cardPayment.usableDays > 0;
      this.cardPayment.memberId = this.selectCard.memberId;
      this.$refs.cardPayment.validate(valid => {
        if (!valid) {
          $.Msg.error($.Lang.SUBMIT_ERR);
          return;
        }

        if (this.selectCard.cardType === 2) {
          if ($.Util.isEmpty(this.cardPayment.usableTimes)) {
            $.Msg.error("充值次数不能为空");
            return;
          }
          if (this.cardPayment.usableTimes < 0) {
            if (this.cardPayment.usableAmount > 0) {
              $.Dlg.warning("充值次数为负数时，充值金额不能大于0");
              return;
            }
            if (this.cardPayment.paymentAmount > 0) {
              $.Dlg.warning("充值次数为负数时，实收金额不能大于0");
              return;
            }
          }
        }
        if (this.dateEditType === 2) {
          if (!this.cardPayment.beginDate) {
            $.Msg.error("请输入开始日期");
            return;
          }
          if (!this.cardPayment.endDate) {
            $.Msg.error("请输入结束日期");
            return;
          }
        }
        if (this.cardPayment.createTime && this.now.compareDatePart(this.cardPayment.createTime) < 0) {
          $.Dlg.error("充值日期不能大于今日");
          return;
        }

        let msg = this.creatPaymentType === 1 ? "您确定为此卡充值吗？" : "您确定退卡吗？";
        if (!confirm("{0} 请检查无误后再点击 “确定”".format(msg))) {
          return;
        }
        if (this.cardPayment.paymentChannel === 0) {
          if (!this.cardPayment.chargeFromMcId) {
            $.Msg.error("请选择一个储值卡");
          }
        } else {
          this.cardPayment.chargeFromMcId = null;
        }
        if (this.processing) {
          $.Msg.info("正在处理中...");
          return;
        }
        this.processing = true;
        if (this.dateEditType === 1) {
          this.cardPayment.beginDate = null;
          this.cardPayment.endDate = null;
          this.cardPayment.expBeginDate = null;
          this.cardPayment.expEndDate = null;
        } else {
          this.cardPayment.expBeginDate = this.cardPayment.beginDate;
          this.cardPayment.expEndDate = this.cardPayment.endDate;
          this.cardPayment.usableDays = $.Util.calcDateDiffDays(this.cardPayment.endDate, this.cardPayment.beginDate);
        }

        let args = { memberCardPayment: this.cardPayment };
        if (this.memberCardPaymentDraftCreatePermit) {
          if (!this.cardPayment.auditStaffId) {
            $.Msg.error("请选择审核人员");
            this.processing = false;
            return;
          }

          args.actionType = this.mcpdId ? "U" : "I";
          args.memberCardPayment.mcpdId = this.mcpdId ? this.mcpdId : "";
          args.memberCardPayment.memberId = this.memberId;
          args.memberCardPayment.status = status;
          $.Req.service($.SvName.MEMBER_CARD_PAYMENT_DRAFT_SAVE, args, ret => {
            $.Dlg.success($.Lang.OPT_SUCCESS);
            if (this.mcpdId) {
              this.onSubmit();
            } else {
              this.$router.push("/member-card-payment-draft-query");
            }
          });
        } else {
          if (this.creatPaymentType === 2) args.isRefund = true;
          if (!$.Util.isEmptyArray(this.imgFileList)) {
            let imgNames = [];
            for (let img of this.imgFileList) imgNames.push(img.name);
            args.memberCardPayment.attachmentImgs = imgNames.join(",");
          }

          // pos
          let url = $.SvName.MEMBER_CARD_PAYMENT_CREATE;
          if (this.cardPayment.paymentChannel == 8) {
            url = $.SvName.CARD_POS_ORDER_SAVE;
            args.apiType = 3;
          }
          if (this.qrcodeTradeNoUrl) {
            args.tradeNo = this.qrcodeTradeNoUrl;
          }

          $.Req.service(url, args, ret => {
            // pos
            if (this.cardPayment.paymentChannel == 8) {
              this.posTradeNoShow = true;
              this.qrcodeTradeNoUrl = ret.tradeNo;
              this.paymentAmount = this.cardPayment.paymentAmount;
              if (args.tradeNo) {
                $.Msg.success("支付订单修改成功！");
              } else {
                $.Msg.success("支付订单创建成功！");
              }
            } else {
              this.processing = false;
              $.Msg.success($.Lang.OPT_SUCCESS, null, false);
              if (this.onSubmit) this.onSubmit();
            }
          }, true, err => {
            this.processing = false;
            alert(err);
          });
        }
      });
    },

    editCreateTime(val) {
      this.enableCreateTimeEdit = true;
      this.cardPayment.createTime = this.now;
    },

    handleCardSelect(cardId) {
      for (let c of this.cardList) {
        if (c.cardId === this.cardPayment.cardId) {
          if (c.defaultAmount) {
            this.cardPayment.usableAmount = c.defaultAmount;
            this.cardPayment.paymentAmount = c.defaultAmount;
          }
          this.cardPayment.usableDays = c.defaultDays;
          this.cardPayment.cardTimeType = c.cardTimeType;
          break;
        }
      }
    },

    setMemberCardRefundData() {
      if (this.selectCard.beginDate) {
        let beginDate = this.selectCard.beginDate,
            endDate = this.selectCard.endDate,
            leftDays;
        let today = new Date();
        if (Date.new(beginDate).compareDatePart(today) <= 0) leftDays = Date.new(endDate).subtract(today);else leftDays = Date.new(endDate).subtract(Date.new(beginDate));

        leftDays = leftDays < 0 ? 0 : leftDays;
        this.cardPayment.usableDays = leftDays;
      }
      if (this.selectCard.cardType == 1) {
        if (this.cardPayment.usableDays && this.selectCard.unitPrice) {
          this.cardPayment.paymentAmount = $.Util.round((this.cardPayment.usableDays * this.selectCard.unitPrice).toFixed(2));
        }
      } else if (this.selectCard.cardType == 2 || this.selectCard.cardType == 4) {
        this.cardPayment.usableTimes = this.selectCard.currentTimes;
        this.cardPayment.paymentAmount = $.Util.round((this.cardPayment.usableTimes * this.selectCard.unitPrice).toFixed(2));
      } else if (this.selectCard.cardType == 3) {
        this.cardPayment.usableAmount = this.selectCard.currentAmount;
        this.cardPayment.paymentAmount = $.Util.round((this.cardPayment.usableAmount * this.selectCard.cardTotalPayment / this.selectCard.cardTotalAmount).toFixed(2));
      }

      if (this.selectCard.cardType !== 3) {
        this.cardPayment.usableAmount = $.Util.round((this.cardPayment.paymentAmount * this.selectCard.cardTotalAmount / this.selectCard.cardTotalPayment).toFixed(2));
      }
    },

    handleImgUploadSuccess(res, file) {
      file.url = res.data.url;
      file.name = res.data.name;
      this.imgFileList.push(file);
    },

    handleImgRemove(file, fileList) {
      this.imgFileList.splice(this.imgFileList.indexOf(file), 1);
    }
  }
});

/***/ }),

/***/ 1288:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
  components: {},
  props: {
    mcp: {
      type: Object,
      required: true
    },
    afterConfirm: {
      type: Function,
      default() {
        return {};
      }
    }
  },
  data() {
    return {
      salesList: null,
      salesAmountList: [{ salesId: null, salesAmount: null, rate: null }, { salesId: null, salesAmount: null, rate: null }, { salesId: null, salesAmount: null, rate: null }, { salesId: null, salesAmount: null, rate: null }],
      sumAmount: 0,
      salesMap: {}
    };
  },

  created() {
    this.querySales();
  },

  methods: {
    querySales() {
      // query staff as sales
      $.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
        this.salesList = ret.staffList;
        for (let s of this.salesList) {
          this.salesMap[s.staffId] = s.name;
        }

        if (this.mcp.salesConfList) {
          this.salesAmountList = [];
          let paymentAmount = this.mcp.paymentAmount;
          for (let c of this.mcp.salesConfList) {
            let items = c.split(':');
            let salesId = parseInt(items[0]);
            let salesAmount = parseInt(items[2]);
            this.salesAmountList.push({
              salesId: salesId, salesAmount: salesAmount, rate: (100 * salesAmount / paymentAmount).toFixed(2)
            });
          }
          this.calcSum();
        }
      });
    },

    addConf() {
      this.salesAmountList.push({ salesId: null, salesAmount: null });
    },

    changeSalesAmount(idx) {
      this.salesAmountList[idx].rate = (100 * this.salesAmountList[idx].salesAmount / this.mcp.paymentAmount).toFixed(2);
      this.calcSum();
    },

    calcSum() {
      let sum = 0;
      for (let s of this.salesAmountList) {
        if (s.salesAmount && s.salesId) {
          sum += s.salesAmount;
        }
      }
      this.sumAmount = sum;
    },

    submit() {
      if (this.sumAmount > this.mcp.paymentAmount) {
        $.Msg.error('销售总业绩不能大于总销售额');
        return;
      }

      let confList = [];
      let salesConfList = [];
      for (let s of this.salesAmountList) {
        if (s.salesAmount && s.salesId) {
          confList.push(s.salesId + ':' + s.salesAmount);
          let salesName = this.salesMap[s.salesId];
          salesConfList.push(s.salesId + ':' + salesName + ':' + s.salesAmount);
        }
      }
      let salesConfStr = confList.join(',');
      if (this.mcp.mcpId) {
        let args = {
          salesConf: salesConfStr,
          mcpId: this.mcp.mcpId
        };
        $.Req.service($.SvName.MEMBER_CARD_PAYMENT_SALES_SAVE, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.afterConfirm(salesConfStr, salesConfList);
        });
      } else {
        this.afterConfirm(salesConfStr, salesConfList);
      }
    }
  }
});

/***/ }),

/***/ 1289:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ __webpack_exports__["default"] = ({
	components: {},
	props: {
		mcId: {
			type: Number,
			required: true
		}
	},
	data() {
		return {
			g: $,
			cardTransferFromLogList: null,
			cardTransferToLogList: null
		};
	},

	created() {
		this.queryMemberCardTransferLog(this.mcId);
	},

	methods: {
		queryMemberCardTransferLog(mcId) {
			let args = {
				fromMcId: mcId
			};
			$.Req.service($.SvName.MEMBER_TRANSFER_CARD_LOG_QUERY, args, ret => {
				this.cardTransferFromLogList = ret.logList;
			});

			args = {
				toMcId: mcId
			};
			$.Req.service($.SvName.MEMBER_TRANSFER_CARD_LOG_QUERY, args, ret => {
				this.cardTransferToLogList = ret.logList;
			}, true);
		}
	}
});

/***/ }),

/***/ 1290:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_help__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: {
		Help: __WEBPACK_IMPORTED_MODULE_0__components_help___default.a
	},
	props: {
		memberCard: {
			type: Object,
			required: true
		},
		afterSubmit: {
			type: Function,
			default() {
				return {};
			}
		}
	},

	data() {
		return {
			g: window.$,
			transferMember: {
				mcId: this.memberCard.mcId,
				phoneNo: null,
				memberId: null,
				name: null,
				sex: null,
				coachId: null,
				advisorId: null,
				remark: null,
				transferFee: null,
				source: null,
				cardNo: null,
				transferFeePayChannel: null,
				transferRemark: null,
				transferAsNewCard: false,
				transferValue: null,
				isAutoOpenCard: true,
				toMcId: null
			},
			initMaxMcAmount: null,
			transferAll: true,
			dict: {
				cardList: [],
				salesList: [],
				advisorList: [],
				coachList: [],
				custSourceList: []
			},
			memberCardList: null
		};
	},

	created() {
		if (this.memberCard.cardType === 1) {
			this.initMaxMcAmount = this.memberCard.leftDays;
			this.transferMember.transferValue = this.memberCard.leftDays;
		} else if (this.memberCard.cardType === 2 || this.memberCard.cardType === 4) {
			this.initMaxMcAmount = this.memberCard.currentTimes;
			this.transferMember.transferValue = this.memberCard.currentTimes;
		} else if (this.memberCard.cardType === 3) {
			this.initMaxMcAmount = this.memberCard.currentAmount;
			this.transferMember.transferValue = this.memberCard.currentAmount;
		}

		// query cust_source
		$.Req.service($.SvName.CUST_SOURCE_QUERY, { isBaseInfo: true }, ret => {
			this.dict.custSourceList = ret.custSourceList;
		});

		// query coach
		$.Req.service($.SvName.COACH_BASE_QUERY, {}, ret => {
			this.dict.coachList = ret.coachList;
		});

		// query staff as advisor
		$.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true, sysRid: $.Dict.SysRole.ADVISOR }, ret => {
			this.dict.advisorList = ret.staffList;
		});
	},

	methods: {
		queryMemberByPhone() {
			if (this.transferMember.phoneNo) {
				if (!$.Util.validatePhoneNo(this.transferMember.phoneNo)) {
					$.Msg.error('手机号格式错误');
					return;
				}

				$.Req.service($.SvName.MEMBER_BASE_QUERY, { phoneNo: this.transferMember.phoneNo }, ret => {
					if (ret.member && ret.member.memberId) {
						if (ret.member.sex !== null) ret.member.sex = ret.member.sex ? 1 : 0;
						this.transferMember.memberId = ret.member.memberId;
						this.transferMember.name = ret.member.name;
						this.transferMember.sex = ret.member.sex;

						if (ret.member.memberId === this.memberCard.memberId) {
							// 转卡给自己，查询名下所有同卡种卡
							let args = { cardId: this.memberCard.cardId, memberId: this.memberCard.memberId };
							$.Req.service($.SvName.MEMBER_CARD_QUERY, args, r => {
								this.memberCardList = [];
								for (let mc of r.memberCardList) {
									if (mc.mcId !== this.memberCard.mcId) this.memberCardList.push(mc);
								}
							});
						}
					} else {
						this.transferMember.memberId = null;
						this.transferMember.name = null;
						this.transferMember.sex = null;
					}
				});
			} else {
				this.transferMember.memberId = null;
			}
		},

		submitTransferCard() {
			if (!this.transferMember.phoneNo) {
				$.Msg.error('请输入手机号');
				return;
			}
			if (!$.Util.validatePhoneNo(this.transferMember.phoneNo)) {
				$.Msg.error('手机号格式错误');
				return;
			}

			let msg = '确定要转让会员卡【{0}】给会员【{1}（{2}）】吗？'.format(this.memberCard.cardName, this.transferMember.name, this.transferMember.phoneNo);
			if (!this.transferMember.memberId) {
				msg += "<br/><br/>提交后系统将自动创建新会员，并将此卡转到新会员名下。";

				if (!this.transferMember.name) {
					$.Msg.error('请输入姓名');
					return;
				}
				if ($.Util.isEmpty(this.transferMember.sex)) {
					$.Msg.error('请输入性别');
					return;
				}
				if (!this.transferMember.source) {
					$.Msg.error('请输入客户来源');
					return;
				}
			}
			if (this.transferAll) {
				this.transferMember.transferValue = null;
			} else if (!this.transferMember.transferValue || this.transferMember.transferValue < 0) {
				$.Msg.error('请输入正确的转出额');
				return;
			} else if (this.transferMember.transferValue > this.initMaxMcAmount) {
				$.Msg.error('转出额不能大于总剩余额');
				return;
			}
			if (this.transferMember.memberId == this.memberCard.memberId) {
				if (!$.Util.isEmptyArray(this.memberCardList) && !this.transferMember.toMcId) {
					$.Msg.error('请选择一张名下其它卡');
					return;
				}
			}

			$.Dlg.confirm(msg, yes => {
				$.Req.service($.SvName.MEMBER_CARD_TRANSFER, this.transferMember, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					if (this.afterSubmit) this.afterSubmit();
				});
			});
		}
	}
});

/***/ }),

/***/ 1291:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_help_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
  components: { Help: __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default.a },
  props: {
    mcId: {
      type: Number,
      required: true
    },
    onSubmit: {
      type: Function,
      default() {
        return {};
      }
    },
    onClose: {
      type: Function,
      default() {
        return {};
      }
    }
  },

  data() {
    return {
      g: window.$,
      initCardId: null,
      dict: {
        cardList: [],
        salesList: []
      },
      isLoadData: false,
      memberCard: {
        mcpId: null,
        cardId: null,
        cardType: null,
        usableAmount: null,
        usableDays: null,
        usableTimes: null,
        paymentChannel: null,
        beginDate: null,
        endDate: null,
        paymentAmount: null,
        limitBeginDate: null,
        hasExp: false,
        salesId: null,
        remark: null,
        changeRemark: null,
        cardTimeType: 1
      },
      dateEditType: 1, // 1-使用天数，2-到期日期
      requiredFileds: ["usableAmount", "paymentAmount", "paymentChannel", "changeRemark"],
      memberCardFormRule: {},
      futureDateOption: {
        disabledDate(date) {
          return date && date.valueOf() < Date.now() - 86400000;
        }
      },
      cardLeftDays: null,
      cardTotalDays: null,
      prePaymentAmount: null,
      showForm: false
    };
  },

  created() {
    $.Util.addRequiredFieldsRules(this.memberCardFormRule, this.requiredFileds);

    // query cards
    $.Req.service($.SvName.CARD_QUERY, { queryType: 2, status: 0 }, ret => {
      this.dict.cardList = ret.cardList;
      for (let c of this.dict.cardList) {
        c.cardTypeName = $.Dict.CardType[c.cardType];
      }
      this.queryMemberCardForUpdate();
    });

    // query staff as sales
    $.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
      this.dict.salesList = ret.staffList;
    });
  },

  methods: {
    queryMemberCardForUpdate() {
      let args = { mcId: this.mcId };
      $.Req.service($.SvName.MEMBER_CARD_QUERY_FOR_UPDATE, args, ret => {
        this.isLoadData = true;
        this.prePaymentAmount = ret.memberCard.paymentAmount;
        $.Util.copyAttributes(ret.memberCard, this.memberCard);
        let mcBeginDate = ret.memberCard.beginDate;
        let mcEndDate = ret.memberCard.endDate;
        this.calcCardDays(mcBeginDate, mcEndDate);
      }, true, err => {
        alert(err);
      });
    },

    handleSubmit() {
      this.$refs.memberCard.validate(valid => {
        if (!valid) {
          $.Msg.error($.Lang.SUBMIT_ERR);
          return;
        }
        if (this.dateEditType === 2) {
          if (!this.memberCard.beginDate) {
            $.Msg.error("请设置开卡日期");
            return;
          }
          if (!this.memberCard.endDate) {
            $.Msg.error("请设置到期日期");
            return;
          }
          if (Date.new(this.memberCard.beginDate).compareDatePart(this.memberCard.endDate) > 0) {
            $.Msg.error("开卡日期不能大于到期日期");
            return;
          }
          this.memberCard.usableDays = Date.new(this.memberCard.endDate).subtract(this.memberCard.beginDate);
        } else if (!this.memberCard.usableDays && this.memberCard.beginDate) {
          $.Msg.error("请设置使用天数");
          return;
        }
        if (!this.memberCard.changeRemark) {
          $.Msg.error("请填写修改备注");
          return;
        }

        if (this.prePaymentAmount && Math.abs(this.prePaymentAmount - this.memberCard.paymentAmount) / this.prePaymentAmount > 0.5) {
          if (!confirm("提示：当前实收金额【￥{0}】与之前的【￥{1}】差别较大，确定吗？".format(this.memberCard.paymentAmount, this.prePaymentAmount))) {
            return;
          }
        }
        if (!confirm("确定提交吗？")) {
          return;
        }

        $.Req.service($.SvName.MEMBER_CARD_PAYMENT_UPDATE, this.memberCard, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.memberCard = {};
          if (this.onSubmit) this.onSubmit(true);
        }, true, err => {
          alert(err);
        });
      });
    },

    handleCardSelect(cardId) {
      if (cardId === this.initCardId) return;

      for (let c of this.dict.cardList) {
        if (c.cardId === this.memberCard.cardId) {
          this.memberCard.cardType = c.cardType;
          if (c.defaultAmount && !this.memberCard.usableAmount) {
            this.memberCard.usableAmount = c.defaultAmount;
          }
          this.memberCard.usableDays = c.defaultDays;
          this.memberCard.cardTimeType = c.cardTimeType;
          break;
        }
      }
      this.initCardId = null;
    },

    changeBeginDate(date) {
      this.memberCard.beginDate = date;
      this.calcCardDays(date, this.memberCard.endDate);
    },

    changeEndDate(date) {
      this.memberCard.endDate = date;
      this.calcCardDays(this.memberCard.beginDate, date);
    },

    calcCardDays(beginDate, endDate, now = null) {
      if (!beginDate || !endDate) return;
      if (!now) now = new Date();
      this.cardTotalDays = Date.new(endDate).subtract(Date.new(beginDate));
      if (Date.new(beginDate).compareDatePart(now) < 0) this.cardLeftDays = Date.new(endDate).subtract(now);else this.cardLeftDays = this.cardTotalDays;
    },

    clearDates() {
      this.memberCard.beginDate = null;
      this.memberCard.endDate = null;
    },

    changeCard() {
      // check
      if (!this.memberCard.cardId) {
        $.Msg.error("请选择会员卡");
        return;
      }
      // delete @ 2019-11-18
      /*if (!this.memberCard.beginDate || !this.memberCard.endDate) {
      $.Msg.error('请设置完整使用期限');
      return;
      }*/
      if (this.memberCard.cardType === 2) {
        if ($.Util.isEmpty(this.memberCard.usableTimes)) {
          $.Msg.error("请输入剩余次数");
          return;
        }
      } else if (this.memberCard.cardType === 3) {
        if ($.Util.isEmpty(this.memberCard.usableAmount)) {
          $.Msg.error("请输入剩余金额");
          return;
        }
      } else if (this.memberCard.cardType === 4) {
        if ($.Util.isEmpty(this.memberCard.usableTimes)) {
          $.Msg.error("请输入剩余时间");
          return;
        }
      }

      if (!confirm("确定修改卡信息吗？")) {
        return;
      }

      $.Req.service($.SvName.MEMBER_CARD_PAYMENT_UPDATE, this.memberCard, ret => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.memberCard = {};
        if (this.onSubmit) this.onSubmit(true);
      }, true, err => {
        alert(err);
      });
    },

    handleClose() {
      if (this.onClose) this.onClose();
    },

    showEndDate() {
      this.dateEditType = 2;
      if (this.memberCard.beginDate && this.memberCard.usableDays) {
        this.memberCard.endDate = Date.new(this.memberCard.beginDate).addDays(this.memberCard.usableDays);
      }
    }
  }
});

/***/ }),

/***/ 1292:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__member_card_vacation_query_vue__ = __webpack_require__(409);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__member_card_vacation_query_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__member_card_vacation_query_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: {
		MemberCardVacationQuery: __WEBPACK_IMPORTED_MODULE_0__member_card_vacation_query_vue___default.a
	},
	props: {
		selectCard: {
			type: Object
		},
		isCancel: {
			type: Boolean,
			default: false
		},
		onSubmit: {
			type: Function,
			default() {
				return {};
			}
		}
	},

	data() {
		return {
			g: window.$,
			cardVacation: {
				vacationBegin: new Date(),
				vacationEnd: null
			},
			requiredFileds: ['vacationBegin', 'vacationEnd', 'remark'],
			cardVacationFormRule: {},
			vacationDays: null,
			tabName: null
		};
	},

	created() {
		if (this.isCancel) {
			this.cardVacation.vacationBegin = this.selectCard.vacationBegin;
			this.cardVacation.vacationEnd = this.selectCard.vacationEnd;
		}

		$.Util.addRequiredFieldsRules(this.cardVacationFormRule, this.requiredFileds);
	},

	methods: {
		handleSubmit() {
			if (!this.selectCard.mcId) {
				alert("Missing mcId");
				return;
			}

			this.cardVacation.mcId = this.selectCard.mcId;
			this.$refs.cardVacation.validate(valid => {
				if (!valid) {
					$.Msg.eror($.Lang.SUBMIT_ERR);
					return;
				}
				let msg = null;

				if (!$.Util.isEmpty(this.cardVacation.vacationFee) && !this.cardVacation.feeChannel) {
					$.Msg.error('请选择支付方式');
					return;
				}
				if (this.isCancel) {
					msg = '您确定要撤销此卡的请假吗？ 撤销记录将在操作日志中显示。';
				} else {
					if (this.cardVacation.vacationBegin.compareDatePart(this.cardVacation.vacationEnd) > 0) {
						$.Msg.error('请假开始日期不能大于结束日期');
						return;
					}
					msg = '您确定为此卡设置请假吗？ ';
				}

				$.Dlg.confirm(msg, yes => {
					let args = { memberCardVacation: this.cardVacation };
					let svName = this.isCancel ? $.SvName.MEMBER_CARD_VACATION_CANCEL : $.SvName.MEMBER_CARD_VACATION_CREATE;
					$.Req.service(svName, args, ret => {
						$.Msg.success($.Lang.OPT_SUCCESS);
						if (this.onSubmit) this.onSubmit();
					}, true, err => {
						alert(err);
					});
				});
			});
		}
	}
});

/***/ }),

/***/ 1293:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	props: {
		mcId: {
			type: Number
		},
		afterCorrectMemberCardCurrentValue: {
			type: Function,
			default() {
				return {};
			}
		}
	},

	data() {
		return {
			g: window.$,
			consumeStat: null,
			mc: null,
			transFromValue: null,
			transToValue: null,
			calcCurrentValue: null,
			cardUnitName: null,
			mcCurrentValue: null
		};
	},

	created() {
		this.queryMemberCardValueDetail();
	},

	methods: {
		queryMemberCardValueDetail() {
			$.Req.service($.SvName.MEMBER_CARD_VALUE_DETAIL_QUERY, { mcId: this.mcId }, ret => {
				this.consumeStat = ret.consumeStat;
				this.mc = ret.memberCard;
				this.mcCurrentValue = this.mc.cardType == 3 ? this.mc.currentAmount : this.mc.currentTimes;
				this.cardUnitName = $.Dict.CardUnitName[this.mc.cardType];
				this.transFromValue = ret.transFromValue;
				this.transToValue = ret.transToValue;
				this.calcCurrentValue = ret.calcCurrentValue;
			}, true);
		},

		correctMemberCardCurrentValue() {
			$.Req.service($.SvName.MEMBER_CARD_CURRENT_VALUE_CORRECT, { mcId: this.mcId }, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.mcCurrentValue = this.calcCurrentValue;
				if (this.afterCorrectMemberCardCurrentValue) {
					this.afterCorrectMemberCardCurrentValue(this.calcCurrentValue);
				}
			}, true);
		}
	}
});

/***/ }),

/***/ 1296:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	props: {
		afterSubmit: {
			type: Function,
			default() {
				return {};
			}
		}
	},

	data() {
		return {
			g: window.$,
			editable: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_CREATE.value),
			orgName: null,
			selectIdx: null,
			memberOrgList: [],
			orgDlgView: false
		};
	},

	created() {
		this.queryMemberOrg();
	},

	methods: {
		queryMemberOrg(callback = null) {
			$.Req.service($.SvName.MEMBER_ORG_QUERY, {}, ret => {
				this.memberOrgList = ret.memberOrgList;
				if (callback) {
					callback(ret.memberOrgList);
				}
			}, true);
		},

		saveMemberOrg(args) {
			if (args.memberOrg) {
				if (!args.memberOrg.orgName) {
					$.Msg.warning('请输入单位名称');
					return;
				}
			}

			$.Req.service($.SvName.MEMBER_ORG_SAVE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
				this.orgDlgView = false;
				this.queryMemberOrg(orgList => {
					if (this.afterSubmit) {
						this.afterSubmit(orgList);
					}
				});
			});
		},

		submit() {
			if (this.selectIdx === null) this.createMemberOrg();else this.updateMemberOrg();
		},

		createMemberOrg() {
			let args = { actionType: 'I', memberOrg: { orgName: this.orgName } };
			this.saveMemberOrg(args);
		},

		openOrgDlg(idx) {
			this.orgDlgView = true;
			this.selectIdx = idx;
			if (idx === null) {
				this.orgName = null;
			} else {
				this.orgName = this.memberOrgList[idx].orgName;
			}
		},

		updateMemberOrg() {
			let org = this.memberOrgList[this.selectIdx];
			let args = {
				actionType: 'U',
				memberOrg: {
					orgId: org.orgId,
					orgName: this.orgName
				}
			};
			this.saveMemberOrg(args);
		},

		delMemberOrg(idx) {
			let org = this.memberOrgList[idx];
			if (!confirm('确定要删除【{0}】吗？'.format(org.orgName))) {
				return;
			}

			let args = { actionType: 'D', deleteId: org.orgId };
			this.saveMemberOrg(args);
		}
	}
});

/***/ }),

/***/ 1298:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
  data() {
    return {
      index: 1,
      visible: false
    };
  },
  methods: {
    show() {
      this.visible = true;
    }
  }
});

/***/ }),

/***/ 1299:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	props: {
		memberId: {
			type: Number,
			required: true
		}
	},

	data() {
		return {
			g: window.$,
			shopTestItemList: [],
			memberTestList: [],
			testItemMap: {},
			hasLoadMemberTestItem: false
		};
	},

	created() {
		this.queryShopTestItemList();
	},

	methods: {
		queryShopTestItemList() {
			let args = {};
			$.Req.service($.SvName.SHOP_TEST_ITEM_QUERY, args, ret => {
				this.shopTestItemList = ret.shopTestItemList;

				this.queryMemberTestList();
			});
		},

		queryMemberTestList() {
			let args = {
				memberId: this.memberId,
				page: 1
			};
			$.Req.service($.SvName.MEMBER_TEST_QUERY, args, ret => {
				this.memberTestList = ret.memberTestList;
				this.queryMemberTestItemList();
			});
		},

		queryMemberTestItemList() {
			let args = { memberId: this.memberId };
			$.Req.service($.SvName.MEMBER_TEST_ITEM_QUERY, args, ret => {
				if (ret.memberTestItemList && ret.memberTestItemList.length > 0) {
					for (let t of ret.memberTestItemList) {
						let key = t.mtId + '-' + t.itemId;
						this.testItemMap[key] = t.itemValue;
					}
					this.hasLoadMemberTestItem = true;
				}
			}, true);
		}
	}
});

/***/ }),

/***/ 1300:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	components: {},
	props: {
		memberId: {
			type: Number,
			required: true
		},
		mcId: {
			type: Number,
			required: true
		}
	},
	data() {
		return {
			g: window.$,
			logList: null,
			count: null,
			queryPage: null
		};
	},

	created() {
		this.queryLogList();
	},

	methods: {
		queryLogList(page = null) {
			let args = {
				memberId: this.memberId,
				mcId: this.mcId,
				page: page
			};
			this.queryPage = page;
			$.Req.service($.SvName.MC_PRINT_CONSUME_QUERY, args, ret => {
				this.logList = ret.cardConsumeRecords;
				if (!page) {
					this.count = ret.count;
				}
			}, true);
		}
	}
});

/***/ }),

/***/ 1301:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default.a },
	data() {
		return {
			g: $,
			canQueryAll: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_QUERY_ALL.value),
			salesViewMembDisable: $.Util.hasDisableRoleFunc($.Dict.RoleFunc.SALES_VIEW_MEMBERS_DISABLE.value),
			setMemberAdvisorPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.SET_MEMBER_ADVISOR.value),
			setMemberCoachPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.SET_MEMBER_COACH.value),
			viewMemberDlg: false,
			actionNames: ['', '锻炼', '上课', '上课'],
			viewMemberId: 0,
			dict: {
				salesList: [],
				advisorList: [],
				coachList: [],
				coachTypeList: null
			},
			columns: [{ title: '姓名', key: 'nameDesc', width: 120, render(row) {
					return '<a style="display: block;" @click="viewMember(row.memberId)">' + row.memberName.shorten(8) + '</a>';
				} }, { title: '性别', key: 'sexName', width: 55, render(row) {
					if (row.memberSex === true) return '男';else if (row.memberSex === false) return '女';else return '';
				} }, { title: '会员卡', key: 'cardName', width: 150 }, { title: '剩余 ↑', key: '', width: 85, render(row) {
					if (row.cardType === 1) {
						if (row.remanentDays) return '<span class="mc-balance-l{0}">{1} 天</span>'.format(row.balanceLevel, row.remanentDays);else return '';
					} else if (row.cardType === 2) {
						return '<span class="mc-balance-l{0}">{1} 次</span>'.format(row.balanceLevel, row.currentTimes);
					} else if (row.cardType === 3) {
						return '<span class="mc-balance-l{0}">{1} 元</span>'.format(row.balanceLevel, row.currentAmount);
					}
				} }, { title: '销售', key: 'salesName', width: 80 }, { title: '教练', key: 'coachName', width: 80 }, { title: '会籍顾问', key: 'advisorName', width: 80 }, { title: '注册时间', key: 'createTime' }],
			totalCount: 0,
			totalPages: null,
			queryPage: null,
			query: {
				actType: 1,
				salesId: '',
				coachId: '',
				advisorId: '',
				createDateRange: [],
				actCntBegin: null,
				actCntEnd: null,
				actDays: null,
				lastActDays: null,
				ignoreInvalidMember: false,
				isPcCardMember: null,
				orderBy: 'cnt',
				sortType: 'desc'
			},
			memberActionList: [],
			createDateOption: {
				shortcuts: [{
					text: '最近一周',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);
						return [start, end];
					}
				}, {
					text: '最近一个月',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);
						return [start, end];
					}
				}, {
					text: '最近三个月',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);
						return [start, end];
					}
				}, {
					text: '最近半年',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 180);
						return [start, end];
					}
				}]
			},
			exportDlg: false,
			exportFileUrl: null,
			memberCkList: new Array(30),
			assignMemberCoachList: [],
			assignCoachMethod: 1,
			assignCoachDlg: false,
			selectMemberPermit: null,
			isSelectAll: false
		};
	},

	created() {
		this.selectMemberPermit = this.setMemberAdvisorPermit || this.setMemberCoachPermit;

		// query dict
		if (this.canQueryAll) {
			// query staff as sales
			$.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
				this.dict.salesList = ret.staffList;
			});

			// query coach
			$.Req.service($.SvName.COACH_BASE_QUERY, {}, ret => {
				this.dict.coachList = ret.coachList;
			});

			// query staff as advisor
			$.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true, sysRid: $.Dict.SysRole.ADVISOR }, ret => {
				this.dict.advisorList = ret.staffList;
			});

			this.queryMemberAction();
		} else {
			let self = { staffId: $.data.user.staffId, name: $.data.user.uname };
			this.dict.salesList = [self];
			this.dict.coachList = [self];
			this.dict.advisorList = [self];
		}
		this.queryCoachType();
	},

	methods: {
		queryCoachType() {
			$.Req.service($.SvName.COACH_TYPE_QUERY, { isBaseInfo: true }, ret => {
				this.dict.coachTypeList = ret.coachTypeList;
			});

			// init assignMemberCoachList
			for (let i = 0; i < 5; i++) {
				this.assignMemberCoachList.push({ coachType: null, coachId: null });
			}
		},

		queryMemberAction(newQuery = true, isExport = null) {
			if (!this.canQueryAll) {
				if (!this.query.salesId && !this.query.coachId && !this.query.advisorId) {
					$.Dlg.error('请选择销售、教练或会籍顾问。');
					return;
				}
			}

			if ($.Util.isEmpty(this.query.actCntBegin) ^ $.Util.isEmpty(this.query.actCntEnd)) {
				$.Dlg.error('请输入完整的锻炼次数。');
				return;
			}
			if ($.Util.isEmpty(this.query.actBeginDate) ^ $.Util.isEmpty(this.query.actEndDate)) {
				$.Dlg.error('请输入完整的锻炼日期范围。');
				return;
			}
			if (newQuery) {
				this.totalCount = null;
				this.queryPage = null;
			}
			if (this.query.lastActDays) {
				// 清除逻辑上不相关的查询条件
				this.query.actCntBegin = null;
				this.query.actCntEnd = null;
				this.query.createDateRange = null;
			}

			let args = {
				actType: this.query.actType,
				salesId: this.query.salesId,
				coachId: this.query.coachId,
				advisorId: this.query.advisorId,
				actCntBegin: this.query.actCntBegin,
				actCntEnd: this.query.actCntEnd,
				page: this.queryPage,
				lastActDays: this.query.lastActDays,
				isPcCardMember: this.query.isPcCardMember,
				orderBy: this.query.orderBy,
				sortType: this.query.sortType
			};
			if (this.query.ignoreInvalidMember) {
				args.ignoreInvalidMember = true;
			}
			if (isExport) {
				args.isExport = true;
				this.exportFileUrl = null;
				this.exportDlg = true;
			} else {
				if (newQuery) args.page = null;
			}

			if (this.query.createDateRange && this.query.createDateRange.length === 2 && this.query.createDateRange[0] && this.query.createDateRange[1]) {
				args.actBeginDate = Date.new(this.query.createDateRange[0]);
				args.actEndDate = Date.new(this.query.createDateRange[1]);
			}
			$.Req.service($.SvName.MEMBER_ACTION_QUERY, args, ret => {
				if (isExport) {
					this.exportFileUrl = ret.fileurl;
					return;
				}
				this.memberActionList = ret.memberActionList;
				if (args.page === null) {
					this.totalCount = ret.count;
				}
			}, true);
		},

		resetQuery() {
			this.query.salesId = '';
			this.query.coachId = '';
			this.query.advisorId = '';
			this.query.actCntBegin = null;
			this.query.actCntEnd = null;
			this.query.createDateRange = null;
			this.query.actDays = null;
			this.query.lastActDays = null;
			this.query.isPcCardMember = null;
		},

		viewMember(memberId) {
			this.viewMemberId = memberId;
			this.viewMemberDlg = true;
		},

		changePageNo(page) {
			this.queryPage = page;
			this.queryMemberAction(false);
			window.scrollTo(0, 0);
		},

		exportToXls() {
			this.queryMemberAction(false, true);
		},

		altActDays(altDays) {
			if (altDays > 0) {
				this.query.orderBy = 'time';
				this.query.sortType = 'desc';
				this.query.lastActDays = parseInt(altDays);
				this.queryMemberAction(true);
			} else {
				this.query.lastActDays = null;
				this.query.actCntBegin = 0;
				this.query.actCntEnd = 0;
				this.queryMemberAction(true);
			}
		},

		changeActType(actType) {
			this.query.actType = actType;
			this.queryMemberAction(true);
		},

		changeSort(orderBy) {
			this.query.orderBy = orderBy;
			if (this.query.sortType === 'asc') {
				this.query.sortType = 'desc';
			} else {
				this.query.sortType = 'asc';
			}
			this.queryMemberAction(true);
		},

		batchUpdateMemberAdvisor(val) {
			this.batchUpdateMember(val, 'advisor');
		},

		batchUpdateMemberCoach(val) {
			this.batchUpdateMember(val, 'coach');
		},

		batchUpdateMember(val, type) {
			let arr = val.split('\t');
			let staffId = parseInt(arr[0]),
			    staffName = arr[1];
			let checkedMemberIdList = [];
			for (let i = 0, len = this.memberCkList.length; i < len && i < this.memberActionList.length; i++) {
				if (this.memberCkList[i]) checkedMemberIdList.push(this.memberActionList[i].memberId);
			}
			let msg, args;
			if (type === 'advisor') {
				msg = '您确实要将{0}个会员分配给会籍顾问【{1}】吗？'.format(checkedMemberIdList.length, staffName);
				args = { newAdvisorId: staffId, memberIdList: checkedMemberIdList };
			} else if (type === 'coach') {
				msg = '您确实要将{0}个会员分配给教练【{1}】吗？'.format(checkedMemberIdList.length, staffName);
				args = { newCoachId: staffId, memberIdList: checkedMemberIdList };
			} else if (type === 'sales') {
				msg = '您确实要将{0}个会员分配给销售【{1}】吗？'.format(checkedMemberIdList.length, staffName);
				args = { newSalesId: staffId, memberIdList: checkedMemberIdList };
			} else {
				return;
			}

			if (checkedMemberIdList.length > 0) {
				$.Dlg.confirm(msg, () => {
					$.Req.service($.SvName.MEMBER_BATCH_UPDATE, args, ret => {
						$.Msg.success($.Lang.OPT_SUCCESS);
						this.queryMemberAction(true);
						this.isSelectAll = false;
						for (let i = 0, len = this.memberCkList.length; i < len; i++) {
							this.$set(this.memberCkList, i, false);
						}
					}, true);
				});
			} else {
				$.Dlg.error('请先选择会员');
			}
		},

		openAssignCoachDlg() {
			let checkedMemberIdList = [];
			for (let i = 0, len = this.memberCkList.length; i < len && i < this.memberActionList.length; i++) {
				if (this.memberCkList[i]) checkedMemberIdList.push(this.memberActionList[i].memberId);
			}
			if (!checkedMemberIdList.length) {
				$.Msg.error('请先选择会员');
				return;
			}
			for (let c of this.assignMemberCoachList) {
				c.coachType = null;
				c.coachId = null;
			}

			this.assignCoachDlg = true;
		},

		submiAssignCoach() {
			let checkedMemberIdList = [];
			for (let i = 0, len = this.memberCkList.length; i < len && i < this.memberActionList.length; i++) {
				if (this.memberCkList[i]) checkedMemberIdList.push(this.memberActionList[i].memberId);
			}
			let msg = '您确实要给这{0}个会员分配教练吗？'.format(checkedMemberIdList.length);

			$.Dlg.confirm(msg, () => {
				let args = {
					memberIdList: checkedMemberIdList,
					newMemberCoachList: this.assignMemberCoachList,
					assignCoachMethod: this.assignCoachMethod
				};
				$.Req.service($.SvName.MEMBER_BATCH_UPDATE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.assignCoachDlg = false;
					this.queryMemberAction(false);
					this.uncheckAllMember();
				}, true);
			});
		},

		uncheckAllMember() {
			this.isSelectAll = false;
			for (let i = 0, len = this.memberCkList.length; i < len; i++) {
				this.$set(this.memberCkList, i, false);
			}
		},

		selectMember(idx) {
			this.$set(this.memberCkList, idx, !this.memberCkList[idx]);
		},

		selectAll() {
			this.isSelectAll = !this.isSelectAll;
			for (let i = 0, len = this.memberCkList.length; i < len; i++) {
				this.$set(this.memberCkList, i, this.isSelectAll);
			}
		}
	}
});

/***/ }),

/***/ 1302:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_help__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { Help: __WEBPACK_IMPORTED_MODULE_0__components_help___default.a },
	data() {
		return {
			g: $,
			oldAdvisorId: null,
			newAdvisorId: null,
			memberCards: [{}, {}, {}, {}, {}, {}],
			dict: {
				allStaffList: [],
				activeStaffList: [],
				cardList: []
			},
			updateCardNoCnt: 0,
			updateCardNoLog: '',
			lastSendSmsTime: null,
			shopOwnerPhone: null,
			mcOpt: {
				optType: 0,
				altCardDays: null,
				selectCardIdList: [],
				remark: null,
				smsCode: null,
				authcodeDisabled: false,
				authcodeLabel: null,
				submitLoading: false,
				minEndDate: new Date(),
				limitNoneBeginDateCard: false,
				limitNoneEndDateCard: false,
				createDateBegin: null,
				createDateEnd: null
			},
			autActivateCardArgs: [false, false, false],
			memberAuthOpt: {
				isConfAuthEntryCheckin: null,
				isConfAuthGroupLessonCheckin: null,
				isConfAuthCardPayment: null,
				authEntryCheckin: null,
				authGroupLessonCheckin: null,
				authCardPayment: null
			}
		};
	},

	created() {
		$.Req.service($.SvName.STAFF_QUERY, { needBaseInfo: true, sysRid: $.Dict.SysRole.ADVISOR }, ret => {
			this.dict.allStaffList = ret.staffList;
		});

		$.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true, sysRid: $.Dict.SysRole.ADVISOR }, ret => {
			this.dict.activeStaffList = ret.staffList;
		});

		$.Req.service($.SvName.CARD_QUERY, { needBaseInfo: true }, ret => {
			this.dict.cardList = ret.cardList;
			for (let c of ret.cardList) {
				this.mcOpt.selectCardIdList.push(c.cardId);
			}
		});

		this.queryShopOwnerPhone();
		this.queryShopArgs();
	},

	methods: {
		replaceMemberAdvisor() {
			if (!this.oldAdvisorId) {
				$.Msg.error('请选择原会籍顾问');
				return;
			}
			if (!this.newAdvisorId) {
				$.Msg.error('请选择新会籍顾问');
				return;
			}
			if (this.oldAdvisorId === this.newAdvisorId) {
				$.Msg.error('新旧会籍顾问不能一样');
				return;
			}

			let msg = "确定更换会籍顾问吗？";
			if (!confirm(msg)) {
				return;
			}

			let args = { oldAdvisorId: this.oldAdvisorId, newAdvisorId: this.newAdvisorId };
			$.Req.service($.SvName.MEMBER_ADVISOR_REPLACE, args, ret => {
				$.Dlg.success($.Lang.OPT_SUCCESS);
			});
		},

		queryMember(idx, mc) {
			let phoneNo = mc.phoneNo;

			if (!phoneNo) return;
			if (!$.Util.validatePhoneNo(phoneNo)) {
				this.memberCards[idx].memberId = null;
				this.memberCards[idx].error = '手机号格式错误';
			} else {
				mc.querying = true;
				$.Req.service($.SvName.MEMBER_BASE_QUERY, { phoneNo: phoneNo }, ret => {
					mc.querying = false;
					if (ret.member && ret.member.memberId) {
						mc.memberId = ret.member.memberId;
						mc.name = ret.member.name;
					} else {
						mc.memberId = null;
						mc.error = '不存在此手机号的会员';
					}
					this.$set(this.memberCards, idx, mc);
				});
			}
		},

		updateMemberCards() {
			let mcList = [];
			let logs = '';
			for (let i = 0, len = this.memberCards.length; i < len; i++) {
				let mc = this.memberCards[i];
				if (mc.memberId && mc.cardNo) {
					mcList.push({ memberId: mc.memberId, cardNo: mc.cardNo });
					logs += '{0}\t{1} \t {2}\n'.format(mc.phoneNo, mc.cardNo, mc.name);
				}
			}
			if (mcList.length > 0) {
				let args = { memberCardNoList: mcList };
				$.Req.service($.SvName.MEMBER_CARD_NOS_UPDATE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					for (let i = 0, len = this.memberCards.length; i < len; i++) {
						this.$set(this.memberCards, i, {});
					}
					this.updateCardNoLog += logs;
					this.updateCardNoCnt += mcList.length;
				});
			} else {
				$.Msg.warning('无有效记录，不作更新');
			}
		},

		queryShopOwnerPhone() {
			$.Req.service($.SvName.SHOP_OWNER_PHONE_QUERY, {}, ret => {
				this.shopOwnerPhone = ret.phoneNo;
			});
		},

		checkAllCards() {
			this.mcOpt.selectCardIdList = [];
			for (let c of this.dict.cardList) {
				this.mcOpt.selectCardIdList.push(c.cardId);
			}
		},

		uncheckAllCards() {
			this.mcOpt.selectCardIdList = [];
		},

		onClickSmsAuthcodeBtn() {
			let nowTime = new Date().getTime();
			if (this.lastSendSmsTime && nowTime - this.lastSendSmsTime < 3000) {
				$.Msg.info($.Lang.CLICK_FREQUENTLY);
				return;
			}
			this.lastSendSmsTime = nowTime;

			let args = {
				phoneNo: this.shopOwnerPhone,
				authcodeType: 4
			};
			$.Req.service($.SvName.SMS_AUTHCODE_SEND, args, ret => {
				if (ret.sendStatus === 0) {
					$.Msg.info($.Lang.AUTHCODE_SENT);
				} else {
					$.Dlg.error($.Lang.AUTHCODE_SEND_ERR);
				}
			});

			let count = 60;
			let resend = setInterval(() => {
				count--;
				if (count > 0) {
					this.mcOpt.authcodeDisabled = true;
					this.mcOpt.authcodeLabel = count + "秒后可重新获取";
				} else {
					clearInterval(resend);
					this.mcOpt.authcodeDisabled = false;
				}
			}, 1000);
		},

		handleBatchChangeMemberCardDays() {
			if ($.Util.isEmptyArray(this.mcOpt.selectCardIdList)) {
				$.Msg.error('请选择会员卡');
				return;
			}
			if (this.mcOpt.optType === 0 && !this.mcOpt.altCardDays) {
				$.Msg.error('请输入增加天数');
				return;
			}
			if (this.mcOpt.optType === 0) {
				if (this.mcOpt.createDateBegin && !this.mcOpt.createDateEnd || !this.mcOpt.createDateBegin && this.mcOpt.createDateEnd) {
					$.Msg.error('请输入完整的办卡日期');
					return;
				}
			}
			if (this.mcOpt.optType == 0 && !this.mcOpt.minEndDate) {
				$.Msg.error('请选择限制到期日期');
				return;
			}
			if (this.mcOpt.optType === 1 && !this.mcOpt.cardDate) {
				$.Msg.error('请输入开卡日期');
				return;
			}
			if (this.mcOpt.optType === 2 && !this.mcOpt.cardDate) {
				$.Msg.error('请输入到期日期');
				return;
			}
			if (!this.mcOpt.remark) {
				$.Msg.error('请输入备注');
				return;
			}
			if (this.mcOpt.remark.length < 5 || this.mcOpt.remark.length > 500) {
				$.Msg.error('备注字数必须在 5 ~ 500 之间');
				return;
			}
			if (!this.mcOpt.smsCode) {
				$.Msg.error('请输入短信验证码');
				return;
			}

			let msg = '您确定要批量操作这些卡吗？';
			$.Dlg.confirm(msg, yes => {
				let args = {
					smsCode: this.mcOpt.smsCode,
					phoneNo: this.shopOwnerPhone,
					optType: this.mcOpt.optType,
					cardDate: this.mcOpt.cardDate,
					altDays: this.mcOpt.altCardDays,
					remark: this.mcOpt.remark,
					cardIdList: this.mcOpt.selectCardIdList,
					minEndDate: this.mcOpt.minEndDate,
					ignoreVacation: this.mcOpt.ignoreVacation,
					limitNoneBeginDateCard: this.mcOpt.limitNoneBeginDateCard,
					limitNoneEndDateCard: this.mcOpt.limitNoneEndDateCard,
					createDateBegin: this.mcOpt.createDateBegin,
					createDateEnd: this.mcOpt.createDateEnd
				};

				this.mcOpt.submitLoading = true;
				$.Req.service($.SvName.MEMBER_CARD_BATCH_OPT, args, ret => {
					this.mcOpt.smsCode = null;
					this.mcOpt.authcodeDisabled = false;
					$.Msg.success('已更新【{0}】张会员卡'.format(ret.count));
					this.mcOpt.submitLoading = false;
				}, true, err => {
					$.Dlg.error(err);
					this.mcOpt.submitLoading = false;
				});
			});
		},

		queryShopArgs() {
			let args = { typeIdList: [2078] };
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
				for (let t of ret.argList) {
					if (t.typeId == 2078) {
						if (t.typeValue) {
							let valArr = t.typeValue.split(',');
							for (let i = 0; i < 3; i++) {
								this.$set(this.autActivateCardArgs, i, valArr[i] === 'true' ? true : false);
							}
						}
					}
				}
			});
		},

		updateAutoActivateCardArgs() {
			let vals = this.autActivateCardArgs.join(',');
			$.Req.updateShopArg(2078, vals);
		},

		updateMemberAuth() {
			let args = {};
			if (this.memberAuthOpt.isConfAuthEntryCheckin && $.Util.isNotEmpty(this.memberAuthOpt.authEntryCheckin)) {
				args.authEntryCheckin = this.memberAuthOpt.authEntryCheckin;
			}
			if (this.memberAuthOpt.isConfAuthGroupLessonCheckin && $.Util.isNotEmpty(this.memberAuthOpt.authGroupLessonCheckin)) {
				args.authGroupLessonCheckin = this.memberAuthOpt.authGroupLessonCheckin;
			}
			if (this.memberAuthOpt.isConfAuthCardPayment && $.Util.isNotEmpty(this.memberAuthOpt.authCardPayment)) {
				args.authCardPayment = this.memberAuthOpt.authCardPayment;
			}
			if (!Object.keys(args).length) {
				$.Dlg.warning('请勾选有效设置后再提交');
				return;
			}
			$.Req.service($.SvName.MEMBER_AUTH_CONF_UPDATE, args, ret => {
				$.Dlg.success($.Lang.OPT_SUCCESS);
			}, true);
		}
	}
});

/***/ }),

/***/ 1303:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__member_test_items_vue__ = __webpack_require__(2073);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__member_test_items_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__member_test_items_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, ImgUpload: __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default.a, MemberTestItems: __WEBPACK_IMPORTED_MODULE_2__member_test_items_vue___default.a },
	data() {
		return {
			g: $,
			editable: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_EDIT.value),
			memberName: $.Util.sessionStore.get($.Conf.LocalSessionKey.MEMBER_NAME),
			menuList: $.PageMenus.member(this.$route.params.memberId, 'member-body-test-list'),
			memberId: parseInt(this.$route.params.memberId),
			memberImgList: null,
			createDlgView: false,
			imgUpload: {
				action: $.Conf.IMG_UPLOAD_URL,
				imgMaxWidth: 1024,
				defaultList: []
			},
			showDlg: false,
			imgReady: false,
			memberImg: {
				imgPathname: '',
				remark: ''
			}
		};
	},

	created() {
		$.Req.queryMemberBase(this.memberId, (ret, systime) => {
			this.now = Date.new(systime);
			let member = ret.member;
			this.memberName = member.name;
			$.Util.sessionStore.set($.Conf.LocalSessionKey.MEMBER_NAME, this.memberName);
		});

		this.loadData();
	},

	methods: {

		loadData() {
			$.Req.service($.SvName.MEMBER_IMG_QUERY, { memberId: this.memberId, imgType: 2 }, ret => {
				this.memberImgList = ret.memberImgList;
			});
		},

		showCreateImgDlg() {
			this.showDlg = true;
		},

		handleImgUploadSuccess(res, file) {
			file.url = res.data.url;
			file.name = res.data.name;
			this.memberImg.imgPathname = file.name;
			this.imgReady = true;
		},

		handleCreateImg() {
			let memberImg = { memberId: this.memberId, imgType: 2 };
			$.Util.copyAttributes(this.memberImg, memberImg);
			let args = {
				memberImg: memberImg,
				actionType: 'I'
			};
			$.Req.service($.SvName.MEMBER_IMG_SAVE, args, ret => {
				memberImg.createUid = $.data.user.uid;
				memberImg.createUname = $.data.user.uname;
				memberImg.createTime = $.Util.formatDateTime(new Date());
				memberImg.miId = ret.miId;
				this.memberImgList.unshift(memberImg);
				this.memberImg = {};
				this.imgUpload.defaultList = [];
				this.showDlg = false;
			}, true);
		},

		updateMemberImg(idx) {
			let remark = prompt("请输入图片备注", "");
			if (!remark) {
				return;
			}

			let memberImg = {};
			$.Util.copyAttributes(this.memberImgList[idx], memberImg);
			memberImg.remark = remark;
			let args = {
				memberImg: memberImg,
				actionType: 'U'
			};
			$.Req.service($.SvName.MEMBER_IMG_SAVE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.$set(this.memberImgList, idx, memberImg);
			});
		},

		delMemberImg(idx) {
			if (!confirm('确定删除吗？')) return;

			let args = { actionType: 'D', deleteId: this.memberImgList[idx].miId };
			$.Req.service($.SvName.MEMBER_IMG_SAVE, args, ret => {
				this.memberImgList.splice(idx, 1);
				$.Msg.success($.Lang.OPT_SUCCESS);
			});
		}
	}
});

/***/ }),

/***/ 1304:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__member_card_consume_records_vue__ = __webpack_require__(1188);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__member_card_consume_records_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__member_card_consume_records_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default.a, MemberCardConsumeRecords: __WEBPACK_IMPORTED_MODULE_2__member_card_consume_records_vue___default.a },
	data() {
		return {
			g: window.$,
			queryPermit: $.data.user.isShopOwner,
			mcList: null,
			mcCount: null,
			mcPage: null,
			query: {
				cardType: 2,
				ignoreEmptyValue: true,
				isFocusCheck: false
			},
			viewMemberDlg: null,
			selectMemberId: null,
			mcConsumeRecordsDlg: null,
			selectMc: {}
		};
	},

	created() {
		if (this.queryPermit) {
			this.queryMemberCardList();
		}
	},

	methods: {
		queryMemberCardList(page = null) {
			if (!page) this.mcCount = null;
			let args = {
				cardType: this.query.cardType,
				isFocusCheck: this.query.isFocusCheck,
				page: page
			};
			if (this.query.ignoreEmptyValue) {
				args.currentValueBegin = 1;
				args.currentValueEnd = 999999;
			}
			$.Req.service($.SvName.MEMBER_CARD_FOR_CHECK_QUERY, args, ret => {
				for (let mc of ret.mcList) {
					if (mc.cardType === 2 || mc.cardType === 4) {
						mc.currentValue = mc.currentTimes;
					} else {
						mc.currentValue = mc.currentAmount;
					}
				}
				this.mcList = ret.mcList;
				if (!page) this.mcCount = ret.count;
				window.scrollTo(0, 0);
			}, true);
		},

		correctMemberCardCurrentValue(idx) {
			let mc = this.mcList[idx];
			$.Req.service($.SvName.MEMBER_CARD_CURRENT_VALUE_CORRECT, { mcId: mc.mcId }, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				mc.currentValue = mc.calcCurrentValue;
				this.$set(this.mcList, idx, mc);
			}, true);
		},

		viewMemberInfo(memberId) {
			this.selectMemberId = memberId;
			this.viewMemberDlg = true;
		},

		viewMemberCardConsumeRecords(mc) {
			this.selectMc = mc;
			this.mcConsumeRecordsDlg = true;
		}
	}
});

/***/ }),

/***/ 1305:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_time_select__ = __webpack_require__(405);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_time_select___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_sys_time_select__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__ = __webpack_require__(1094);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__member_card_create_vue__ = __webpack_require__(1189);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__member_card_create_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__member_card_create_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//







/* harmony default export */ __webpack_exports__["default"] = ({
	components: { TimeSelect: __WEBPACK_IMPORTED_MODULE_1__components_sys_time_select___default.a, PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberSelect: __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default.a, MemberCardCreate: __WEBPACK_IMPORTED_MODULE_3__member_card_create_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_4__pages_member_member_base_info_vue___default.a },
	data() {
		return {
			g: window.$,
			memberCardDraftList: null,
			memberDraftCount: null,
			query: {
				status: null,
				beginDate: null,
				endDate: null,
				createUid: null,
				auditStaffId: null,
				page: null
			},
			staffList: null,
			dlgView: {
				mcdDetail: false
			},
			memberSelectDlgForQuery: false,
			memberCard: {},
			enableMemberCardDraftSbumitSms: null,
			enableMemberCardDraftAuditSms: null,
			enableMemberCardDraftSbumitWx: null,
			enableMemberCardDraftAuditWx: null,
			confDlg: null,
			viewMemberDlg: null,
			viewMemberId: null,
			memberCardDraftAudit: {
				auditResult: null,
				remark: null
			},
			memberCardDraftAuditList: null,
			memberCardDraftCreatePermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_CARD_DRAFT_CREATE.value),
			memberCardDraftAuditPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_CARD_DRAFT_CHECK.value)
		};
	},

	created() {
		this.queryStaffList();
		this.queryMemberCardDraft();
		this.queryShopArgs();
	},

	methods: {
		queryShopArgs() {
			let args = { typeIdList: [2072, 2073, 2082, 2083] };
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
				for (let t of ret.argList) {
					if (t.typeId === 2072) this.enableMemberCardDraftSbumitSms = t.typeValue === 'true';else if (t.typeId === 2073) this.enableMemberCardDraftAuditSms = t.typeValue === 'true';else if (t.typeId === 2082) this.enableMemberCardDraftSbumitWx = t.typeValue === 'true';else if (t.typeId === 2083) this.enableMemberCardDraftAuditWx = t.typeValue === 'true';
				}
			});
		},

		queryStaffList() {
			if ($.data.user.isShopOwner) {
				$.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
					this.staffList = ret.staffList;
				});
			} else {
				let staff = { name: $.data.user.uname, staffId: $.data.user.staffId, uid: $.data.user.uid };
				this.staffList = [staff];
				if (this.memberCardDraftAuditPermit) {
					this.query.auditStaffId = staff.staffId;
				} else if (this.memberCardDraftCreatePermit) {
					this.query.createUid = staff.uid;
				}
			}
		},

		queryMemberCardDraft(page = null) {
			this.query.page = page;
			if (!$.data.user.isShopOwner) {
				if (!this.query.createUid && !this.query.auditStaffId) {
					$.Dlg.warning('请选择创建人或审核人');
					return;
				}
			}
			let args = {
				status: this.query.status,
				createUid: this.query.createUid,
				auditStaffId: this.query.auditStaffId,
				memberId: this.query.memberId,
				beginCreateDate: this.query.beginDate,
				endCreateDate: this.query.endDate,
				page: page
			};
			$.Req.service($.SvName.MEMBER_CARD_DRAFT_QUERY, args, ret => {
				this.memberCardDraftList = ret.memberCardDraftList;
				if (!page) {
					this.memberDraftCount = ret.count;
				}
			}, true);
		},

		viewMemberCardDraftDetail(m) {
			this.memberCard = {};
			$.Util.copyAttributes(m, this.memberCard);
			this.queryMemberCardDraftAudit();
			this.dlgView.mcdDetail = true;
		},

		afterCreateCard() {
			this.dlgView.mcdDetail = false;
			this.queryMemberCardDraft();
		},

		afterSelectMemberForQuery(m) {
			console.log(m);
			this.query.memberId = m.memberId;
			this.query.memberName = m.name;
			this.queryMemberCardDraft();
			this.memberSelectDlgForQuery = false;
		},

		viewMemberBase(memberId) {
			this.viewMemberId = memberId;
			this.viewMemberDlg = true;
		},

		submitMemberCardDraftAudit() {
			if (!this.memberCardDraftAudit.auditResult && !this.memberCardDraftAudit.remark) {
				$.Msg.warning('审核不通过时，请在备注中填写不通过的具体原因。');
				return;
			}
			let args = {
				mcdId: this.memberCard.mcdId,
				auditResult: Boolean(this.memberCardDraftAudit.auditResult),
				remark: this.memberCardDraftAudit.remark
			};
			$.Req.service($.SvName.MEMBER_CARD_DRAFT_AUDIT_SUBMIT, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				if (args.auditResult) this.memberCard.status = 2;else this.memberCard.status = 0;
				this.memberCardDraftAudit = {
					auditResult: null,
					remark: null
				};
				this.queryMemberCardDraftAudit();
				this.queryMemberCardDraft(this.query.page);
			}, true);
		},

		queryMemberCardDraftAudit() {
			let args = { mcdId: this.memberCard.mcdId };
			$.Req.service($.SvName.MEMBER_CARD_DRAFT_AUDIT_QUERY, args, ret => {
				this.memberCardDraftAuditList = ret.mcdaList;
			});
		},

		deleteMemberCardDraft() {
			if (!this.memberCard.mcdId) return;

			if (!confirm('确定删除该审核单吗')) {
				return;
			}
			let args = { mcdId: this.memberCard.mcdId };
			$.Req.service($.SvName.MEMBER_CARD_DRAFT_DELETE, args, ret => {
				this.dlgView.mcdDetail = false;
				this.queryMemberCardDraft();
			}, true);
		}
	}
});

/***/ }),

/***/ 1306:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__member_card_payment_create_vue__ = __webpack_require__(1190);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__member_card_payment_create_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__member_card_payment_create_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__member_card_vacation_edit_vue__ = __webpack_require__(2068);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__member_card_vacation_edit_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__member_card_vacation_edit_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__member_card_vacation_query_vue__ = __webpack_require__(409);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__member_card_vacation_query_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__member_card_vacation_query_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__member_card_create_vue__ = __webpack_require__(1189);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__member_card_create_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__member_card_create_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__member_card_update_vue__ = __webpack_require__(2067);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__member_card_update_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__member_card_update_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__member_card_transfer_vue__ = __webpack_require__(2066);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__member_card_transfer_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__member_card_transfer_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_card_edit_vue__ = __webpack_require__(1123);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_card_edit_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__components_card_edit_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_help__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_help___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8__components_help__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__member_card_consume_records_vue__ = __webpack_require__(1188);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__member_card_consume_records_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9__member_card_consume_records_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__member_card_payment_sales_vue__ = __webpack_require__(2064);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__member_card_payment_sales_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10__member_card_payment_sales_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__spp_mc_consume_log_vue__ = __webpack_require__(2074);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__spp_mc_consume_log_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11__spp_mc_consume_log_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__tenant_tenant_mp_auth_vue__ = __webpack_require__(864);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__tenant_tenant_mp_auth_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12__tenant_tenant_mp_auth_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__member_card_value_detail_vue__ = __webpack_require__(2069);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__member_card_value_detail_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13__member_card_value_detail_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__member_card_transfer_log_vue__ = __webpack_require__(2065);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__member_card_transfer_log_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14__member_card_transfer_log_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

















/* harmony default export */ __webpack_exports__["default"] = ({
  components: {
    MemberCardValueDetail: __WEBPACK_IMPORTED_MODULE_13__member_card_value_detail_vue___default.a,
    TenantMpAuth: __WEBPACK_IMPORTED_MODULE_12__tenant_tenant_mp_auth_vue___default.a,
    PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a,
    CardPaymentCreate: __WEBPACK_IMPORTED_MODULE_1__member_card_payment_create_vue___default.a,
    MemberCardVacationQuery: __WEBPACK_IMPORTED_MODULE_3__member_card_vacation_query_vue___default.a,
    MemberCardVacationEdit: __WEBPACK_IMPORTED_MODULE_2__member_card_vacation_edit_vue___default.a,
    CardInfo: __WEBPACK_IMPORTED_MODULE_7__components_card_edit_vue___default.a,
    MemberCardCreate: __WEBPACK_IMPORTED_MODULE_4__member_card_create_vue___default.a,
    MemberCardUpdate: __WEBPACK_IMPORTED_MODULE_5__member_card_update_vue___default.a,
    MemberCardTransfer: __WEBPACK_IMPORTED_MODULE_6__member_card_transfer_vue___default.a,
    Help: __WEBPACK_IMPORTED_MODULE_8__components_help___default.a,
    MemberCardConsumeRecords: __WEBPACK_IMPORTED_MODULE_9__member_card_consume_records_vue___default.a,
    MemberCardPaymentSales: __WEBPACK_IMPORTED_MODULE_10__member_card_payment_sales_vue___default.a,
    SppMcConsumeLog: __WEBPACK_IMPORTED_MODULE_11__spp_mc_consume_log_vue___default.a,
    MemberCardTransferLog: __WEBPACK_IMPORTED_MODULE_14__member_card_transfer_log_vue___default.a
  },
  data() {
    return {
      g: window.$,
      memberCreatePermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_CREATE.value),
      memberCardChangePermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_CARD_CHANGE.value),
      memberAgentPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_AGENT.value),
      memberCardVacationPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_CARD_VACATION.value),
      memberCardPaymentPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_CARD_PAYMENT.value),
      memberCardTransferPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_CARD_TRANSFER.value),
      memberCardPausePermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_CARD_PAUSE.value),
      courseEditPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.COURSE_EDIT.value),
      memberCardDraftCreatePermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_CARD_DRAFT_CREATE.value, true),
      selectCard: { mcId: null, cardType: null, cardName: null, cardId: null },
      memberId: null,
      memberName: $.Util.sessionStore.get($.Conf.LocalSessionKey.MEMBER_NAME),
      menuList: $.PageMenus.member(this.$route.params.memberId, "member-card-list"),
      memberCardList: [],
      dlgView: {
        cardPaymentQuery: false,
        cardPaymentCreate: false,
        cardVacationQuery: false,
        cardVacationCreate: false,
        cardVacationCancel: false,
        cardCreate: false,
        cardUpdate: false,
        cardTransfer: false,
        mcConsumeRecords: false,
        stopCard: false,
        cardStatusLog: false,
        cardPaymentChangeLog: false,
        cardPaymentTimeUpdate: false,
        cardDelDlg: false,
        cardPaymentSalesUpdate: false,
        memberCardSync: false,
        cardInfo: false,
        mcBaseInfo: false,
        mcRemarkView: false,
        vacationExtend: false,
        mcpTimeChangeLog: false,
        mcEndDateChangeHelp: null,
        mcEndDateChangeRemark: null,
        cardTransferLog: null,
        mcValueDetailDlg: null
      },
      cardDelRemark: null,
      dlg: {
        cardType: null,
        cardPaymentList: [],
        cardStatusLogList: [],
        cardChangeLogList: [],
        salesList: null,
        selectSalesId: null,
        selectCardId: null
      },
      selectMcId: 0,
      selectMc: {},
      selectMcp: null,
      selectCardName: null,
      transferCardName: null,
      transferMemberCard: {},
      stopCardRemark: null,
      stopMcStatus: 1,
      cardPaymentDate: null,
      cardPaymentTime: null,
      selectMcpId: null,
      now: null,
      hasMoreShops: false,
      hidePausedCard: false,
      hideInvalidCard: null,
      memberCardPaymentDelLogList: null,
      vacationExtend: {
        endDate: null,
        remark: null
      },
      cardPaymentChangeRemark: null,
      mcpTimeChangeLogList: null,
      mcEndDateNew: null,
      mcEndDate: null,
      mcRechargeRemark: null,
      mcpContractMap: {},

      // pos
      isPosArg: false,
      posPayRole: $.Util.hasRoleFunc($.Dict.RoleFunc.POS_PAY.value)
    };
  },

  created() {
    this.shopArgQuery(); // pos
    if (!this.$route.params.memberId) {
      this.$router.push("/member-query");
      return;
    }
    this.memberId = parseInt(this.$route.params.memberId);

    // load member base
    $.Req.queryMemberBase(this.memberId, (ret, systime) => {
      this.now = Date.new(systime);
      let member = ret.member;
      this.memberName = member.name;
      $.Util.sessionStore.set($.Conf.LocalSessionKey.MEMBER_NAME, this.memberName);
    });

    this.loadMemberCards();

    if ($.data.tenantList && $.data.tenantList[0].shopCount > 1) {
      this.hasMoreShops = true;
    } else if ($.data.tenant && $.data.tenant.shopCount > 1) {
      this.hasMoreShops = true;
    }

    if ($.Util.cookie.get($.Conf.CookieKeys.HIDE_INVALID_CARD) === "true") {
      this.hidePausedCard = true;
    }
  },

  methods: {
    shopArgQuery(callback) {
      // pos
      let args = { typeId: $.Dict.ShopArg.POS_ENABLE };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
        if (ret.value === "false" || !ret.value) {
          this.isPosArg = false;
        } else if (ret.value === "true") {
          this.isPosArg = true;
        }
        if (callback) {
          callback();
        }
      });
    },
    loadMemberCards() {
      $.Req.service($.SvName.MEMBER_CARD_QUERY, { memberId: this.memberId, orderByDesc: true }, (ret, systime) => {
        let today = Date.new(systime);
        for (let c of ret.memberCardList) {
          c.isValid = $.MemberLib.isValidMemberCard(c, today);
          if (c.beginDate && c.endDate) {
            if (Date.new(c.beginDate).compareDatePart(today) <= 0) c.leftDays = Date.new(c.endDate).subtract(today);else c.leftDays = Date.new(c.endDate).subtract(Date.new(c.beginDate));
          }
        }
        this.memberCardList = ret.memberCardList;
      }, true);
    },

    isInVacation(c) {
      const today = new Date();
      return c.vacationBegin && c.vacationEnd &&
      //&& today.compareDatePart(new Date(c.vacationBegin)) >= 0
      today.compareDatePart(Date.new(c.vacationEnd)) <= 0;
    },

    queryCardPayment(mc) {
      this.selectMc = mc;
      this.selectCardName = mc.cardName;
      $.Req.service($.SvName.MEMBER_CARD_PAYMENT_QUERY, { mcId: mc.mcId }, ret => {
        this.dlg.cardType = mc.cardType;
        this.dlg.cardTimeType = mc.cardTimeType;

        // pos 给最近不是pos支付添加一个是否显示删除按钮的属性
        const idx = ret.memberCardPaymentList.findIndex(item => item.paymentChannel !== 8);
        if (idx !== -1) {
          ret.memberCardPaymentList[idx].isDelete = true;
        }
        this.dlg.cardPaymentList = ret.memberCardPaymentList;
        this.dlgView.cardPaymentQuery = true;

        let mcpIdList = [];
        for (let c of ret.memberCardPaymentList) mcpIdList.push(c.mcpId);
        if (mcpIdList.length > 0) {
          this.queryMemberContract(mc.memberId, mcpIdList);
        }
      });
      this.queryMemberCardPaymentDelLog(mc.mcId);
    },

    createCardPayment(c) {
      // pos 续卡时提前判断是否是强制pos支付的卡
      $.Req.service($.SvName.CARD_QUERY, {
        queryType: 1,
        cardId: c.cardId
      }, ret => {
        if (ret.cardList && ret.cardList.length) {
          let card = ret.cardList[0];
          if (card.isOfflineSaleForPos && !this.isPosArg) {
            $.Dlg.info("该卡为强制POS机支付，门店未开启POS机支付！");
            return;
          }

          if (card.isOfflineSaleForPos && !this.posPayRole) {
            $.Dlg.info("您没有POS机支付权限！");
            return;
          }
          this.selectCard = {};
          $.Util.copyAttributes(c, this.selectCard);
          this.dlgView.cardPaymentCreate = true;
        }
      });
    },
    createCardVacation(mc) {
      if (!mc.beginDate) {
        $.Msg.warning("尚未开卡，无需请假");
        return;
      }
      if (this.isInVacation(mc)) {
        $.Dlg.warning("该会员卡已在请假中，如想修改请假，请撤销当前的请假。");
        return;
      }
      if (mc.endDate && Date.new(mc.endDate).compareDatePart(new Date()) < 0) {
        $.Dlg.warning("该会员卡已过期，无法请假。");
        return;
      }

      this.selectCard = {
        mcId: mc.mcId,
        cardType: mc.cardType,
        cardName: mc.cardName
      };
      this.dlgView.cardVacationCreate = true;
    },

    openVacationExtendDlg(mc) {
      this.selectMc = mc;
      this.dlgView.vacationExtend = true;
    },

    cancelCardVacation(mc) {
      this.selectCard = {
        mcId: mc.mcId,
        cardType: mc.cardType,
        cardName: mc.cardName,
        vacationBegin: mc.vacationBegin,
        vacationEnd: mc.vacationEnd
      };
      this.dlgView.cardVacationCancel = true;
    },

    afterCreateCardPayment() {
      this.dlgView.cardPaymentCreate = false;
      this.loadMemberCards();
    },

    afterCreateCardVacation() {
      this.dlgView.cardVacationCreate = false;
      this.loadMemberCards();
    },

    afterCancelCardVacation() {
      this.dlgView.cardVacationCancel = false;
      this.loadMemberCards();
    },

    createMemberCard() {
      this.dlgView.cardCreate = true;
    },

    afterCreateCard() {
      this.dlgView.cardCreate = false;
      this.loadMemberCards();
    },

    handleUpdateCardPayment(mcId) {
      if (!this.memberCardChangePermit) {
        $.Dlg.warning("您尚无【会员卡充值修改】权限，<p></p>请联系店长给您开通此权限。 （ 员工 》 角色与权限 ）");
        return;
      }
      this.selectMcId = mcId;
      this.dlgView.cardUpdate = true;
    },

    afterUpdateCard(success = true) {
      this.dlgView.cardUpdate = false;
      if (success) {
        this.loadMemberCards();
      }
    },

    transferCard(memberCard) {
      // 有效卡判断
      if (memberCard.leftDays < 0) {
        $.Dlg.error("此卡已过有效期，无法转卡。");
        return;
      } else if (memberCard.cardType === 2) {
        if (memberCard.currentTimes <= 0) {
          $.Dlg.error("此卡已无次数，无法转卡。");
          return;
        }
      } else if (memberCard.cardType === 3) {
        if (memberCard.currentAmount <= 0) {
          $.Dlg.error("此卡已无余额，无法转卡。");
          return;
        }
      } else if (memberCard.cardType === 4) {
        if (memberCard.currentTimes <= 0) {
          $.Dlg.error("此卡已无剩余时间，无法转卡。");
          return;
        }
      }

      this.transferCardName = memberCard.cardName;
      this.transferMemberCard = memberCard;
      this.dlgView.cardTransfer = true;
    },

    stopMemberCard(mcId, cardName) {
      this.selectMcId = mcId;
      this.selectCardName = cardName;
      this.stopCardRemark = null;
      this.dlgView.stopCard = true;
    },

    restoreMemberCard(mcId) {
      if (!confirm("确定恢复此卡吗？")) {
        return;
      }

      let args = {
        mcId: mcId,
        status: 0
      };
      $.Req.service($.SvName.MEMBER_CARD_STATUS_UPDATE, args, ret => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.loadMemberCards();
      }, true);
    },

    submitStopCard() {
      if (!confirm("会员卡停用后不能使用，确定停用吗？ ")) {
        return;
      }
      if (!this.stopCardRemark) {
        $.Dlg.error("请输入停用原因");
        return;
      }

      let args = {
        mcId: this.selectMcId,
        status: this.stopMcStatus,
        remark: this.stopCardRemark
      };
      $.Req.service($.SvName.MEMBER_CARD_STATUS_UPDATE, args, ret => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.dlgView.stopCard = false;
        this.loadMemberCards();
      }, true);
    },

    queryMemberCardStatusLog(mcId) {
      let args = { mcId: mcId };
      $.Req.service($.SvName.MEMBER_CARD_STATUS_LOG_QUERY, args, ret => {
        this.dlg.cardStatusLogList = ret.logList;
        this.dlgView.cardStatusLog = true;
      }, true);
    },

    queryMemberCardChangeLog(mcId) {
      let args = { mcId: mcId };
      $.Req.service($.SvName.MEMBER_CARD_CHANGE_LOG_QUERY, args, ret => {
        this.dlgView.cardPaymentChangeLog = true;
        this.dlg.cardChangeLogList = ret.logList;
      }, true);
    },

    openChangePaymentTimeDlg(mcpId) {
      this.selectMcpId = mcpId;
      this.cardPaymentChangeRemark = null;
      this.cardPaymentDate = null;
      this.cardPaymentTime = null;
      this.dlgView.cardPaymentTimeUpdate = true;
    },

    changePaymentTime() {
      if (!this.cardPaymentDate) {
        $.Msg.warning("请输入充值日期");
        return;
      }
      if (!this.cardPaymentTime) {
        $.Msg.warning("请输入充值时间");
        return;
      }
      let dt = $.Util.formatDate(this.cardPaymentDate) + " " + this.cardPaymentTime + ":00";
      let args = {
        mcpId: this.selectMcpId,
        createTime: dt,
        remark: this.cardPaymentChangeRemark
      };
      $.Req.service($.SvName.MEMBER_CARD_PYAMENT_TIME_UPDATE, args, ret => {
        this.dlgView.cardPaymentTimeUpdate = false;
        this.dlgView.cardPaymentQuery = false;
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.cardPaymentDate = null;
        this.cardPaymentTime = null;
      });
    },

    deleteCard(mc) {
      this.selectMc = mc;
      this.selectMcId = mc.mcId;
      this.cardDelRemark = null;
      this.dlgView.cardDelDlg = true;
    },

    submitDelCard() {
      if (!this.cardDelRemark) {
        $.Msg.error("请填写删除原因");
        return;
      }

      let msg = "您确定删除该会员的【{0}】吗？ ".format(this.selectMc.cardName);
      $.Dlg.confirm(msg, yes => {
        let args = { mcId: this.selectMcId, delRemark: this.cardDelRemark };
        $.Req.service($.SvName.MEMBER_CARD_DELETE, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.dlgView.cardDelDlg = false;
          this.loadMemberCards();
        }, true);
      });
    },

    afterTransferCard() {
      this.dlgView.cardTransfer = false;
      this.loadMemberCards();
    },

    deleteMemberCardPayment(mcpId) {
      let msg = "您确定要删除该充值记录吗？ ";
      $.Dlg.confirm(msg, yes => {
        let args = { mcpId: mcpId };
        $.Req.service($.SvName.MEMBER_CARD_PAYMENT_DELETE, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.dlgView.cardPaymentQuery = false;
          this.loadMemberCards();
        }, true);
      });
    },

    querySales() {
      // query staff as sales
      $.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
        this.dlg.salesList = ret.staffList;
      });
    },

    openChangePaymentSalesDlg(mcp) {
      //if (!this.dlg.salesList) this.querySales();
      this.selectMcp = mcp;
      this.dlg.selectSalesId = null;
      this.selectMcpId = mcp.mcpId;
      this.dlgView.cardPaymentSalesUpdate = true;
    },

    changePaymentSales() {
      let args = { mcpId: this.selectMcpId, salesId: this.dlg.selectSalesId };
      $.Req.service($.SvName.MEMBER_CARD_PYAMENT_SALES_UPDATE, args, ret => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.dlgView.cardPaymentSalesUpdate = false;
        this.dlgView.cardPaymentQuery = false;
      });
    },

    syncMemberCard() {
      let args = { memberId: this.memberId };
      $.Req.service($.SvName.MEMBER_CARD_SYNC, args, ret => {
        $.Msg.success("同步结束");
        this.loadMemberCards();
        this.dlgView.memberCardSync = false;
      });
    },

    onCloseCardUpdate() {
      this.dlgView.cardUpdate = false;
    },

    changeHidePausedCard(val) {
      $.Util.cookie.set($.Conf.CookieKeys.HIDE_INVALID_CARD, val, 365);
    },

    openCardInfoDlg(cardId) {
      this.dlg.selectCardId = cardId;
      this.dlgView.cardInfo = true;
    },

    openCardBaseDlg(mc) {
      this.selectMc = {};
      $.Util.copyAttributes(mc, this.selectMc);
      this.selectMcId = mc.mcId;
      this.dlgView.mcBaseInfo = true;
    },

    updateMemberCardBaseInfo() {
      if (this.selectMc.remark && this.selectMc.remark.length > 200) {
        $.Msg.error("备注不能超过200字");
        return;
      }
      if (this.selectMc.idNo) {
        if (!$.Util.validateIdNo(this.selectMc.idNo)) {
          $.Msg.error("身份证号格式有误");
          return;
        }
      }
      let args = {
        memberId: this.memberId,
        mcId: this.selectMcId,
        cardNo: this.selectMc.cardNo,
        cardOutsideNo: this.selectMc.cardOutsideNo,
        limitVacationCount: this.selectMc.limitVacationCount,
        limitVacationDays: this.selectMc.limitVacationDays,
        remark: this.selectMc.remark,
        idNo: this.selectMc.idNo
      };
      $.Req.service($.SvName.MEMBER_CARD_BASE_INFO_UPDATE, args, ret => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.dlgView.mcBaseInfo = false;
        this.loadMemberCards();
      });
    },

    openMcRemarkDlg(mc) {
      this.selectMc = mc;
      this.dlgView.mcRemarkView = true;
    },

    queryCardVacation(mcId) {
      this.selectMcId = mcId;
      this.dlgView.cardVacationQuery = true;
    },

    queryMemberCardConsumeRecords(mc) {
      this.selectMc = mc;
      this.dlgView.mcConsumeRecords = true;
    },

    printMemberCardPayment(id) {
      let shopName = $.data.tenant.tenantName === $.data.shop.shopName ? $.data.shop.shopName : $.data.tenant.tenantName + "<br>" + $.data.shop.shopName;
      $.Util.printForPos(id, shopName);
    },

    queryMemberCardPaymentDelLog(mcId) {
      let args = { mcId: mcId };
      $.Req.service($.SvName.MEMBER_CARD_PAYMENT_DEL_LOG_QUERY, args, ret => {
        this.memberCardPaymentDelLogList = ret.logList;
      });
    },

    afterSaveSales(salesConfStr, salesConfList) {
      this.dlgView.cardPaymentSalesUpdate = false;
      this.selectMcp.salesConfList = salesConfList;
    },

    extendVacation() {
      if (!this.vacationExtend.endDate) {
        $.Msg.error("请输入结束日期");
        return;
      }
      if (this.vacationExtend.endDate.compareDatePart(this.selectMc.vacationEnd) < 0) {
        $.Msg.error("续假结束日期必须大于之前的请假结束日期");
        return;
      }
      let args = {
        mcId: this.selectMc.mcId,
        vacationEnd: this.vacationExtend.endDate,
        remark: this.vacationExtend.remark
      };
      $.Req.service($.SvName.MEMBER_CARD_VACATION_UPDATE, args, ret => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.dlgView.vacationExtend = false;
        this.loadMemberCards();
      }, false);
    },

    queryMcpTimeChangeLog(mcpId) {
      let args = { mcpId: mcpId };
      $.Req.service($.SvName.MCP_TIME_CHANGE_LOG_QUERY, args, ret => {
        this.mcpTimeChangeLogList = ret.logList;
        this.dlgView.mcpTimeChangeLog = true;
      }, true);
    },

    openMcEndDateChangeHelpDlg(mc) {
      this.mcEndDateNew = null;
      this.selectMc = mc;
      this.mcEndDate = mc.endDate;
      if (Date.new(this.mcEndDate).compareDatePart(new Date()) < 0) {
        this.mcEndDate = new Date();
      }
      this.dlgView.mcEndDateChangeHelp = true;
    },

    openMcEndDateChangeRemarkDlg() {
      this.mcRechargeRemark = null;
      this.dlgView.mcEndDateChangeRemark = true;
    },

    submitMcPaymentCreate() {
      let mcp = {
        memberId: this.selectMc.memberId,
        mcId: this.selectMc.mcId,
        paymentChannel: 5,
        paymentAmount: 0,
        usableAmount: 0,
        usableTimes: 0,
        usableDays: $.Util.calcDateDiffDays(this.mcEndDateNew, this.mcEndDate),
        expBeginDate: null,
        expEndDate: null,
        remark: this.mcRechargeRemark
      };
      let args = { memberCardPayment: mcp };
      $.Req.service($.SvName.MEMBER_CARD_PAYMENT_CREATE, args, ret => {
        $.Msg.success("充值成功");
        this.dlgView.mcEndDateChangeRemark = false;
        this.dlgView.mcEndDateChangeHelp = false;
        this.loadMemberCards();
      }, true);
    },

    linkToPcScheduleCreation(mc) {
      let usableTimes = mc.cardType == 2 ? mc.currentTimes : 0;
      let avgPrice = mc.avgPrice ? mc.avgPrice : 0;
      let lessonDates = "0";
      if (mc.beginDate && mc.endDate) {
        lessonDates = "{0}_{1}".format($.Util.formatDate(mc.beginDate), $.Util.formatDate(mc.endDate));
      }
      let page = "/private-course-schedule-create/{0}/{1}/{2}/{3}?chooseCardId={4}&mcId={5}".format(mc.memberId, usableTimes, avgPrice, lessonDates, mc.cardId, mc.mcId);
      this.$router.push(page);
    },

    queryMemberContract(memberId, mcpIdList) {
      let args = { memberId: memberId, mcpIdList: mcpIdList };
      $.Req.service($.SvName.MEMBER_CONTRACT_QUERY, args, ret => {
        this.mcpContractMap = {};
        for (let c of ret.memberContractList) {
          this.mcpContractMap[c.mcpId] = c.contractImgName;
        }
      });
    },

    altCardVacation(mc) {
      if (!confirm("确定提前销假吗？ 确定后会将请假结束日期自动修改到昨天。")) {
        return;
      }

      let args = {
        mcId: mc.mcId,
        vacationEnd: new Date(new Date().getTime() - 24 * 3600 * 1000)
      };
      $.Req.service($.SvName.MEMBER_CARD_VACATION_UPDATE, args, (ret, systime) => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.loadMemberCards();
      }, true);
    },

    handleMcVacationOpt(menu) {
      let arr = menu.split("-");
      let menuName = arr[0],
          mcIdx = arr[1];
      let mc = this.memberCardList[mcIdx];
      if (menuName === "continue") {
        this.openVacationExtendDlg(mc);
      } else if (menuName === "cancel") {
        this.cancelCardVacation(mc);
      } else if (menuName === "alt") {
        this.altCardVacation(mc);
      }
    },

    openMcValueDetailDlg(mc) {
      if (!this.memberCardPaymentPermit) return;

      this.selectMc = mc;
      this.selectMcId = mc.mcId;
      this.dlgView.mcValueDetailDlg = true;
    },

    updateMemberCardCurrentValue(value) {
      if (this.selectMc.cardType === 3) this.selectMc.currentAmount = value;else this.selectMc.currentTimes = value;
    },

    queryMemberCardTransferLog(mcId) {
      this.selectMcId = mcId;
      this.dlgView.cardTransferLog = true;
    }
  }
});

/***/ }),

/***/ 1307:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_time_select__ = __webpack_require__(405);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_time_select___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_sys_time_select__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__ = __webpack_require__(1094);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__member_card_payment_create_vue__ = __webpack_require__(1190);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__member_card_payment_create_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__member_card_payment_create_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//







/* harmony default export */ __webpack_exports__["default"] = ({
	components: { TimeSelect: __WEBPACK_IMPORTED_MODULE_1__components_sys_time_select___default.a, PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_4__pages_member_member_base_info_vue___default.a, MemberSelect: __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default.a, MemberCardPaymentCreate: __WEBPACK_IMPORTED_MODULE_3__member_card_payment_create_vue___default.a },
	data() {
		return {
			g: window.$,
			memberCardPaymentDraftList: null,
			memberDraftCount: null,
			query: {
				status: null,
				beginDate: null,
				endDate: null,
				createUid: null,
				auditStaffId: null,
				page: null
			},
			staffList: null,
			dlgView: {
				mcpdDetail: false
			},
			memberSelectDlgForQuery: false,
			mcpDraft: {},
			enableMemberCardPaymentDraftSbumitSms: null,
			enableMemberCardPaymentDraftAuditSms: null,
			enableMemberCardPaymentDraftSbumitWx: null,
			enableMemberCardPaymentDraftAuditWx: null,
			confDlg: null,
			viewMemberDlg: null,
			viewMemberId: null,
			memberCardDraftCreatePermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_CARD_DRAFT_CREATE.value),
			memberCardDraftAuditPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_CARD_DRAFT_CHECK.value),
			memberCardPaymentDraftAuditList: null,
			memberCardPaymentDraftAudit: {
				auditResult: null,
				remark: null
			},
			memberCard: {}
		};
	},

	created() {
		this.queryStaffList();
		this.queryMemberCardPaymentDraft();
		this.queryShopArgs();
	},

	methods: {
		queryShopArgs() {
			let args = { typeIdList: [2073, 2074, 2084, 2085] };
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
				for (let t of ret.argList) {
					if (t.typeId === 2073) this.enableMemberCardPaymentDraftSbumitSms = t.typeValue === 'true';else if (t.typeId === 2074) this.enableMemberCardPaymentDraftAuditSms = t.typeValue === 'true';else if (t.typeId === 2084) this.enableMemberCardPaymentDraftSbumitWx = t.typeValue === 'true';else if (t.typeId === 2085) this.enableMemberCardPaymentDraftAuditWx = t.typeValue === 'true';
				}
			});
		},

		queryStaffList() {
			if ($.data.user.isShopOwner) {
				$.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
					this.staffList = ret.staffList;
				});
			} else {
				let staff = { name: $.data.user.uname, staffId: $.data.user.staffId, uid: $.data.user.uid };
				this.staffList = [staff];
				if (this.memberCardDraftAuditPermit) {
					this.query.auditStaffId = staff.staffId;
				} else if (this.memberCardDraftCreatePermit) {
					this.query.createUid = staff.uid;
				}
			}
		},

		queryMemberCardPaymentDraft(page = null) {
			this.query.page = page;
			if (!$.data.user.isShopOwner) {
				if (!this.query.createUid && !this.query.auditStaffId) {
					$.Dlg.warning('请选择创建人或审核人');
					return;
				}
			}
			let args = {
				status: this.query.status,
				createUid: this.query.createUid,
				auditStaffId: this.query.auditStaffId,
				memberId: this.query.memberId,
				beginCreateDate: this.query.beginDate,
				endCreateDate: this.query.endDate,
				page: page
			};
			$.Req.service($.SvName.MEMBER_CARD_PAYMENT_DRAFT_QUERY, args, ret => {
				this.memberCardPaymentDraftList = ret.memberCardPaymentDraftList;
				if (!page) {
					this.memberDraftCount = ret.count;
				}
			}, true);
		},

		viewMemberCardPaymentDraftDetail(m) {
			this.mcpDraft = {};
			$.Util.copyAttributes(m, this.mcpDraft);
			this.queryMemberCardPaymentDraftAudit();

			let args = { mcId: m.mcId, memberId: m.memberId };
			$.Req.service($.SvName.MEMBER_CARD_QUERY, args, ret => {
				this.memberCard = ret.memberCard;
				this.dlgView.mcpdDetail = true;
			}, true);
		},

		deleteMemberCardPaymentDraft() {
			if (!this.mcpDraft.mcpdId) return;

			if (!confirm('确定删除该审核单吗')) {
				return;
			}
			let args = { mcpdId: this.mcpDraft.mcpdId };
			$.Req.service($.SvName.MEMBER_CARD_DRAFT_DELETE, args, ret => {
				this.dlgView.mcpdDetail = false;
				this.queryMemberCardPaymentDraft(this.query.page);
			}, true);
		},

		afterCreateCardPayment() {
			this.dlgView.mcpdDetail = false;
			this.queryMemberCardPaymentDraft();
		},

		afterSelectMemberForQuery(m) {
			this.query.memberId = m.memberId;
			this.query.memberName = m.name;
			this.queryMemberCardPaymentDraft();
			this.memberSelectDlgForQuery = false;
		},

		viewMemberBase(memberId) {
			this.viewMemberId = memberId;
			this.viewMemberDlg = true;
		},

		submitMemberCardPaymentDraftAudit() {
			if (!this.memberCardPaymentDraftAudit.auditResult && !this.memberCardPaymentDraftAudit.remark) {
				$.Msg.warning('审核不通过时，请在备注中填写不通过的具体原因。');
				return;
			}
			let args = {
				mcpdId: parseInt(this.mcpDraft.mcpdId),
				auditResult: Boolean(this.memberCardPaymentDraftAudit.auditResult),
				remark: this.memberCardPaymentDraftAudit.remark
			};
			$.Req.service($.SvName.MEMBER_CARD_PAYMENT_DRAFT_AUDIT_SUBMIT, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				if (args.auditResult) this.mcpDraft.status = 2;else this.mcpDraft.status = 0;
				this.memberCardPaymentDraftAudit = {
					auditResult: null,
					remark: null
				};
				this.queryMemberCardPaymentDraftAudit();
				this.queryMemberCardPaymentDraft(this.query.page);
			}, true);
		},

		queryMemberCardPaymentDraftAudit() {
			let args = { mcpdId: this.mcpDraft.mcpdId };
			$.Req.service($.SvName.MEMBER_CARD_PAYMENT_DRAFT_AUDIT_QUERY, args, ret => {
				this.memberCardPaymentDraftAuditList = ret.mcpdaList;
			});
		}
	}
});

/***/ }),

/***/ 1308:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_help_vue__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_help_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
  components: { MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default.a, Help: __WEBPACK_IMPORTED_MODULE_1__components_help_vue___default.a },
  data() {
    return {
      g: $,
      today: null,
      canQueryAll: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_QUERY_ALL.value),
      salesViewMembDisable: $.Util.hasDisableRoleFunc($.Dict.RoleFunc.SALES_VIEW_MEMBERS_DISABLE.value),
      setMemberAdvisorPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.SET_MEMBER_ADVISOR.value),
      setMemberCoachPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.SET_MEMBER_COACH.value),
      viewMemberId: 0,
      viewMemberDlg: false,
      dict: {
        salesList: [],
        advisorList: [],
        coachList: []
      },
      totalCount: null,
      sumOfCurrentTimes: null,
      sumOfCurrentAmount: null,
      sumOfPaymentAmount: null,
      totalPages: null,
      memberCardList: [],
      cardList: [],
      allowSelectMoreCardIds: null,
      query: {
        cardType: 1,
        cardId: null,
        cardIdList: [],
        salesId: null,
        coachId: null,
        advisorId: null,
        dateType: 1,
        createDateRange: [],
        balanceBegin: 1,
        balanceEnd: 999999,
        isUnUsed: null,
        isOutdate: null,
        balanceType: 1,
        page: null,
        ignoreCrossMember: null,
        psCoachId: null,
        mcStatusList: [0, null, null]
      },
      cardQueryViewType: 1,
      exportDlg: false,
      exportFileUrl: null,
      isShowMemberPhoneNo: null,
      selectPhoneNo: null,
      createDateOption: {
        shortcuts: [{
          text: "最近一周",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);
            return [start, end];
          }
        }, {
          text: "最近一个月",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);
            return [start, end];
          }
        }, {
          text: "最近三个月",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);
            return [start, end];
          }
        }, {
          text: "最近半年",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 180);
            return [start, end];
          }
        }]
      },
      assignMemberCoachList: [],
      assignCoachMethod: 1,
      assignCoachDlg: false,
      selectMemberPermit: null,
      isSelectAll: false,
      memberCkList: new Array(50),
      queryPage: null,
      shopCountInTenant: null
    };
  },

  created() {
    this.selectMemberPermit = this.setMemberAdvisorPermit || this.setMemberCoachPermit;
    this.resetQuery();
    this.parseParams();

    // query dict
    if (this.canQueryAll) {
      // query staff as sales
      $.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
        this.dict.salesList = ret.staffList;
        if (this.$route.query.salesId) this.query.salesId = parseInt(this.$route.query.salesId);
      });

      // query coach
      $.Req.service($.SvName.COACH_BASE_QUERY, {}, ret => {
        this.dict.coachList = ret.coachList;
        if (this.$route.query.coachId) this.query.coachId = parseInt(this.$route.query.coachId);
        if (this.$route.query.psCoachId) this.query.coachId = parseInt(this.$route.query.psCoachId);
      });

      // query staff as advisor
      $.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true, sysRid: $.Dict.SysRole.ADVISOR }, ret => {
        this.dict.advisorList = ret.staffList;
        if (this.$route.query.advisorId) this.query.advisorId = parseInt(this.$route.query.advisorId);
      });

      this.queryCard(() => {
        if (this.$route.query.cardId) this.query.cardId = parseInt(this.$route.query.cardId);
        this.queryMemberCard(this.query.page);
      });
    } else {
      let self = { staffId: $.data.user.staffId, name: $.data.user.uname };
      this.dict.salesList = [self];
      this.dict.coachList = [self];
      this.dict.advisorList = [self];

      this.queryCard();
    }
    this.queryCoachTypes();
    this.queryShopCountInTenant();
  },

  methods: {
    parseParams() {
      if (this.$route.query.page) this.query.page = parseInt(this.$route.query.page);
      if (this.$route.query.count) this.totalCount = parseInt(this.$route.query.count);
      if (!$.Util.isEmpty(this.$route.query.balanceBegin)) this.query.balanceBegin = parseInt(this.$route.query.balanceBegin);
      if (!$.Util.isEmpty(this.$route.query.balanceEnd)) this.query.balanceEnd = parseInt(this.$route.query.balanceEnd);
      if (this.$route.query.cardType) this.query.cardType = parseInt(this.$route.query.cardType);
      if (this.$route.query.balanceType) this.query.balanceType = parseInt(this.$route.query.balanceType);
      if (this.$route.query.beginCreateDate && this.$route.query.endCreateDate) {
        if (this.$route.query.dateType) this.query.dateType = parseInt(this.$route.query.dateType);
        this.query.createDateRange = [Date.new(this.$route.query.beginCreateDate), Date.new(this.$route.query.endCreateDate)];
      }
      if (this.$route.query.unUsed) {
        this.query.balanceBegin = null;
        this.query.balanceEnd = null;
        this.query.unUsed = this.$route.query.unUsed === "true";
      }
      if (this.$route.query.isOutdate) {
        this.query.balanceBegin = null;
        this.query.balanceEnd = null;
        this.query.isOutdate = this.$route.query.isOutdate === "true";
      }
      this.query.ignoreCrossMember = this.$route.query.ignoreCrossMember === "true";
      if (this.$route.query.cardIds) {
        this.cardQueryViewType = 2;
        this.allowSelectMoreCardIds = true;
        let arr = this.$route.query.cardIds.split(",");
        this.query.cardIdList = [];
        for (let value of arr) this.query.cardIdList.push(parseInt(value));
      }
    },

    handleChangeCardType(cardType) {
      this.query.cardType = parseInt(cardType);
      this.query.cardId = null;
      this.query.cardIdList = [];
      this.query.balanceType = parseInt(cardType);
      this.queryCard(this.queryMemberCard);
    },

    handleChangeCardId(cardId) {
      this.query.cardId = cardId;
      this.query.unUsed = null;
      this.queryMemberCard();
    },

    queryCard(callback) {
      $.Req.service($.SvName.CARD_QUERY, { cardType: this.query.cardType }, (ret, systime) => {
        this.today = Date.new(systime);
        this.cardList = ret.cardList;
        if (callback) callback();
      });
    },

    handleQuerySubmit() {
      this.query.isOutdate = null;
      this.query.unUsed = null;
      this.queryMemberCard();
    },

    queryMemberCard(page = null, isExport = null) {
      if (!$.data.user.isShopOwner && !this.canQueryAll) {
        if (!this.query.salesId && !this.query.coachId && !this.query.advisorId && !this.query.psCoachId) {
          $.Dlg.error("请至少输入一个查询条件（销售、会员教练、会籍顾问、私教）");
          return;
        }
      }
      if (!$.Util.isEmpty(this.query.balanceBegin) && $.Util.isEmpty(this.query.balanceEnd) || $.Util.isEmpty(this.query.balanceBegin) && !$.Util.isEmpty(this.query.balanceEnd)) {
        $.Dlg.error("请输入完整的【剩余】值范围");
        return;
      }
      this.queryPage = page;
      let args = {
        salesId: this.query.salesId,
        coachId: this.query.coachId,
        psCoachId: this.query.psCoachId,
        advisorId: this.query.advisorId,
        page: page,
        pageSize: 50,
        cardType: this.query.cardType,
        cardBalanceBegin: this.query.balanceBegin,
        cardBalanceEnd: this.query.balanceEnd,
        unUsed: this.query.unUsed,
        isOutdate: this.query.isOutdate,
        balanceType: this.query.balanceType,
        ignoreCrossMember: this.query.ignoreCrossMember,
        mcStatusList: this.query.mcStatusList
      };
      if (this.allowSelectMoreCardIds) {
        if (!$.Util.isEmptyArray(this.query.cardIdList)) args.cardIdList = this.query.cardIdList;
      } else {
        if (this.query.cardId) args.cardId = this.query.cardId;
      }
      if (this.query.createDateRange && this.query.createDateRange.length === 2 && this.query.createDateRange[0] && this.query.createDateRange[1]) {
        args.dateType = this.query.dateType;
        args.beginCreateDate = new Date(this.query.createDateRange[0]);
        args.beginCreateDate.setHours(0);
        args.beginCreateDate.setMinutes(0);
        args.beginCreateDate.setSeconds(0);
        args.endCreateDate = new Date(this.query.createDateRange[1]);
        args.endCreateDate.setHours(23);
        args.endCreateDate.setMinutes(59);
        args.endCreateDate.setSeconds(59);
      }
      if (isExport) {
        args.isExport = true;
        this.exportFileUrl = null;
        this.exportDlg = true;
      } else {
        this.memberCardList = [];
        if (page === null) {
          this.totalCount = null;
        }
      }

      $.Req.service($.SvName.MEMBER_CARD_ADV_QUERY, args, ret => {
        if (isExport) {
          this.exportFileUrl = ret.fileurl;
          return;
        }

        for (let mc of ret.memberCardList) {
          mc.balanceLevel = this.calcCardBalanceLevel(mc);
        }
        this.memberCardList = ret.memberCardList;
        if (page === null) {
          this.totalCount = ret.count;
        }
        if (ret.memberCardList.length === 0) {
          $.Msg.info("未查到符合条件的会员");
        }
        window.scrollTo(0, 0);

        let params = [];
        if (page && this.totalCount) params.push("count=" + this.totalCount);
        if (page) params.push("page=" + page);else this.page = 1;
        if (this.query.salesId) params.push("salesId=" + this.query.salesId);
        if (this.query.coachId) params.push("coachId=" + this.query.coachId);
        if (this.query.psCoachId) params.push("psCoachId=" + this.query.psCoachId);
        if (this.query.advisorId) params.push("advisorId=" + this.query.advisorId);
        if (!$.Util.isEmpty(this.query.balanceBegin)) params.push("balanceBegin=" + this.query.balanceBegin);
        if (!$.Util.isEmpty(this.query.balanceEnd)) params.push("balanceEnd=" + this.query.balanceEnd);
        if (this.query.cardType) params.push("cardType=" + this.query.cardType);
        if (this.query.balanceType) params.push("balanceType=" + this.query.balanceType);
        if (this.allowSelectMoreCardIds) {
          if (!$.Util.isEmptyArray(this.query.cardIdList)) params.push("cardIds=" + this.query.cardIdList.join(","));
        } else {
          if (this.query.cardId) params.push("cardId=" + this.query.cardId);
        }
        if (args.beginCreateDate) {
          params.push("dateType=" + this.query.dateType);
          params.push("beginCreateDate=" + $.Util.formatDate(args.beginCreateDate));
          params.push("endCreateDate=" + $.Util.formatDate(args.endCreateDate));
        }
        if (this.query.unUsed) params.push("unUsed=" + this.query.unUsed);
        if (this.query.isOutdate) params.push("isOutdate=" + this.query.isOutdate);
        if (this.query.ignoreCrossMember) params.push("ignoreCrossMember=" + this.query.ignoreCrossMember);

        let url =  true ? "?" + params.join("&") : "";
        this.$router.push(url);
      }, true);

      if (!isExport && !page) {
        args.onlyNeedStat = true;
        $.Req.service($.SvName.MEMBER_CARD_ADV_QUERY, args, ret => {
          this.sumOfCurrentTimes = ret.sumOfCurrentTimes;
          this.sumOfCurrentAmount = ret.sumOfCurrentAmount;
          this.sumOfPaymentAmount = ret.sumOfPaymentAmount;
        });
      }
    },

    calcCardBalanceLevel(mc) {
      if (this.query.balanceType === 1) {
        if (mc.remanentDays < 0) return 1;else if (mc.remanentDays < 7) return 2;else if (mc.remanentDays < 14) return 3;else if (mc.remanentDays < 30) return 4;else return 5;
      } else if (this.query.balanceType === 2) {
        if (mc.currentTimes === 0) return 1;else if (mc.currentTimes < 2) return 2;else if (mc.currentTimes < 4) return 3;else if (mc.currentTimes < 10) return 4;else return 5;
      } else if (this.query.balanceType === 3) {
        if (mc.currentAmount === 0) return 1;else if (mc.currentAmount < 100) return 2;else if (mc.currentAmount < 200) return 3;else if (mc.currentAmount < 500) return 4;else return 5;
      }
    },

    resetQuery() {
      this.query.salesId = null;
      this.query.coachId = null;
      this.query.advisorId = null;
      this.query.balanceBegin = 1;
      this.query.balanceEnd = 999999;
      this.query.psCoachId = null;
      this.query.createDateRange = [];

      /*if (this.canQueryAll) {
      const end = new Date();
      const start = new Date();
      start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);
      this.query.createDateRange = [start, end];
      } else {
      this.query.createDateRange = null;
      }*/
    },

    viewMember(memberId) {
      this.viewMemberId = memberId;
      this.viewMemberDlg = true;
    },

    changePageNo(page) {
      this.query.page = page;
      this.queryMemberCard(page);
    },

    queryValidCards() {
      this.query.isOutdate = false;
      this.query.unUsed = null;
      this.query.balanceBegin = 1;
      this.query.balanceEnd = 100000;
      this.query.mcStatusList = [0, null, null];
      this.queryMemberCard();
    },

    queryInvalidCards() {
      this.query.isOutdate = true;
      this.query.unUsed = null;
      this.query.balanceBegin = -999999;
      this.query.balanceEnd = 0;
      this.queryMemberCard();
    },

    queryUnUsedCards() {
      this.query.balanceBegin = null;
      this.query.balanceEnd = null;
      this.query.unUsed = true;
      this.queryMemberCard();
    },

    queryEmptyCards() {
      this.query.isOutdate = null;
      this.query.unUsed = null;
      this.query.balanceBegin = 0;
      this.query.balanceEnd = 0;
      this.query.balanceType = this.query.cardType;
      this.queryMemberCard();
    },

    queryOutdateCards() {
      this.query.isOutdate = true;
      this.query.unUsed = null;
      this.query.balanceBegin = null;
      this.query.balanceEnd = null;
      this.queryMemberCard();
    },

    printMemberInfo() {
      $.Util.printElem("memberCardQuery", "会员卡信息");
    },

    exportToXls() {
      if (!$.data.user.isShopOwner) {
        $.Dlg.warning("很抱歉，此导出功能仅允许店长操作。");
        return;
      }
      this.queryMemberCard(this.query.page, true);
    },

    resetCardSelect() {
      this.query.cardIdList = [];
      this.handleChangeCardId(null);
    },

    queryCoachTypes() {
      $.Req.service($.SvName.COACH_TYPE_QUERY, { isBaseInfo: true }, ret => {
        this.dict.coachTypeList = ret.coachTypeList;
      });

      // init assignMemberCoachList
      for (let i = 0; i < 5; i++) {
        this.assignMemberCoachList.push({ coachType: null, coachId: null });
      }
    },

    batchUpdateMemberAdvisor(val) {
      this.batchUpdateMember(val, "advisor");
    },

    batchUpdateMemberCoach(val) {
      this.batchUpdateMember(val, "coach");
    },

    batchUpdateMember(val, type) {
      let arr = val.split("\t");
      let staffId = parseInt(arr[0]),
          staffName = arr[1];
      let checkedMemberIdList = [];
      for (let i = 0, len = this.memberCkList.length; i < len && i < this.memberCardList.length; i++) {
        if (this.memberCkList[i] && !checkedMemberIdList.contains(this.memberCardList[i].memberId)) {
          checkedMemberIdList.push(this.memberCardList[i].memberId);
        }
      }
      let msg, args;
      if (type === "advisor") {
        msg = "您确实要将{0}个会员分配给会籍顾问【{1}】吗？".format(checkedMemberIdList.length, staffName);
        args = { newAdvisorId: staffId, memberIdList: checkedMemberIdList };
      } else if (type === "coach") {
        msg = "您确实要将{0}个会员分配给教练【{1}】吗？".format(checkedMemberIdList.length, staffName);
        args = { newCoachId: staffId, memberIdList: checkedMemberIdList };
      } else if (type === "sales") {
        msg = "您确实要将{0}个会员分配给销售【{1}】吗？".format(checkedMemberIdList.length, staffName);
        args = { newSalesId: staffId, memberIdList: checkedMemberIdList };
      } else {
        return;
      }

      if (checkedMemberIdList.length > 0) {
        $.Dlg.confirm(msg, () => {
          $.Req.service($.SvName.MEMBER_BATCH_UPDATE, args, ret => {
            $.Msg.success($.Lang.OPT_SUCCESS);
            this.queryMemberCard(true);
            this.isSelectAll = false;
            for (let i = 0, len = this.memberCkList.length; i < len; i++) {
              this.$set(this.memberCkList, i, false);
            }
          }, true);
        });
      } else {
        $.Dlg.error("请先选择会员");
      }
    },

    openAssignCoachDlg() {
      let checkedMemberIdList = [];
      for (let i = 0, len = this.memberCkList.length; i < len && i < this.memberCardList.length; i++) {
        if (this.memberCkList[i]) checkedMemberIdList.push(this.memberCardList[i].memberId);
      }
      if (!checkedMemberIdList.length) {
        $.Msg.error("请先选择会员");
        return;
      }
      for (let c of this.assignMemberCoachList) {
        c.coachType = null;
        c.coachId = null;
      }

      this.assignCoachDlg = true;
    },

    submiAssignCoach() {
      let checkedMemberIdList = [];
      for (let i = 0, len = this.memberCkList.length; i < len && i < this.memberCardList.length; i++) {
        if (this.memberCkList[i] && !checkedMemberIdList.contains(this.memberCardList[i].memberId)) {
          checkedMemberIdList.push(this.memberCardList[i].memberId);
        }
      }
      let msg = "您确实要给这{0}个会员分配教练吗？".format(checkedMemberIdList.length);

      $.Dlg.confirm(msg, () => {
        let args = {
          memberIdList: checkedMemberIdList,
          newMemberCoachList: this.assignMemberCoachList,
          assignCoachMethod: this.assignCoachMethod
        };
        $.Req.service($.SvName.MEMBER_BATCH_UPDATE, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.assignCoachDlg = false;
          this.queryMemberCard(this.queryPage);
          this.uncheckAllMember();
        }, true);
      });
    },

    uncheckAllMember() {
      this.isSelectAll = false;
      for (let i = 0, len = this.memberCkList.length; i < len; i++) {
        this.$set(this.memberCkList, i, false);
      }
    },

    selectMember(idx) {
      this.$set(this.memberCkList, idx, !this.memberCkList[idx]);
    },

    selectAll() {
      this.isSelectAll = !this.isSelectAll;
      for (let i = 0, len = this.memberCkList.length; i < len; i++) {
        this.$set(this.memberCkList, i, this.isSelectAll);
      }
    },

    queryShopCountInTenant() {
      const args = { queryType: 3, encTid: $.data.tenant.encTid };
      $.Req.service($.SvName.TEANT_QUERY, args, ret => {
        this.shopCountInTenant = ret.shopCount;
      });
    },

    testFunc() {
      for (let mc of this.memberCardList) {
        if ($.Util.isNotEmpty(mc.unitPrice)) continue;

        setTimeout(() => {
          let args = { mcId: mc.mcId };
          $.Req.service($.SvName.MEMBER_CARD_STAT_DATA_UPDATE, args, ret => {
            $.Msg.success($.Lang.OPT_SUCCESS);
          }, true);
        }, 1000);
      }
      $.Msg.success("DONE");
    }
  }
});

/***/ }),

/***/ 1309:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
	data() {
		return {
			g: window.$,
			memberId: this.$route.params.memberId,
			memberName: $.Util.sessionStore.get($.Conf.LocalSessionKey.MEMBER_NAME),
			menuList: $.PageMenus.member(this.$route.params.memberId, 'member-checkin-list'),
			query: {
				beginDate: null,
				endDate: null,
				durationBegin: null,
				durationEnd: null,
				mcIdList: []
			},
			mecList: [],
			totalCount: 0,
			memberCardList: null
		};
	},

	created() {
		if (!this.$route.params.memberId) {
			this.$router.push('/member-query');
			return;
		}

		// load member base
		$.Req.queryMemberBase(this.memberId, ret => {
			this.memberName = ret.member.name;
			$.Util.sessionStore.set($.Conf.LocalSessionKey.MEMBER_NAME, this.memberName);
		});

		this.queryEntryCheckin();
		this.queryMemberCardList();
	},

	methods: {
		queryEntryCheckin(page = null) {
			if (!page) this.totalCount = null;
			let args = {
				memberId: this.memberId,
				page: page,
				beginDate: this.query.beginDate,
				endDate: this.query.endDate,
				includeAllShops: true,
				durationBegin: this.query.durationBegin,
				durationEnd: this.query.durationEnd
			};
			if (!$.Util.isEmptyArray(this.query.mcIdList)) args.mcIdList = this.query.mcIdList;
			$.Req.service($.SvName.MEMBER_ENTRY_CHECKIN_QUERY, args, ret => {
				this.mecList = ret.mecList;
				if (!page) {
					this.totalCount = ret.count;
				} else {
					window.scrollTo(0, 0);
				}
			});
		},

		changePageNo(page) {
			this.queryEntryCheckin(page);
		},

		queryMemberCardList() {
			$.Req.service($.SvName.MEMBER_CARD_QUERY, { memberId: this.memberId }, ret => {
				this.memberCardList = ret.memberCardList;
			});
		}
	}
});

/***/ }),

/***/ 1310:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	data() {
		return {
			contractPrintConfList: [],
			printSet: {
				101: 'name',
				102: 'sex',
				103: 'phoneNo',
				104: 'cardNo',
				105: 'birthdayYear',
				106: 'idNo',
				107: 'remark',
				108: 'createTime',
				109: 'advisorName',
				110: 'salesName',
				111: 'coachName',
				201: 'cardName',
				202: 'beginDate',
				203: 'endDate',
				204: 'usableDays',
				205: 'usableAmount',
				206: 'paymentAmount',
				207: 'usableTimes',
				208: 'remark',
				209: 'createTime',
				210: 'paymentChannel',
				211: 'createUname'
			},
			printMemberSetDefault: [{ inforName: '会员姓名', inforTit: 'name' }, { inforName: '会员性别', inforTit: 'sex' }, { inforName: '会员手机号', inforTit: 'phoneNo' }, { inforName: '会员卡号', inforTit: 'cardNo' }, { inforName: '会员销售', inforTit: 'salesName' }, { inforName: '会员生日', inforTit: 'birthdayYear' }, { inforName: '会员会籍', inforTit: 'advisorName' }, { inforName: '会员身份证号', inforTit: 'idNo' }, { inforName: '会员创建时间', inforTit: 'createTime' }, { inforName: '会员教练', inforTit: 'coachName' }, { inforName: '会员备注', inforTit: 'remark' }],
			printMcpSetDefault: [{ inforName: '会员卡名', inforTit: 'cardName' }, { inforName: '使用天数', inforTit: 'usableDays' }, { inforName: '会员卡开卡日期', inforTit: 'beginDate' }, { inforName: '充值金额', inforTit: 'usableAmount' }, { inforName: '会员卡到期日期', inforTit: 'endDate' }, { inforName: '实收金额', inforTit: 'paymentAmount' }, { inforName: '充值次数', inforTit: 'usableTimes' }, { inforName: '支付方式', inforTit: 'paymentChannel' }, { inforName: '充值时间', inforTit: 'createTime' }, { inforName: '操作人', inforTit: 'createUname' }, { inforName: '适用门店', inforTit: 'shops' }, { inforName: '充值备注', inforTit: 'remark' }],
			pTop: null,
			nameLeft: null,
			nameWidth: null,
			inforLeft: null,
			memberId: null,
			mcpId: null,
			contractSetList: [],
			member: null,
			memberCardPayment: null,
			card: {},
			pageW: null,
			pageH: null,
			xDpi: null,
			yDpi: null,
			screenSize: 21,
			screenWidthRate: 16,
			screenHeightRate: 9,
			pagerRate: 1,
			fontSize: 12,
			hasContractConf: null,
			topPxWithNoConf: 150,
			leftPxWithNoConf: 100
		};
	},

	mounted() {
		this.initData();
		this.setPrintParam();
		this.memberId = parseInt(this.$route.params.memberId);
		this.mcpId = parseInt(this.$route.params.mcpId);

		this.queryContractPrintConfList();
	},
	methods: {
		initData() {
			let vals = $.Util.cookie.get($.Conf.CookieKeys.MEMBER_CONTRACT_ARGS);
			if (vals) {
				let valObj = JSON.parse(vals);
				this.screenSize = valObj.screenSize;
				this.screenWidthRate = valObj.screenWidthRate;
				this.screenHeightRate = valObj.screenHeightRate;
				this.fontSize = valObj.fontSize;
				this.topPxWithNoConf = valObj.topPxWithNoConf;
				this.leftPxWithNoConf = valObj.leftPxWithNoConf;
			}
		},

		setPrintParam() {
			if (!this.screenSize) {
				$.Msg.warning('请输入显示器尺寸');
				return false;
			}
			if (!this.screenWidthRate || !this.screenHeightRate) {
				$.Msg.warning('请输入完整的显示器宽高比');
				return false;
			}
			if (!this.fontSize) {
				$.Msg.warning('请输入打印字体大小');
				return false;
			}

			let screenRate = this.screenWidthRate / this.screenHeightRate; // 显示器宽高比
			let screenHeightMm = Math.sqrt(this.screenSize * this.screenSize / (1 + screenRate * screenRate)) * 2.54 * 10;
			let screenWidthMm = screenHeightMm * screenRate;

			let screenWidthPx = window.screen.width,
			    screenHeightPx = window.screen.height;
			this.xDpi = screenWidthPx / screenWidthMm;
			this.yDpi = screenHeightPx / screenHeightMm;

			let paperWidthMm = 210,
			    papereHeightMm = 297;
			this.pagerRate = 1 / (795 * screenWidthMm / screenWidthPx / paperWidthMm);
			//console.log(this.pagerRate)
			this.pageW = parseInt(paperWidthMm * this.xDpi);
			this.pageH = parseInt(papereHeightMm * this.yDpi);

			return true;
		},

		genContractWithNoConf() {
			$.Req.service($.SvName.MEMBER_ADV_QUERY, { memberId: this.memberId }, ret => {
				this.member = ret.memberList[0];
				$.Req.service($.SvName.MEMBER_CARD_PAYMENT_QUERY, { mcpId: this.mcpId }, ret => {
					this.memberCardPayment = ret.memberCardPayment;
					this.queryCard(this.memberCardPayment.cardId, () => {
						this.genContracDataByDefault();
					});
				});
			});
		},

		queryCard(cardId, callback = null) {
			let args = { cardId: cardId, queryType: 1 };
			$.Req.service($.SvName.CARD_QUERY, args, ret => {
				if (ret.cardList) this.card = ret.cardList[0];
				if (callback) callback();
			});
		},

		genContracDataByDefault() {
			for (let mItem in this.member) {
				this.printMemberSetDefault.map(pItem => {
					if (pItem.inforTit == mItem) {
						this.$set(pItem, 'inforDetail', this.member[mItem]);
						if (pItem.inforTit == 'sex') {
							let sex = this.member[mItem] ? '男' : '女';
							this.$set(pItem, 'inforDetail', sex);
						} else if (pItem.inforTit == 'birthdayYear') {
							let month = this.member.birthdayDate < 999 ? '0' + parseInt(this.member.birthdayDate / 100) : parseInt(this.member.birthdayDate / 100);
							let date = this.member.birthdayDate % 100 < 10 ? '0' + this.member.birthdayDate % 100 : this.member.birthdayDate % 100;
							let birthday = this.member[mItem] + '年' + month + '月' + date + '日';
							this.$set(pItem, 'inforDetail', birthday);
						}
					}
				});
			}
			for (let mItem in this.memberCardPayment) {
				this.printMcpSetDefault.map(pItem => {
					if (pItem.inforTit == mItem) {
						this.$set(pItem, 'inforDetail', this.memberCardPayment[mItem]);
						if (pItem.inforTit == 'beginDate' || pItem.inforTit == 'endDate') {
							let time = $.Util.formatDate(this.memberCardPayment[mItem]);
							this.$set(pItem, 'inforDetail', time);
						} else if (pItem.inforTit == 'paymentChannel') {
							this.$set(pItem, 'inforDetail', $.Dict.CardPaymentChannel[this.memberCardPayment[mItem]]);
						}
					} else if (pItem.inforTit == 'shops') {
						if (this.card.shopNames && this.card.shopNames.length > 1) {
							this.$set(pItem, 'inforDetail', this.card.shopNames.join('、'));
						}
					}
				});
			}
		},

		queryContractPrintConfList() {
			let args = {
				memberId: this.memberId,
				mcpId: this.mcpId
			};
			$.Req.service($.SvName.CONTRACT_PRINT_CONF_QUERY, args, ret => {
				if (ret.contractPrintConfList && ret.contractPrintConfList.length) {
					this.hasContractConf = true;
					this.contractPrintConfList = ret.contractPrintConfList;
					this.contractPrintConfList.map(cItem => {
						this.contractSetList.push(cItem);
					});

					// 定位位置
					this.contractSetList.map(item => {
						/* let pLeft = (((item.posX + 5) / 10 / 21.8).toFixed(2) * 100 - 3) + '%'
       let pTop = (((item.posY + 5) / 10 / 29.2).toFixed(2) * 100 - 3.4) + '%'*/
						this.$set(item, 'posX', parseInt(item.posX * this.xDpi / this.pagerRate));
						this.$set(item, 'posY', parseInt(item.posY * this.yDpi / this.pagerRate - this.fontSize));
					});
				} else {
					this.genContractWithNoConf();
				}
			});
		},

		print() {
			if (this.setPrintParam()) {
				this.$print(this.$refs.print);
			}
			// save cookie
			let vals = {
				screenSize: this.screenSize,
				screenWidthRate: this.screenWidthRate,
				screenHeightRate: this.screenHeightRate,
				fontSize: this.fontSize,
				topPxWithNoConf: this.topPxWithNoConf,
				leftPxWithNoConf: this.leftPxWithNoConf
			};
			$.Util.cookie.set($.Conf.CookieKeys.MEMBER_CONTRACT_ARGS, JSON.stringify(vals), 365);
		}
	}
});

/***/ }),

/***/ 1311:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_qrcode_vue__ = __webpack_require__(1104);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_help_vue__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_help_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_sys_img_upload_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_member_member_org_conf_vue__ = __webpack_require__(1167);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_member_member_org_conf_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__pages_member_member_org_conf_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_member_amount_rate_calc_vue__ = __webpack_require__(1187);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_member_amount_rate_calc_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__pages_member_amount_rate_calc_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__pages_member_amount_discount_calc_vue__ = __webpack_require__(1186);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__pages_member_amount_discount_calc_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__pages_member_amount_discount_calc_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_sys_num_calc_vue__ = __webpack_require__(1184);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_sys_num_calc_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__components_sys_num_calc_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

// pos








/* harmony default export */ __webpack_exports__["default"] = ({
  components: {
    Help: __WEBPACK_IMPORTED_MODULE_1__components_help_vue___default.a,
    ImgUpload: __WEBPACK_IMPORTED_MODULE_2__components_sys_img_upload_vue___default.a,
    MemberOrgConf: __WEBPACK_IMPORTED_MODULE_3__pages_member_member_org_conf_vue___default.a,
    AmountRateCalc: __WEBPACK_IMPORTED_MODULE_4__pages_member_amount_rate_calc_vue___default.a,
    AmountDiscountCalc: __WEBPACK_IMPORTED_MODULE_5__pages_member_amount_discount_calc_vue___default.a,
    NumCalc: __WEBPACK_IMPORTED_MODULE_6__components_sys_num_calc_vue___default.a,
    QrcodeVue: __WEBPACK_IMPORTED_MODULE_0_qrcode_vue__["a" /* default */]
  },
  data() {
    const validateMemberPhoneNo = (rule, value, callback) => {
      if (value && !$.Util.validatePhoneNo(value)) {
        callback(new Error($.Lang.PHONE_NO_ERR));
      } else {
        let args = {
          phoneNo: value,
          queryInOtherTenants: true
        };
        $.Req.service($.SvName.MEMBER_PHONE_NO_FIND, args, ret => {
          if (ret.result) {
            callback(new Error($.Lang.MEMBER_PHONE_NO_EXIST));
          } else {
            if (ret.isInOtherTenant && !this.allowPhoneInOtherTenant) {
              if ($.Util.isFictitiousPhoneNo(args.phoneNo)) {
                this.openPhoneInTenantShopCheckDlg();
              } else {
                $.Msg.warning("此号码在其它商户中已存在，请检查输入手机号是否正确。");
                callback();
              }
            } else {
              callback();
            }
          }
        });
      }
    };

    const validateIntroPhoneNo = (rule, value, callback) => {
      if (value && !$.Util.validatePhoneNo(value)) {
        callback(new Error($.Lang.PHONE_NO_ERR));
      } else {
        if (value && value === this.member.phoneNo) {
          callback(new Error("推荐人不能是会员自己"));
        } else {
          callback();
        }
      }
    };

    const validateEmergencyPhone = (rule, value, callback) => {
      if (value && !$.Util.validatePhoneNo(value)) {
        callback(new Error($.Lang.PHONE_NO_ERR));
      } else {
        callback();
      }
    };

    const validateIdNo = (rule, value, callback) => {
      if (value) {
        if ($.Util.validateIdNo(value)) {
          this.member.sex = $.Util.getSexFromIdNo(value);
          let items = $.Util.getBirthdayFromIdNo(value);
          this.member.birthdayYear = items[0];
          this.member.birthdayMonth = items[1];
          this.member.birthdayDay = items[2];
          callback();
        } else {
          callback(new Error($.Lang.ID_NO_ERR));
        }
      } else {
        callback();
      }
    };

    return {
      g: $,
      editMplTimePermit: $.Util.hasRoleFunc($.Dict.RoleFunc.EDIT_MPL_TIME.value),
      dict: {
        cardList: [],
        salesList: [],
        advisorList: [],
        coachList: [],
        custSourceList: [],
        coachTypeList: []
      },
      checkCustSource: false,
      checkCard: false,
      member: {
        phoneNo: null,
        cardNo: null,
        memberId: null,
        name: null,
        sex: null,
        source: null,
        salesId: null,
        coachId: null,
        advisorId: null,
        introducerPhone: null,
        emergencyPhone: null,
        idNo: null,
        remark: null,
        password: null,
        regDate: new Date(),
        addrProvince: null,
        addrCity: null,
        addrDistrict: null,
        addrDetail: null,
        contractNo: null,
        wxNo: null
      },
      memberCardNoList: [],
      memberTips: null,
      memberNewCard: {
        cardId: null,
        cardType: null,
        paymentChannel: null,
        hasExp: false,
        autoActiveCard: false,
        deposit: null,
        usableDays: null,
        beginDate: null,
        endDate: null
      },
      memberRequiredFileds: ["phoneNo", "name", "sex", "source"],
      memberNewCardRequiredFileds: ["cardId", "usableAmount", "paymentAmount", "paymentChannel"],
      memberFormRule: {
        name: [{
          type: "string",
          max: 30,
          message: "字数不能超过30",
          trigger: "blur"
        }],
        phoneNo: [{ validator: validateMemberPhoneNo, trigger: "blur" }],
        introducerPhone: [{ validator: validateIntroPhoneNo, trigger: "blur" }],
        emergencyPhone: [{ validator: validateEmergencyPhone, trigger: "blur" }],
        idNo: [{ validator: validateIdNo, trigger: "blur" }],
        remark: [{
          type: "string",
          max: 1000,
          message: "字数不能超过1000",
          trigger: "blur"
        }]
      },
      memberNewCardFormRule: {},
      futureDateOption: {
        disabledDate(date) {
          return date && date.valueOf() < Date.now() - 86400000;
        }
      },
      imgUpload: {
        action: $.Conf.IMG_UPLOAD_URL,
        imgMaxWidth: 512
      },
      submitLoading: false,
      memberCnts: null,
      orgDlgView: false,
      memberOrgList: [],
      photo: {
        photoDlgView: false,
        takePhotoType: 1,
        hasTakePhoto: false,
        imgUrl: null
      },
      addrList: [{}, {}, {}],
      amountRateCalcDlg: false,
      amountDiscountCalcDlg: false,
      defaultValOfDlg: null,
      memberCreateConfirmDlg: false,
      memberConfirm: {
        name: null,
        cardName: null,
        salesName: null,
        paymentAmount: null,
        usableAmount: null
      },
      memberCoachList: [],
      pcScheduleNavDlg: false,
      needCreateMoreCards: null,
      memberNewCardCount: null,
      numCalcDlg: false,
      carNoList: [],
      allowPhoneInOtherTenant: null,
      phoneInOtherTenantCheckDlg: null,
      phoneAuthcode: null,
      authcodeDisabled: null,
      authcodeLabel: null,
      lastSendSmsTime: null,
      cardEndDateEditType: 1,
      mcpImgFileList: [],
      mcpImgUpload: {
        action: $.Conf.IMG_UPLOAD_URL,
        imgMaxWidth: 1024,
        defaultList: []
      },
      // pos
      isPosArg: false,
      cardMap: {},
      posPayRole: $.Util.hasRoleFunc($.Dict.RoleFunc.POS_PAY.value),
      qrcodeTradeNoUrl: null,
      memberDraftCreatePermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_DRAFT_CREATE.value, true),
      paymentAmount: null,
      posTradeNoShow: false
    };
  },
  watch: {
    "memberNewCard.cardId"(newValue) {
      if (!newValue) {
        this.cardMap = {};
        this.memberNewCard.paymentChannel = null;
        return;
      }
      $.Req.service($.SvName.CARD_QUERY, {
        queryType: 1,
        cardId: newValue
      }, ret => {
        if (ret.cardList && ret.cardList.length) {
          let card = ret.cardList[0];
          if (card.isOfflineSaleForPos && !this.isPosArg) {
            this.memberNewCard.cardId = "";
            $.Dlg.info("该卡为强制POS机支付，门店未开启POS机支付！");
            return;
          }

          if (card.isOfflineSaleForPos && !this.posPayRole) {
            this.memberNewCard.cardId = "";
            $.Dlg.info("您没有POS机支付权限！");
            return;
          }
          this.cardMap = card;
          if (this.cardMap && this.cardMap.isOfflineSaleForPos) {
            this.memberNewCard.paymentChannel = 8;
          }
          // changeUsableTimesFun();
        }
      });
    }
  },

  created() {
    $.Util.addRequiredFieldsRules(this.memberFormRule, this.memberRequiredFileds);
    $.Util.addRequiredFieldsRules(this.memberNewCardFormRule, this.memberNewCardRequiredFileds);
    this.queryMemberCounts();

    // query staff as sales
    $.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
      this.dict.salesList = ret.staffList;
    });

    // query coach
    $.Req.service($.SvName.COACH_BASE_QUERY, {}, ret => {
      this.dict.coachList = ret.coachList;
    });

    // query staff as advisor
    $.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true, sysRid: $.Dict.SysRole.ADVISOR }, ret => {
      this.dict.advisorList = ret.staffList;
    });

    // query cards
    $.Req.service($.SvName.CARD_QUERY, { queryType: 2, status: 0 }, ret => {
      this.dict.cardList = ret.cardList;
      for (let c of this.dict.cardList) {
        c.cardTypeName = $.Dict.CardType[c.cardType];
      }
      this.checkCard = true;
    });

    this.queryCoachType();

    // query cust_source
    $.Req.service($.SvName.CUST_SOURCE_QUERY, { isBaseInfo: true }, ret => {
      this.dict.custSourceList = ret.custSourceList;
      this.checkCustSource = true;
    });

    this.queryMemberOrg();

    this.loadRegion(() => {
      const args = { queryType: 2, encSid: $.data.shop.encSid };
      $.Req.service($.SvName.SHOP_QUERY, args, ret => {
        this.member.addrProvince = ret.shop.addrProvince;
        this.member.addrCity = ret.shop.addrCity;
        this.member.addrDistrict = ret.shop.addrDistrict;
        if (this.member.addrProvince) {
          this.changeMemberAddr(1, this.member.addrProvince);
          if (this.member.addrCity) {
            this.changeMemberAddr(2, this.member.addrCity);
          }
        }
      });
    });

    this.shopArgQuery();
  },

  methods: {
    shopArgQuery(callback) {
      let args = { typeId: $.Dict.ShopArg.POS_ENABLE };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
        if (ret.value === "false" || !ret.value) {
          this.isPosArg = false;
        } else if (ret.value === "true") {
          this.isPosArg = true;
        }
        if (callback) {
          callback();
        }
      });
    },
    loadRegion(callback) {
      this.queryRegion(1, null, regions => {
        this.$set(this.addrList, 0, regions);
        if (callback) callback();
      });
    },

    handleSubmit() {
      this.$refs.member.validate(valid1 => {
        if (!valid1) {
          $.Msg.error($.Lang.SUBMIT_ERR);
          return false;
        }
        if (this.member.cardNo && !$.Util.validateCardNo(this.member.cardNo)) {
          $.Dlg.error($.Lang.ERR_CARD_NO.format(this.member.cardNo));
          return false;
        }
        if (!$.Util.isEmptyArray(this.memberCardNoList)) {
          for (let no of this.memberCardNoList) {
            if (no && !$.Util.validateCardNo(no)) {
              $.Dlg.error($.Lang.ERR_CARD_NO.format(no));
              return false;
            }
          }
        }

        this.$refs.memberNewCard.validate(valid2 => {
          if (!valid2) {
            $.Msg.error($.Lang.SUBMIT_ERR);
            return false;
          }
          this.createMember();
        });
      });
    },

    createMember() {
      try {
        // check password
        if (this.member.password) {
          if (this.member.password.length < 6) {
            $.Msg.error("初始登录密码不能少于6位");
            return;
          }
        }

        // check birthday
        if (this.member.birthdayMonth && this.member.birthdayDay) {
          this.member.birthdayDate = parseInt(this.member.birthdayMonth * 100) + parseInt(this.member.birthdayDay);
        } else if (this.member.birthdayMonth || this.member.birthdayDay) {
          alert($.Lang.MEMBER_BIRTHDAY_ERR);
          return;
        }

        // check card
        if (this.memberNewCard.cardType === 1) {
          if (!this.memberNewCard.usableDays) {
            alert("请输入使用天数");
            return;
          }
        } else if (this.memberNewCard.cardType === 2) {
          if (!this.memberNewCard.usableTimes) {
            alert("请输入使用次数");
            return;
          }
          if (this.memberNewCard.usableTimes < 0) {
            alert("使用次数不能小于0");
            return;
          }
        } else if (this.memberNewCard.cardType === 4) {
          if (!this.memberNewCard.usableTimes) {
            alert("请输入使用时间");
            return;
          }
          if (this.memberNewCard.usableTimes < 0) {
            alert("使用时间不能小于0");
            return;
          }
        }
        if (this.memberNewCard.autoActiveCard && !this.memberNewCard.beginDate) {
          $.Msg.error("请设置开卡日期");
          return;
        }
        if (!this.memberNewCard.autoActiveCard) {
          this.memberNewCard.beginDate = null;
        }

        if (this.needCreateMoreCards) {
          if ($.Util.isEmpty(this.memberNewCardCount)) {
            $.Msg.error("请输入批量创建会员卡的数量");
            return;
          }
          if (this.memberNewCardCount < 2) {
            $.Msg.error("批量创建会员卡的数量不能小于2");
            return;
          }
        }

        // set more coachs
        let memberCoachIds = [],
            memberCoachTypes = [];
        for (let i = 0, len = this.memberCoachList.length; i < len; i++) {
          if (!this.memberCoachList[i].coachId) continue;
          memberCoachIds.push(this.memberCoachList[i].coachId);
          memberCoachTypes.push(this.memberCoachList[i].coachType);
        }
        this.member.moreCoachIds = memberCoachIds.join(",");
        this.member.moreCoachTypes = memberCoachTypes.join(",");

        // confirm member info
        this.memberConfirm.name = this.member.name;
        this.memberConfirm.cardName = this.findCard(this.memberNewCard.cardId).cardName;
        this.memberConfirm.salesName = this.findSalesName(this.member.salesId);
        this.memberConfirm.paymentAmount = this.memberNewCard.paymentAmount;
        this.memberConfirm.usableAmount = this.memberNewCard.usableAmount;
        this.memberCreateConfirmDlg = true;
      } catch (err) {
        $.Util.handleException(err);
      }
    },

    submitMemberCreate() {
      if (this.submitLoading) return;

      this.submitLoading = true;
      this.member.carNos = this.carNoList ? this.carNoList.join(",") : null;

      let args = {
        member: this.member,
        memberNewCard: this.memberNewCard,
        memberCardNoList: this.memberCardNoList
      };
      if (this.needCreateMoreCards && this.memberNewCardCount > 1) {
        args.memberNewCardCount = this.memberNewCardCount;
      }
      if (!$.Util.isEmptyArray(this.mcpImgFileList)) {
        let imgNames = [];
        for (let img of this.mcpImgFileList) imgNames.push(img.name);
        args.memberNewCard.attachmentImgs = imgNames.join(",");
      }

      // pos
      let url = $.SvName.MEMBER_CREATE;
      if (this.memberNewCard.paymentChannel == 8) {
        url = $.SvName.CARD_POS_ORDER_SAVE;
        args.apiType = 1;
      }
      if (this.qrcodeTradeNoUrl) {
        args.tradeNo = this.qrcodeTradeNoUrl;
      }
      // return console.log(args);
      $.Req.service(url, args, ret => {
        if (this.memberNewCard.paymentChannel == 8) {
          this.posTradeNoShow = true;
          this.qrcodeTradeNoUrl = ret.tradeNo;
          this.paymentAmount = this.memberNewCard.paymentAmount;
          this.submitLoading = false;
          if (args.tradeNo) {
            $.Msg.success("支付订单修改成功！");
          } else {
            $.Msg.success("支付订单创建成功！");
          }
        } else {
          this.submitLoading = false;
          this.memberCreateConfirmDlg = false;
          $.Msg.success($.Lang.OPT_SUCCESS);

          let card = this.findCard(this.memberNewCard.cardId);
          if (card.cardClass === 2) {
            // 私教卡
            this.navPcSchedule(ret.memberId);
          } else {
            this.$router.push("/member-info/" + ret.memberId);
          }
        }
      }, false, err => {
        this.submitLoading = false;
        this.memberCreateConfirmDlg = false;
        alert(err);
      });
    },

    navPcSchedule(memberId) {
      let msg = "创建会员成功！ 是否需要现在给该会员排私教课？";
      let linkTo = "";
      if (confirm(msg)) {
        let usableTimes = this.memberNewCard.cardType === 2 ? this.memberNewCard.usableTimes : 0;
        let avgPrice = usableTimes ? $.Util.round(this.memberNewCard.paymentAmount / this.memberNewCard.usableTimes) : 0;
        let lessonDates = "0";
        if (this.memberNewCard.beginDate) {
          let endDate = null;
          if (this.memberNewCard.usableDays) {
            endDate = Date.new(this.memberNewCard.beginDate).addDays(this.memberNewCard.usableDays);
          } else if (this.memberNewCard.endDate) {
            endDate = this.memberNewCard.endDate;
          }
          if (endDate) {
            lessonDates = "{0}_{1}".format($.Util.formatDate(this.memberNewCard.beginDate), $.Util.formatDate(endDate));
          }
        }
        linkTo = "/private-card-schedule-create/{0}/{1}/{2}/{3}".format(memberId, usableTimes, avgPrice, lessonDates);
      } else {
        linkTo = "/member-info/" + memberId;
      }
      this.$router.push(linkTo);
    },

    findSalesName(salesId) {
      for (let s of this.dict.salesList) {
        if (salesId === s.staffId) {
          return s.name;
        }
      }

      return null;
    },

    findCard(cardId) {
      for (let c of this.dict.cardList) {
        if (c.cardId === cardId) {
          return c;
        }
      }
      return {};
    },

    handleCardSelect(cardId) {
      for (let c of this.dict.cardList) {
        if (c.cardId === this.memberNewCard.cardId) {
          this.memberNewCard.cardType = c.cardType;
          this.memberNewCard.usableAmount = c.defaultAmount;
          this.memberNewCard.usableDays = c.defaultDays;
          this.memberNewCard.cardTimeType = c.cardTimeType;
          if (this.memberNewCard.deposit) {
            this.memberNewCard.paymentAmount = c.defaultAmount - this.memberNewCard.deposit;
          } else {
            this.memberNewCard.paymentAmount = c.defaultAmount;
          }
          this.memberNewCard.expDateDisable = c.expDateDisable;
          if (c.defaultDays && !this.memberNewCard.autoActiveCard) {
            this.memberNewCard.beginDate = new Date();
            this.memberNewCard.endDate = new Date(new Date().getTime() + 3600000 * 24 * c.defaultDays);
          }
          if (c.cardType === 2 || c.cardType === 4) {
            this.memberNewCard.usableTimes = c.defaultTimes;
          }
          this.calcCardEndDate();
          break;
        }
      }
    },

    handleImgUploadSuccess(res, file) {
      file.url = res.data.url;
      file.name = res.data.name;
      this.member.avatarPathname = res.data.name;

      this.photo.photoDlgView = false;
      this.photo.imgUrl = file.url;
    },

    queryMemberCounts() {
      $.Req.service($.SvName.MEMBER_COUNTS_QUERY, {}, ret => {
        this.memberCnts = {};
        this.memberCnts.creates = ret.creates;
        this.memberCnts.buys = ret.buys;
        this.memberCnts.remnant = ret.remnant;
      }, true);
    },

    afterConfMemberOrg(orgList) {
      this.memberOrgList = orgList;
    },

    queryMemberOrg() {
      $.Req.service($.SvName.MEMBER_ORG_QUERY, {}, ret => {
        this.memberOrgList = ret.memberOrgList;
      });
    },

    openPhotoDlg() {
      this.photo.photoDlgView = true;
    },

    changePhotoType(val) {
      if (this.photo.takePhotoType === 2) {
        this.getVideo();
      }
    },

    getVideo() {
      if (location.href.startsWith("http:") && location.href.indexOf("127") < 0) {
        alert("调用摄像头需要加密协议（https），即将带你使用加密协议");
        let newUrl = "https:" + location.href.substr(5);
        location.href = newUrl;
        return;
      }

      $.Msg.info("正在调用摄像头，请稍等...");
      this.$nextTick(() => {
        let video = this.$refs.video;
        let videoObj = { video: true };
        navigator.mediaDevices.getUserMedia(videoObj).then(function (mediaStream) {
          video.srcObject = mediaStream;
          video.play();
        }).catch(function (error) {
          console.log(error);
        });
      });
    },

    takePhoto() {
      this.$nextTick(() => {
        let context = this.$refs.canvas.getContext("2d");
        context.drawImage(this.$refs.video, 0, 0, 310, 250);
        this.photo.hasTakePhoto = true;
      });
    },

    uploadPhotoImg() {
      if (this.photo.hasTakePhoto) {
        $.Msg.info("正在上传...");
        $.Util.uploadImgFromCanvas(this.$refs.canvas, res => {
          this.member.avatarPathname = res.data.name;
          this.photo.photoDlgView = false;
          this.photo.imgUrl = res.data.url;
        }, err => {
          alert("上传失败，请稍后重试");
        });
      }
    },

    addMemberCardNoBox() {
      this.memberCardNoList.push("");
    },

    queryRegion(level, pid, callback) {
      let args = null;
      if (pid) {
        args = { queryType: 2, pid: pid };
      } else if (level) {
        args = { queryType: 1, level: level };
      } else {
        return;
      }

      $.Req.service($.SvName.REGION_GET, args, ret => {
        let retRegions = [];
        const regions = ret.regionList;
        for (let i = 0, len = regions.length; i < len; i++) {
          retRegions.push({ value: regions[i].rid, label: regions[i].name });
        }
        callback(retRegions);
      });
    },

    changeMemberAddr(level, value) {
      if (level > 1 && !value) return;

      if (level === 1) {
        this.queryRegion(level, value, regions => {
          this.$set(this.addrList, 2, {});
          this.$set(this.addrList, 1, regions);
        });
      } else if (level === 2) {
        this.queryRegion(level, value, regions => {
          this.$set(this.addrList, 2, regions);
        });
      } else {
        alert("Error level: " + level);
      }
    },

    onChangeAddrL1(value) {
      this.changeMemberAddr(1, value);
      this.member.addrCity = null;
      this.member.addrDistrict = null;
    },

    onChangeAddrL2(value) {
      this.changeMemberAddr(2, value);
      this.member.addrDistrict = null;
    },

    afterCalcPaymentAmount(val) {
      this.memberNewCard.paymentAmount = val;
      if (this.amountRateCalcDlg) this.amountRateCalcDlg = false;else if (this.amountDiscountCalcDlg) this.amountDiscountCalcDlg = false;
    },

    openAmountRateCalcDlg() {
      if (!this.defaultValOfDlg) {
        if (this.memberNewCard.paymentAmount) this.defaultValOfDlg = parseFloat(this.memberNewCard.paymentAmount);else if (this.memberNewCard.usableAmount) this.defaultValOfDlg = parseFloat(this.memberNewCard.usableAmount);
      }
      this.amountRateCalcDlg = true;
    },

    openAmountDiscountCalcDlg() {
      if (!this.defaultValOfDlg) {
        if (this.memberNewCard.paymentAmount) this.defaultValOfDlg = parseFloat(this.memberNewCard.paymentAmount);else if (this.memberNewCard.usableAmount) this.defaultValOfDlg = parseFloat(this.memberNewCard.usableAmount);
      }
      this.amountDiscountCalcDlg = true;
    },

    queryCustAndFillMember() {
      this.memberTips = null;
      this.memberNewCard.deposit = null;
      if (!$.Util.validatePhoneNo(this.member.phoneNo)) {
        return;
      }

      $.Req.service($.SvName.CUST_QUERY, { phoneNo: this.member.phoneNo }, r => {
        if (r && r.cust) {
          // fill member info with cust
          this.member.name = r.cust.name;
          this.member.source = r.cust.custSrc;
          this.member.salesId = r.cust.ownerStaffId;
          this.member.wxNo = r.cust.wxNo;
          if (r.cust.sex === true || r.cust.sex === false) {
            this.member.sex = r.cust.sex ? 1 : 0;
          }
          if (r.cust.birthdayYear) this.member.birthdayYear = r.cust.birthdayYear;
          if (r.cust.birthdayDate) {
            this.member.birthdayMonth = r.cust.birthdayDate ? parseInt(r.cust.birthdayDate / 100) : null;
            this.member.birthdayDay = r.cust.birthdayDate ? parseInt(r.cust.birthdayDate % 100) : null;
          }
          this.member.idNo = r.cust.idNo;
          if (r.cust.custType === 2) {
            // 订金客户
            let args = {
              chargeFrom: 1,
              refId: r.cust.custId,
              page: 1
            };
            $.Req.service($.SvName.CHARGE_QUERY, args, ret => {
              if (ret.chargeList && ret.chargeList.length === 1) {
                let charge = ret.chargeList[0];
                this.memberTips = "订金客户【{0} 付订金 ￥{1}】".format($.Util.formatDate(charge.createTime), charge.arAmount);
                this.memberNewCard.deposit = charge.arAmount;
              }
            });
          }
        }
      });
    },

    queryCoachType() {
      $.Req.service($.SvName.COACH_TYPE_QUERY, { isBaseInfo: true }, ret => {
        this.dict.coachTypeList = ret.coachTypeList;
      });
    },

    clickAddMoreCoach() {
      if (this.dict.coachTypeList && this.dict.coachTypeList.length > 0) {
        this.memberCoachList.push({ coachType: null, coachId: null });
      } else {
        $.Dlg.warning("尚未设置教练类型，请先在【员工 》 教练类型】中设置教练类型", null, false);
      }
    },

    openNumDlg() {
      this.numCalcDlg = true;
    },

    removeCarNo(carNo) {
      this.carNoList.removeValue(carNo);
    },

    appendCarNo() {
      if (this.carNoList.length > 20) {
        $.Msg.error("车牌号数量不能超过20个");
        return;
      }
      let val = prompt("请输入该会员的一个车牌号");
      if (val) this.carNoList.push(val);
    },

    openPhoneInTenantShopCheckDlg() {
      this.phoneAuthcode = null;
      this.phoneInOtherTenantCheckDlg = true;
    },

    closephoneInOtherTenantCheckDlg() {
      this.member.phoneNo = null;
      this.phoneInOtherTenantCheckDlg = false;
    },

    checkPhoneAuthcode() {
      if (!this.phoneAuthcode) {
        $.Msg.warning("请输入短信验证码");
        return;
      }
      let args = {
        phoneNo: this.member.phoneNo,
        authcodeType: 8,
        authcode: this.phoneAuthcode
      };
      $.Req.service($.SvName.SMS_AUTHCODE_CHECK, args, ret => {
        this.allowPhoneInOtherTenant = true;
        this.phoneInOtherTenantCheckDlg = false;
        $.Msg.success($.Lang.OPT_SUCCESS);
      }, true);
    },

    onClickSmsAuthcodeBtn() {
      let nowTime = new Date().getTime();
      if (this.lastSendSmsTime && nowTime - this.lastSendSmsTime < 3000) {
        $.Msg.info($.Lang.CLICK_FREQUENTLY);
        return;
      }
      this.lastSendSmsTime = nowTime;

      let args = {
        phoneNo: this.member.phoneNo,
        authcodeType: 8,
        encSid: $.data.shop.encSid,
        encTid: $.data.tenant.encTid,
        custName: this.member.phoneNo
      };
      $.Req.service($.SvName.SMS_AUTHCODE_SEND, args, ret => {
        if (ret.sendStatus === 0) {
          $.Msg.info($.Lang.AUTHCODE_SENT);
        } else {
          $.Dlg.error($.Lang.AUTHCODE_SEND_ERR);
        }
      });

      let count = 60;
      let resend = setInterval(() => {
        count--;
        if (count > 0) {
          this.authcodeDisabled = true;
          this.authcodeLabel = count + "秒后可重新获取";
        } else {
          clearInterval(resend);
          this.authcodeDisabled = false;
        }
      }, 1000);
    },

    calcCardEndDate() {
      if (this.cardEndDateEditType === 1) {
        // 根据天数编辑
        if (this.memberNewCard.usableDays && this.memberNewCard.beginDate) {
          this.memberNewCard.endDate = $.Util.formatDate(Date.new(this.memberNewCard.beginDate).addDays(this.memberNewCard.usableDays));
        } else {
          this.memberNewCard.endDate = null;
        }
      } else {
        this.calcCardUsableDays();
      }
    },

    calcCardUsableDays() {
      if (this.memberNewCard.beginDate && this.memberNewCard.endDate) {
        this.memberNewCard.usableDays = $.Util.calcDateDiffDays(this.memberNewCard.endDate, this.memberNewCard.beginDate);
      }
    },

    handleMcpImgUploadSuccess(res, file) {
      file.url = res.data.url;
      file.name = res.data.name;
      this.mcpImgFileList.push(file);
    },

    handleMcpImgRemove(file, fileList) {
      this.mcpImgFileList.splice(this.mcpImgFileList.indexOf(file), 1);
    }
  }
});

/***/ }),

/***/ 1312:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_help_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_org_conf_vue__ = __webpack_require__(1167);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_org_conf_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_member_member_org_conf_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_member_amount_rate_calc_vue__ = __webpack_require__(1187);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_member_amount_rate_calc_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__pages_member_amount_rate_calc_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_member_amount_discount_calc_vue__ = __webpack_require__(1186);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_member_amount_discount_calc_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__pages_member_amount_discount_calc_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_sys_num_calc_vue__ = __webpack_require__(1184);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_sys_num_calc_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__components_sys_num_calc_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//








/* harmony default export */ __webpack_exports__["default"] = ({
	components: { Help: __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default.a, ImgUpload: __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default.a, MemberOrgConf: __WEBPACK_IMPORTED_MODULE_2__pages_member_member_org_conf_vue___default.a, AmountRateCalc: __WEBPACK_IMPORTED_MODULE_3__pages_member_amount_rate_calc_vue___default.a, AmountDiscountCalc: __WEBPACK_IMPORTED_MODULE_4__pages_member_amount_discount_calc_vue___default.a, NumCalc: __WEBPACK_IMPORTED_MODULE_5__components_sys_num_calc_vue___default.a },
	data() {
		const validateMemberPhoneNo = (rule, value, callback) => {
			if (value && !$.Util.validatePhoneNo(value)) {
				callback(new Error($.Lang.PHONE_NO_ERR));
			} else {
				$.Req.service($.SvName.MEMBER_PHONE_NO_FIND, { phoneNo: value }, ret => {
					if (ret.result) {
						callback(new Error($.Lang.MEMBER_PHONE_NO_EXIST));
					} else {
						callback();
					}
				});
			}
		};

		const validateIntroPhoneNo = (rule, value, callback) => {
			if (value && !$.Util.validatePhoneNo(value)) {
				callback(new Error($.Lang.PHONE_NO_ERR));
			} else {
				if (value && value === this.member.phoneNo) {
					callback(new Error('推荐人不能是会员自己'));
				} else {
					callback();
				}
			}
		};

		const validateEmergencyPhone = (rule, value, callback) => {
			if (value && !$.Util.validatePhoneNo(value)) {
				callback(new Error($.Lang.PHONE_NO_ERR));
			} else {
				callback();
			}
		};

		const validateIdNo = (rule, value, callback) => {
			if (value) {
				if ($.Util.validateIdNo(value)) {
					this.parseIdNo(value);
					callback();
				} else {
					callback(new Error($.Lang.ID_NO_ERR));
				}
			} else {
				callback();
			}
		};

		return {
			g: $,
			mdId: null,
			readonly: false,
			dict: {
				cardList: [],
				salesList: [],
				advisorList: [],
				coachList: [],
				custSourceList: [],
				coachTypeList: []
			},
			checkCustSource: false,
			checkCard: false,
			member: {
				status: 0,
				phoneNo: null,
				cardNo: null,
				memberId: null,
				name: null,
				sex: null,
				source: null,
				salesId: null,
				coachId: null,
				advisorId: null,
				introducerPhone: null,
				emergencyPhone: null,
				idNo: null,
				remark: null,
				password: null,
				regDate: new Date(),
				addrProvince: null,
				addrCity: null,
				addrDistrict: null,
				addrDetail: null,
				contractNo: null
			},
			memberCardNoList: [],
			memberTips: null,
			memberNewCard: {
				cardId: null,
				cardType: null,
				paymentChannel: null,
				hasExp: false,
				autoActiveCard: false,
				deposit: null,
				usableDays: null
			},
			memberRequiredFileds: ['phoneNo', 'name', 'sex', 'source'],
			memberNewCardRequiredFileds: ['cardId', 'usableAmount', 'paymentAmount', 'paymentChannel'],
			memberFormRule: {
				name: [{ type: 'string', max: 30, message: '字数不能超过30', trigger: 'blur' }],
				phoneNo: [{ validator: validateMemberPhoneNo, trigger: 'blur' }],
				introducerPhone: [{ validator: validateIntroPhoneNo, trigger: 'blur' }],
				emergencyPhone: [{ validator: validateEmergencyPhone, trigger: 'blur' }],
				idNo: [{ validator: validateIdNo, trigger: 'blur' }],
				remark: [{ type: 'string', max: 1000, message: '字数不能超过1000', trigger: 'blur' }]
			},
			memberNewCardFormRule: {},
			futureDateOption: {
				disabledDate(date) {
					return date && date.valueOf() < Date.now() - 86400000;
				}
			},
			imgUpload: {
				action: $.Conf.IMG_UPLOAD_URL,
				imgMaxWidth: 512
			},
			submitLoading: [false, false],
			memberCnts: null,
			orgDlgView: false,
			memberOrgList: [],
			photo: {
				photoDlgView: false,
				takePhotoType: 1,
				hasTakePhoto: false,
				imgUrl: null
			},
			addrList: [{}, {}, {}],
			amountRateCalcDlg: false,
			amountDiscountCalcDlg: false,
			defaultValOfDlg: null,
			memberCreateConfirmDlg: false,
			memberConfirm: {
				name: null, cardName: null, salesName: null, paymentAmount: null, usableAmount: null
			},
			memberCoachList: [],
			pcScheduleNavDlg: false,
			needCreateMoreCards: null,
			numCalcDlg: false,
			carNoList: [],
			auditStaffList: null,
			memberDraftAuditDlg: null,
			memberDraftAudit: {
				auditResult: null,
				remark: null
			},
			memberDraftAuditList: null
		};
	},

	created() {
		$.Util.addRequiredFieldsRules(this.memberFormRule, this.memberRequiredFileds);
		$.Util.addRequiredFieldsRules(this.memberNewCardFormRule, this.memberNewCardRequiredFileds);

		// query staff as sales
		$.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
			this.dict.salesList = ret.staffList;
		});

		// query coach
		$.Req.service($.SvName.COACH_BASE_QUERY, {}, ret => {
			this.dict.coachList = ret.coachList;
		});

		// query staff as advisor
		$.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true, sysRid: $.Dict.SysRole.ADVISOR }, ret => {
			this.dict.advisorList = ret.staffList;
		});

		// query cards
		$.Req.service($.SvName.CARD_QUERY, { queryType: 2, status: 0 }, ret => {
			this.dict.cardList = ret.cardList;
			for (let c of this.dict.cardList) {
				c.cardTypeName = $.Dict.CardType[c.cardType];
			}
			this.checkCard = true;
		});

		this.queryCoachType();

		// query cust_source
		$.Req.service($.SvName.CUST_SOURCE_QUERY, { isBaseInfo: true }, ret => {
			this.dict.custSourceList = ret.custSourceList;
			this.checkCustSource = true;
		});

		this.queryMemberOrg();

		this.loadRegion(() => {
			const args = { queryType: 2, encSid: $.data.shop.encSid };
			$.Req.service($.SvName.SHOP_QUERY, args, ret => {
				this.member.addrProvince = ret.shop.addrProvince;
				this.member.addrCity = ret.shop.addrCity;
				this.member.addrDistrict = ret.shop.addrDistrict;
				if (this.member.addrProvince) {
					this.changeMemberAddr(1, this.member.addrProvince);
					if (this.member.addrCity) {
						this.changeMemberAddr(2, this.member.addrCity);
					}
				}
			});
		});

		this.queryAuditStaff();

		if (this.$route.params.mdId) {
			this.mdId = parseInt(this.$route.params.mdId);
			this.queryMemberDraft();
			this.queryMemberDraftAudit();
		}
	},

	methods: {
		queryMemberDraft() {
			if (!this.mdId) return;

			let args = { mdId: this.mdId };
			$.Req.service($.SvName.MEMBER_DRAFT_QUERY, args, ret => {
				if (ret.memberDraft.sex !== null) ret.memberDraft.sex = ret.memberDraft.sex ? 1 : 0;else ret.memberDraft.sex = 0;
				this.member = ret.memberDraft;
				this.memberNewCard = ret.memberCardDraft;
				this.member.birthdayMonth = this.member.birthdayDate ? parseInt(this.member.birthdayDate / 100) : '';
				this.member.birthdayDay = this.member.birthdayDate ? parseInt(this.member.birthdayDate % 100) : '';
				if (this.member.moreCardNos) {
					this.memberCardNoList = this.member.moreCardNos.split(',');
				}
				if (this.member.status > 0 || this.member.createUid !== $.data.user.uid && !$.data.user.isShopOwner) {
					this.readonly = true;
				}
				if (this.member.avatarPathname) {
					this.photo.imgUrl = $.Util.getImgUrl(this.member.avatarPathname);
				}
				this.parseIdNo(this.member.idNo);
			});
		},

		loadRegion(callback) {
			this.queryRegion(1, null, regions => {
				this.$set(this.addrList, 0, regions);
				if (callback) callback();
			});
		},

		handleSubmit() {
			this.$refs.member.validate(valid1 => {
				if (!valid1) {
					$.Msg.error($.Lang.SUBMIT_ERR);
					return false;
				}
				if (this.member.cardNo && !$.Util.validateCardNo(this.member.cardNo)) {
					$.Dlg.error($.Lang.ERR_CARD_NO.format(this.member.cardNo));
					return false;
				}
				if (!$.Util.isEmptyArray(this.memberCardNoList)) {
					for (let no of this.memberCardNoList) {
						if (no && !$.Util.validateCardNo(no)) {
							$.Dlg.error($.Lang.ERR_CARD_NO.format(no));
							return false;
						}
					}
				}

				this.$refs.memberNewCard.validate(valid2 => {
					if (!valid2) {
						$.Msg.error($.Lang.SUBMIT_ERR);
						return false;
					}
					this.createMemberDraft();
				});
			});
		},

		parseIdNo(value) {
			if (!value) return;

			this.member.sex = $.Util.getSexFromIdNo(value);
			let items = $.Util.getBirthdayFromIdNo(value);
			this.member.birthdayYear = items[0];
			this.member.birthdayMonth = items[1];
			this.member.birthdayDay = items[2];
		},

		createMemberDraft() {
			try {
				// check password
				if (this.member.password) {
					if (this.member.password.length < 6) {
						$.Msg.error('初始登录密码不能少于6位');
						return;
					}
				}

				// check birthday
				if (this.member.birthdayMonth && this.member.birthdayDay) {
					this.member.birthdayDate = parseInt(this.member.birthdayMonth * 100) + parseInt(this.member.birthdayDay);
				} else if (this.member.birthdayMonth || this.member.birthdayDay) {
					alert($.Lang.MEMBER_BIRTHDAY_ERR);
					return;
				}

				// check card
				if (this.memberNewCard.cardType === 1) {
					if (!this.memberNewCard.usableDays) {
						alert('请输入使用天数');
						return;
					}
				} else if (this.memberNewCard.cardType === 2) {
					if (!this.memberNewCard.usableTimes) {
						alert('请输入使用次数');
						return;
					}
					if (this.memberNewCard.usableTimes < 0) {
						alert('使用次数不能小于0');
						return;
					}
				} else if (this.memberNewCard.cardType === 4) {
					if (!this.memberNewCard.usableTimes) {
						alert('请输入使用时间');
						return;
					}
					if (this.memberNewCard.usableTimes < 0) {
						alert('使用时间不能小于0');
						return;
					}
				}
				if (this.memberNewCard.autoActiveCard && !this.memberNewCard.beginDate) {
					$.Msg.error('请设置开卡日期');
					return;
				}
				if (!this.memberNewCard.autoActiveCard) {
					this.memberNewCard.beginDate = null;
				}

				// set more coachs
				let memberCoachIds = [],
				    memberCoachTypes = [];
				for (let i = 0, len = this.memberCoachList.length; i < len; i++) {
					if (!this.memberCoachList[i].coachId) continue;
					memberCoachIds.push(this.memberCoachList[i].coachId);
					memberCoachTypes.push(this.memberCoachList[i].coachType);
				}
				this.member.moreCoachIds = memberCoachIds.join(',');
				this.member.moreCoachTypes = memberCoachTypes.join(',');

				// confirm member info
				this.memberConfirm.name = this.member.name;
				this.memberConfirm.cardName = this.findCard(this.memberNewCard.cardId).cardName;
				this.memberConfirm.salesName = this.findSalesName(this.member.salesId);
				this.memberConfirm.paymentAmount = this.memberNewCard.paymentAmount;
				this.memberConfirm.usableAmount = this.memberNewCard.usableAmount;
				this.memberCreateConfirmDlg = true;
			} catch (err) {
				$.Util.handleException(err);
			}
		},

		submitMemberDraft(status) {
			if (this.submitLoading[status]) return;

			if (status > 0 && !this.member.auditStaffId) {
				$.Msg.warning('请选择审核人员');
				return;
			}
			this.submitLoading[status] = true;
			this.member.carNos = this.carNoList ? this.carNoList.join(',') : null;
			let args = {
				member: this.member,
				memberNewCard: this.memberNewCard,
				memberCardNoList: this.memberCardNoList
			};
			args.actionType = this.mdId ? 'U' : 'I';
			if (!$.Util.isEmptyArray(this.memberCardNoList)) {
				args.member.moreCardNos = this.memberCardNoList.join(',');
			}
			args.member.status = status;
			$.Req.service($.SvName.MEMBER_DRAFT_SAVE, args, ret => {
				this.submitLoading[status] = false;
				this.memberCreateConfirmDlg = false;
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.$router.push('/member-draft-query');
			}, false, err => {
				this.submitLoading[status] = false;
				this.memberCreateConfirmDlg = false;
				alert(err);
			});
		},

		findSalesName(salesId) {
			for (let s of this.dict.salesList) {
				if (salesId === s.staffId) {
					return s.name;
				}
			}

			return null;
		},

		findCard(cardId) {
			for (let c of this.dict.cardList) {
				if (c.cardId === cardId) {
					return c;
				}
			}
			return {};
		},

		handleCardSelect(cardId) {
			for (let c of this.dict.cardList) {
				if (c.cardId === this.memberNewCard.cardId) {
					this.memberNewCard.cardType = c.cardType;
					this.memberNewCard.usableAmount = c.defaultAmount;
					this.memberNewCard.usableDays = c.defaultDays;
					this.memberNewCard.cardTimeType = c.cardTimeType;
					if (this.memberNewCard.deposit) {
						this.memberNewCard.paymentAmount = c.defaultAmount - this.memberNewCard.deposit;
					} else {
						this.memberNewCard.paymentAmount = c.defaultAmount;
					}
					this.memberNewCard.expDateDisable = c.expDateDisable;
					if (c.defaultDays && c.cardType > 1) {
						this.memberNewCard.autoActiveCard = true;
						this.memberNewCard.beginDate = new Date();
						this.memberNewCard.endDate = new Date(new Date().getTime() + 3600000 * 24 * c.defaultDays);
					}
					if (c.cardType === 2 || c.cardType === 4) {
						this.memberNewCard.usableTimes = c.defaultTimes;
					}
					break;
				}
			}
		},

		handleImgUploadSuccess(res, file) {
			file.url = res.data.url;
			file.name = res.data.name;
			this.member.avatarPathname = res.data.name;

			this.photo.photoDlgView = false;
			this.photo.imgUrl = file.url;
		},

		afterConfMemberOrg(orgList) {
			this.memberOrgList = orgList;
		},

		queryMemberOrg() {
			$.Req.service($.SvName.MEMBER_ORG_QUERY, {}, ret => {
				this.memberOrgList = ret.memberOrgList;
			});
		},

		openPhotoDlg() {
			this.photo.photoDlgView = true;
		},

		changePhotoType(val) {
			if (this.photo.takePhotoType === 2) {
				this.getVideo();
			}
		},

		getVideo() {
			if (location.href.startsWith('http:') && location.href.indexOf('127') < 0) {
				alert('调用摄像头需要加密协议（https），即将带你使用加密协议');
				let newUrl = 'https:' + location.href.substr(5);
				location.href = newUrl;
				return;
			}

			$.Msg.info('正在调用摄像头，请稍等...');
			this.$nextTick(() => {
				let video = this.$refs.video;
				let videoObj = { "video": true };
				navigator.mediaDevices.getUserMedia(videoObj).then(function (mediaStream) {
					video.srcObject = mediaStream;
					video.play();
				}).catch(function (error) {
					console.log(error);
				});
			});
		},

		takePhoto() {
			this.$nextTick(() => {
				let context = this.$refs.canvas.getContext("2d");
				context.drawImage(this.$refs.video, 0, 0, 310, 250);
				this.photo.hasTakePhoto = true;
			});
		},

		uploadPhotoImg() {
			if (this.photo.hasTakePhoto) {
				$.Msg.info('正在上传...');
				$.Util.uploadImgFromCanvas(this.$refs.canvas, res => {
					this.member.avatarPathname = res.data.name;
					this.photo.photoDlgView = false;
					this.photo.imgUrl = res.data.url;
				}, err => {
					alert('上传失败，请稍后重试');
				});
			}
		},

		addMemberCardNoBox() {
			this.memberCardNoList.push('');
		},

		queryRegion(level, pid, callback) {
			let args = null;
			if (pid) {
				args = { queryType: 2, pid: pid };
			} else if (level) {
				args = { queryType: 1, level: level };
			} else {
				return;
			}

			$.Req.service($.SvName.REGION_GET, args, ret => {
				let retRegions = [];
				const regions = ret.regionList;
				for (let i = 0, len = regions.length; i < len; i++) {
					retRegions.push({ value: regions[i].rid, label: regions[i].name });
				}
				callback(retRegions);
			});
		},

		changeMemberAddr(level, value) {
			if (level > 1 && !value) return;

			if (level === 1) {
				this.queryRegion(level, value, regions => {
					this.$set(this.addrList, 2, {});
					this.$set(this.addrList, 1, regions);
				});
			} else if (level === 2) {
				this.queryRegion(level, value, regions => {
					this.$set(this.addrList, 2, regions);
				});
			} else {
				alert('Error level: ' + level);
			}
		},

		onChangeAddrL1(value) {
			this.changeMemberAddr(1, value);
			this.member.addrCity = null;
			this.member.addrDistrict = null;
		},

		onChangeAddrL2(value) {
			this.changeMemberAddr(2, value);
			this.member.addrDistrict = null;
		},

		afterCalcPaymentAmount(val) {
			this.memberNewCard.paymentAmount = val;
			if (this.amountRateCalcDlg) this.amountRateCalcDlg = false;else if (this.amountDiscountCalcDlg) this.amountDiscountCalcDlg = false;
		},

		openAmountRateCalcDlg() {
			if (!this.defaultValOfDlg) {
				if (this.memberNewCard.paymentAmount) this.defaultValOfDlg = parseFloat(this.memberNewCard.paymentAmount);else if (this.memberNewCard.usableAmount) this.defaultValOfDlg = parseFloat(this.memberNewCard.usableAmount);
			}
			this.amountRateCalcDlg = true;
		},

		openAmountDiscountCalcDlg() {
			if (!this.defaultValOfDlg) {
				if (this.memberNewCard.paymentAmount) this.defaultValOfDlg = parseFloat(this.memberNewCard.paymentAmount);else if (this.memberNewCard.usableAmount) this.defaultValOfDlg = parseFloat(this.memberNewCard.usableAmount);
			}
			this.amountDiscountCalcDlg = true;
		},

		queryCustAndFillMember() {
			this.memberTips = null;
			this.memberNewCard.deposit = null;
			if (!$.Util.validatePhoneNo(this.member.phoneNo)) {
				return;
			}

			$.Req.service($.SvName.CUST_QUERY, { phoneNo: this.member.phoneNo }, r => {
				if (r && r.cust) {
					// fill member info with cust
					this.member.name = r.cust.name;
					this.member.source = r.cust.custSrc;
					this.member.salesId = r.cust.ownerStaffId;
					if (r.cust.sex === true || r.cust.sex === false) {
						this.member.sex = r.cust.sex ? 1 : 0;
					}
					this.member.idNo = r.cust.idNo;
					if (r.cust.custType === 2) {
						// 订金客户
						let args = {
							chargeFrom: 1,
							refId: r.cust.custId,
							page: 1
						};
						$.Req.service($.SvName.CHARGE_QUERY, args, ret => {
							if (ret.chargeList && ret.chargeList.length === 1) {
								let charge = ret.chargeList[0];
								this.memberTips = "订金客户【{0} 付订金 ￥{1}】".format($.Util.formatDate(charge.createTime), charge.arAmount);
								this.memberNewCard.deposit = charge.arAmount;
							}
						});
					}
				}
			});
		},

		queryCoachType() {
			$.Req.service($.SvName.COACH_TYPE_QUERY, { isBaseInfo: true }, ret => {
				this.dict.coachTypeList = ret.coachTypeList;
			});
		},

		clickAddMoreCoach() {
			if (this.dict.coachTypeList && this.dict.coachTypeList.length > 0) {
				this.memberCoachList.push({ coachType: null, coachId: null });
			} else {
				$.Dlg.warning('尚未设置教练类型，请先在【员工 》 教练类型】中设置教练类型', null, false);
			}
		},

		openNumDlg() {
			this.numCalcDlg = true;
		},

		removeCarNo(carNo) {
			this.carNoList.removeValue(carNo);
		},

		appendCarNo() {
			if (this.carNoList.length > 20) {
				$.Msg.error('车牌号数量不能超过20个');
				return;
			}
			let val = prompt('请输入该会员的一个车牌号');
			if (val) this.carNoList.push(val);
		},

		queryAuditStaff() {
			let args = { roleFuncId: 70, needBaseInfo: true };
			$.Req.service($.SvName.STAFF_QUERY, args, ret => {
				this.auditStaffList = ret.staffList;
			});
		},

		openAuditDlg() {
			this.memberDraftAuditDlg = true;
		},

		submitMemberDraftAudit() {
			if (!this.memberDraftAudit.auditResult && !this.memberDraftAudit.remark) {
				$.Msg.warning('审核不通过时，请在备注中填写不通过的具体原因。');
				return;
			}
			let args = {
				mdId: this.mdId,
				auditResult: this.memberDraftAudit.auditResult,
				remark: this.memberDraftAudit.remark
			};
			$.Req.service($.SvName.MEMBER_DRAFT_AUDIT_SUBMIT, args, ret => {
				this.memberDraftAuditDlg = false;
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.$router.push('/member-draft-query');
			}, true);
		},

		queryMemberDraftAudit() {
			if (!this.mdId) return;

			let args = { mdId: this.mdId };
			$.Req.service($.SvName.MEMBER_DRAFT_AUDIT_QUERY, args, ret => {
				this.memberDraftAuditList = ret.mdaList;
			});
		},

		deleteMemberDraftAudit() {
			if (!confirm('您确定要删除此审核单吗？')) {
				return;
			}

			let args = { mdId: this.mdId };
			$.Req.service($.SvName.MEMBER_DRAFT_DELETE, args, ret => {
				$.Dlg.success($.Lang.OPT_SUCCESS);
				this.$router.push('/member-draft-query');
			});
		}
	}
});

/***/ }),

/***/ 1313:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_time_select__ = __webpack_require__(405);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_time_select___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_sys_time_select__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
  components: { TimeSelect: __WEBPACK_IMPORTED_MODULE_1__components_sys_time_select___default.a, PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
  data() {
    return {
      g: window.$,
      memberDraftList: null,
      memberDraftCount: null,
      query: {
        status: null,
        beginDate: null,
        endDate: null,
        createUid: null,
        auditStaffId: null,
        memberName: null,
        memberPhone: null
      },
      staffList: null,
      enableMemberDraftSbumitSms: null,
      enableMemberDraftAuditSms: null,
      enableMemberDraftSbumitWx: null,
      enableMemberDraftAuditWx: null,
      confDlg: null
    };
  },

  created() {
    this.queryStaffList();
    this.queryMemberDraft();
    this.queryShopArgs();
  },

  methods: {
    queryShopArgs() {
      let args = { typeIdList: [2070, 2071, 2080, 2081] };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
        for (let t of ret.argList) {
          if (t.typeId === 2070) this.enableMemberDraftSbumitSms = t.typeValue === "true";else if (t.typeId === 2071) this.enableMemberDraftAuditSms = t.typeValue === "true";else if (t.typeId === 2080) this.enableMemberDraftSbumitWx = t.typeValue === "true";else if (t.typeId === 2081) this.enableMemberDraftAuditWx = t.typeValue === "true";
        }
      });
    },

    queryStaffList() {
      if ($.data.user.isShopOwner) {
        $.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
          this.staffList = ret.staffList;
        });
      } else {
        let staff = {
          name: $.data.user.uname,
          staffId: $.data.user.staffId,
          uid: $.data.user.uid
        };
        this.staffList = [staff];
        this.query.createUid = staff.uid;
      }
    },

    queryMemberDraft(page = null) {
      if (!$.data.user.isShopOwner) {
        if (!this.query.createUid && !this.query.auditStaffId) {
          $.Dlg.warning("请选择创建人或审核人");
          return;
        }
      }
      let args = {
        status: this.query.status,
        createUid: this.query.createUid,
        auditStaffId: this.query.auditStaffId,
        memberName: this.query.memberName,
        memberPhone: this.query.memberPhone
      };
      $.Req.service($.SvName.MEMBER_DRAFT_QUERY, args, ret => {
        this.memberDraftList = ret.memberDraftList;
        if (!page) {
          this.memberDraftCount = ret.count;
        }
      }, true);
    }
  }
});

/***/ }),

/***/ 1314:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__member_follow_list_vue__ = __webpack_require__(411);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__member_follow_list_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__member_follow_list_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberFollowList: __WEBPACK_IMPORTED_MODULE_1__member_follow_list_vue___default.a },
	data() {
		return {
			memberId: parseInt(this.$route.params.memberId),
			memberName: $.Util.sessionStore.get($.Conf.LocalSessionKey.MEMBER_NAME),
			menuList: $.PageMenus.member(this.$route.params.memberId, 'member-follow-list')
		};
	},

	created() {
		if (!this.memberId) {
			this.$router.push('/member-query');
			return;
		}
		this.loadData();
	},

	methods: {
		loadData() {
			$.Req.service($.SvName.MEMBER_FOLLOW_QUERY, { memberId: this.memberId }, ret => {
				this.memberFollowList = ret.memberFollowList;
			});
		}
	}
});

/***/ }),

/***/ 1315:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default.a },
	data() {
		return {
			g: $,
			canQueryAll: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_QUERY_ALL.value),
			dict: {
				staffList: []
			},
			memberDlgView: false,
			totalCount: null,
			totalPages: null,
			queryPage: null,
			memberFollowList: [],
			query: {
				ownerUidList: [],
				followDateRange: []
			},
			selectMemberId: 0,
			viewMemberDlg: false
		};
	},

	created() {
		if (this.canQueryAll) {
			// query staff
			$.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
				this.dict.staffList = ret.staffList;
			});
		} else {
			let self = { uid: $.data.user.uid, name: $.data.user.uname };
			this.dict.staffList = [self];
			this.query.ownerUid = self.uid;
			this.query.ownerUidList.push(self.uid);
			$.Req.service($.SvName.SUB_STAFF_QUERY, { staffId: $.data.user.staffId }, ret => {
				if (ret.staffList) {
					for (let staff of ret.staffList) {
						this.dict.staffList.push(staff);
					}
				}
			});
		}
		this.query.followDateRange = [new Date(), new Date()];
		this.queryMemberFollow();
	},

	methods: {
		setQueryDate(type) {
			let beginDate = new Date();
			let endDate = new Date();
			if (type === 2) {
				beginDate = beginDate.setTime(beginDate.getTime() - 3600 * 1000 * 24);
				endDate = beginDate;
			} else if (type === 3) {
				beginDate = beginDate.setTime(beginDate.getTime() - 3600 * 1000 * 24 * 2);
				endDate = beginDate;
			} else if (type === 4) {
				beginDate = beginDate.setTime(beginDate.getTime() - 3600 * 1000 * 24 * 6);
			}
			this.query.followDateRange = [beginDate, endDate];

			this.queryMemberFollow();
		},

		resetQuery() {
			this.query = {
				ownerUidList: [],
				followDateRange: [new Date(), new Date()]
			};
		},

		queryMemberFollow(page = null) {
			if (!page) {
				this.totalCount = 0;
			}
			let args = {
				createUidList: this.query.ownerUidList,
				page: page
			};
			if (this.query.followDateRange && this.query.followDateRange.length === 2) {
				args.createDateBegin = this.query.followDateRange[0];
				args.createDateEnd = this.query.followDateRange[1];
			} else {
				$.Dlg.error('请输入完整的跟进日期范围');
				return;
			}
			$.Req.service($.SvName.MEMBER_FOLLOW_QUERY, args, ret => {
				this.memberFollowList = ret.memberFollowList;
				if (!page) {
					this.totalCount = ret.count;
				}
			}, true);
		},

		changePageNo(page) {
			this.queryMemberFollow(page);
			window.scrollTo(0, 0);
		},

		viewMember(memberId) {
			this.selectMemberId = memberId;
			this.viewMemberDlg = true;
		}
	}

});

/***/ }),

/***/ 1316:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_help_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_sys_img_upload_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_member_member_org_conf_vue__ = __webpack_require__(1167);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_member_member_org_conf_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__pages_member_member_org_conf_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_member_member_avatar_conf_vue__ = __webpack_require__(410);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_member_member_avatar_conf_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__pages_member_member_avatar_conf_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//







/* harmony default export */ __webpack_exports__["default"] = ({
  components: { Help: __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default.a, PageHeader: __WEBPACK_IMPORTED_MODULE_1__components_page_header_vue___default.a, ImgUpload: __WEBPACK_IMPORTED_MODULE_2__components_sys_img_upload_vue___default.a, MemberOrgConf: __WEBPACK_IMPORTED_MODULE_3__pages_member_member_org_conf_vue___default.a, MemberAvatarConf: __WEBPACK_IMPORTED_MODULE_4__pages_member_member_avatar_conf_vue___default.a },
  data() {
    const validateIdNo = (rule, value, callback) => {
      if (value) {
        if ($.Util.validateIdNo(value)) {
          this.member.sex = $.Util.getSexFromIdNo(value);
          let items = $.Util.getBirthdayFromIdNo(value);
          this.member.birthdayYear = items[0];
          this.member.birthdayMonth = items[1];
          this.member.birthdayDay = items[2];
          callback();
        } else {
          callback(new Error($.Lang.ID_NO_ERR));
        }
      } else {
        callback();
      }
    };

    const validateIntroPhoneNo = (rule, value, callback) => {
      if (value && !$.Util.validatePhoneNo(value)) {
        callback(new Error($.Lang.PHONE_NO_ERR));
      } else {
        if (value && value === this.member.phoneNo) {
          callback(new Error("推荐人不能是会员自己"));
        } else {
          callback();
        }
      }
    };

    const validateEmergencyPhone = (rule, value, callback) => {
      if (value && !$.Util.validatePhoneNo(value)) {
        callback(new Error($.Lang.PHONE_NO_ERR));
      } else {
        callback();
      }
    };

    return {
      g: window.$,
      readonly: !$.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_EDIT.value),
      advEditable: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_ADV_EDIT.value),
      altPhoneEditable: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_PHONE_ALT.value),
      memberCreatePermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_CREATE.value),
      firstUploadMemberHeadPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.FIRST_UPLOAD_MEMBER_HEAD.value),
      memberId: null,
      memberName: $.Util.sessionStore.get($.Conf.LocalSessionKey.MEMBER_NAME),
      member: {
        idNo: null,
        sex: null,
        birthdayYear: null,
        birthdayMonth: null,
        birthdayDay: null,
        remark: null,
        addrProvince: null,
        addrCity: null,
        addrDistrict: null
      },
      memberCardNoList: [],
      menuList: $.PageMenus.member(this.$route.params.memberId, "member-info"),
      dict: {
        salesList: null,
        advisorList: null,
        coachList: null,
        custSourceList: [],
        coachTypeList: null
      },
      memberRequiredFileds: ["name", "sex", "source"],
      memberFormRule: {
        name: [{
          type: "string",
          max: 30,
          message: "字数不能超过30",
          trigger: "blur"
        }],
        idNo: [{ validator: validateIdNo, trigger: "blur" }],
        introducerPhone: [{ validator: validateIntroPhoneNo, trigger: "blur" }],
        emergencyPhone: [{ validator: validateEmergencyPhone, trigger: "blur" }],
        remark: [{
          type: "string",
          max: 1000,
          message: "字数不能超过1000",
          trigger: "blur"
        }]
      },
      bmiLevel: null,
      bmiDesc: null,
      updateMemberPhoneView: false,
      newPhoneNo: "",
      updateMemberPhoneErr: null,
      orgDlgView: false,
      memberOrgList: null,
      photo: {
        photoDlgView: false,
        imgUrl: null,
        morePhotoDlgView: false
      },
      addrList: [{}, {}, {}],
      memberCoachList: [],
      canUploadMorePhotos: false,
      moreMemberPhotos: [null, null, null, null, null],
      moreMemberPhotoUrls: [null, null, null, null, null],
      memberPhotoIdx: null,
      phoneNoLogList: null,
      phoneNoLogDlg: false,
      cardNoLogList: null,
      cardNoLogDlg: false,
      cardReissueCharge: {},
      cardReissueChargeDlg: false,
      carNoList: [],
      memberHeadLogDlg: null,
      memberAvatarChangeLogList: null,
      allowPhoneInOtherTenant: null,
      phoneIsInOtherTenant: null,
      phoneAuthcode: null,
      authcodeDisabled: null,
      authcodeLabel: null,
      lastSendSmsTime: null,
      ignoreSyncMember: null,
      enableEntryMach: null
    };
  },

  created() {
    $.Util.addRequiredFieldsRules(this.memberFormRule, this.memberRequiredFileds);

    if (this.$route.params.memberId) {
      this.memberId = parseInt(this.$route.params.memberId);

      // query staff as sales
      $.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
        this.dict.salesList = ret.staffList;
      });

      // query coach
      $.Req.service($.SvName.COACH_BASE_QUERY, {}, ret => {
        this.dict.coachList = ret.coachList;
      });

      // query staff as advisor
      $.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true, sysRid: $.Dict.SysRole.ADVISOR }, ret => {
        this.dict.advisorList = ret.staffList;
      });

      // query cust_source
      $.Req.service($.SvName.CUST_SOURCE_QUERY, { isBaseInfo: true }, ret => {
        this.dict.custSourceList = ret.custSourceList;
      });
      this.queryCoachType();
      this.loadRegion(ret => {
        this.loadMember();
      });
      this.queryMemberOrg();
    } else {
      this.$router.push("/member-query");
    }
  },

  methods: {
    loadMember() {
      let args = { memberId: this.memberId, needMoreCardNo: true };
      $.Req.service($.SvName.MEMBER_SINGLE_QUERY, args, ret => {
        if (!ret.member) {
          $.Msg.error("该会员记录不存在");
          this.$router.push("/member-query");
          return;
        }
        this.memberCardNoList = ret.memberCardNoList ? ret.memberCardNoList : [];
        if (ret.member.sex !== null) ret.member.sex = ret.member.sex ? 1 : 0;else ret.member.sex = 0;
        this.member = ret.member;
        this.carNoList = ret.member.carNos ? ret.member.carNos.split(",") : [];
        this.member.birthdayMonth = ret.member.birthdayDate ? parseInt(ret.member.birthdayDate / 100) : null;
        this.member.birthdayDay = ret.member.birthdayDate ? parseInt(ret.member.birthdayDate % 100) : null;
        this.memberName = this.member.name;
        this.handleCaclBmi();
        $.Util.sessionStore.set($.Conf.LocalSessionKey.MEMBER_NAME, this.memberName);

        if (this.member.avatarPathname) {
          this.photo.imgUrl = $.Util.getImgUrl(this.member.avatarPathname);
        }

        // set addr
        if (this.member.addrProvince) {
          this.changeMemberAddr(1, this.member.addrProvince);
          if (this.member.addrCity) {
            this.changeMemberAddr(2, this.member.addrCity);
          }
        }

        // set more coachs
        this.memberCoachList = [];
        if (this.member.moreCoachIds) {
          let moreCoahIdList = this.member.moreCoachIds.split(",");
          let moreCoachTypeList = this.member.moreCoachTypes.split(",");
          for (let i = 0, len = moreCoahIdList.length; i < len; i++) {
            if (!moreCoahIdList[i] || !$.Util.isInteger(moreCoahIdList[i])) continue;

            this.memberCoachList.push({
              coachType: parseInt(moreCoachTypeList[i]),
              coachId: parseInt(moreCoahIdList[i])
            });
          }
        }

        if (this.member.morePhotos) {
          this.canUploadMorePhotos = true;
          this.moreMemberPhotos = this.member.morePhotos.split(",");
          this.moreMemberPhotoUrls = [];
          for (let p of this.moreMemberPhotos) {
            this.moreMemberPhotoUrls.push($.Util.getImgUrl(p, 500, 500, "dddddd"));
          }

          if (this.advEditable || this.memberCreatePermit || this.firstUploadMemberHeadPermit) {
            this.queryEntryMachPermit();
          }
        } else {
          this.canUploadMorePhotos = false;
          this.moreMemberPhotos = [];
          this.moreMemberPhotoUrls = [];
        }
      });
    },

    loadRegion(callback) {
      this.queryRegion(1, null, regions => {
        this.$set(this.addrList, 0, regions);
        callback();
      });
    },

    calcBmi(height, weight) {
      if (height > 0 && weight > 0) {
        let bmi = parseFloat(weight / (height / 100) / (height / 100));
        const bmiNames = ["偏瘦", "正常", "超重", "肥胖"];
        let level = this.getBmiLevel(bmi);
        let bmiDesc = bmiNames[level];
        return [bmi.toFixed(2), level, bmiDesc];
      } else {
        return null;
      }
    },

    getBmiLevel(bmi) {
      if (bmi < 18.5) return 0;else if (bmi < 24) return 1;else if (bmi < 28) return 2;else return 3;
    },

    handleCaclBmi() {
      if (this.member.height && this.member.height < 30) {
        $.Dlg.error("身高的单位是【厘米】");
        this.member.height = null;
        this.member.bmi = null;
        this.bmiDesc = null;
        return;
      }
      if (this.member.height) this.member.height = parseInt(this.member.height);
      if (this.member.height > 0 && this.member.weight > 0) {
        let [bmi, bmiLevel, bmiDesc] = this.calcBmi(this.member.height, this.member.weight);
        this.member.bmi = bmi;
        this.bmiLevel = bmiLevel;
        this.bmiDesc = bmiDesc;
      } else {
        this.member.bmi = null;
        this.bmiDesc = null;
      }
    },

    updateMember() {
      this.$refs.member.validate(valid => {
        if (!valid) {
          $.Msg.error($.Lang.SUBMIT_ERR);
          return false;
        }

        if ($.Util.isEmpty(this.member.source)) {
          $.Dlg.warning("请设置客户来源，以便统计分析会员来源。");
          return false;
        }
        if (this.member.cardNo && !$.Util.validateCardNo(this.member.cardNo)) {
          $.Dlg.error("会员卡号【{0}】太长了，检查一下是否重复读卡了。".format(this.member.cardNo));
          return false;
        }

        if (this.member.birthdayMonth && this.member.birthdayDay) {
          this.member.birthdayDate = parseInt(this.member.birthdayMonth * 100) + parseInt(this.member.birthdayDay);
        } else if (this.member.birthdayMonth || this.member.birthdayDay) {
          alert($.Lang.MEMBER_BIRTHDAY_ERR);
          return false;
        }
        if (!this.member.birthdayMonth && !this.member.birthdayDay) {
          this.member.birthdayDate = null;
        }

        let memberCoachIds = [],
            memberCoachTypes = [];
        for (let i = 0, len = this.memberCoachList.length; i < len; i++) {
          if (!this.memberCoachList[i].coachId) continue;
          if (!this.memberCoachList[i].coachType) {
            $.Msg.error("请选择教练类型。");
            return;
          }
          memberCoachIds.push(this.memberCoachList[i].coachId);
          memberCoachTypes.push(this.memberCoachList[i].coachType);
        }
        this.member.moreCoachIds = memberCoachIds.join(",");
        this.member.moreCoachTypes = memberCoachTypes.join(",");
        let morePhotoArr = [];
        for (let p of this.moreMemberPhotos) {
          if (p) morePhotoArr.push(p);
        }
        this.member.morePhotos = morePhotoArr.join(",");
        this.member.carNos = this.carNoList ? this.carNoList.join(",") : null;

        $.Req.service($.SvName.MEMBER_UPDATE, { member: this.member }, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          window.scrollTo(0, 0);
          this.member.updateUname = $.data.user.uname;
          this.member.updateTime = new Date().format("yyyy-MM-dd hh:mm:ss");
        });
      });
    },

    openUpdateMemberPhoneDlg() {
      this.newPhoneNo = "";
      this.phoneIsInOtherTenant = false;
      this.updateMemberPhoneErr = null;
      this.updateMemberPhoneView = true;
    },

    updateMemberPhone() {
      if (!this.newPhoneNo) {
        $.Msg.error("请输入会员手机号");
        return;
      }
      if (!$.Util.validatePhoneNo(this.newPhoneNo)) {
        $.Msg.error("手机号格式不正确");
        return;
      }

      let args = {
        phoneNo: this.newPhoneNo,
        queryInOtherTenants: true
      };
      this.phoneIsInOtherTenant = false;
      $.Req.service($.SvName.MEMBER_PHONE_NO_FIND, args, ret => {
        if (ret.result) {
          this.updateMemberPhoneErr = $.Lang.MEMBER_PHONE_NO_EXIST;
          return;
        } else {
          if (ret.isInOtherTenant && !this.allowPhoneInOtherTenant) {
            if ($.Util.isFictitiousPhoneNo(this.newPhoneNo)) {
              this.phoneIsInOtherTenant = true;
              return;
            } else {
              if (!confirm("此号码【{0}】在其它商户中已存在，请确定输入的手机号是否正确。".format(this.newPhoneNo))) {
                return;
              }
            }
          }
        }

        if (!confirm("确定要更新该会员的手机号吗？")) return;

        this.updateMemberPhoneErr = null;
        let args = {
          uid: this.member.uid,
          phoneNo: this.newPhoneNo,
          userType: "member",
          ignoreSyncMember: this.ignoreSyncMember
        };
        $.Req.service($.SvName.USER_PHONE_UPDATE, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.member.phoneNo = this.newPhoneNo;
          this.updateMemberPhoneView = false;
        }, true, err => {
          this.updateMemberPhoneErr = err;
        });
      });
    },

    afterConfMemberOrg(orgList) {
      this.memberOrgList = orgList;
    },

    queryMemberOrg() {
      $.Req.service($.SvName.MEMBER_ORG_QUERY, {}, ret => {
        this.memberOrgList = ret.memberOrgList;
      });
    },

    openPhotoDlg() {
      this.photo.photoDlgView = true;
    },

    addMemberCardNoObj() {
      this.memberCardNoList.push({
        cardNo: null,
        mcnId: null,
        memberId: this.memberId
      });
    },

    saveMemberCardNo(idx) {
      let cardNo = this.memberCardNoList[idx].cardNo;
      if (cardNo && !$.Util.validateCardNo(cardNo)) {
        $.Dlg.error("会员卡号【{0}】太长了".format(cardNo));
        return;
      }
      let args = {
        actionType: this.memberCardNoList[idx].mcnId ? "U" : "I",
        memberCardNo: this.memberCardNoList[idx]
      };
      $.Req.service($.SvName.MEMBER_CARD_NO_SAVE, args, ret => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        if (ret.newMcnId) {
          this.memberCardNoList[idx].mcnId = ret.newMcnId;
        }
      });
    },

    delMemberCardNo(idx) {
      let msg = "您确定要删除卡号【{0}】吗？".format(this.memberCardNoList[idx].cardNo);
      $.Dlg.confirm(msg, yes => {
        let args = {
          deleteId: this.memberCardNoList[idx].mcnId,
          actionType: "D"
        };
        $.Req.service($.SvName.MEMBER_CARD_NO_SAVE, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.memberCardNoList.splice(idx, 1);
        });
      });
    },

    afterUploadMemberAvatar(fileurl, fileName) {
      this.photo.photoDlgView = false;
      this.photo.imgUrl = fileurl;
      this.member.avatarPathname = fileName;
    },

    afterUploadMoreMemberAvatar(fileurl, filename) {
      this.photo.morePhotoDlgView = false;
      this.moreMemberPhotoUrls[this.memberPhotoIdx] = fileurl;
      this.moreMemberPhotos[this.memberPhotoIdx] = filename;
    },

    openMemberAvatarDlg(photoIdx) {
      this.memberPhotoIdx = photoIdx;
      this.photo.morePhotoDlgView = true;
    },

    deleteMorePhoto(idx) {
      this.moreMemberPhotoUrls[idx] = null;
      this.moreMemberPhotos[idx] = null;
      this.$set(this.moreMemberPhotoUrls, idx, null);
      this.$set(this.moreMemberPhotos, idx, null);
    },

    queryRegion(level, pid, callback) {
      let args = null;
      if (pid) {
        args = { queryType: 2, pid: pid };
      } else if (level) {
        args = { queryType: 1, level: level };
      } else {
        return;
      }

      $.Req.service($.SvName.REGION_GET, args, ret => {
        let retRegions = [];
        const regions = ret.regionList;
        for (let i = 0, len = regions.length; i < len; i++) {
          retRegions.push({ value: regions[i].rid, label: regions[i].name });
        }
        callback(retRegions);
      });
    },

    changeMemberAddr(level, value) {
      if (level > 1 && !value) return;

      if (level === 1) {
        this.queryRegion(level, value, regions => {
          this.$set(this.addrList, 2, {});
          this.$set(this.addrList, 1, regions);
        });
      } else if (level === 2) {
        this.queryRegion(level, value, regions => {
          this.$set(this.addrList, 2, regions);
        });
      } else {
        alert("Error level: " + level);
      }
    },

    onChangeAddrL1(value) {
      this.changeMemberAddr(1, value);
      this.member.addrCity = null;
      this.member.addrDistrict = null;
    },

    onChangeAddrL2(value) {
      this.changeMemberAddr(2, value);
      this.member.addrDistrict = null;
    },

    queryCoachType() {
      $.Req.service($.SvName.COACH_TYPE_QUERY, { isBaseInfo: true }, ret => {
        this.dict.coachTypeList = ret.coachTypeList;
      });
    },

    clickAddMoreCoach() {
      if (this.dict.coachTypeList && this.dict.coachTypeList.length > 0) {
        this.memberCoachList.push({ coachType: null, coachId: null });
      } else {
        $.Dlg.warning("尚未设置教练类型，请先在【员工 》 教练类型】中设置教练类型", null, false);
      }
    },

    queryMemberPhoneNoLog() {
      $.Req.service($.SvName.MEMBER_PHONE_CHANGE_LOG_QUERY, { memberId: this.memberId }, ret => {
        this.phoneNoLogList = ret.logList;
        this.phoneNoLogDlg = true;
      }, true);
    },

    queryMemberCardNoLog() {
      $.Req.service($.SvName.MEMBER_CARD_NO_CHANGE_LOG_QUERY, { memberId: this.memberId }, ret => {
        this.cardNoLogList = ret.logList;
        this.cardNoLogDlg = true;
      }, true);
    },

    createCardReissueCharge() {
      if ($.Util.isEmpty(this.cardReissueCharge.unitPrice)) {
        $.Msg.error("请输入补卡费");
        return;
      }
      if (this.cardReissueCharge.unitPrice === 0) {
        this.cardReissueCharge.paymentChannel = 5;
      }
      if ($.Util.isEmpty(this.cardReissueCharge.paymentChannel)) {
        $.Msg.error("请输入选择支付方式");
        return;
      }
      this.cardReissueCharge.arAp = 0;
      this.cardReissueCharge.unitNum = 1;
      this.cardReissueCharge.arAmount = this.cardReissueCharge.unitPrice;
      this.cardReissueCharge.chargeFrom = 9;
      this.cardReissueCharge.refId = this.memberId;
      this.cardReissueCharge.memberId = this.memberId;
      this.cardReissueCharge.remark = "";
      if (this.cardReissueCharge.oldCardNo) {
        this.cardReissueCharge.remark += "\n原卡号：" + this.cardReissueCharge.oldCardNo;
      }
      if (this.cardReissueCharge.newCardNo) {
        this.cardReissueCharge.remark += "\n新卡号：" + this.cardReissueCharge.newCardNo;
      }
      if (!this.cardReissueCharge.remark) this.cardReissueCharge.remark = null;else this.cardReissueCharge.remark = this.cardReissueCharge.remark.trim();

      let args = { actionType: "I", charge: this.cardReissueCharge };
      $.Req.service($.SvName.CHARGE_SAVE, args, ret => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.cardReissueChargeDlg = false;
      });
    },

    removeCarNo(carNo) {
      this.carNoList.removeValue(carNo);
    },

    appendCarNo() {
      if (this.carNoList.length > 300) {
        $.Msg.error("车牌号数量不能超过300个");
        return;
      }
      let val = prompt("请输入该会员的一个车牌号");
      val = val.trim();
      if (val) {
        if (this.carNoList.contains(val)) {
          alert("车牌号【{0}】已存在，重复了。".format(val));
        } else {
          this.carNoList.push(val);
        }
      }
    },

    viewMemberAvatarChangeLog() {
      let args = {
        memberId: this.memberId
      };
      $.Req.service($.SvName.MEMBER_AVATAR_CHANGE_LOG_QUERY, args, ret => {
        this.memberAvatarChangeLogList = ret.logList;
        this.memberHeadLogDlg = true;
      }, true);
    },

    onClickSmsAuthcodeBtn() {
      let nowTime = new Date().getTime();
      if (this.lastSendSmsTime && nowTime - this.lastSendSmsTime < 3000) {
        $.Msg.info($.Lang.CLICK_FREQUENTLY);
        return;
      }
      this.lastSendSmsTime = nowTime;

      let args = {
        phoneNo: this.newPhoneNo,
        authcodeType: 8,
        encSid: $.data.shop.encSid,
        encTid: $.data.tenant.encTid,
        custName: this.newPhoneNo
      };
      $.Req.service($.SvName.SMS_AUTHCODE_SEND, args, ret => {
        if (ret.sendStatus === 0) {
          $.Msg.info($.Lang.AUTHCODE_SENT);
        } else {
          $.Dlg.error($.Lang.AUTHCODE_SEND_ERR);
        }
      });

      let count = 60;
      let resend = setInterval(() => {
        count--;
        if (count > 0) {
          this.authcodeDisabled = true;
          this.authcodeLabel = count + "秒后可重新获取";
        } else {
          clearInterval(resend);
          this.authcodeDisabled = false;
        }
      }, 1000);
    },

    checkPhoneAuthcode() {
      if (!this.phoneAuthcode) {
        $.Msg.warning("请输入短信验证码");
        return;
      }
      let args = {
        phoneNo: this.newPhoneNo,
        authcodeType: 8,
        authcode: this.phoneAuthcode
      };
      $.Req.service($.SvName.SMS_AUTHCODE_CHECK, args, ret => {
        this.allowPhoneInOtherTenant = true;
        this.updateMemberPhone();
      }, true);
    },

    delMemberAvatar() {
      if (!confirm("您确定要删除该会员的头像？")) {
        return;
      }

      let args = {
        memberId: this.memberId
      };
      $.Req.service($.SvName.MEMBER_AVATAR_DELETE, args, ret => {
        this.member.avatarPathname = null;
        this.photo.imgUrl = null;
        $.Msg.success($.Lang.OPT_SUCCESS);
      });
    },

    updateMemberMorePhotos() {
      let morePhotoArr = [];
      for (let p of this.moreMemberPhotos) {
        if (p) morePhotoArr.push(p);
      }
      let morePhotos = morePhotoArr.join(",");
      let member = { memberId: this.memberId, morePhotos: morePhotos };
      $.Req.service($.SvName.MEMBER_AVATAR_UPDATE, { member: member }, ret => {
        $.Msg.success($.Lang.UPDATE_MEMBER_PHOTO_OK);
      }, true);
    },

    queryEntryMachPermit() {
      let args = { typeId: $.Dict.ShopArg.ENABLE_ZHIQI_ENTRY_MACH };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
        this.enableEntryMach = ret.value === "true";
      });
    },

    syncMorePhotoToMach() {
      let args = { memberId: this.memberId };
      $.Req.service($.SvName.MEMBER_MORE_AVATARS_SYNC_TO_MACH, args, ret => {
        $.Msg.success($.Lang.OPT_SUCCESS);
      }, true);
    }
  }
});

/***/ }),

/***/ 1317:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
	data() {
		return {
			g: window.$,
			memberName: $.Util.sessionStore.get($.Conf.LocalSessionKey.MEMBER_NAME),
			menuList: $.PageMenus.member(this.$route.params.memberId, 'member-lesson-list'),
			pcScheduleList: [],
			privateLessonList: null,
			groupLessonList: null,
			groupLessonQuery: {
				courseId: null,
				beginDate: null,
				endDate: null,
				mcId: null
			},
			groupLessonTotal: 0,
			privateLessonQuery: {
				beginDate: null,
				endDate: null,
				psId: null,
				coachId: null,
				mcId: null
			},
			privateLessonTotal: null,
			groupLessonQueryLoading: false,
			privateLessonQueryLoading: false,
			groupCourseList: [],
			isCheckedGl: false,
			coachList: [],
			memberCardList: null,
			glCnt: null,
			plCnt: null,
			tabName: null,
			enableGlCheckout: null,
			mlCancelLogList: null,
			mlCancelLogCount: null,
			lessonCancelLogList: null,
			lessonCancelLogCount: null
		};
	},

	created() {
		if (!this.$route.params.memberId) {
			this.$router.push('/member-query');
			return;
		}
		this.memberId = parseInt(this.$route.params.memberId);

		// load member base
		$.Req.queryMemberBase(this.memberId, ret => {
			let member = ret.member;
			this.memberName = member.name;
			$.Util.sessionStore.set($.Conf.LocalSessionKey.MEMBER_NAME, this.memberName);
		});

		if ($.data.shop.hasPrivateCourse) {
			this.queryPsSchedule();
			this.queryMemberPrivateLesson();
			this.queryPcLessonCancelLogList();
		}
		if ($.data.shop.hasGroupCourse) {
			this.queryShopArgs(this.queryMemberGroupLesson);
			this.queryMemberGroupCourse();
			if (!$.data.shop.hasPrivateCourse) {
				this.queryMemberLessonCancelLogList();
			}
		}
		this.queryMemberCardList();
	},

	methods: {
		queryShopArgs(callback = null) {
			let args = {
				typeIdList: [2087]
			};
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, (ret, systime) => {
				for (let t of ret.argList) {
					if (t.typeId === 2087) {
						this.enableGlCheckout = t.typeValue === 'true';
					}
				}
				if (callback) callback();
			});
		},

		queryPsSchedule() {
			let args = {
				memberId: this.memberId,
				ignoreStatus: true
			};
			$.Req.service($.SvName.PRIVATE_COURSE_SCHEDULE_QUERY, args, ret => {
				this.pcScheduleList = ret.pcScheduleList;
				let coachIdList = [];
				for (let ps of ret.pcScheduleList) {
					if (!coachIdList.contains(ps.coachId)) {
						coachIdList.push(ps.coachId);
						this.coachList.push({ coachId: ps.coachId, coachName: ps.coachName });
					}
				}
			});
		},

		initQueryDate() {
			let endDate = new Date();
			let beginDate = new Date(endDate.getTime() - 90 * 3600 * 24 * 1000);
			this.groupLessonQuery.beginDate = beginDate;
			this.groupLessonQuery.endDate = endDate;
			this.privateLessonQuery.beginDate = beginDate;
			this.privateLessonQuery.endDate = endDate;
		},

		queryMemberGroupLesson(page = null) {
			let args = {
				memberId: this.memberId,
				courseId: this.groupLessonQuery.courseId,
				beginDate: this.groupLessonQuery.beginDate,
				endDate: this.groupLessonQuery.endDate,
				mcId: this.groupLessonQuery.mcId,
				page: page,
				needMlCheckoutInfo: this.enableGlCheckout
			};
			if (this.isCheckedGl) args.status = 2;
			this.groupLessonQueryLoading = true;
			$.Req.service($.SvName.MEMBER_GROUP_LESSON_QUERY, args, ret => {
				this.groupLessonList = ret.memberLessonList;
				for (let l of this.groupLessonList) {
					l.lessonDate = l.lessonDate ? $.Util.formatDate(l.lessonDate) : null;
					if (l.beginTime) {
						l.lessonTimeDesc = "{0}~{1}".format($.Util.formatTime(l.beginTime), $.Util.formatTime(l.endTime));
					}
				}
				if (!page) {
					if (!this.groupLessonTotal) this.groupLessonTotal = ret.count;
					this.glCnt = ret.count;
				}
				this.groupLessonQueryLoading = false;
				window.scrollTo(0, 0);
			}, true, err => {
				this.groupLessonQueryLoading = false;
				$.Dlg.error(err);
			});
		},

		changePageNoForGroupLesson(page) {
			this.queryMemberGroupLesson(page);
		},

		queryMemberPrivateLesson(page) {
			let args = {
				memberId: this.memberId,
				beginDate: this.privateLessonQuery.beginDate,
				endDate: this.privateLessonQuery.endDate,
				psId: this.privateLessonQuery.psId,
				coachId: this.privateLessonQuery.coachId,
				mcId: this.privateLessonQuery.mcId,
				page: page
			};
			this.privateLessonQueryLoading = true;
			$.Req.service($.SvName.MEMBER_PRIVATE_LESSON_QUERY, args, ret => {
				this.privateLessonList = ret.memberPcLessonList;
				for (let l of this.privateLessonList) {
					l.lessonDate = $.Util.formatDate(l.lessonDate);
					l.lessonTimeDesc = "{0}~{1}".format($.Util.formatTime(l.beginTime), $.Util.formatTime(l.endTime));
				}
				if (!page) {
					if (!this.privateLessonTotal) this.privateLessonTotal = ret.count;
					this.plCnt = ret.count;
				}
				this.privateLessonQueryLoading = false;
				if (page) {
					window.scrollTo(0, 0);
				}
			}, false, err => {
				this.privateLessonQueryLoading = false;
				$.Dlg.error(err);
			});
		},

		changePageNoForPrivateLesson(page) {
			this.queryMemberPrivateLesson(page);
		},

		queryMemberGroupCourse() {
			$.Req.service($.SvName.MEMBER_GROUP_COURSE_QUERY, { memberId: this.memberId }, ret => {
				this.groupCourseList = ret.courseList;
			});
		},

		changeGlChecked(val) {
			this.queryMemberGroupLesson();
		},

		queryMemberCardList() {
			$.Req.service($.SvName.MEMBER_CARD_QUERY, { memberId: this.memberId }, ret => {
				this.memberCardList = ret.memberCardList;
			});
		},

		changeTab() {
			if (this.tabName === 'pl') {
				if (this.lessonCancelLogList == null) {
					this.queryPcLessonCancelLogList();
				}
			} else if (this.tabName === 'gl') {
				if (this.mlCancelLogList == null) {
					this.queryMemberLessonCancelLogList();
				}
			}
		},

		queryMemberLessonCancelLogList(page = null) {
			if (!page) this.mlCancelLogCount = null;
			let args = { page: page, memberId: this.memberId };
			$.Req.service($.SvName.MEMBER_LESSON_CANCEL_LOG_QUERY, args, ret => {
				this.mlCancelLogList = ret.logList;
				if (!page) {
					this.mlCancelLogCount = ret.count;
				}
			}, true);
		},

		queryPcLessonCancelLogList(page = null) {
			let args = {
				page: page,
				memberId: this.memberId
			};
			$.Req.service($.SvName.PC_LESSON_CANCEL_LOG_QUERY, args, ret => {
				this.lessonCancelLogList = ret.logList;
				if (!page) {
					this.lessonCancelLogCount = ret.count;
				}
			});
		}
	}
});

/***/ }),

/***/ 1318:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_help_vue__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_help_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, Help: __WEBPACK_IMPORTED_MODULE_1__components_help_vue___default.a },
	data() {
		return {
			g: $,
			noticeArg: {
				memberBirthdaySmsEnable: 0,
				memberBirthdayTmptId: 1,
				memberCardSmsEnable: false,
				memberCardNoticeDays: [],
				memberCardLimitBeginDateSmsEnable: false,
				memberCardLimitBeginDateDays: [],
				memberGcLessonSmsEnable: false,
				memberGcLessonNoticeDays: [],
				memberEntrySmsEnable: false,
				memberEntryNoticeDays: [],
				memberPcLessonSmsEnable: false,
				memberPcLessonNoticeDays: [],
				createMemberSmsToShopOwnerEnable: false,
				createMemberSmsToMemberEnable: false,
				memberCardPaymentNoticeRate: null,
				memberCardCreateSmsToMember: false,
				memberCardPaymentSmsToMember: false,
				memberCardCreateSmsToShopOwner: false,
				memberCardPaymentSmsToShopOwner: false,
				memberNoticeToStaffs: null,
				memberCardVacationDays: [],
				memberCardVacationSmsEnable: false
			},
			reminderStaffs: [false, false, false, false],
			ignoreCrossMember: null,
			memberBirthdayAdvanceReminderDays: null,
			memberCardNoticeStaffs: [false, false, false, false],
			onlyNoticeValidMemberBirthday: null,
			staffList: null
		};
	},

	created() {
		this.queryStaffList();
		this.queryNoticeArg();
		this.queryShopArgs();
	},

	methods: {
		queryNoticeArg() {
			$.Req.service($.SvName.MEMBER_NOTICE_ARG_QUERY, {}, ret => {
				if (!ret.memberCardNoticeDays) ret.memberCardNoticeDays = [null, null, null];
				if (!ret.memberCardLimitBeginDateDays) ret.memberCardLimitBeginDateDays = [null, null, null];
				if (!ret.memberGcLessonNoticeDays) ret.memberGcLessonNoticeDays = [null, null, null];
				if (!ret.memberEntryNoticeDays) ret.memberEntryNoticeDays = [null, null, null];
				if (!ret.memberPcLessonNoticeDays) ret.memberPcLessonNoticeDays = [null, null, null];
				if (!ret.memberBirthdayTmptId) ret.memberBirthdayTmptId = 1;
				if (!ret.memberBirthdaySmsEnable) ret.memberBirthdaySmsEnable = 0;
				if (!ret.memberNoticeToStaffs) ret.memberNoticeToStaffs = [];
				if (!ret.memberCardVacationDays) ret.memberCardVacationDays = [null, null, null];
				this.noticeArg = ret;
			});
		},

		updateNoticeArg() {
			$.Dlg.confirm('确定保存吗？', yes => {
				$.Req.service($.SvName.MEMBER_NOTICE_ARG_UPDATE, this.noticeArg, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
				}, true);
			});
		},

		queryShopArgs() {
			let args = {
				typeIdList: [2025, 2047, 2052, 2053, 2069]
			};
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
				for (let t of ret.argList) {
					if (t.typeId === 2025) {
						let vals = t.typeValue.split(',');
						for (let val of vals) {
							this.$set(this.reminderStaffs, parseInt(val), true);
						}
					} else if (t.typeId === 2047) {
						this.ignoreCrossMember = t.typeValue === 'true';
					} else if (t.typeId === 2052) {
						this.memberBirthdayAdvanceReminderDays = t.typeValue;
					} else if (t.typeId === 2053) {
						let vals = t.typeValue.split(',');
						for (let val of vals) {
							this.$set(this.memberCardNoticeStaffs, parseInt(val), true);
						}
					} else if (t.typeId === 2069) {
						this.onlyNoticeValidMemberBirthday = t.typeValue === 'true';
					}
				}
			});
		},

		saveMemberBirthdayReminderStaffs() {
			let vals = [];
			for (let i = 0; i < this.reminderStaffs.length; i++) {
				if (this.reminderStaffs[i]) vals.push(i);
			}
			let args = { typeId: 2025, typeValue: vals.join(',') };
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
			this.updateShopArg(2052, this.memberBirthdayAdvanceReminderDays, false);
		},

		saveReminderStaffs(confs, typeId) {
			let vals = [];
			for (let i = 0; i < confs.length; i++) {
				if (confs[i]) vals.push(i);
			}
			let args = { typeId: typeId, typeValue: vals.join(',') };
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
		},

		updateShopArg(typeId, typeValue, showTips = true) {
			let args = { typeId: typeId, typeValue: '' + typeValue };
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				if (showTips) $.Msg.success($.Lang.SAVE_SUCCESS);
			});
		},

		queryStaffList() {
			let args = { status: 0, needBaseInfo: true };
			$.Req.service($.SvName.STAFF_QUERY, args, ret => {
				this.staffList = ret.staffList;
			});
		}
	}
});

/***/ }),

/***/ 1319:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default.a },
	data() {
		return {
			g: $,
			menuList: $.PageMenus.memberOptLog('member-opt-log-avatar-change'),
			log: {
				data: null,
				count: null,
				page: null
			},
			viewMemberDlg: null,
			viewMemberId: null
		};
	},

	created() {
		this.queryMemberAvatarChangeLog(null);
	},

	methods: {
		queryMemberAvatarChangeLog(page) {
			let args = { page: page };
			$.Req.service($.SvName.MEMBER_AVATAR_CHANGE_LOG_QUERY, args, ret => {
				this.log.data = ret.logList;
				if (!page) this.log.count = ret.count;
			}, true);
		},

		viewMember(memberId) {
			this.viewMemberId = memberId;
			this.viewMemberDlg = true;
		}
	}
});

/***/ }),

/***/ 1320:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
	data() {
		return {
			g: $,
			menuList: $.PageMenus.memberOptLog('member-opt-log-card-alt'),
			logList: null,
			cancelOptDlg: null,
			selectLog: null,
			optRemark: null,
			shopOwnerPhone: null,
			lastSendSmsTime: null,
			mcOpt: {
				smsCode: null,
				authcodeDisabled: null,
				authcodeLabel: null
			},
			canceledLogIds: []
		};
	},

	created() {
		this.queryLog();
		this.queryShopOwnerPhone();
	},

	methods: {
		queryLog() {
			let args = {};
			$.Req.service($.SvName.CARD_QUERY, { needBaseInfo: true }, ret => {
				let cardList = ret.cardList;
				let cardNameMap = {};
				for (let c of cardList) {
					cardNameMap[c.cardId] = c.cardName;
				}
				$.Req.service($.SvName.MEMBER_CARD_BATCH_OPT_LOG_QUERY, args, ret => {
					for (let l of ret.logList) {
						let cardNameList = [];
						let cardIdList = l.cardIds.split(',');
						for (let cardId of cardIdList) {
							cardNameList.push(cardNameMap[cardId]);
						}
						l.cardNames = cardNameList.join('、');
					}
					this.logList = ret.logList;
				}, true);
			});
		},

		openCancelOptDlg(log) {
			this.selectLog = log;
			this.cancelOptDlg = true;
		},

		handleBatchChangeMemberCardDays() {
			let log = this.selectLog;
			if (!this.optRemark) {
				$.Msg.error('请输入撤销备注');
				return;
			}
			if (!this.mcOpt.smsCode) {
				$.Msg.error('请输入短信验证码');
				return;
			}
			let args = {
				optType: 0,
				smsCode: this.mcOpt.smsCode,
				phoneNo: this.shopOwnerPhone,
				altDays: -log.altDays,
				remark: this.optRemark,
				cardIdList: log.cardIds.split(','),
				minEndDate: log.minEndDate,
				ignoreVacation: log.ignoreVacation,
				createDateBegin: log.mcCreateDateBegin,
				createDateEnd: log.mcCreateDateEnd,
				authcodeType: 8
			};

			$.Req.service($.SvName.MEMBER_CARD_BATCH_OPT, args, ret => {
				this.canceledLogIds.push(this.selectLog.logId);
				this.cancelOptDlg = false;
				$.Dlg.success('操作成功！已更新【{0}】张会员卡'.format(ret.count));
				this.queryLog();
			}, true);
		},

		queryShopOwnerPhone() {
			$.Req.service($.SvName.SHOP_OWNER_PHONE_QUERY, {}, ret => {
				this.shopOwnerPhone = ret.phoneNo;
			});
		},

		onClickSmsAuthcodeBtn() {
			let nowTime = new Date().getTime();
			if (this.lastSendSmsTime && nowTime - this.lastSendSmsTime < 3000) {
				$.Msg.info($.Lang.CLICK_FREQUENTLY);
				return;
			}
			this.lastSendSmsTime = nowTime;

			let args = {
				encTid: $.data.shop.encTid,
				encSid: $.data.shop.encSid,
				phoneNo: this.shopOwnerPhone,
				authcodeType: 8
			};
			$.Req.service($.SvName.SMS_AUTHCODE_SEND, args, ret => {
				if (ret.sendStatus === 0) {
					$.Msg.info($.Lang.AUTHCODE_SENT);
				} else {
					$.Dlg.error($.Lang.AUTHCODE_SEND_ERR);
				}
			});

			let count = 60;
			let resend = setInterval(() => {
				count--;
				if (count > 0) {
					this.mcOpt.authcodeDisabled = true;
					this.mcOpt.authcodeLabel = count + "秒后可重新获取";
				} else {
					clearInterval(resend);
					this.mcOpt.authcodeDisabled = false;
				}
			}, 1000);
		}
	}
});

/***/ }),

/***/ 1321:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
	data() {
		return {
			g: $,
			menuList: $.PageMenus.memberOptLog('member-opt-log-card-change'),
			cardChangeLog: {
				data: null,
				count: [],
				page: null
			},
			logTblHeight: window.innerHeight - 190
		};
	},

	created() {
		this.queryMemberCardChangeLog(null);
	},

	methods: {
		queryMemberCardChangeLog(page = null) {
			let args = { page: page };
			$.Req.service($.SvName.MEMBER_CARD_CHANGE_LOG_QUERY, args, ret => {
				this.cardChangeLog.data = ret.logList;
				if (page === null) this.cardChangeLog.count = ret.count;
				window.scrollTo(0, 0);
			}, true);
		}
	}
});

/***/ }),

/***/ 1322:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default.a },
	data() {
		return {
			g: $,
			menuList: $.PageMenus.memberOptLog('member-opt-log-card-del'),
			count: null,
			viewMemberDlg: false,
			logList: null,
			viewMemberId: null
		};
	},

	created() {
		this.queryLog();
	},

	methods: {
		queryLog(page) {
			if (!page) this.count = null;
			$.Req.service($.SvName.MEMBER_CARD_DEL_LOG_QUERY, { page: page }, ret => {
				this.logList = ret.logList;
				if (!page) {
					this.count = ret.count;
				}
			}, true);
		},

		viewMember(memberId) {
			this.viewMemberId = memberId;
			this.viewMemberDlg = true;
		}
	}
});

/***/ }),

/***/ 1323:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
	data() {
		return {
			g: $,
			menuList: $.PageMenus.memberOptLog('member-opt-log-card-disuse'),
			cardStatusLog: {
				data: null,
				count: null,
				page: null
			}
		};
	},

	created() {
		this.queryMemberCardStatusLog(null);
	},

	methods: {
		queryMemberCardStatusLog(page) {
			let args = { page: page };
			$.Req.service($.SvName.MEMBER_CARD_STATUS_LOG_QUERY, args, ret => {
				this.cardStatusLog.data = ret.logList;
				if (!page) this.cardStatusLog.count = ret.count;
			}, true);
		}
	}
});

/***/ }),

/***/ 1324:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
  components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
  data() {
    return {
      g: $,
      menuList: $.PageMenus.memberOptLog('member-opt-log-card-vacation'),
      cardVacation: {
        data: null,
        count: [],
        page: null
      },
      isInVacation: null,
      queryDates: [],
      dateOptions1: {
        disabledDate(date) {
          return date && date.valueOf() > Date.now();
        },
        shortcuts: [{
          text: '今天',
          value() {
            const end = new Date();
            const start = new Date();
            return [start, end];
          }
        }, {
          text: '昨天',
          value() {
            const end = new Date(new Date().getTime() - 3600 * 1000 * 24);
            const start = new Date(end);
            return [start, end];
          }
        }, {
          text: '前天',
          value() {
            const end = new Date(new Date().getTime() - 3600 * 1000 * 24 * 2);
            const start = new Date(end);
            return [start, end];
          }
        }, {
          text: '最近一周',
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);
            return [start, end];
          }
        }, {
          text: '最近一个月',
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);
            return [start, end];
          }
        }, {
          text: '最近两个月',
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 60);
            return [start, end];
          }
        }]
      }
    };
  },

  created() {
    this.queryMemberCardVacation(null);
  },

  methods: {
    queryMemberCardVacation(page = null) {
      let args = { page: page };
      if (this.isInVacation) {
        args.isInVacation = true;
      }
      if (this.queryDates.length === 2 && this.queryDates[0] && this.queryDates[1]) {
        args.createBeginDate = this.queryDates[0];
        args.createEndDate = this.queryDates[1];
      }
      $.Req.service($.SvName.MEMBER_CARD_VACATION_QUERY, args, ret => {
        this.cardVacation.data = ret.memberCardVacationList;
        if (!page) this.cardVacation.count = ret.count;
        window.scrollTo(0, 0);
      }, true);
    }
  }
});

/***/ }),

/***/ 1325:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default.a },
	data() {
		return {
			g: $,
			menuList: $.PageMenus.memberOptLog('member-opt-log-change-card-no'),
			count: null,
			viewMemberDlg: false,
			logList: null,
			viewMemberId: null
		};
	},

	created() {
		this.queryLog();
	},

	methods: {
		queryLog(page) {
			if (!page) this.count = null;
			$.Req.service($.SvName.MEMBER_CARD_NO_CHANGE_LOG_QUERY, { page: page }, ret => {
				this.logList = ret.logList;
				if (!page) {
					this.count = ret.count;
				}
			}, true);
		},

		viewMember(memberId) {
			this.viewMemberId = memberId;
			this.viewMemberDlg = true;
		}
	}
});

/***/ }),

/***/ 1326:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default.a },
	data() {
		return {
			g: $,
			menuList: $.PageMenus.memberOptLog('member-opt-log-change-phone'),
			count: null,
			viewMemberDlg: false,
			logList: null,
			viewMemberId: null
		};
	},

	created() {
		this.queryLog();
	},

	methods: {
		queryLog(page) {
			if (!page) this.count = null;
			$.Req.service($.SvName.MEMBER_PHONE_CHANGE_LOG_QUERY, { page: page }, ret => {
				this.logList = ret.logList;
				if (!page) {
					this.count = ret.count;
				}
			}, true);
		},

		viewMember(memberId) {
			this.viewMemberId = memberId;
			this.viewMemberDlg = true;
		}
	}
});

/***/ }),

/***/ 1327:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default.a },
	data() {
		return {
			g: $,
			menuList: $.PageMenus.memberOptLog('member-opt-log-entry-checkin'),
			totalCount: null,
			logList: null,
			viewMemberId: 0,
			viewMemberDlg: false
		};
	},

	created() {
		this.queryLog(null);
	},

	methods: {
		queryLog(page = null) {
			let args = { page: page };
			$.Req.service($.SvName.MEMBER_ENTRY_CHECKIN_LOG_QUERY, args, ret => {
				this.logList = ret.logList;
				if (!page) this.totalCount = ret.count;
				window.scrollTo(0, 0);
			}, true);
		},

		viewMember(memberId) {
			this.viewMemberId = memberId;
			this.viewMemberDlg = true;
		}
	}
});

/***/ }),

/***/ 1328:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default.a },
	data() {
		return {
			g: $,
			menuList: $.PageMenus.memberOptLog('member-opt-log-mcp-time'),
			count: null,
			viewMemberDlg: false,
			logList: null,
			viewMemberId: null
		};
	},

	created() {
		this.queryLog();
	},

	methods: {
		queryLog(page) {
			if (!page) this.count = null;
			$.Req.service($.SvName.MCP_TIME_CHANGE_LOG_QUERY, { page: page }, ret => {
				this.logList = ret.logList;
				if (!page) {
					this.count = ret.count;
				}
			}, true);
		},

		viewMember(memberId) {
			this.viewMemberId = memberId;
			this.viewMemberDlg = true;
		}
	}
});

/***/ }),

/***/ 1329:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default.a },
	data() {
		return {
			g: $,
			menuList: $.PageMenus.memberOptLog('member-opt-log-transfer-card'),
			totalCount: null,
			logList: null,
			viewMemberId: 0,
			viewMemberDlg: false
		};
	},

	created() {
		this.queryLog(null);
	},

	methods: {
		queryLog(page = null) {
			if (!page) this.totalCount = null;
			let args = { page: page };
			$.Req.service($.SvName.MEMBER_TRANSFER_CARD_LOG_QUERY, args, ret => {
				this.logList = ret.logList;
				if (!page) this.totalCount = ret.count;
			}, true);
		},

		viewMember(memberId) {
			this.viewMemberId = memberId;
			this.viewMemberDlg = true;
		}
	}
});

/***/ }),

/***/ 1330:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
  components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default.a },
  data() {
    return {
      g: $,
      menuList: $.PageMenus.memberOptLog('member-opt-log'),
      queryDate: new Date(),
      viewMemberDlg: null,
      hasLogData: true,
      viewMemberId: null,
      memberCardVacationList: null,
      mcStatusLogList: null,
      mcChangeLogList: null,
      mcTransferLogList: null,
      mcBatchOptLogList: null,
      memberPhoneChangeLogList: null,
      mcNoChangeLogList: null,
      mecCheckinLogList: null,
      mcpTimeChangeLogList: null,
      mcDelLogList: null,
      loading: null
    };
  },

  created() {
    this.queryMemberOptLog();
  },

  methods: {
    queryMemberOptLog() {
      if (!this.queryDate) {
        $.Msg.error('请设置查询日期');
        return;
      }
      if (this.queryDate.compareDatePart(new Date()) > 0) {
        $.Msg.warning('不能查询今后的操作日志');
        return;
      }
      let args = {
        createBeginDate: this.queryDate,
        createEndDate: this.queryDate
      };
      this.hasLogData = true;
      this.loading = true;
      $.Req.service($.SvName.MEMBER_OPT_LOG_QUERY, args, ret => {
        this.memberCardVacationList = ret.memberCardVacationList;
        this.mcStatusLogList = ret.mcStatusLogList;
        this.mcChangeLogList = ret.mcChangeLogList;
        this.mcTransferLogList = ret.mcTransferLogList;
        this.mcBatchOptLogList = ret.mcBatchOptLogList;
        this.memberPhoneChangeLogList = ret.memberPhoneChangeLogList;
        this.mcNoChangeLogList = ret.mcNoChangeLogList;
        this.mecCheckinLogList = ret.mecCheckinLogList;
        this.mcpTimeChangeLogList = ret.mcpTimeChangeLogList;
        this.mcDelLogList = ret.mcDelLogList;

        if (this.memberCardVacationList && !this.memberCardVacationList.length && this.mcStatusLogList && !this.mcStatusLogList.length && this.mcChangeLogList && !this.mcChangeLogList.length && this.mcTransferLogList && !this.mcTransferLogList.length && this.mcBatchOptLogList && !this.mcBatchOptLogList.length && this.memberPhoneChangeLogList && !this.memberPhoneChangeLogList.length && this.mcNoChangeLogList && !this.mcNoChangeLogList.length && this.mecCheckinLogList && !this.mecCheckinLogList.length && this.mcpTimeChangeLogList && !this.mcpTimeChangeLogList.length && this.mcDelLogList && !this.mcDelLogList.length) {
          this.hasLogData = false;
        }
        this.loading = false;
      }, true);
    },

    queryByDayNav(alt) {
      if (this.loading) {
        $.Msg.warning('请等待上次查询结束后再试');
        return;
      }
      if (alt > 0 && this.queryDate.compareDatePart(new Date()) >= 0) {
        $.Msg.warning('不能查询明天的操作日志');
        return;
      }
      this.queryDate = new Date(this.queryDate.getTime() + alt * 3600 * 24 * 1000);
      this.queryMemberOptLog();
    },

    viewMember(memberId) {
      this.viewMemberId = memberId;
      this.viewMemberDlg = true;
    }
  }
});

/***/ }),

/***/ 1331:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, ImgUpload: __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default.a },
	data() {
		return {
			g: $,
			editable: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_EDIT.value),
			memberName: $.Util.sessionStore.get($.Conf.LocalSessionKey.MEMBER_NAME),
			menuList: $.PageMenus.member(this.$route.params.memberId, "member-photo-list"),
			memberId: null,
			memberImgList: null,
			createDlgView: false,
			imgUpload: {
				action: $.Conf.IMG_UPLOAD_URL,
				imgMaxWidth: 1024,
				defaultList: []
			},
			memberImg: {
				imgPathname: "",
				remark: ""
			},
			imgReady: false,
			tagArr: [],
			filterId: null
		};
	},

	created() {
		this.memberId = this.$route.params.memberId;
		this.loadData();
		this.labelQuery();
	},

	methods: {
		modifyLabel(idx) {
			let obj = this.memberImgList[idx];
			this.$set(this.memberImgList[idx], "status", 0);
			this.$set(this.memberImgList[idx], "milList", obj.milIds ? obj.milIds.split(",").map(v => Number(v)) : []);
			this.memberImgList = Object.assign({}, this.memberImgList); // 不然视图不更新
		},

		saveImgLabel(obj) {
			if (!obj.milList || obj.milList.length == 0) {
				$.Msg.error("请选择标签");
				return;
			}
			$.Req.service($.SvName.MEMBER_IMG_LABEL_REL_SAVE, {
				miId: obj.miId,
				milList: obj.milList
			}, res => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.loadData(this.filterId);
			});
		},

		changeLabel(mid) {
			this.filterId = mid == this.filterId ? null : mid;
			this.loadData(this.filterId);
		},

		labelQuery() {
			$.Req.service($.SvName.MEMBER_IMG_LABEL_QUERY, {}, res => {
				this.tagArr = res.memberImgLabelList || [];
			});
		},

		loadData(milId = null) {
			$.Req.service($.SvName.MEMBER_IMG_QUERY, { memberId: this.memberId, imgType: 1, milId: milId }, ret => {
				this.memberImgList = ret.memberImgList;
				//
				this.memberImgList.forEach(ele => {
					//0下拉 1展示
					ele.status = ele.milIds ? 1 : 0;
					ele.labelNamesArr = ele.labelNames ? ele.labelNames.split(",") : [];
					ele.milList = ele.milIds ? ele.milIds.split(",") : [];
				});
			});
		},

		handleImgUploadSuccess(res, file) {
			file.url = res.data.url;
			file.name = res.data.name;
			this.memberImg.imgPathname = file.name;
			this.imgReady = true;
		},

		showCreateImgDlg() {
			this.createDlgView = true;
		},

		handleCreateImg() {
			let memberImg = { memberId: this.memberId, imgType: 1 };
			$.Util.copyAttributes(this.memberImg, memberImg);
			let args = {
				memberImg: memberImg,
				actionType: "I"
			};
			$.Req.service($.SvName.MEMBER_IMG_SAVE, args, ret => {
				memberImg.createUid = $.data.user.uid;
				memberImg.createUname = $.data.user.uname;
				memberImg.createTime = $.Util.formatDateTime(new Date());
				memberImg.miId = ret.miId;
				this.memberImgList.unshift(memberImg);
				this.memberImg = {};
				this.imgUpload.defaultList = [];
				this.createDlgView = false;
			}, true);
		},

		updateMemberImg(idx) {
			let remark = prompt("请输入图片备注", "");
			if (!remark) {
				return;
			}

			let memberImg = {};
			$.Util.copyAttributes(this.memberImgList[idx], memberImg);
			memberImg.remark = remark;
			let args = {
				memberImg: memberImg,
				actionType: "U"
			};
			$.Req.service($.SvName.MEMBER_IMG_SAVE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.$set(this.memberImgList, idx, memberImg);
			});
		},

		delMemberImg(idx) {
			if (!confirm("确定删除吗？")) return;

			let args = { actionType: "D", deleteId: this.memberImgList[idx].miId };
			$.Req.service($.SvName.MEMBER_IMG_SAVE, args, ret => {
				this.memberImgList.splice(idx, 1);
				$.Msg.success($.Lang.OPT_SUCCESS);
			});
		}
	}
});

/***/ }),

/***/ 1332:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
	data() {
		return {
			g: window.$,
			pointsEdiable: $.Util.hasRoleFunc($.Dict.RoleFunc.POINT_EDIT.value),
			memberId: this.$route.params.memberId,
			memberName: $.Util.sessionStore.get($.Conf.LocalSessionKey.MEMBER_NAME),
			menuList: $.PageMenus.member(this.$route.params.memberId, 'member-points-list'),
			query: {
				beginDate: null,
				endDate: null
			},
			mpList: [],
			totalCount: 0,
			memberPointsDlgView: false,
			memberPoints: {
				memberId: this.$route.params.memberId,
				varPoints: null,
				remark: null
			},
			syncSumPoints: true,
			member: {
				points: null,
				pointsSum: null
			}
		};
	},

	created() {
		if (!this.$route.params.memberId) {
			this.$router.push('/member-query');
			return;
		}
		// load member base
		$.Req.queryMemberBase(this.memberId, ret => {
			this.memberName = ret.member.name;
			$.Util.sessionStore.set($.Conf.LocalSessionKey.MEMBER_NAME, this.memberName);
		});
		this.queryMemberCurrentPoints();
		this.doQuery();
	},

	methods: {
		initQueryDate() {
			this.query.endDate = new Date();
			this.query.beginDate = new Date(this.query.endDate.getTime() - 90 * 3600 * 24 * 1000);
		},

		doQuery(page = null) {
			if (!page) this.totalCount = null;
			let args = {
				memberId: this.memberId,
				page: page,
				beginDate: this.query.beginDate,
				endDate: this.query.endDate
			};
			$.Req.service($.SvName.MEMBER_POINTS_QUERY, args, ret => {
				this.mpList = ret.mpList;
				if (!page) {
					this.totalCount = ret.count;
				} else {
					window.scrollTo(0, 0);
				}
			});
		},

		changePageNo(page) {
			this.doQuery(page);
		},

		queryMemberCurrentPoints() {
			let args = { memberId: this.memberId, needCurrentPoints: true };
			$.Req.service($.SvName.MEMBER_POINTS_QUERY, args, ret => {
				if (!ret.points) ret.points = 0;
				if (!ret.pointsSum) ret.pointsSum = 0;
				this.member.points = ret.points;
				this.member.pointsSum = ret.pointsSum;
			});
		},

		openCreateMemberPointsDlg() {
			this.memberPoints.varPoints = 1;
			this.memberPoints.remark = null;
			this.memberPointsDlgView = true;
		},

		createMemberPoints() {
			if (!this.memberPoints.varPoints) {
				$.Dlg.error('请输入新增积分');
				return;
			}
			if (!this.memberPoints.remark) {
				$.Dlg.error('请输入积分备注');
				return;
			}
			if (this.memberPoints.remark.length < 5) {
				$.Dlg.error('备注字数太少了吧，不能少于5个字。');
				return;
			}

			if (!confirm('您确定要更新会员积分吗？')) {
				return;
			}

			let args = {
				syncSumPoints: this.syncSumPoints,
				memberPoints: this.memberPoints
			};
			$.Req.service($.SvName.MEMBER_POINTS_CREATE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				let mp = ret.memberPoints;
				mp.createUname = $.data.user.uname;
				mp.createTime = $.Util.formatDateTime(new Date());
				this.mpList.unshift(mp);
				this.memberPointsDlgView = false;
			});
		}
	}
});

/***/ }),

/***/ 1333:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__ = __webpack_require__(1094);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ __webpack_exports__["default"] = ({
  components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, ImgUpload: __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default.a, MemberSelect: __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_3__pages_member_member_base_info_vue___default.a },

  data() {
    return {
      g: $,
      menuList: $.PageMenus.memberTest("member-posture"),
      editable: $.Util.hasRoleFunc($.Dict.RoleFunc.TEST_ITEM_CONF.value),
      demoVisible: false,
      frontUrl: "",
      frontName: "",
      frontOptions: null,
      sideUrl: "",
      sideName: "",
      sideOptions: null,
      demoDlg: false,
      demoType: "guide", //front side guide
      imgUpload: {
        action: $.Conf.IMG_UPLOAD_URL,
        imgMaxWidth: 1024,
        defaultFront: [],
        defaultSide: []
      },
      viewMemberDlg: false,
      memberSelectDlg: false,
      member: {
        memberId: null,
        name: null
      },
      options: {
        testDateTime: new Date(),
        age: "",
        summary: "",
        height: "",
        weight: "",
        bmi: ""
      }
    };
  },
  watch: {
    options: {
      handler(newValue, oldValue) {
        if (!newValue.height || !newValue.weight) {
          this.options.bmi = 0;
          return;
        }
        this.options.bmi = (newValue.weight / (newValue.height * newValue.height / 10000)).toFixed(2);
      },
      immediate: true,
      deep: true
    }
  },
  methods: {
    resetPosture(num) {
      if (num == 1) {
        this.frontOptions = null;
        this.frontName = null;
        this.frontUrl = null;
        this.imgUpload.defaultFront = [];
      } else {
        this.sideOptions = null;
        this.sideName = null;
        this.sideUrl = null;
        this.imgUpload.defaultSide = [];
      }
    },

    testPosture(num) {
      if (!this.options.height) {
        $.Msg.error("请填写身高");
        return;
      }
      let imgurl = num == 1 ? this.frontName : this.sideName;
      if (!imgurl) {
        $.Msg.error("请上传" + (num == 1 ? "正面视角图片" : "侧面视角图片"));
        return;
      }
      let args = {
        imgName: imgurl,
        type: num, // 正面：1，侧面：2
        height: this.options.height
      };
      $.Req.service($.SvName.MEMBER_POSTURE_TEST, args, res => {
        if (num == 1) {
          this.frontOptions = res.memberPostureTest;
        } else {
          this.sideOptions = res.memberPostureTest;
        }
      }, true);
    },

    handleSideUpload(res, file) {
      this.sideOptions = null;
      file.url = res.data.url;
      this.sideUrl = file.url;
      this.sideName = res.data.name;
    },

    handleFrontUpload(res, file) {
      this.frontOptions = null;
      file.url = res.data.url;
      file.name = res.data.name;
      this.frontName = res.data.name;
    },

    testSubmit() {
      if (!this.options.memberId) {
        $.Msg.error("请选择会员");
        return;
      }
      if (!this.options.age) {
        $.Msg.error("请填写年龄");
        return;
      }

      if (!this.options.height) {
        $.Msg.error("请填写身高");
        return;
      }
      if (!this.options.weight) {
        $.Msg.error("请填写体重");
        return;
      }

      if (!this.options.testDateTime) {
        $.Msg.error("请选择测试日期");
        return;
      }
      let args = Object.assign({}, this.options, this.frontOptions, this.sideOptions);
      // if (this.frontName) {
      //   args.srcFrontViewImg = this.frontName;
      // }
      // if (this.sideName) {
      //   args.srcSideViewImg = this.sideName;
      // }
      // this.options.mptId = this.mptId;
      $.Req.service($.SvName.MEMBER_POSTURE_TEST_SAVE, { memberPostureTest: args }, res => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.$router.push("/member-posture");
      });
    },

    viewMemberInfo(memberId) {
      this.selectMemberId = memberId;
      this.viewMemberDlg = true;
    },

    afterSelectMember(member) {
      this.member.memberId = member.memberId;
      this.member.name = member.name;
      //
      this.options.memberId = member.memberId;
      this.options.name = member.name;
      this.options.sex = member.sex;

      this.memberSelectDlg = false;
      this.queryMemberCardsForPl();
    },

    clearMember() {
      this.member = {};
      //
      this.options.memberId = null;
      this.options.name = null;
      this.options.sex = null;
      this.memberCardIdMap = {};
    },

    queryMemberCardsForPl(callback = null) {
      if (!this.member.memberId) {
        return;
      }
      let args = {
        memberId: this.member.memberId
      };
      $.Req.service($.SvName.MEMBER_CARD_QUERY, args, (ret, systime) => {
        this.memberCardIdMap = {};
        for (let mc of ret.memberCardList) {
          this.memberCardIdMap[mc.cardId] = true;
        }
        if (this.chooseCardId) {
          this.cardPayments[this.chooseCardId] = {
            checked: true,
            payment: null
          };
        }
        this.memberCardList = ret.memberCardList;
        this.canLimitMcIds = $.Util.countAttrs(this.memberCardIdMap) !== ret.memberCardList.length;
        this.psMcIdList = [];
        if (this.options.mcIds) {
          for (let mcId of this.options.mcIds.split(",")) {
            this.psMcIdList.push(parseInt(mcId));
          }
        }
        if (callback) callback();
      });
    }
  }
});

/***/ }),

/***/ 1334:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__ = __webpack_require__(1094);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ __webpack_exports__["default"] = ({
  components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, ImgUpload: __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default.a, MemberSelect: __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_3__pages_member_member_base_info_vue___default.a },

  data() {
    return {
      g: $,
      menuList: $.PageMenus.memberTest("member-posture"),
      memberId: this.$route.params.memberId,
      mptId: this.$route.params.mptId,
      editable: $.Util.hasRoleFunc($.Dict.RoleFunc.TEST_ITEM_CONF.value),
      demoVisible: false,
      frontUrl: "",
      frontName: "",
      frontOptions: null,
      sideUrl: "",
      sideName: "",
      sideOptions: null,
      demoDlg: false,
      demoType: "guide", //front side guide
      imgUpload: {
        action: $.Conf.IMG_UPLOAD_URL,
        imgMaxWidth: 1024,
        defaultFront: [],
        defaultSide: []
      },
      viewMemberDlg: false,
      memberSelectDlg: false,
      member: {
        memberId: null,
        name: null
      },
      options: {
        testDateTime: new Date(),
        age: "",
        summary: "",
        height: "",
        weight: "",
        bmi: ""
      }
    };
  },
  watch: {
    options: {
      handler(newValue, oldValue) {
        if (!newValue.height || !newValue.weight) {
          this.options.bmi = 0;
          return;
        }
        this.options.bmi = (newValue.weight / (newValue.height * newValue.height / 10000)).toFixed(2);
      },
      immediate: true,
      deep: true
    }
  },
  created() {
    this.queryDetail();
  },
  methods: {
    queryDetail(page = null) {
      let args = {
        memberId: this.memberId,
        page: page,
        mptId: this.mptId
      };
      $.Req.service($.SvName.MEMBER_POSTURE_TEST_QUERY, args, res => {
        let result = res.memberPostureTest;
        let keyArr = Object.keys(result);
        for (let item of keyArr) {
          if (item.includes("front")) {
            this.frontOptions = Object.assign({}, this.frontOptions, {
              [item]: result[item]
            });
          } else if (item.includes("side")) {
            this.sideOptions = Object.assign({}, this.sideOptions, {
              [item]: result[item]
            });
          } else {
            if (!item.includes("Front") && !item.includes("Side")) {
              this.options = Object.assign({}, this.options, {
                [item]: result[item]
              });
            }
          }
        }
        if (result.srcFrontViewImg && result.frontViewImg) {
          this.frontOptions.srcFrontViewImg = result.srcFrontViewImg;
          this.frontOptions.srcFrontViewImgUrl = result.srcFrontViewImgUrl;
          this.imgUpload.defaultFront = [{
            name: result.srcFrontViewImg,
            url: $.Util.getImgUrl(result.srcFrontViewImg)
          }];
        }
        if (result.srcSideViewImg && result.sideViewImg) {
          this.sideOptions.srcSideViewImg = result.srcSideViewImg;
          this.sideOptions.srcSideViewImgUrl = result.srcSideViewImgUrl;
          this.imgUpload.defaultSide = [{
            name: result.srcSideViewImg,
            url: $.Util.getImgUrl(result.srcSideViewImg)
          }];
        }
        if (result.srcFrontViewImg) {
          this.frontName = result.srcFrontViewImg;
        }
        if (result.srcSideViewImg) {
          this.sideName = result.srcSideViewImg;
        }

        this.member.memberId = result.memberId;
        this.member.name = result.name;
      });
    },

    resetPosture(num) {
      if (num == 1) {
        this.frontOptions = null;
        this.frontName = null;
        this.frontUrl = null;
        this.imgUpload.defaultFront = [];
      } else {
        this.sideOptions = null;
        this.sideName = null;
        this.sideUrl = null;
        this.imgUpload.defaultSide = [];
      }
    },

    testPosture(num) {
      if (!this.options.height) {
        $.Msg.error("请填写身高");
        return;
      }
      let imgurl = num == 1 ? this.frontName : this.sideName;
      if (!imgurl) {
        $.Msg.error("请上传" + (num == 1 ? "正面视角图片" : "侧面视角图片"));
        return;
      }
      let args = {
        imgName: imgurl,
        type: num, // 正面：1，侧面：2
        height: this.options.height
      };
      $.Req.service($.SvName.MEMBER_POSTURE_TEST, args, res => {
        if (num == 1) {
          this.frontOptions = res.memberPostureTest;
        } else {
          this.sideOptions = res.memberPostureTest;
        }
      }, true);
    },

    handleSideUpload(res, file) {
      this.sideOptions = null;
      file.url = res.data.url;
      this.sideUrl = file.url;
      this.sideName = res.data.name;
    },

    handleFrontUpload(res, file) {
      this.frontOptions = null;
      file.url = res.data.url;
      file.name = res.data.name;
      this.frontName = res.data.name;
    },

    testSubmit() {
      if (!this.options.memberId) {
        $.Msg.error("请选择会员");
        return;
      }
      if (!this.options.age) {
        $.Msg.error("请填写年龄");
        return;
      }

      if (!this.options.height) {
        $.Msg.error("请填写身高");
        return;
      }
      if (!this.options.weight) {
        $.Msg.error("请填写体重");
        return;
      }

      if (!this.options.testDateTime) {
        $.Msg.error("请选择测试日期");
        return;
      }
      let args = Object.assign({}, this.options, this.frontOptions, this.sideOptions);

      //   if (this.frontName) {
      //     args.srcFrontViewImg = this.frontName;
      //   }
      //   if (this.sideName) {
      //     args.srcSideViewImg = this.sideName;
      //   }
      // this.options.mptId = this.mptId;
      $.Req.service($.SvName.MEMBER_POSTURE_TEST_SAVE, { memberPostureTest: args }, res => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.$router.push("/member-posture");
      });
    },

    viewMemberInfo(memberId) {
      this.selectMemberId = memberId;
      this.viewMemberDlg = true;
    },

    afterSelectMember(member) {
      this.member.memberId = member.memberId;
      this.member.name = member.name;
      //
      this.options.memberId = member.memberId;
      this.options.name = member.name;
      this.options.sex = member.sex;

      this.memberSelectDlg = false;
      this.queryMemberCardsForPl();
    },

    clearMember() {
      this.member = {};
      //
      this.options.memberId = null;
      this.options.name = null;
      this.options.sex = null;
      this.memberCardIdMap = {};
    },

    queryMemberCardsForPl(callback = null) {
      if (!this.member.memberId) {
        return;
      }
      let args = {
        memberId: this.member.memberId
      };
      $.Req.service($.SvName.MEMBER_CARD_QUERY, args, (ret, systime) => {
        this.memberCardIdMap = {};
        for (let mc of ret.memberCardList) {
          this.memberCardIdMap[mc.cardId] = true;
        }
        if (this.chooseCardId) {
          this.cardPayments[this.chooseCardId] = {
            checked: true,
            payment: null
          };
        }
        this.memberCardList = ret.memberCardList;
        this.canLimitMcIds = $.Util.countAttrs(this.memberCardIdMap) !== ret.memberCardList.length;
        this.psMcIdList = [];
        if (this.options.mcIds) {
          for (let mcId of this.options.mcIds.split(",")) {
            this.psMcIdList.push(parseInt(mcId));
          }
        }
        if (callback) callback();
      });
    }
  }
});

/***/ }),

/***/ 1335:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__ = __webpack_require__(1094);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ __webpack_exports__["default"] = ({
  components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default.a, MemberSelect: __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default.a },

  data() {
    return {
      g: $,
      menuList: $.PageMenus.memberTest("member-posture"),
      editable: $.Util.hasRoleFunc($.Dict.RoleFunc.TEST_ITEM_CONF.value),
      memberTestQuery: {
        memberId: null,
        memberName: null
      },
      memberTestList: [],
      memberTestCnt: 0,
      viewMemberDlg: false,
      memberSelectDlg: false,
      memberSelectDlgForQuery: false
    };
  },
  created() {
    this.queryTestList();
  },
  methods: {
    createReport(mptId) {
      $.Req.service($.SvName.MEMBER_POSTURE_TEST_CREATE, { mptId: mptId }, res => {
        $.Msg.success('报告已生成');
        this.queryTestList();
      }, true);
    },

    queryTestList(page = 1) {
      let args = {
        memberId: this.memberTestQuery.memberId,
        page: page,
        mptId: null
      };
      $.Req.service($.SvName.MEMBER_POSTURE_TEST_QUERY, args, res => {
        this.memberTestList = res.memberPostureTestList || [];
        this.memberTestCnt = res.memberPostureTestList.length || 0;
      });
    },

    addTest() {
      this.$router.push("/member-posture-create");
    },

    editTest(memberId, mptId) {
      this.$router.push("/member-posture-edit/" + memberId + '/' + mptId);
    },

    deleteTestItem(mptId) {
      let msg = "确定要删除该体态记录吗？";
      $.Dlg.confirm(msg, yes => {
        let args = { mptId: mptId }; //status 状态：0-正常-启用，1-停用，停用必填，删除不填
        $.Req.service($.SvName.MEMBER_POSTURE_TEST_DELETE, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.queryTestList();
        }, true);
      });
    },

    openMemberBaseDlg(memberId) {
      this.viewMemberId = memberId;
      this.viewMemberDlg = true;
    },

    resetMemberTest() {
      this.memberTestQuery.memberId = null;
      this.memberTestQuery.memberName = null;
      this.queryTestList();
    },

    afterSelectMember(m) {
      // this.memberTest.mstId = null;
      this.memberTest.memberId = m.memberId;
      this.memberTest.memberName = m.name;
      // this.memberTest.testStaffId = $.data.user.staffId;
      this.memberSelectDlg = false;
      // this.openNewMemberTestItemDlg();
    },

    afterSelectMemberForQuery(m) {
      this.memberTestQuery.memberId = m.memberId;
      this.memberTestQuery.memberName = m.name;
      this.memberSelectDlgForQuery = false;
      this.queryTestList();
    }
  }
});

/***/ }),

/***/ 1336:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_help_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_tag_edit_vue__ = __webpack_require__(412);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_tag_edit_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_member_member_tag_edit_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ __webpack_exports__["default"] = ({
  components: { Help: __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default.a, MemberTagEdit: __WEBPACK_IMPORTED_MODULE_2__pages_member_member_tag_edit_vue___default.a },
  data() {
    return {
      g: $,
      nullVal: null,
      canQueryAll: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_QUERY_ALL.value),
      disableMemberQuery: $.Util.hasDisableRoleFunc($.Dict.RoleFunc.DISABLE_MEMBER_QUERY.value),
      memberQueryViewType: "simple", // simple, full
      viewMemberId: 0,
      memberEditable: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_EDIT.value),
      setMemberAdvisorPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.SET_MEMBER_ADVISOR.value),
      setMemberCoachPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.SET_MEMBER_COACH.value),
      setMemberSalesPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.SET_MEMBER_SALES.value),
      selectMemberPermit: null,
      viewMemberDlg: false,
      isSelectAll: false,
      memberCkList: new Array(30),
      dict: {
        salesList: null,
        advisorList: null,
        coachList: null,
        memberOrgList: null,
        coachTypeList: null,
        custSourceList: null,
        privateCourseList: null
      },
      totalCount: 0,
      totalMemberCnt: null,
      validMemberCnt: null,
      invalidMemberCnt: null,
      totalPages: null,
      queryPage: null,
      memberList: null,
      query: {
        memberFlag: null,
        salesId: null,
        coachId: null,
        advisorId: null,
        orgId: null,
        createDateRange: [],
        tagId: null,
        birthday: null,
        birthdayYears: null,
        isValidMember: null,
        isValidBirthday: false,
        isValidBirthdayYears: false,
        isPlMember: null,
        hasMemberPs: null,
        ignoreCrossMember: null,
        wxNo: null,
        coachType: null,
        orderType: 1,
        noneFollow: false,
        followDateRange: [],
        hasEntryCheckin: null,
        source: null,
        privateCourseId: null,
        psCoachId: null,
        hasMemberAvatar: null
      },
      createDateOption: {
        shortcuts: [{
          text: "最近一周",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);
            return [start, end];
          }
        }, {
          text: "最近一个月",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);
            return [start, end];
          }
        }, {
          text: "最近三个月",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);
            return [start, end];
          }
        }, {
          text: "最近半年",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 180);
            return [start, end];
          }
        }]
      },
      viewMemberTagDlg: false,
      memberTagDlgTit: null,
      memberIdx: null,
      memberTags: null,
      memberTagMap: {},
      pointsColorMap: {},
      showMoreQuery: false,
      assignCoachDlg: false,
      selectCoachType: null,
      selectCoachId: null,
      assignMemberCoachList: [],
      assignCoachMethod: 1,
      redirectToMemberPage: true,
      exportFileUrl: null,
      exportDlg: false,
      checkedMemberIdList: [],
      salesViewMembDisable: $.Util.hasDisableRoleFunc($.Dict.RoleFunc.SALES_VIEW_MEMBERS_DISABLE.value),
      delMemberDlg: false,
      sysCheckCode: null,
      memberDelEnable: null,
      memberTblHeight: null,
      showQuerySection: true,
      followDays: [3, 5, 7, 10, 14, 15, 30, 60, 90, 180, 365],
      unfollowDays: null,
      preOrderType: 1,
      memberFieldSetDlg: null,
      memberFields: {
        1: "性别",
        2: "生日",
        3: "销售",
        4: "教练",
        5: "会籍顾问",
        6: "客户来源",
        7: "注册日期",
        8: "会员卡号",
        9: "最近充值时间",
        10: "最近充值卡",
        11: "最近充值信息",
        12: "剩余积分",
        13: "累计积分",
        14: "积分头衔",
        15: "会员标签",
        16: "创建人",
        17: "创建时间",
        18: "会员备注",
        19: "最近跟进时间",
        20: "最近跟进人",
        21: "最近跟进内容"
      },
      staffFavFields: [],
      staffFavFieldsForEdit: [],
      isChainShop: null
    };
  },

  created() {
    if (this.disableMemberQuery) {
      return;
    }

    if ($.Util.cookie.get($.Conf.CookieKeys.AUTO_JUMP_TO_MEMBER_PAGE) === "false") {
      this.redirectToMemberPage = false;
    }
    if ($.Util.cookie.get($.Conf.CookieKeys.MEMBER_QUERY_VIEW_TYPE) === "full") {
      this.memberQueryViewType = "full";
    }

    this.initStaffFavFields();
    this.setMemberTblDefaultHeight();
    this.selectMemberPermit = this.memberEditable || this.setMemberAdvisorPermit || this.setMemberCoachPermit || this.setMemberSalesPermit;
    this.resetQuery();
    this.parseParams();
    this.queryShopArgs();
    this.queryShopTag();
    $.Req.queryPrivateCourseBase(data => {
      this.dict.privateCourseList = data;
      if (this.$route.query.privateCourseId) this.query.privateCourseId = parseInt(this.$route.query.privateCourseId);
    });

    if (this.canQueryAll) {
      // query staff as sales
      $.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
        this.dict.salesList = ret.staffList;
        if (this.$route.query.salesId) this.query.salesId = parseInt(this.$route.query.salesId);
      });

      // query coach
      $.Req.service($.SvName.COACH_BASE_QUERY, {}, ret => {
        this.dict.coachList = ret.coachList;
        if (this.$route.query.coachId) this.query.coachId = parseInt(this.$route.query.coachId);
        if (this.$route.query.psCoachId) this.query.psCoachId = parseInt(this.$route.query.psCoachId);
      });

      // query staff as advisor
      $.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true, sysRid: $.Dict.SysRole.ADVISOR }, ret => {
        this.dict.advisorList = ret.staffList;
        if (this.$route.query.advisorId) this.query.advisorId = parseInt(this.$route.query.advisorId);
      });

      this.queryMemberOrg(() => {
        if (this.$route.query.orgId) this.query.orgId = parseInt(this.$route.query.orgId);
      });

      if (this.query.memberFlag) this.quickQuery();else this.queryMember($.Util.isEmpty(this.queryPage));
    } else {
      let self = { staffId: $.data.user.staffId, name: $.data.user.uname };
      this.dict.salesList = [self];
      this.dict.coachList = [self];
      this.dict.advisorList = [self];

      $.Req.service($.SvName.SUB_STAFF_QUERY, { staffId: $.data.user.staffId }, ret => {
        if (ret.staffList) {
          for (let staff of ret.staffList) {
            this.dict.salesList.push(staff);
            this.dict.coachList.push(staff);
            this.dict.advisorList.push(staff);
          }
        }
      });
    }
    this.queryCoachType();
    this.queryCustSources();
    this.checkChainShop();
  },

  methods: {
    setMemberTblDefaultHeight() {
      let minHeight = 500;
      let height = window.innerHeight - 445;
      if (height < minHeight) height = minHeight;
      this.memberTblHeight = height;
    },

    quickQuery(page = null) {
      if (this.query.memberFlag) {
        if ($.Util.isInteger(this.query.memberFlag)) {
          this.query.memberFlag = parseInt(this.query.memberFlag);
        }
        let args = {};
        if ($.Util.validatePhoneNo(this.query.memberFlag)) {
          args = { nameOrPhone: this.query.memberFlag };
        } else {
          if (!$.Util.isInteger(this.query.memberFlag)) {
            if (this.memberEditable || this.canQueryAll) {
              args = { fuzzyName: this.query.memberFlag };
              if (!this.canQueryAll) args.page = 1;else if (page) args.page = page;
            } else {
              args = { nameOrPhone: this.query.memberFlag };
            }
          } else {
            if (!$.Util.validateCardNo(this.query.memberFlag)) {
              $.Msg.error($.Lang.CARD_NO_TOO_LONG);
              return;
            }
            args = { cardNo: this.query.memberFlag };
          }
        }

        $.Req.service($.SvName.MEMBER_ADV_QUERY, args, ret => {
          let url = "/member-query?memberFlag=" + this.query.memberFlag;
          this.$router.push(url);

          if (ret.memberList.length === 1) {
            if (this.redirectToMemberPage) {
              this.viewMember(ret.memberList[0].memberId);
              return;
            } else {
              this.memberList = ret.memberList;
              this.totalCount = 1;
              this.totalMemberCnt = null;
              this.validMemberCnt = null;
              this.invalidMemberCnt = null;
            }
          } else {
            this.memberList = ret.memberList;
            if (this.canQueryAll) {
              if (!page) {
                this.totalCount = ret.count;
                if (this.query.isValidMember === null) {
                  this.totalMemberCnt = ret.count;
                  this.validMemberCnt = ret.validMemberCnt;
                  this.invalidMemberCnt = ret.invalidMemberCnt;
                }
              } else {
                window.scrollTo(0, 0);
              }
            } else {
              this.totalCount = ret.memberList.length;
              this.totalMemberCnt = null;
              this.validMemberCnt = null;
              this.invalidMemberCnt = null;
            }
            if (ret.memberList.length === 0) {
              $.Msg.info("未查到符合条件的会员");
            }
          }
        }, true);
      } else {
        $.Msg.error("请输入会员姓名、手机号或卡号");
      }
    },

    parseParams() {
      if (this.$route.query.memberFlag) this.query.memberFlag = this.$route.query.memberFlag;
      if (this.$route.query.page) this.queryPage = parseInt(this.$route.query.page);
      if (this.$route.query.count) this.totalCount = parseInt(this.$route.query.count);
      if (this.$route.query.birthday) this.query.birthday = this.$route.query.birthday;
      if (this.$route.query.salesId) this.query.salesId = this.$route.query.salesId;
      if (this.$route.query.coachId) this.query.coachId = this.$route.query.coachId;
      if (this.$route.query.advisorId) this.query.advisorId = this.$route.query.advisorId;
      if (this.$route.query.orgId) this.query.orgId = this.$route.query.orgId;
      if (this.$route.query.tagId) this.query.tagId = this.$route.query.tagId;
      if (this.$route.query.birthdayYears) this.query.birthdayYears = this.$route.query.birthdayYears;
      if (this.$route.query.isPlMember) this.query.isPlMember = this.$route.query.isPlMember;
      if (this.$route.query.hasMemberPs) this.query.hasMemberPs = this.$route.query.hasMemberPs;
      if (this.$route.query.wxNo) this.query.wxNo = this.$route.query.wxNo;
      if (this.$route.query.privateCourseId) this.query.privateCourseId = this.$route.query.privateCourseId;
      if (this.$route.query.psCoachId) this.query.psCoachId = this.$route.query.psCoachId;
      if (this.$route.query.isValidMember) {
        this.query.isValidMember = this.$route.query.isValidMember === "true";
        this.totalMemberCnt = parseInt(this.$route.query.totalMemberCnt);
        this.validMemberCnt = parseInt(this.$route.query.validMemberCnt);
        this.invalidMemberCnt = parseInt(this.$route.query.invalidMemberCnt);
      }
      if (this.$route.query.beginCreateDate && this.$route.query.endCreateDate) {
        this.query.createDateRange = [Date.new(this.$route.query.beginCreateDate), Date.new(this.$route.query.endCreateDate)];
      }
      this.query.ignoreCrossMember = this.$route.query.ignoreCrossMember === "true";
    },

    submitMemberQuery() {
      this.query.isValidMember = null;
      this.queryMember(true);
    },

    queryMember(newQuery = true, isExport = null) {
      if (this.query.memberFlag) {
        this.quickQuery(this.queryPage);
        return;
      }

      if (!this.canQueryAll) {
        if (!this.query.salesId && !this.query.coachId && !this.query.advisorId) {
          alert("请输入：销售、教练或会籍顾问");
          return;
        }
      }

      if (newQuery) this.queryPage = null;
      this.setMemberFollowQueryArgs();
      let args = {
        salesId: this.query.salesId,
        coachId: this.query.coachId,
        advisorId: this.query.advisorId,
        orgId: this.query.orgId,
        tagId: this.query.tagId,
        page: this.queryPage,
        isExport: isExport,
        ignoreCrossMember: this.query.ignoreCrossMember,
        wxNo: this.query.wxNo,
        coachType: this.query.coachType,
        source: this.query.source,
        privateCourseId: this.query.privateCourseId,
        psCoachId: this.query.psCoachId
      };
      if (this.memberQueryViewType === "full") {
        args.needLatestMcp = true;
        args.needLatestFollow = true;
        args.orderType = this.query.orderType;
        args.noneFollow = this.query.noneFollow;
      }
      if (this.query.isValidMember !== null) {
        args.isValidMember = this.query.isValidMember;
      }
      if (this.query.isPlMember) {
        args.isPlMember = this.query.isPlMember === "true";
      }
      if (this.query.hasMemberPs) {
        args.hasMemberPs = this.query.hasMemberPs === "true";
      }
      if (this.query.hasMemberAvatar) {
        args.hasMemberAvatar = this.query.hasMemberAvatar === "true";
      }

      // parse birthday
      this.query.isValidBirthday = false;
      if (this.query.birthday) {
        let items = this.query.birthday.split("/");
        if (items.length === 2) {
          if ($.Util.isInteger(items[0]) && $.Util.isInteger(items[1])) {
            args.birthdayDate = parseInt(items[0]) * 100 + parseInt(items[1]);
            this.query.isValidBirthday = true;
          }
        } else if (items.length === 1) {
          if ($.Util.isInteger(items[0])) {
            args.birthdayMonth = parseInt(items[0]);
            this.query.isValidBirthday = true;
          }
        }
        if (!args.birthdayDate && !args.birthdayMonth) {
          $.Msg.error("生日格式错误");
          return;
        }
      }

      // parse birthyear
      this.query.isValidBirthdayYears = false;
      if (this.query.birthdayYears) {
        let items = this.query.birthdayYears.split("~");
        if (items.length === 2) {
          if ($.Util.isInteger(items[0]) && $.Util.isInteger(items[1])) {
            args.birthdayYearBegin = parseInt(items[0]);
            args.birthdayYearEnd = parseInt(items[1]);
            if (args.birthdayYearBegin > 0 && args.birthdayYearEnd > 0) {
              this.query.isValidBirthdayYears = true;
            } else {
              $.Dlg.error("年龄值必须大于0");
              return;
            }
          }
        } else {
          $.Dlg.error("您输入的会员年龄范围格式错误，规定格式为：* ~ *，例如：20~30，表示20岁至30岁之间的会员。");
          return;
        }
      }

      if (this.query.createDateRange && this.query.createDateRange.length === 2 && this.query.createDateRange[0] && this.query.createDateRange[1]) {
        args.beginCreateDate = Date.new(this.query.createDateRange[0]);
        args.endCreateDate = Date.new(this.query.createDateRange[1]);
      }
      if (this.query.followDateRange.length === 2) {
        args.followDateBegin = this.query.followDateRange[0];
        args.followDateEnd = this.query.followDateRange[1];
        args.noneFollow = false;
      }
      if (isExport) {
        this.exportDlg = true;
      }
      if (this.query.hasEntryCheckin == "true") args.hasEntryCheckin = true;else if (this.query.hasEntryCheckin == "false") args.hasNoEntryCheckin = true;

      $.Req.service($.SvName.MEMBER_ADV_QUERY, args, (ret, systime) => {
        if (isExport) {
          this.exportFileUrl = ret.fileurl;
        } else {
          let today = Date.new(systime);
          for (let m of ret.memberList) {
            if (m.tagIds) {
              let tagNames = [];
              for (let tagId of m.tagIds.split(",")) {
                tagNames.push(this.memberTagMap[tagId]);
              }
              m.tagNames = tagNames;
            }
            if (m.birthdayYear) m.age = today.getFullYear() - m.birthdayYear;
          }
          this.memberList = ret.memberList;
          if (newQuery) {
            this.totalCount = ret.count;
            if (this.query.isValidMember === null) {
              this.totalMemberCnt = ret.count;
              this.validMemberCnt = ret.validMemberCnt;
              this.invalidMemberCnt = ret.invalidMemberCnt;
            }
          }
          if (ret.memberList.length === 0) {
            $.Msg.info("未查到符合条件的会员");
          }

          //window.scrollTo(0, 0);
          let params = [];
          if (this.queryPage && this.totalCount) params.push("count=" + this.totalCount);
          if (this.queryPage) params.push("page=" + this.queryPage);else this.queryPage = 1;
          if (this.query.salesId) params.push("salesId=" + this.query.salesId);
          if (this.query.coachId) params.push("coachId=" + this.query.coachId);
          if (this.query.advisorId) params.push("advisorId=" + this.query.advisorId);
          if (this.query.orgId) params.push("orgId=" + this.query.orgId);
          if (this.query.tagId) params.push("tagId=" + this.query.tagId);
          if (this.query.birthday) params.push("birthday=" + this.query.birthday);
          if (this.query.birthdayYears) params.push("birthdayYears=" + this.query.birthdayYears);
          if (this.query.isPlMember) params.push("isPlMember=" + this.query.isPlMember);
          if (this.query.isValidMember !== null) {
            params.push("isValidMember=" + this.query.isValidMember);
            params.push("totalMemberCnt=" + this.totalMemberCnt);
            params.push("validMemberCnt=" + this.validMemberCnt);
            params.push("invalidMemberCnt=" + this.invalidMemberCnt);
          }
          if (this.query.ignoreCrossMember) params.push("ignoreCrossMember=" + this.query.ignoreCrossMember);
          if (args.beginCreateDate) {
            params.push("beginCreateDate=" + $.Util.formatDate(args.beginCreateDate));
            params.push("endCreateDate=" + $.Util.formatDate(args.endCreateDate));
          }
          if (this.query.privateCourseId) params.push("privateCourseId=" + this.query.privateCourseId);
          if (this.query.psCoachId) params.push("psCoachId=" + this.query.psCoachId);

          let url =  true ? "?" + params.join("&") : "";
          this.$router.push(url);
        }
      }, true);
    },

    queryValidMember(isValid) {
      this.query.isValidMember = isValid;
      this.queryMember(true);
    },

    resetQuery() {
      this.query.memberFlag = "";
      this.query.salesId = "";
      this.query.coachId = "";
      this.query.advisorId = "";
      this.query.orgId = "";
      this.query.tagId = "";
      this.query.createDateRange = null;
      this.query.birthday = null;
      this.query.birthdayYears = null;
      this.query.isValidBirthday = false;
      this.query.isValidBirthdayYears = false;
      this.query.isValidMember = null;
      this.query.wxNo = null;
      this.query.coachType = null;
      this.unfollowDays = null;
      this.query.orderType = 1;
      this.query.source = null;
      this.query.hasEntryCheckin = null;
      this.query.privateCourseId = null;
      this.query.psCoachId = null;
    },

    viewMember(memberId) {
      this.$router.push("/member-info/" + memberId);
    },

    viewMemberCard(memberId) {
      this.$router.push("/member-card-list/" + memberId);
    },

    viewMemberLesson(memberId) {
      this.$router.push("/member-lesson-list/" + memberId);
    },

    viewMemberBase(memberId) {
      this.viewMemberId = memberId;
      this.viewMemberDlg = true;
    },

    changePageNo(page) {
      this.queryPage = page;
      this.queryMember(false);
    },

    exportMember() {
      if (this.queryPage) {
        this.queryMember(false, true);
      } else {
        this.queryMember(true, true);
      }
    },

    setAutoJumpToMembDetail(val) {
      $.Util.cookie.set($.Conf.CookieKeys.AUTO_JUMP_TO_MEMBER_PAGE, val, 365);
    },

    selectMember(idx) {
      this.$set(this.memberCkList, idx, !this.memberCkList[idx]);
    },

    selectAll() {
      this.isSelectAll = !this.isSelectAll;
      for (let i = 0, len = this.memberCkList.length; i < len; i++) {
        this.$set(this.memberCkList, i, this.isSelectAll);
      }
    },

    batchUpdateMemberAdvisor(val) {
      this.batchUpdateMember(val, "advisor");
    },

    batchUpdateMemberCoach(val) {
      this.batchUpdateMember(val, "coach");
    },

    batchUpdateMemberSales(val) {
      this.batchUpdateMember(val, "sales");
    },

    batchUpdateMember(val, type) {
      let arr = val.split("\t");
      let staffId = parseInt(arr[0]),
          staffName = arr[1];
      let checkedMemberIdList = [];
      for (let i = 0, len = this.memberCkList.length; i < len && i < this.memberList.length; i++) {
        if (this.memberCkList[i]) checkedMemberIdList.push(this.memberList[i].memberId);
      }
      let msg, args;
      if (type === "advisor") {
        msg = "您确实要将{0}个会员分配给会籍顾问【{1}】吗？".format(checkedMemberIdList.length, staffName);
        args = { newAdvisorId: staffId, memberIdList: checkedMemberIdList };
      } else if (type === "coach") {
        msg = "您确实要将{0}个会员分配给教练【{1}】吗？".format(checkedMemberIdList.length, staffName);
        args = { newCoachId: staffId, memberIdList: checkedMemberIdList };
      } else if (type === "sales") {
        msg = "您确实要将{0}个会员分配给销售【{1}】吗？".format(checkedMemberIdList.length, staffName);
        args = { newSalesId: staffId, memberIdList: checkedMemberIdList };
      } else {
        return;
      }

      if (checkedMemberIdList.length > 0) {
        $.Dlg.confirm(msg, () => {
          $.Req.service($.SvName.MEMBER_BATCH_UPDATE, args, ret => {
            $.Msg.success($.Lang.OPT_SUCCESS);
            this.queryMember(false);
            this.isSelectAll = false;
            for (let i = 0, len = this.memberCkList.length; i < len; i++) {
              this.$set(this.memberCkList, i, false);
            }
          }, true);
        });
      } else {
        $.Dlg.error("请先选择会员");
      }
    },

    queryMemberOrg(callback) {
      $.Req.service($.SvName.MEMBER_ORG_QUERY, {}, ret => {
        this.dict.memberOrgList = ret.memberOrgList;
        if (callback) callback();
      });
    },

    queryShopTag() {
      $.Req.service($.SvName.SHOP_TAG_QUERY, { tagType: 1 }, ret => {
        this.dict.shopTagList = ret.shopTagList;
        this.memberTagMap = {};
        for (let t of ret.shopTagList) {
          this.memberTagMap[t.tagId] = t.tagName;
        }
        if (this.$route.query.tagId) this.query.tagId = parseInt(this.$route.query.tagId);
      });
    },

    openMemberTagDlg(memberIdx) {
      this.memberTagDlgTit = "设置会员标签 - " + this.memberList[memberIdx].name;
      this.memberIdx = memberIdx;
      this.memberTags = this.memberList[memberIdx].tagIds + "";
      this.viewMemberId = this.memberList[memberIdx].memberId;
      this.viewMemberTagDlg = true;
    },

    batchUpdateMemberTags() {
      this.checkedMemberIdList = [];
      for (let i = 0, len = this.memberCkList.length; i < len && i < this.memberList.length; i++) {
        if (this.memberCkList[i]) this.checkedMemberIdList.push(this.memberList[i].memberId);
      }

      this.memberTagDlgTit = "批量设置会员标签";
      this.viewMemberId = null;
      this.memberTags = "";
      this.viewMemberTagDlg = true;
    },

    afterUpdateShopTags(shopTagList) {
      for (let t of shopTagList) {
        this.memberTagMap[t.tagId] = t.tagName;
      }
      this.dict.shopTagList = shopTagList;
    },

    afterUpdateMemberTags(newTags) {
      if (this.viewMemberId) {
        let m = this.memberList[this.memberIdx];
        m.tagIds = newTags;
        if (m.tagIds) {
          let tagNames = [];
          for (let tagId of m.tagIds.split(",")) {
            tagNames.push(this.memberTagMap[tagId]);
          }
          m.tagNames = tagNames;
        } else {
          m.tagNames = [];
        }
        this.$set(this.memberList, this.memberIdx, m);
      } else {
        if (this.query.tagId) this.queryMember(true);else this.queryMember(false);
      }
      this.viewMemberTagDlg = false;
    },

    formatBirthday(birthdayYear, birthdayDate) {
      let ret = "";
      if (birthdayYear) ret = birthdayYear;
      if (birthdayYear && birthdayDate) ret += "/";
      if (birthdayDate) ret += parseInt(birthdayDate / 100) + "/" + birthdayDate % 100;

      return ret;
    },

    queryShopArgs() {
      let defaultColor = "DAA520";
      let args = {
        typeIdList: [$.Dict.ShopArg.POINTS_TITLE_CONF, 9999]
      };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
        for (let r of ret.argList) {
          if (r.typeId === $.Dict.ShopArg.POINTS_TITLE_CONF) {
            let items = r.typeValue ? r.typeValue.split(";") : [];
            for (let t of items) {
              let arr = t.split(",");
              let title = arr[2];
              let color = arr.length === 4 ? arr[3] : defaultColor;
              this.pointsColorMap[title] = color;
            }
          } else if (r.typeId === 9999) {
            this.memberDelEnable = r.typeValue === "true";
          }
        }
      });
    },

    queryCoachType() {
      $.Req.service($.SvName.COACH_TYPE_QUERY, { isBaseInfo: true }, ret => {
        this.dict.coachTypeList = ret.coachTypeList;
      });

      // init assignMemberCoachList
      for (let i = 0; i < 5; i++) {
        this.assignMemberCoachList.push({ coachType: null, coachId: null });
      }
    },

    openAssignCoachDlg() {
      let checkedMemberIdList = [];
      for (let i = 0, len = this.memberCkList.length; i < len && i < this.memberList.length; i++) {
        if (this.memberCkList[i]) checkedMemberIdList.push(this.memberList[i].memberId);
      }
      if (!checkedMemberIdList.length) {
        $.Msg.error("请先选择会员");
        return;
      }
      for (let c of this.assignMemberCoachList) {
        c.coachType = null;
        c.coachId = null;
      }

      this.assignCoachDlg = true;
    },

    submiAssignCoach() {
      let checkedMemberIdList = [];
      for (let i = 0, len = this.memberCkList.length; i < len && i < this.memberList.length; i++) {
        if (this.memberCkList[i]) checkedMemberIdList.push(this.memberList[i].memberId);
      }
      let msg = "您确实要给这{0}个会员分配教练吗？".format(checkedMemberIdList.length);

      $.Dlg.confirm(msg, () => {
        let args = {
          memberIdList: checkedMemberIdList,
          newMemberCoachList: this.assignMemberCoachList,
          assignCoachMethod: this.assignCoachMethod
        };
        $.Req.service($.SvName.MEMBER_BATCH_UPDATE, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.assignCoachDlg = false;
          this.queryMember(false);
          this.uncheckAllMember();
        }, true);
      });
    },

    uncheckAllMember() {
      this.isSelectAll = false;
      for (let i = 0, len = this.memberCkList.length; i < len; i++) {
        this.$set(this.memberCkList, i, false);
      }
    },

    openMemberDelDlg() {
      // check
      let checkedMemberIdList = [];
      for (let i = 0, len = this.memberCkList.length; i < len && i < this.memberList.length; i++) {
        if (this.memberCkList[i]) checkedMemberIdList.push(this.memberList[i].memberId);
      }
      if (!checkedMemberIdList.length) {
        $.Dlg.error("请选择需要删除的会员");
        return;
      }
      this.checkedMemberIdList = checkedMemberIdList;
      this.delMemberDlg = true;
    },

    deleteMemberList() {
      if (!this.sysCheckCode) {
        $.Msg.error("请输入安全校验码");
        return;
      }

      let msg = "您确定要删除所选择的会员吗？";
      if (!confirm(msg)) return;

      let args = {
        sysCheckCode: this.sysCheckCode,
        memberIdList: this.checkedMemberIdList
      };
      $.Req.service($.SvName.MEMBER_LIST_DELETE, args, ret => {
        this.queryMember();
        this.delMemberDlg = false;
        this.uncheckAllMember();
        $.Msg.success($.Lang.OPT_SUCCESS);
      }, true);
    },

    changeOrderType(val) {
      this.query.orderType = parseInt(val);
      this.preOrderType = parseInt(val);
      this.queryMember();
    },

    changeMoreOpts(menu) {
      if (menu === "setFields") {
        this.openStaffFavFieldsDlg();
      } else if (menu === "export") {
        this.exportMember();
      } else if (menu === "setTags") {
        this.batchUpdateMemberTags();
      }
    },

    toggleQuerySection() {
      this.showQuerySection = !this.showQuerySection;
      if (this.showQuerySection) {
        this.setMemberTblDefaultHeight();
      } else {
        this.memberTblHeight = window.innerHeight - 265;
      }
    },

    selectCheckboxEvent({ checked, rowIndex }) {
      this.$set(this.memberCkList, rowIndex, checked);
    },

    selectAllCheckboxEvent({ checked }) {
      this.isSelectAll = checked;
      for (let i = 0, len = this.memberCkList.length; i < len; i++) {
        this.$set(this.memberCkList, i, this.isSelectAll);
      }
    },

    setMemberFollowQueryArgs() {
      if (this.unfollowDays) {
        this.query.orderType = this.preOrderType;
        if (this.unfollowDays > 0) {
          this.query.followDateRange = [new Date("2017-01-01"), new Date(new Date().getTime() - this.unfollowDays * 3600 * 24 * 1000)];
          this.query.orderType = 3;
        } else {
          this.query.followDateRange = [];
          this.query.noneFollow = true;
        }
      } else {
        this.query.orderType = this.preOrderType;
        this.query.followDateRange = [];
        this.query.noneFollow = null;
      }
    },

    initStaffFavFields() {
      if ($.data.user.staffFavMemberFields) {
        for (let id of $.data.user.staffFavMemberFields.split(",")) {
          this.staffFavFields.push(parseInt(id));
        }
      }
      if ($.Util.isEmptyArray(this.staffFavFields)) {
        this.staffFavFields = [];
        for (let id in this.memberFields) {
          this.staffFavFields.push(parseInt(id));
        }
      }
    },

    openStaffFavFieldsDlg() {
      this.staffFavFieldsForEdit = [];
      $.Util.copyAttributes(this.staffFavFields, this.staffFavFieldsForEdit);
      this.memberFieldSetDlg = true;
    },

    updateStaffFavField() {
      if ($.Util.isEmptyArray(this.staffFavFieldsForEdit)) {
        $.Msg.error("请选择至少一列");
        return;
      }

      let args = {
        memberQueryFields: this.staffFavFieldsForEdit.join(",")
      };
      $.Req.service($.SvName.STAFF_FAV_MENU_SAVE, args, ret => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.memberFieldSetDlg = false;
        location.reload();
      });
    },

    changeMemberQueryViewType(val) {
      $.Util.cookie.set($.Conf.CookieKeys.MEMBER_QUERY_VIEW_TYPE, val, 365);
      this.queryMember($.Util.isEmpty(this.queryPage));
    },

    queryCustSources() {
      // query cust_source
      $.Req.service($.SvName.CUST_SOURCE_QUERY, { isBaseInfo: true }, ret => {
        this.dict.custSourceList = ret.custSourceList;
      });
    },

    checkChainShop() {
      if ($.data.shopList && $.data.shopList.length > 1) {
        this.isChainShop = true;
      } else {
        $.Req.service($.SvName.TENANT_CHAIN_SHOP_CHECK, {}, ret => {
          this.isChainShop = ret.result;
        });
      }
    }
  }
});

/***/ }),

/***/ 1337:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
	data() {
		return {};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1338:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_help_vue__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_help_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__member_test_guide_vue__ = __webpack_require__(1191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__member_test_guide_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__member_test_guide_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_member_member_select_vue__ = __webpack_require__(1094);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_member_member_select_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__pages_member_member_select_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//







/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, Help: __WEBPACK_IMPORTED_MODULE_1__components_help_vue___default.a, MemberSelect: __WEBPACK_IMPORTED_MODULE_3__pages_member_member_select_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_4__pages_member_member_base_info_vue___default.a, Guide: __WEBPACK_IMPORTED_MODULE_2__member_test_guide_vue___default.a },

	data() {
		return {
			g: $,
			menuList: $.PageMenus.memberTest("member-teenagers-test"),
			editable: $.Util.hasRoleFunc($.Dict.RoleFunc.TEST_ITEM_CONF.value),
			topWords: 115,
			summaryWords: 68,
			analysisWords: 150,
			weeknessWords: 280,
			suggestWords: 280,
			viewMemberDlg: false,
			memberSelectDlg: false,
			member: {
				memberId: null,
				name: null
			},
			requiredFields: ["courseId", "duration"],
			csFormRule: {
				// memberPhone: [{ validator: validateMemberPhoneNo, trigger: "blur" }],
			},
			options: {
				testDateTime: new Date(),
				age: "",
				score: "",
				summary: "",
				height: "",
				weight: "",
				bmi: "",
				analysis: "",
				suggestions: "",
				heightSummary: "",
				heightAnalysis: "",
				weightSummary: "",
				weightAnalysis: "",
				throwForDistance: "",
				throwForDistanceSummary: "",
				throwForDistanceAnalysis: "",
				longJump: "",
				longJumpSummary: "",
				longJumpAnalysis: "",
				jumpWithBothFeet: "",
				jumpWithBothFeetSummary: "",
				jumpWithBothFeetAnalysis: "",
				sitAndReach: "",
				sitAndReachSummary: "",
				sitAndReachAnalysis: "",
				turnBackRun: "",
				turnBackRunSummary: "",
				turnBackRunAnalysis: "",
				balanceBeam: "",
				balanceBeamSummary: "",
				balanceBeamAnalysis: ""
			}
		};
	},
	watch: {
		options: {
			handler(newValue, oldValue) {
				if (!newValue.height || !newValue.weight) {
					this.options.bmi = 0;
					return;
				}
				this.options.bmi = (newValue.weight / (newValue.height * newValue.height / 10000)).toFixed(2);
			},
			immediate: true,
			deep: true
		}
	},
	methods: {
		testSubmit() {
			if (!this.options.testDateTime) {
				$.Msg.error("请选择测试日期");
				return;
			}
			if (!this.options.memberId) {
				$.Msg.error("请选择会员");
				return;
			}
			if (!this.options.age) {
				$.Msg.error("请填写年龄");
				return;
			}
			if (!this.options.score) {
				$.Msg.error("请填写体测总体分值");
				return;
			}
			if (!this.options.summary) {
				$.Msg.error("请填写体测总结和评价");
				return;
			}
			if (!this.options.height) {
				$.Msg.error("请填写身高");
				return;
			}
			if (!this.options.weight) {
				$.Msg.error("请填写体重");
				return;
			}
			if (Number(this.options.score) < 1 || Number(this.options.score) > 40) {
				$.Msg.error("请输入1~40范围内的体测总体分值");
				return;
			}
			const summaryWordsArr = ["heightSummary", "weightSummary", "throwForDistanceSummary", "longJumpSummary", "jumpWithBothFeetSummary", "sitAndReachSummary", "turnBackRunSummary", "balanceBeamSummary"];
			const analysisWordsArr = ["heightAnalysis", "weightAnalysis", "throwForDistanceAnalysis", "longJumpAnalysis", "jumpWithBothFeetAnalysis", "sitAndReachAnalysis", "turnBackRunAnalysis", "balanceBeamAnalysis"];
			let optionArr = Object.keys(this.options).map(m => {
				let obj = {
					key: m,
					length: this.options[m].length
				};
				if (m == "summary") {
					obj.limitLength = this.topWords;
				}
				if (m == "analysis") {
					obj.limitLength = this.weeknessWords;
				}
				if (m == "suggestions") {
					obj.limitLength = this.suggestWords;
				}
				if (summaryWordsArr.indexOf(m) > -1) {
					obj.limitLength = this.summaryWords;
				}
				if (analysisWordsArr.indexOf(m) > -1) {
					obj.limitLength = this.analysisWords;
				}
				return obj;
			});
			if (optionArr.some(v => v.length && v.limitLength && v.length > v.limitLength)) {
				$.Msg.error("字数不可超出限制");
				return;
			}
			$.Req.service($.SvName.MEMBER_PHYSICAL_TEST_SAVE, { memberPhysicalTest: this.options }, res => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.$router.push("/member-teenagers-test");
			});
		},
		viewMemberInfo(memberId) {
			this.selectMemberId = memberId;
			this.viewMemberDlg = true;
		},
		afterSelectMember(member) {
			this.member.memberId = member.memberId;
			this.member.name = member.name;
			//
			this.options.memberId = member.memberId;
			this.options.name = member.name;
			this.options.sex = member.sex;

			this.memberSelectDlg = false;
			this.queryMemberCardsForPl();
		},
		clearMember() {
			this.member = {};
			//
			this.options.memberId = null;
			this.options.name = null;
			this.options.sex = null;
			this.memberCardIdMap = {};
		},
		queryMemberCardsForPl(callback = null) {
			if (!this.member.memberId) {
				return;
			}
			let args = {
				memberId: this.member.memberId
			};
			$.Req.service($.SvName.MEMBER_CARD_QUERY, args, (ret, systime) => {
				this.memberCardIdMap = {};
				for (let mc of ret.memberCardList) {
					this.memberCardIdMap[mc.cardId] = true;
				}
				if (this.chooseCardId) {
					this.cardPayments[this.chooseCardId] = {
						checked: true,
						payment: null
					};
				}
				this.memberCardList = ret.memberCardList;
				this.canLimitMcIds = $.Util.countAttrs(this.memberCardIdMap) !== ret.memberCardList.length;
				this.psMcIdList = [];
				if (this.options.mcIds) {
					for (let mcId of this.options.mcIds.split(",")) {
						this.psMcIdList.push(parseInt(mcId));
					}
				}
				if (callback) callback();
			});
		}
	}
});

/***/ }),

/***/ 1339:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_help_vue__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_help_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__member_test_guide_vue__ = __webpack_require__(1191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__member_test_guide_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__member_test_guide_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_member_member_select_vue__ = __webpack_require__(1094);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_member_member_select_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__pages_member_member_select_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//







/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, Help: __WEBPACK_IMPORTED_MODULE_1__components_help_vue___default.a, MemberSelect: __WEBPACK_IMPORTED_MODULE_3__pages_member_member_select_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_4__pages_member_member_base_info_vue___default.a, Guide: __WEBPACK_IMPORTED_MODULE_2__member_test_guide_vue___default.a },

	data() {
		return {
			g: $,
			menuList: $.PageMenus.memberTest("member-teenagers-test"),
			memberId: this.$route.params.memberId,
			mptId: this.$route.params.mptId,
			editable: $.Util.hasRoleFunc($.Dict.RoleFunc.TEST_ITEM_CONF.value),
			topWords: 115,
			summaryWords: 68,
			analysisWords: 150,
			weeknessWords: 280,
			suggestWords: 280,
			viewMemberDlg: false,
			memberSelectDlg: false,
			member: {
				memberId: null,
				name: null
			},
			requiredFields: ["courseId", "duration"],
			csFormRule: {
				// memberPhone: [{ validator: validateMemberPhoneNo, trigger: "blur" }],
			},
			options: {
				testDateTime: new Date(),
				age: "",
				score: "",
				summary: "",
				height: "",
				weight: "",
				bmi: "",
				analysis: "",
				suggestions: "",
				heightSummary: "",
				heightAnalysis: "",
				weightSummary: "",
				weightAnalysis: "",
				throwForDistance: "",
				throwForDistanceSummary: "",
				throwForDistanceAnalysis: "",
				longJump: "",
				longJumpSummary: "",
				longJumpAnalysis: "",
				jumpWithBothFeet: "",
				jumpWithBothFeetSummary: "",
				jumpWithBothFeetAnalysis: "",
				sitAndReach: "",
				sitAndReachSummary: "",
				sitAndReachAnalysis: "",
				turnBackRun: "",
				turnBackRunSummary: "",
				turnBackRunAnalysis: "",
				balanceBeam: "",
				balanceBeamSummary: "",
				balanceBeamAnalysis: ""
			}
		};
	},
	created() {
		this.queryDetail();
	},
	watch: {
		options: {
			handler(newValue, oldValue) {
				if (!newValue.height || !newValue.weight) {
					this.options.bmi = 0;
					return;
				}
				this.options.bmi = (newValue.weight / (newValue.height * newValue.height / 10000)).toFixed(2);
			},
			immediate: true,
			deep: true
		}
	},
	methods: {
		queryDetail(page = null) {
			let args = {
				memberId: this.memberId,
				page: page,
				mptId: this.mptId
			};
			$.Req.service($.SvName.MEMBER_PHYSICAL_TEST_QUERY, args, res => {
				let result = res.memberPhysicalTest;
				this.options = result;
				this.member.memberId = result.memberId;
				this.member.name = result.name;
			});
		},
		testSubmit() {
			if (!this.options.testDateTime) {
				$.Msg.error("请选择测试日期");
				return;
			}
			if (!this.options.memberId) {
				$.Msg.error("请选择会员");
				return;
			}
			if (!this.options.age) {
				$.Msg.error("请填写年龄");
				return;
			}
			if (!this.options.score) {
				$.Msg.error("请填写体测总体分值");
				return;
			}
			if (!this.options.summary) {
				$.Msg.error("请填写体测总结和评价");
				return;
			}
			if (!this.options.height) {
				$.Msg.error("请填写身高");
				return;
			}
			if (!this.options.weight) {
				$.Msg.error("请填写体重");
				return;
			}
			if (Number(this.options.score) < 1 || Number(this.options.score) > 40) {
				$.Msg.error("请输入1~40范围内的体测总体分值");
				return;
			}
			const summaryWordsArr = ["heightSummary", "weightSummary", "throwForDistanceSummary", "longJumpSummary", "jumpWithBothFeetSummary", "sitAndReachSummary", "turnBackRunSummary", "balanceBeamSummary"];
			const analysisWordsArr = ["heightAnalysis", "weightAnalysis", "throwForDistanceAnalysis", "longJumpAnalysis", "jumpWithBothFeetAnalysis", "sitAndReachAnalysis", "turnBackRunAnalysis", "balanceBeamAnalysis"];
			let optionArr = Object.keys(this.options).map(m => {
				let obj = {
					key: m,
					length: this.options[m].length
				};
				if (m == "summary") {
					obj.limitLength = this.topWords;
				}
				if (m == "analysis") {
					obj.limitLength = this.weeknessWords;
				}
				if (m == "suggestions") {
					obj.limitLength = this.suggestWords;
				}
				if (summaryWordsArr.indexOf(m) > -1) {
					obj.limitLength = this.summaryWords;
				}
				if (analysisWordsArr.indexOf(m) > -1) {
					obj.limitLength = this.analysisWords;
				}
				return obj;
			});
			if (optionArr.some(v => v.length && v.limitLength && v.length > v.limitLength)) {
				$.Msg.error("字数不可超出限制");
				return;
			}
			this.options.mptId = this.mptId;
			$.Req.service($.SvName.MEMBER_PHYSICAL_TEST_SAVE, { memberPhysicalTest: this.options }, res => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.$router.push("/member-teenagers-test");
			});
		},

		viewMemberInfo(memberId) {
			this.selectMemberId = memberId;
			this.viewMemberDlg = true;
		},

		afterSelectMember(member) {
			this.member.memberId = member.memberId;
			this.member.name = member.name;
			//
			this.options.memberId = member.memberId;
			this.options.name = member.name;
			this.options.sex = member.sex;

			this.memberSelectDlg = false;
			this.queryMemberCardsForPl();
		},

		clearMember() {
			this.member = {};
			//
			this.options.memberId = null;
			this.options.name = null;
			this.options.sex = null;
			this.memberCardIdMap = {};
		},

		queryMemberCardsForPl(callback = null) {
			if (!this.member.memberId) {
				return;
			}
			let args = {
				memberId: this.member.memberId
			};
			$.Req.service($.SvName.MEMBER_CARD_QUERY, args, (ret, systime) => {
				this.memberCardIdMap = {};
				for (let mc of ret.memberCardList) {
					this.memberCardIdMap[mc.cardId] = true;
				}
				if (this.chooseCardId) {
					this.cardPayments[this.chooseCardId] = {
						checked: true,
						payment: null
					};
				}
				this.memberCardList = ret.memberCardList;
				this.canLimitMcIds = $.Util.countAttrs(this.memberCardIdMap) !== ret.memberCardList.length;
				this.psMcIdList = [];
				if (this.options.mcIds) {
					for (let mcId of this.options.mcIds.split(",")) {
						this.psMcIdList.push(parseInt(mcId));
					}
				}
				if (callback) callback();
			});
		}
	}
});

/***/ }),

/***/ 1340:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__ = __webpack_require__(1094);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ __webpack_exports__["default"] = ({
  components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default.a, MemberSelect: __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default.a },

  data() {
    return {
      g: $,
      menuList: $.PageMenus.memberTest("member-teenagers-test"),
      editable: $.Util.hasRoleFunc($.Dict.RoleFunc.TEST_ITEM_CONF.value),
      memberTestQuery: {
        memberId: null,
        memberName: null
      },
      memberTestList: [],
      memberTestCnt: 0,
      viewMemberDlg: false,
      memberSelectDlg: false,
      memberSelectDlgForQuery: false
    };
  },
  created() {
    this.queryTestList();
  },
  methods: {
    createReport(mptId) {
      $.Req.service($.SvName.MEMBER_PHYSICAL_TEST_CREATE, { mptId: mptId }, res => {
        $.Msg.success('报告已生成');
        this.queryTestList();
      }, true);
    },

    queryTestList(page = 1) {
      let args = {
        memberId: this.memberTestQuery.memberId,
        page: page,
        mptId: null
      };
      $.Req.service($.SvName.MEMBER_PHYSICAL_TEST_QUERY, args, res => {
        this.memberTestList = res.memberPhysicalTestList || [];
        this.memberTestCnt = res.memberPhysicalTestList.length || 0;
      }, true);
    },

    addTest() {
      this.$router.push("/member-teenagers-test-create");
    },

    editTest(memberId, mptId) {
      this.$router.push("/member-teenagers-test-edit/" + memberId + '/' + mptId);
    },

    deleteTestItem(mptId) {
      let msg = "确定要删除该体侧记录吗？";
      $.Dlg.confirm(msg, yes => {
        let args = { mptId: mptId }; //status 状态：0-正常-启用，1-停用，停用必填，删除不填
        $.Req.service($.SvName.MEMBER_PHYSICAL_TEST_DELETE, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.queryTestList();
        }, true);
      });
    },

    openMemberBaseDlg(memberId) {
      this.viewMemberId = memberId;
      this.viewMemberDlg = true;
    },

    resetMemberTest() {
      this.memberTestQuery.memberId = null;
      this.memberTestQuery.memberName = null;
      this.queryTestList();
    },

    afterSelectMember(m) {
      // this.memberTest.mstId = null;
      this.memberTest.memberId = m.memberId;
      this.memberTest.memberName = m.name;
      // this.memberTest.testStaffId = $.data.user.staffId;
      this.memberSelectDlg = false;
      // this.openNewMemberTestItemDlg();
    },

    afterSelectMemberForQuery(m) {
      this.memberTestQuery.memberId = m.memberId;
      this.memberTestQuery.memberName = m.name;
      this.memberSelectDlgForQuery = false;
      this.queryTestList();
    }
  }
});

/***/ }),

/***/ 1341:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__ = __webpack_require__(1094);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default.a, MemberSelect: __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default.a },
	data() {
		return {
			g: $,
			menuList: $.PageMenus.memberTest('member-test-common'),
			editable: $.Util.hasRoleFunc($.Dict.RoleFunc.TEST_ITEM_CONF.value),
			shopTestItemList: null,
			memberTestList: null,
			memberSelectDlg: null,
			memberTest: {
				testDate: new Date(),
				memberId: null,
				memberName: null,
				testStaffId: $.data.user.staffId,
				remark: null
			},
			membetTestRequiredFields: ['testStaffId', 'testDate'],
			memberTestFormRule: {},
			memberTestDlg: false,
			dict: {
				staffList: null
			},
			memberTestQuery: {
				memberId: null,
				memberName: null
			},
			memberTestCnt: null,
			viewMembeId: null,
			viewMemberDlg: false,
			memberTestItemDlg: false,
			memberTestItemList: [],
			memberSelectDlgForQuery: false
		};
	},

	created() {
		if (this.membetTestRequiredFields) {
			$.Util.addRequiredFieldsRules(this.memberTestFormRule, this.membetTestRequiredFields);
		}

		// query staff-list
		$.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
			this.dict.staffList = ret.staffList;
		});

		this.queryShopTestItemList();
		this.queryMemberTestList();
	},

	methods: {
		selectMember() {
			this.memberSelectDlg = true;
		},

		queryShopTestItemList() {
			const args = {};
			$.Req.service($.SvName.SHOP_TEST_ITEM_QUERY, args, ret => {
				this.shopTestItemList = ret.shopTestItemList;
			}, true);
		},

		afterSelectMember(m) {
			this.memberTest.mtId = null;
			this.memberTest.memberId = m.memberId;
			this.memberTest.memberName = m.name;
			this.memberTest.testStaffId = $.data.user.staffId;
			this.$refs['memberTest'].resetFields();
			this.memberSelectDlg = false;
			this.memberTestDlg = true;
		},

		queryMemberTestList(page = null, callback = null) {
			let args = {
				memberId: this.memberTestQuery.memberId,
				page: page
			};
			$.Req.service($.SvName.MEMBER_TEST_QUERY, args, ret => {
				this.memberTestList = ret.memberTestList;
				if (!page) {
					this.memberTestCnt = ret.count;
				}
				if (callback) callback();
			}, true);
		},

		saveMemberTest() {
			this.$refs.memberTest.validate(valid => {
				if (!valid) return false;

				let args = { actionType: this.memberTest.mtId ? 'U' : 'I', memberTest: this.memberTest };
				$.Req.service($.SvName.MEMBER_TEST_SAVE, args, ret => {
					this.memberTestDlg = false;
					if (args.actionType === 'I') {
						this.queryMemberTestList(null, () => {
							this.openMemberTestItemDlg(0);
						});
					} else {
						$.Msg.success($.Lang.OPT_SUCCESS);
						this.queryMemberTestList();
					}
				}, true);
			});
		},

		openMemberBaseDlg(memberId) {
			this.viewMemberId = memberId;
			this.viewMemberDlg = true;
		},

		openEditMemberTestDlg(idx) {
			let args = {
				memberId: this.memberTestList[idx].memberId,
				mtId: this.memberTestList[idx].mtId,
				page: 1
			};
			$.Req.service($.SvName.MEMBER_TEST_QUERY, args, ret => {
				if (ret.memberTestList) {
					this.memberTest = ret.memberTestList[0];
				} else {
					this.memberTest = {};
				}
			});
			this.memberTestDlg = true;
		},

		delMemberTest(idx) {
			let mt = this.memberTestList[idx];
			let msg = "确定删除【{0}】【{1}】的测试吗？ 删除后将自动删除此次测试下的测试项目".format(mt.memberName, $.Util.formatDate(mt.testDate));
			$.Dlg.confirm(msg, yes => {
				let args = { actionType: 'D', deleteId: mt.mtId };
				$.Req.service($.SvName.MEMBER_TEST_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.queryMemberTestList();
				}, true);
			});
		},

		openMemberTestItemDlg(idx) {
			this.memberTest = this.memberTestList[idx];
			this.memberTestItemList = [];
			for (let t of this.shopTestItemList) {
				this.memberTestItemList.push({
					mtId: this.memberTest.mtId,
					itemId: t.itemId, itemName: t.itemName, unitName: t.unitName, itemValue: null
				});
			}
			// query member-test-item
			let args = { mtId: this.memberTest.mtId };
			$.Req.service($.SvName.MEMBER_TEST_ITEM_QUERY, args, ret => {
				if (ret.memberTestItemList) {
					let itemMap = {};
					for (let t of ret.memberTestItemList) {
						itemMap[t.itemId] = t.itemValue;
					}
					for (let t of this.memberTestItemList) {
						t.itemValue = itemMap[t.itemId];
					}
				}
				this.memberTestItemDlg = true;
			}, true);
		},

		saveMemberTesItem() {
			let msg = "确定提交吗？";
			for (let t of this.memberTestItemList) {
				if (t.itemValue && t.itemValue.length > 200) {
					$.Dlg.error('【{0}】的字数太多了，不能超过200字哦'.format(t.itemName));
					return;
				}
			}
			$.Dlg.confirm(msg, yes => {
				let args = { memberTestItemList: this.memberTestItemList, mtId: this.memberTest.mtId };
				$.Req.service($.SvName.MEMBER_TEST_ITEM_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.memberTestItemDlg = false;
				}, true);
			});
		},

		afterSelectMemberForQuery(m) {
			this.memberTestQuery.memberId = m.memberId;
			this.memberTestQuery.memberName = m.name;
			this.memberSelectDlgForQuery = false;
			this.queryMemberTestList();
		},

		resetMemberTest() {
			this.memberTestQuery.memberId = null;
			this.memberTestQuery.memberName = null;
			this.queryMemberTestList();
		}
	}
});

/***/ }),

/***/ 1342:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
	data() {
		return {
			g: $,
			menuList: $.PageMenus.memberTest('member-test-conf'),
			editable: $.Util.hasRoleFunc($.Dict.RoleFunc.TEST_ITEM_CONF.value),
			shopTestItemList: null,
			shopTestItem: {
				itemId: null,
				itemName: null,
				unitName: null,
				remark: null
			},
			testItemRequiredFields: ['itemName'],
			testItemFormRule: {},
			testItemDlg: false,

			scoreTestItemList: null,
			scoreTestItem: {
				itemId: null,
				itemName: null,
				unitName: null,
				remark: null,
				orderType: 0
			},
			scoreItemRequiredFields: ['itemName', 'unitName'],
			scoreItemFormRule: {},
			scoreItemDlg: false
		};
	},

	created() {
		if (this.testItemRequiredFields) {
			$.Util.addRequiredFieldsRules(this.testItemFormRule, this.testItemRequiredFields);
		}
		if (this.scoreItemRequiredFields) {
			$.Util.addRequiredFieldsRules(this.scoreItemFormRule, this.scoreItemRequiredFields);
		}

		this.queryShopTestItemList();
		this.queryScoreTestItemList();
	},

	methods: {
		queryShopTestItemList() {
			const args = {};
			$.Req.service($.SvName.SHOP_TEST_ITEM_QUERY, args, ret => {
				this.shopTestItemList = ret.shopTestItemList;
			});
		},

		openCreateTestItemDlg() {
			this.shopTestItem.itemId = null;
			this.$refs['shopTestItem'].resetFields();
			this.testItemDlg = true;
		},

		openEditTestItemDlg(idx) {
			$.Util.copyAttributes(this.shopTestItemList[idx], this.shopTestItem);
			this.testItemDlg = true;
		},

		saveShopTestItem() {
			this.$refs.shopTestItem.validate(valid => {
				if (!valid) return false;

				let args = { actionType: this.shopTestItem.itemId ? 'U' : 'I', shopTestItem: this.shopTestItem };
				$.Req.service($.SvName.SHOP_TEST_ITEM_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.testItemDlg = false;
					this.queryShopTestItemList();
				}, true);
			});
		},

		delShopTestItem(idx) {
			let itemName = this.shopTestItemList[idx].itemName;
			let msg = "确定要删除【{0}】吗？".format(itemName);
			$.Dlg.confirm(msg, yes => {
				let args = { actionType: 'D', deleteId: this.shopTestItemList[idx].itemId };
				$.Req.service($.SvName.SHOP_TEST_ITEM_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.testItemDlg = false;
					this.queryShopTestItemList();
				}, true);
			});
		},

		///////////////////////////////////////////////////////////

		queryScoreTestItemList() {
			const args = {};
			$.Req.service($.SvName.SCORE_TEST_ITEM_QUERY, args, ret => {
				this.scoreTestItemList = ret.scoreTestItemList;
			});
		},

		openCreateScoreItemDlg() {
			this.scoreTestItem.itemId = null;
			this.$refs['scoreTestItem'].resetFields();
			this.scoreItemDlg = true;
		},

		openEditScoreItemDlg(idx) {
			$.Util.copyAttributes(this.scoreTestItemList[idx], this.scoreTestItem);
			this.scoreItemDlg = true;
		},

		saveScoreTestItem() {
			this.$refs.scoreTestItem.validate(valid => {
				if (!valid) return false;

				let args = { actionType: this.scoreTestItem.itemId ? 'U' : 'I', scoreTestItem: this.scoreTestItem };
				$.Req.service($.SvName.SCORE_TEST_ITEM_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.scoreItemDlg = false;
					this.queryScoreTestItemList();
				}, true);
			});
		},

		delScoreTestItem(idx) {
			let itemName = this.scoreTestItemList[idx].itemName;
			let msg = "确定要删除【{0}】吗？".format(itemName);
			$.Dlg.confirm(msg, yes => {
				let args = { actionType: 'D', deleteId: this.scoreTestItemList[idx].itemId };
				$.Req.service($.SvName.SCORE_TEST_ITEM_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.scoreItemDlg = false;
					this.queryScoreTestItemList();
				}, true);
			});
		}
	}
});

/***/ }),

/***/ 1343:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
	data() {
		return {
			menuList: $.PageMenus.memberTest('member-test-score-rank'),
			scoreTestItemList: null
		};
	},

	created() {
		this.queryScoreTestItemList();
	},

	methods: {
		queryScoreTestItemList() {
			const args = {};
			$.Req.service($.SvName.SCORE_TEST_ITEM_QUERY, args, ret => {
				this.scoreTestItemList = ret.scoreTestItemList;
			}, true);
		}
	}
});

/***/ }),

/***/ 1344:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__ = __webpack_require__(1094);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default.a, MemberSelect: __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default.a },
	data() {
		return {
			g: $,
			menuList: $.PageMenus.memberTest('member-test-score'),
			editable: $.Util.hasRoleFunc($.Dict.RoleFunc.TEST_ITEM_CONF.value),
			scoreTestItemList: null,
			memberTestList: null,
			memberSelectDlg: null,
			memberTest: {
				testDate: new Date(),
				memberId: null,
				memberName: null,
				testStaffId: null,
				remark: null
			},
			membetTestRequiredFields: ['testStaffId', 'testDate'],
			memberTestFormRule: {},
			memberTestDlg: false,
			newMemberTestItemDlg: false,
			dict: {
				staffList: null
			},
			memberTestQuery: {
				memberId: null,
				memberName: null
			},
			memberTestCnt: null,
			viewMembeId: null,
			viewMemberDlg: false,
			memberTestItemDlg: false,
			memberTestItemList: [],
			memberSelectDlgForQuery: false
		};
	},

	created() {
		if (this.membetTestRequiredFields) {
			$.Util.addRequiredFieldsRules(this.memberTestFormRule, this.membetTestRequiredFields);
		}

		// query staff-list
		$.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
			this.dict.staffList = ret.staffList;
		});

		this.queryScoreTestItemList();
		this.queryMemberScoreTestList();
	},

	methods: {
		selectMember() {
			this.memberSelectDlg = true;
		},

		queryScoreTestItemList() {
			const args = {};
			$.Req.service($.SvName.SCORE_TEST_ITEM_QUERY, args, ret => {
				this.scoreTestItemList = ret.scoreTestItemList;
			}, true);
		},

		afterSelectMember(m) {
			this.memberTest.mstId = null;
			this.memberTest.memberId = m.memberId;
			this.memberTest.memberName = m.name;
			this.memberTest.testStaffId = $.data.user.staffId;
			this.memberSelectDlg = false;
			this.openNewMemberTestItemDlg();
		},

		queryMemberScoreTestList(page = null, callback = null) {
			let args = {
				memberId: this.memberTestQuery.memberId,
				page: page
			};
			$.Req.service($.SvName.MEMBER_SCORE_TEST_QUERY, args, ret => {
				this.memberTestList = ret.memberScoreTestList;
				if (this.memberTestList.length === 0) $.Msg.info($.Lang.NO_QUERY_RESULT);
				if (!page) {
					this.memberTestCnt = ret.count;
				}
				if (callback) callback();
			}, true);
		},

		saveMemberScoreTest() {
			this.$refs.memberTest.validate(valid => {
				if (!valid) return false;

				let args = { actionType: this.memberTest.mstId ? 'U' : 'I', memberScoreTest: this.memberTest };
				$.Req.service($.SvName.MEMBER_SCORE_TEST_SAVE, args, ret => {
					this.memberTestDlg = false;
					if (args.actionType === 'I') {
						this.queryMemberScoreTestList(null, () => {
							this.openMemberTestItemDlg(0);
						});
					} else {
						$.Msg.success($.Lang.OPT_SUCCESS);
						this.queryMemberScoreTestList();
					}
				}, true);
			});
		},

		openMemberBaseDlg(memberId) {
			this.viewMemberId = memberId;
			this.viewMemberDlg = true;
		},

		openEditMemberTestDlg(idx) {
			let args = {
				memberId: this.memberTestList[idx].memberId,
				mstId: this.memberTestList[idx].mstId,
				page: 1
			};
			$.Req.service($.SvName.MEMBER_SCORE_TEST_QUERY, args, ret => {
				if (ret.memberScoreTestList) {
					this.memberTest = ret.memberScoreTestList[0];
				} else {
					this.memberTest = {};
				}
			});
			this.memberTestDlg = true;
		},

		delMemberTest(idx) {
			let mt = this.memberTestList[idx];
			let msg = "确定删除【{0}】【{1}】的测试吗？ 删除后将自动删除此次测试下的测试项目".format(mt.memberName, $.Util.formatDate(mt.testDate));
			$.Dlg.confirm(msg, yes => {
				let args = { actionType: 'D', deleteId: mt.mstId };
				$.Req.service($.SvName.MEMBER_SCORE_TEST_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.queryMemberScoreTestList();
				}, true);
			});
		},

		openNewMemberTestItemDlg() {
			this.memberTestItemList = [];
			for (let t of this.scoreTestItemList) {
				this.memberTestItemList.push({
					memberId: this.memberTest.memberId,
					itemId: t.itemId, itemName: t.itemName, unitName: t.unitName, score: null
				});
			}
			this.newMemberTestItemDlg = true;
		},

		createMemberScoreTesItem() {
			if (!this.memberTest.testStaffId) {
				$.Msg.error('请输入测试员工');
				return;
			}
			if (!this.memberTest.testDate) {
				$.Msg.error('请输入测试时间');
				return;
			}

			let args = { actionType: 'I', memberScoreTest: this.memberTest };
			$.Req.service($.SvName.MEMBER_SCORE_TEST_SAVE, args, ret => {
				this.memberTest.mstId = ret.newId;
				for (let i = 0, len = this.memberTestItemList.length; i < len; i++) {
					this.memberTestItemList[i].mstId = this.memberTest.mstId;
					this.memberTestItemList[i].testDate = this.memberTest.testDate;
				}
				args = { memberScoreTestItemList: this.memberTestItemList, mstId: this.memberTest.mstId };
				$.Req.service($.SvName.MEMBER_SCORE_TEST_ITEM_SAVE, args, ret => {
					this.newMemberTestItemDlg = false;
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.queryMemberScoreTestList();
				}, true);
			});
		},

		openMemberTestItemDlg(idx) {
			this.memberTest = this.memberTestList[idx];
			this.memberTestItemList = [];
			for (let t of this.scoreTestItemList) {
				this.memberTestItemList.push({
					mstId: this.memberTest.mstId, memberId: this.memberTest.memberId, testDate: this.memberTest.testDate,
					itemId: t.itemId, itemName: t.itemName, unitName: t.unitName, score: null
				});
			}
			// query member_score_test_item
			let args = { mstId: this.memberTest.mstId };
			$.Req.service($.SvName.MEMBER_SCORE_TEST_ITEM_QUERY, args, ret => {
				if (ret.memberScoreTestItemList) {
					let itemMap = {};
					for (let t of ret.memberScoreTestItemList) {
						itemMap[t.itemId] = t.score;
					}
					for (let t of this.memberTestItemList) {
						t.score = itemMap[t.itemId];
					}
				}
				this.memberTestItemDlg = true;
			}, true);
		},

		saveMemberScoreTesItem() {
			let msg = "确定提交吗？";
			$.Dlg.confirm(msg, yes => {
				let args = { memberScoreTestItemList: this.memberTestItemList, mstId: this.memberTest.mstId };
				$.Req.service($.SvName.MEMBER_SCORE_TEST_ITEM_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.memberTestItemDlg = false;
				}, true);
			});
		},

		afterSelectMemberForQuery(m) {
			this.memberTestQuery.memberId = m.memberId;
			this.memberTestQuery.memberName = m.name;
			this.memberSelectDlgForQuery = false;
			this.queryMemberScoreTestList();
		},

		resetMemberTest() {
			this.memberTestQuery.memberId = null;
			this.memberTestQuery.memberName = null;
			this.queryMemberScoreTestList();
		}
	}
});

/***/ }),

/***/ 1345:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
	data() {
		return {
			g: window.$,
			memberId: this.$route.params.memberId,
			memberName: $.Util.sessionStore.get($.Conf.LocalSessionKey.MEMBER_NAME),
			menuList: $.PageMenus.member(this.$route.params.memberId, 'member-venue-bookings'),
			query: {
				beginDate: null,
				endDate: null
			},
			vabList: null,
			totalCount: null,
			cancelLogList: null,
			cancelLogCount: null,
			returnCancelFeeDetailDlg: null,
			selectedLog: null
		};
	},

	created() {
		if (!this.$route.params.memberId) {
			this.$router.push('/member-query');
			return;
		}

		this.initQueryDate();

		// load member base
		$.Req.queryMemberBase(this.memberId, ret => {
			this.memberName = ret.member.name;
			$.Util.sessionStore.set($.Conf.LocalSessionKey.MEMBER_NAME, this.memberName);
		});

		this.queryVenueBookings();
		this.queryVenueAreaBookingCancelLog();
	},

	methods: {
		initQueryDate() {
			this.query.endDate = new Date();
			this.query.beginDate = new Date(this.query.endDate.getTime() - 90 * 3600 * 24 * 1000);
		},

		queryVenueBookings(page = null) {
			if (!this.query.beginDate || !this.query.endDate) {
				$.Msg.warning('请输入完整的日期范围');
				return;
			}

			if (!page) this.totalCount = null;
			let args = {
				memberId: this.memberId,
				page: page,
				beginDate: this.query.beginDate,
				endDate: this.query.endDate
			};
			$.Req.service($.SvName.VENUE_AREA_BOOKING_QUERY, args, ret => {
				this.vabList = ret.vabList;
				if (!page) {
					this.totalCount = ret.count;
				} else {
					window.scrollTo(0, 0);
				}
			});
		},

		queryVenueAreaBookingCancelLog(page = null) {
			if (!page) this.cancelLogCount = null;
			let args = {
				memberId: this.memberId,
				page: page
			};
			$.Req.service($.SvName.VENUE_AREA_BOOKING_CANCEL_LOG_QUERY, args, ret => {
				this.cancelLogList = ret.logList;
				if (!page) {
					this.cancelLogCount = ret.count;
				}
			});
		},

		viewFeelReturnDetail(log) {
			this.selectedLog = log;
			this.returnCancelFeeDetailDlg = true;
		}
	}
});

/***/ }),

/***/ 1486:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".calc[data-v-03cc60d4]{margin:0 20px}.calc li[data-v-03cc60d4]{padding:8px 0;display:block}.calc .input[data-v-03cc60d4]{width:120px;text-align:center;font-weight:700;font-size:14px}.calc .ret[data-v-03cc60d4]{background:#eee;text-align:center;display:inline-block;width:150px;font-size:14px;font-weight:700;height:32px;line-height:32px}.calc .opt[data-v-03cc60d4]{font-size:18px;font-weight:700;display:inline-block;width:40px;text-align:center}.calc .btn[data-v-03cc60d4]{font-size:16px;position:relative;top:-2px;height:32px;font-weight:700;margin:0 15px}", ""]);

// exports


/***/ }),

/***/ 1492:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-card-list-hd[data-v-05e64162]{height:40px;line-height:40px;background:#eee;clear:both;padding:0 15px}.-mclist[data-v-05e64162]{display:block;clear:both;background:#e9e9e9;padding:5px}.-mclist li.item[data-v-05e64162]{display:inline-block;width:411px;background:#fff;padding:5px 0 15px;margin:6px;border:1px solid #ddd;border-radius:3px;box-shadow:2px 2px 4px #ddd;vertical-align:top}.-mclist li.item[data-v-05e64162]:hover{border-color:#ccc;box-shadow:3px 3px 3px #cfcfcf}.-mclist .mc-item-opt[data-v-05e64162]{padding:0 6px 0 0;color:#888}.-mclist .mc-item-opt[data-v-05e64162]:hover{color:#ff4500}.-mclist .mc-item-opt i[data-v-05e64162]{font-size:14px;margin-right:3px;position:relative;top:1px}.-mclist .-hd[data-v-05e64162]{border-bottom:1px solid #ddd;height:50px;line-height:50px;padding:0 15px}.-mclist .-hd .-card-name[data-v-05e64162]{float:left;font-weight:700;font-size:16px;max-width:225px;height:50px;line-height:50px;overflow:hidden;text-overflow:ellipsis}.-mclist .-hd .card-type[data-v-05e64162]{float:left;padding:0 6px;border:1px solid #eee;height:22px;line-height:21px;background:#fff;margin-top:14px;margin-right:10px;border-radius:2px}.-mclist .-hd .card-type-1[data-v-05e64162]{border-color:#00d23c;color:#00d23c}.-mclist .-hd .card-type-2[data-v-05e64162]{border-color:orange;color:orange}.-mclist .-hd .card-type-3[data-v-05e64162]{border-color:#ff4500;color:#ff4500}.-mclist .-hd .card-type-4[data-v-05e64162]{border-color:#0fa036;color:#0fa036}.-mclist .-hd .-icon[data-v-05e64162]{float:left;font-size:32px;font-weight:400;margin-right:15px;position:relative;top:9px}.-mclist .-hd .-card-ok[data-v-05e64162]{color:#1aad19}.-mclist .-hd .-card-outdate[data-v-05e64162]{color:#aaa}.-mclist .-hd .r i[data-v-05e64162]{font-size:14px;font-weight:400;padding-right:5px}.-mclist .-hd .cross-card[data-v-05e64162]{border-color:#7148ad;color:#7148ad}.-mclist .-hd .more[data-v-05e64162]{cursor:pointer}.-mclist .-hd .more i[data-v-05e64162]{position:relative;top:-1px;padding-left:2px}.-mclist .-bd[data-v-05e64162]{margin-top:10px;clear:both;height:258px;padding:0 15px}.-mclist .-bd table[data-v-05e64162]{width:100%}.-mclist .-bd tr[data-v-05e64162]{border-bottom:1px dotted #ddd}.-mclist .-bd tr[data-v-05e64162]:hover{background:#f7f7f7}.-mclist .-bd th[data-v-05e64162]{font-weight:400;text-align:right;width:100px;padding:0;color:#777}.-mclist .-bd th[data-v-05e64162]:after{content:\"\\FF1A\"}.-mclist .-bd td[data-v-05e64162],.-mclist .-bd th[data-v-05e64162]{line-height:40px;height:40px}.-mclist .-bd td[data-v-05e64162]{padding:0 0 0 5px}.-mclist .-bd .mc-remark[data-v-05e64162]{width:260px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}.-mclist .records-query[data-v-05e64162]{padding-top:15px;margin:0 10px}.-mclist .records-query ul[data-v-05e64162]{display:table;width:100%}.-mclist .records-query li[data-v-05e64162]{display:table-cell;border-right:1px dotted #d0d0d0;text-align:center}.-mclist .records-query li a[data-v-05e64162]{display:inline-block;color:#999;width:100%}.-mclist .records-query li a[data-v-05e64162]:hover{color:#ff4500}.-mclist .records-query li[data-v-05e64162]:last-child{border:0}.-mclist .records-query .tit[data-v-05e64162]{color:#888;background:#f1f1f1;margin-left:12px;padding:3px 5px;border-top-right-radius:15px;border-bottom-right-radius:15px;text-align:center}.-mclist .-opt[data-v-05e64162]{margin:18px 0 5px;text-align:center}.-mclist .-opt button[data-v-05e64162]{min-width:66px;height:30px;line-height:29px}.-mclist .-add[data-v-05e64162]{display:inline-block;border:1px dashed #ddd;box-shadow:none;background:none;width:150px;text-align:center}.-mclist .-add button[data-v-05e64162]{width:100%;height:60px;font-size:14px}.-mclist .-add[data-v-05e64162]:hover{background:#fff}.-v-tbl li[data-v-05e64162]{margin-bottom:15px;border-bottom:1px dashed #d0d0d0;padding-bottom:15px}.-v-tbl li[data-v-05e64162]:last-child{margin-bottom:0}.-v-tbl li.tit-li[data-v-05e64162]{border:0;padding-bottom:0}.-v-tbl li.tit-li label[data-v-05e64162]{display:inline-block;width:75px;text-align:right;padding-right:8px}.-v-tbl li.tit-li th[data-v-05e64162]{width:78px;padding-right:0}.-v-tbl td[data-v-05e64162],.-v-tbl th[data-v-05e64162]{padding:4px 8px}.-v-tbl th[data-v-05e64162]{font-weight:400;width:105px;color:#999;padding-left:10px;text-align:right}.-v-tbl th[data-v-05e64162]:after{content:\"\\FF1A\"}.-v-tbl .tit[data-v-05e64162]{line-height:35px;height:35px;background:#eee;padding:0 10px;margin-bottom:5px}.-v-tbl .tit label[data-v-05e64162]{padding-right:15px;color:#999}.-v-tbl .tit .spt[data-v-05e64162]{padding:0 10px}.-v-tbl .page-hidden[data-v-05e64162]{display:none}.change li[data-v-05e64162]{border:0;padding:0}.change .items[data-v-05e64162]{border-bottom:1px dashed #ccc;padding-bottom:15px;margin-bottom:15px}.change .before[data-v-05e64162]{color:#1aad19}.change .after[data-v-05e64162]{color:#ff4500}.change .chgtip[data-v-05e64162]{padding:0 8px;color:#bbb;margin:0 10px}.change .chgtip[data-v-05e64162]:after{content:\"\\25B6\";color:#bbb;padding-left:3px}.add-card[data-v-05e64162]{height:55px;line-height:55px;margin-top:15px;background:#e9e9e9;padding:0 12px;border-radius:2px}.add-card-btn[data-v-05e64162]{padding-left:25px;padding-right:25px}.add-card-tips[data-v-05e64162]{padding-left:8px;color:#aaa}.add-card-tips[data-v-05e64162]:hover{color:orange}.add-card-tips .icon[data-v-05e64162]{color:orange;padding:0 3px}.mc-remark-full[data-v-05e64162]{font-size:13px;line-height:1.7}.mcp-del-log[data-v-05e64162]{margin-top:30px;border-top:1px dashed #aaa}.mcp-del-log .hd[data-v-05e64162]{padding:25px 0 0;font-size:14px;font-weight:700;text-align:center;text-shadow:5px 5px 3px #aaa;color:orange}.mc-end-chg-help[data-v-05e64162]{padding:15px 10px 5px}.mc-end-chg-help .tips[data-v-05e64162]{color:#999}.stop-card label[data-v-05e64162]{display:block;padding-bottom:10px}.mc-unit-price[data-v-05e64162]{padding-left:10px;color:#aaa;font-size:11px}.mc-stat[data-v-05e64162]{padding:0 0 15px}.mc-stat li[data-v-05e64162]{display:inline-block;border-right:1px solid #ddd;padding:0 12px 0 10px}.mc-stat li[data-v-05e64162]:last-child{border-right:0}.mc-stat li[data-v-05e64162]:first-child{padding-left:0}.reload[data-v-05e64162]{position:absolute;right:20px}.reload a[data-v-05e64162]{color:#aaa}", ""]);

// exports


/***/ }),

/***/ 1493:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".mytbl[data-v-06b2727a]{min-height:200px}", ""]);

// exports


/***/ }),

/***/ 1494:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".diff[data-v-07e73ba7]{margin-top:10px;line-height:1.8;background:#f7face;padding:10px;max-width:500px}.diff b[data-v-07e73ba7]{padding:0 3px;font-size:13px}.diff .opt[data-v-07e73ba7]{display:inline-block;word-break:keep-all}", ""]);

// exports


/***/ }),

/***/ 1497:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".rates[data-v-09b35ea3]{margin-left:20px;display:inline}.rates li[data-v-09b35ea3]{display:inline;border-right:1px solid #ddd}.rates li a[data-v-09b35ea3]{padding:0 10px}.rates li[data-v-09b35ea3]:last-child{border-right:0}.input[data-v-09b35ea3]{width:100px}.confirm[data-v-09b35ea3]{width:100px;margin-top:10px}", ""]);

// exports


/***/ }),

/***/ 1504:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-style- .tmpt label[data-v-10349df4]{margin-bottom:7px;white-space:normal}.reminder-staff[data-v-10349df4]{padding-top:15px;font-size:12px}.reminder-staff .input[data-v-10349df4]{margin:0 8px;width:50px;text-align:center;height:27px}.break-line[data-v-10349df4]{margin-top:15px;border-top:1px solid #eee}.card-reminder-staff[data-v-10349df4]{font-size:12px}.card-reminder-staff button[data-v-10349df4]{height:24px}.ivu-radio-group-vertical .ivu-radio-wrapper[data-v-10349df4]{height:auto;line-height:2.2}.conf[data-v-10349df4]{padding:8px 0}.conf .opt[data-v-10349df4]{height:40px;line-height:40px;padding:0 10px;background:#f2f2f2;margin-bottom:15px}.conf .spt[data-v-10349df4]{padding:0 20px}.conf .days-conf[data-v-10349df4]{padding-left:5px}.conf .days-conf .input-s[data-v-10349df4]{width:60px;text-align:center;font-weight:700;height:28px;line-height:28px}.conf .days-conf .tips[data-v-10349df4]{color:#777;padding:0 20px 0 5px}.remark[data-v-10349df4]{margin-bottom:50px;padding:0 20px}.remark ol[data-v-10349df4]{clear:both}.remark li[data-v-10349df4]{line-height:2}.remark .hd[data-v-10349df4]{border:0;padding:0;margin:0}.subtit[data-v-10349df4]{padding:5px 0 15px}.subtit .tips[data-v-10349df4]{padding-left:15px;color:orange}.submit[data-v-10349df4]{padding:30px 0 10px}.submit button[data-v-10349df4]{width:150px}.list[data-v-10349df4]{width:900px}.list .items label[data-v-10349df4]{margin-right:10px}.list .items li[data-v-10349df4]{padding:0;border-bottom:1px dotted #e2e2e2;margin-left:20px;line-height:42px;list-style-type:square}.list .items li[data-v-10349df4]:last-child{border:0}.list .tips[data-v-10349df4]{padding-left:20px;color:#bbb;font-size:12px}.list .tips[data-v-10349df4]:hover{color:#ff4500}.list .icon-svginfor[data-v-10349df4]{position:relative;top:1px;color:orange}.list .block[data-v-10349df4]{border-top:1px solid #eee;border-bottom:1px solid #eee;padding:15px 0}.form-submit-bottom[data-v-10349df4]{padding-left:200px}.underline-input[data-v-10349df4]{border:none;border-bottom:1px solid #777;width:70px;text-align:center;font-weight:700;outline:none;font-size:13px;border-radius:0;height:22px}.sec-remark[data-v-10349df4]{margin-top:20px;color:#999}.sec-remark[data-v-10349df4]:hover{color:#ff4500}", ""]);

// exports


/***/ }),

/***/ 1505:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-date[data-v-1103875a]{width:115px;display:inline-block}.query-cond-inline[data-v-1103875a]{padding-bottom:12px}.duration[data-v-1103875a]{text-align:center;width:60px;position:relative;top:2px}", ""]);

// exports


/***/ }),

/***/ 1515:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".date-nav[data-v-16f1d2be]{text-align:center;padding:25px 0 22px}.date-nav .nxt[data-v-16f1d2be],.date-nav .pre[data-v-16f1d2be]{background:#f2f2f2;border-radius:20px;padding:8px 35px;color:#555}.date-nav .nxt i[data-v-16f1d2be],.date-nav .pre i[data-v-16f1d2be]{margin:0 2px}.date-nav .nxt[data-v-16f1d2be]:hover,.date-nav .pre[data-v-16f1d2be]:hover{background:#ddd}.date-nav .input-date[data-v-16f1d2be]{width:130px;margin:0 30px}.borderspt[data-v-16f1d2be]{border-top:2px solid #ddd}.diff[data-v-16f1d2be]{color:#ff4500}", ""]);

// exports


/***/ }),

/***/ 1517:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".opt-memb-auth li[data-v-17ac3134]{padding:0 0 12px}.opt-memb-auth li[data-v-17ac3134]:last-child{padding-bottom:0}.opt-memb-auth .conf[data-v-17ac3134]{width:250px}.warning[data-v-17ac3134]{padding:10px 10px 8px}.remark[data-v-17ac3134]{margin-bottom:20px;color:#ff4500}.input-s[data-v-17ac3134]{width:150px;display:inline-block}.mcards td[data-v-17ac3134]{padding:5px;font-size:13px}.mcards td input[data-v-17ac3134]{font-weight:700;font-size:14px}.mcards .tips[data-v-17ac3134]{padding-left:10px;width:150px}.mcards .tips .name[data-v-17ac3134]{color:green}.mcards .tips .err[data-v-17ac3134]{color:#ff4500}.mcards-log[data-v-17ac3134]{background:#f0f0f0;margin-left:50px;margin-top:5px;padding:15px}.mcards-log .txt[data-v-17ac3134]{padding-top:10px}.mcards-log .txt textarea[data-v-17ac3134]{border:0;height:185px;padding:5px;outline:none;resize:none;background:#fdfdfd}.mc-opt .tblform input[type=number][data-v-17ac3134]{text-align:center;font-weight:700;font-size:13px;width:150px}.mc-opt .tblform td[data-v-17ac3134],.mc-opt .tblform th[data-v-17ac3134]{padding:8px}.mc-opt .tblform .submit button[data-v-17ac3134]{width:150px}.mc-opt .tblform .card-list[data-v-17ac3134]{border:1px solid #d7dde4;width:880px;padding:12px 10px 3px 15px}.mc-opt .tblform .card-list .ivu-checkbox-wrapper[data-v-17ac3134],.mc-opt .tblform .card-list .ivu-radio-wrapper[data-v-17ac3134]{margin-bottom:12px;margin-right:12px}.mc-opt .tblform .opt-remark[data-v-17ac3134]{width:500px}.inner-remark[data-v-17ac3134]{border-top:0;margin-top:0;padding-top:10px}.inner-remark .tit[data-v-17ac3134]{border-bottom:1px dotted #ddd;padding-bottom:20px}", ""]);

// exports


/***/ }),

/***/ 1523:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1525:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".opt-conf li[data-v-1c0f656a]{display:block;padding:3px 0 0;color:#aaa}", ""]);

// exports


/***/ }),

/***/ 1527:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1544:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".piechart[data-v-25497bc1]{width:100%;height:450px;padding-top:20px}.shop-cnt-stat[data-v-25497bc1]{padding:5px 0 15px}.shop-cnt-stat li[data-v-25497bc1]{display:inline-block;background:#eee;margin-right:12px;padding:6px 10px}", ""]);

// exports


/***/ }),

/***/ 1547:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".card-transf-log h3[data-v-296b96c2]{margin:0 0 15px;border-bottom:1px solid #ddd;padding-bottom:10px}.-v-tbl li[data-v-296b96c2]{margin-bottom:15px;border-bottom:1px dashed #d0d0d0;padding-bottom:15px}.-v-tbl li[data-v-296b96c2]:last-child{margin-bottom:0}.-v-tbl li.tit-li[data-v-296b96c2]{border:0;padding-bottom:0}.-v-tbl li.tit-li label[data-v-296b96c2]{display:inline-block;width:75px;text-align:right;padding-right:8px}.-v-tbl li.tit-li th[data-v-296b96c2]{width:78px;padding-right:0}.-v-tbl td[data-v-296b96c2],.-v-tbl th[data-v-296b96c2]{padding:4px 8px}.-v-tbl th[data-v-296b96c2]{font-weight:400;width:105px;color:#999;padding-left:10px;text-align:right}.-v-tbl th[data-v-296b96c2]:after{content:\"\\FF1A\"}.-v-tbl .tit[data-v-296b96c2]{line-height:35px;height:35px;background:#eee;padding:0 10px;margin-bottom:5px}.-v-tbl .tit label[data-v-296b96c2]{padding-right:15px;color:#999}.-v-tbl .tit .spt[data-v-296b96c2]{padding:0 10px}", ""]);

// exports


/***/ }),

/***/ 1548:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1550:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".query-section th[data-v-2b1829c8]{width:80px;text-align:left;font-weight:400}.query-section td[data-v-2b1829c8],.query-section th[data-v-2b1829c8]{padding:10px 0}.query-section.submit[data-v-2b1829c8]{margin-top:20px}.query-section .primary-btn[data-v-2b1829c8]{width:245px;margin-right:10px}.query-section .alt-top[data-v-2b1829c8]{padding-top:3px}.-long[data-v-2b1829c8]{width:552px}.-date[data-v-2b1829c8]{width:245px;display:inline-block}.-query-loading[data-v-2b1829c8]{width:100px;margin:-130px auto 0}.date-list[data-v-2b1829c8]{display:inline-block;margin-left:10px}.date-list li[data-v-2b1829c8]{display:inline-block}.date-list li[data-v-2b1829c8]:after{content:\"|\";padding:0 10px;color:#ddd}.date-list li[data-v-2b1829c8]:last-child:after{content:\"\"}.member-items[data-v-2b1829c8]{display:inline-block;color:#999}.member-items li[data-v-2b1829c8]{display:inline}.member-items li[data-v-2b1829c8]:after{content:\"\\3001\";color:#aaa;padding:0 0 0 2px}.member-items li[data-v-2b1829c8]:last-child:after{content:\"\"}.pics a[data-v-2b1829c8]{margin-right:10px;display:inline-block}", ""]);

// exports


/***/ }),

/***/ 1555:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".align-center[data-v-2cee148b]{display:flex;align-items:center}[data-v-2cee148b].ivu-form .ivu-form-item-label{width:130px!important}.ivu-form-item[data-v-2cee148b] .ivu-form-item-content{margin-left:130px!important}.warn[data-v-2cee148b]{display:inline-block;height:32px;margin-left:35px}.warn i[data-v-2cee148b]{color:#ffb800}.with-words .ivu-input-wrapper[data-v-2cee148b]{position:relative}.with-words .words[data-v-2cee148b]{position:absolute;top:0;left:380px;bottom:0;display:flex;align-items:flex-end}.b-label[data-v-2cee148b] .ivu-form-item-label{font-weight:700}.input-box[data-v-2cee148b]{width:140px;vertical-align:middle;cursor:pointer}.success-box[data-v-2cee148b]{display:flex}.success-box .demo-box[data-v-2cee148b]{margin-left:80px;border:1px solid #e3e8ee;padding:20px 20px 0;margin-bottom:50px}.success-box .demo-box img[data-v-2cee148b]{width:400px}.success-box .demo-box div[data-v-2cee148b]{height:44px;line-height:44px;text-align:center}.guide[data-v-2cee148b]{position:fixed;left:0;top:0;right:0;bottom:0;background-color:rgba(0,0,0,.3)}.guide .guide-main[data-v-2cee148b]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.guide .guide-main .middle[data-v-2cee148b]{display:flex;align-items:center}.guide .guide-main .middle .pic[data-v-2cee148b]{width:500px;height:707px}.guide .guide-main .middle .front[data-v-2cee148b]{width:187px;height:389px}.guide .guide-main .close[data-v-2cee148b]{padding:16px}.guide .guide-main .close img[data-v-2cee148b]{display:block;margin:auto;width:32px;height:32px;cursor:pointer}", ""]);

// exports


/***/ }),

/***/ 1563:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".opt-bar[data-v-341a865c]{margin-bottom:12px;padding:5px 0}.opt-bar table[data-v-341a865c]{width:100%}.opt-bar li.item[data-v-341a865c]{display:inline-block;padding-right:8px}.cnt-stat[data-v-341a865c]{display:inline-block;border:1px solid #dddee1;border-radius:2px;padding:0}.cnt-stat li[data-v-341a865c]{display:inline-block;border-right:1px solid #e4e4e4;padding:4px 12px;font-size:12px;color:#888;line-height:22px;cursor:pointer}.cnt-stat li[data-v-341a865c]:last-child{border-right:0}.cnt-stat li .on[data-v-341a865c]{font-size:15px;margin-right:2px}.cnt-stat li:hover .cnt[data-v-341a865c],.cnt-stat li[data-v-341a865c]:hover{color:#2e90f7}.cnt-stat .cnt[data-v-341a865c]{font-size:14px;padding-left:10px;display:inline-block;position:relative;top:1px;font-weight:400}.cnt-stat .all .cnt[data-v-341a865c]{color:darkred}.cnt-stat .valid .cnt[data-v-341a865c]{color:#3e9805}.cnt-stat .invalid .cnt[data-v-341a865c]{color:orange}.-one-query[data-v-341a865c]{height:32px;line-height:32px}.-one-query .note[data-v-341a865c]{color:#c5c5c5}.-one-query .note .iconfont[data-v-341a865c]{position:relative;top:1px;margin-right:3px;font-size:15px}.-one-query .note[data-v-341a865c]:hover{color:red}.-more-query[data-v-341a865c]{width:1000px}.-more-query label[data-v-341a865c]{padding-right:5px}.-more-query .item[data-v-341a865c]{display:inline-block;padding:7px 5px}.-more-query .item[data-v-341a865c]:first-child{margin-left:0}.-more-query .input[data-v-341a865c]{width:180px;display:inline-block}.submit[data-v-341a865c]{text-align:left;padding:15px 0 5px;line-height:0;border-top:1px dotted #ddd;margin-top:10px}.submit .primary-btn[data-v-341a865c]{width:180px;margin-left:5px}.quick-search[data-v-341a865c]{width:200px;margin-left:5px;vertical-align:middle}.tags span[data-v-341a865c]{background:#d6f7b9;display:inline-block;margin-bottom:3px;color:#555}.points-tit[data-v-341a865c],.tags span[data-v-341a865c]{padding:2px 5px;margin-right:5px;border-radius:1px;word-break:keep-all}.points-tit[data-v-341a865c]{color:#fff}.more-query-btn[data-v-341a865c]{background:#f8f8f8;color:#999;font-size:12px;padding:4px 10px;position:absolute;margin-top:2px;margin-left:15px}.more-query-btn i[data-v-341a865c]{font-size:16px;padding-left:5px;position:relative;top:1px}.more-query-btn[data-v-341a865c]:hover{background:#eee}.coaches i[data-v-341a865c]{color:#999;padding-left:3px}.coaches li[data-v-341a865c]{padding:2px 0;display:block;word-break:keep-all}.member-list .ckbox[data-v-341a865c]{cursor:pointer}.member-list .ckbox:hover .ckbox-0[data-v-341a865c]{color:#2e86e5}.member-list .ckbox .ckbox-0[data-v-341a865c]{color:#ccc;font-size:14px;font-weight:400}.member-list .ckbox .ckbox-1[data-v-341a865c]{color:#2e86e5;font-size:14px;font-weight:400}.toggle-query i[data-v-341a865c]{font-size:12px;color:#aaa;padding:3px;cursor:pointer}.toggle-query i[data-v-341a865c]:hover{color:red}.toggle-query .query-show[data-v-341a865c]{position:absolute;right:22px;margin-top:5px}.toggle-query .query-hide[data-v-341a865c]{line-height:22px;background:#eee;width:100%;text-align:right;margin-top:-12px}.memb-opt-list[data-v-341a865c]{cursor:pointer}.memb-opt-list .opt-list-pop[data-v-341a865c]{padding:10px;position:absolute;display:none;margin-top:-2px;margin-left:-10px}.memb-opt-list .opt-list-pop u[data-v-341a865c]{text-decoration:none;font-size:16px;color:#2e90f7;position:relative;right:-2px;display:none}.memb-opt-list .opt-list-pop ul[data-v-341a865c]{background:#fefefe;border:1px solid #2e90f7;box-shadow:5px 5px 5px #bbb;display:block;width:90px;z-index:99999999999;position:relative}.memb-opt-list .opt-list-pop li[data-v-341a865c]{display:block;padding:6px 0 6px 12px;border-bottom:1px solid #eee;text-align:left}.memb-opt-list .opt-list-pop li[data-v-341a865c]:last-child{border:0}.memb-opt-list .opt-list-pop li[data-v-341a865c]:hover{background:#f9f9f9}.memb-opt-list .opt-list-pop li a[data-v-341a865c]{display:block}.memb-opt-list .opt-list-pop li i[data-v-341a865c]{padding-left:3px;color:#999;font-size:12px}.memb-opt-list .mname[data-v-341a865c],.memb-opt-list:hover .opt-list-pop[data-v-341a865c]{display:block}.memb-opt-list .mname i[data-v-341a865c]{font-size:13px;color:#bbb;padding-left:6px}.memb-opt-list .mname .female[data-v-341a865c]{padding-right:5px;color:#fcb2a2}.memb-opt-list .mname .male[data-v-341a865c]{padding-right:5px;color:#aaa}.fields-conf label[data-v-341a865c]{margin:5px;display:inline-block;width:110px}.memb-opt-list .mname i.icon-people1[data-v-341a865c],.member-opt-list .mname i.icon-people1[data-v-341a865c]{font-size:10px;padding-left:3px;color:#ddd}", ""]);

// exports


/***/ }),

/***/ 1565:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-style- .page-tips[data-v-35269c55]{color:orange;padding-bottom:10px}.-style- .borderspt[data-v-35269c55]{border-top:2px solid #ddd}.-style- .diff[data-v-35269c55]{color:#ff4500}.member-photo-log img[data-v-35269c55]{width:150px;display:inline-block;margin:5px;border-radius:3px}", ""]);

// exports


/***/ }),

/***/ 1566:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".flex-center[data-v-353163d2]{display:flex;align-items:center}[data-v-353163d2].ivu-form .ivu-form-item-label{width:130px!important}.warn[data-v-353163d2]{display:inline-block;height:32px;margin-left:35px}.warn i[data-v-353163d2]{color:#ffb800}.with-words .ivu-input-wrapper[data-v-353163d2]{position:relative}.with-words .words[data-v-353163d2]{position:absolute;top:0;left:380px;bottom:0;display:flex;align-items:flex-end}.b-label[data-v-353163d2] .ivu-form-item-label{font-weight:700}.input-box[data-v-353163d2]{width:140px;vertical-align:middle;cursor:pointer}.icon-svginfor[data-v-353163d2]{position:relative;top:3px;margin-right:-4px}", ""]);

// exports


/***/ }),

/***/ 1573:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".input-s[data-v-389d17a9]{width:150px;display:inline-block}.date-s[data-v-389d17a9]{width:120px;display:inline-block}.-date[data-v-389d17a9]{width:125px}.warning[data-v-389d17a9]{font-size:14px;padding:10px;font-weight:700}", ""]);

// exports


/***/ }),

/***/ 1577:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-mll- .query[data-v-393f69b2]{display:inline-block;margin-bottom:12px}.-mll- .query li.item[data-v-393f69b2]{display:inline-block;margin-right:5px}.-mll- .query .course[data-v-393f69b2]{display:inline-block;width:200px}.-mll- .query label[data-v-393f69b2]{color:#bbb;padding-right:5px;position:relative;top:2px}.-mll- .date[data-v-393f69b2]{display:inline-block;width:115px}.-mll- .query-btn[data-v-393f69b2]{height:24px;line-height:24px;margin-left:15px;padding:0;width:60px}.-mll- .subtit[data-v-393f69b2]{margin-left:10px;font-weight:400;color:orange;font-size:13px}", ""]);

// exports


/***/ }),

/***/ 1591:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".items[data-v-413ad836]{border-bottom:1px solid #ddd;line-height:40px;margin-top:-5px}.items li[data-v-413ad836]{display:inline-block;padding:0 25px;font-size:13px;cursor:pointer}.items li[data-v-413ad836]:hover{background:#f5f5f5}", ""]);

// exports


/***/ }),

/***/ 1592:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1593:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".audit[data-v-42b73798]{margin-bottom:20px}.conf li[data-v-42b73798]{display:block;padding:6px 0}.-mp-list .date[data-v-42b73798]{width:130px;display:inline-block}.-mp-list .query-cond-inline[data-v-42b73798]{margin-bottom:12px}.-mp-dlg .mp-tbl th[data-v-42b73798]{font-weight:400}.-mp-dlg .mp-tbl td[data-v-42b73798],.-mp-dlg .mp-tbl th[data-v-42b73798]{padding:5px 0}.-mp-dlg .submit[data-v-42b73798]{margin:20px 0 0;text-align:center;border-top:1px solid #eee;padding-top:20px}.-mp-dlg .submit button[data-v-42b73798]{width:100px}.-mp-dlg .points-input[data-v-42b73798]{text-align:center;font-size:14px;font-weight:700;width:100px}", ""]);

// exports


/***/ }),

/***/ 1594:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-date-year[data-v-43b43c6c]{width:70px;text-align:center}.-date-month-day[data-v-43b43c6c]{width:60px;text-align:center}.-form[data-v-43b43c6c]{width:500px;margin-bottom:25px}.-bmi0[data-v-43b43c6c]{color:#4095e5}.-bmi1[data-v-43b43c6c]{color:#1aad19}.-bmi2[data-v-43b43c6c]{color:#f5b403}.-bmi3[data-v-43b43c6c]{color:#e00}.tit[data-v-43b43c6c]{width:800px}.del-photo[data-v-43b43c6c]{margin-left:5px}.member-photo[data-v-43b43c6c]{margin-top:10px}.member-photo img[data-v-43b43c6c]{max-width:250px;padding:10px;border:1px solid #eee}.card-no[data-v-43b43c6c]{width:220px;display:inline-block}.more-card-no[data-v-43b43c6c]{margin-top:10px}.form-btn[data-v-43b43c6c]{position:relative;top:-2px;margin-left:5px}.more-photos-tit[data-v-43b43c6c]{padding:10px 0 5px}.more-photos td[data-v-43b43c6c]{padding:15px;text-align:center;border:1px solid #f2f2f2}.more-photos img[data-v-43b43c6c]{width:140px;height:140px;display:block;margin:0 auto 10px;border-radius:3px}.more-photos .del-btn[data-v-43b43c6c]{margin-left:8px}.car-nos .ivu-tag[data-v-43b43c6c]{height:26px;line-height:26px}.car-nos-sec[data-v-43b43c6c]{max-height:300px;overflow-y:auto;border:1px solid #dddee1;padding:5px;margin-bottom:5px}.warning-box[data-v-43b43c6c]{margin-top:15px;border:1px solid orange;padding:15px}.member-photo-logs img[data-v-43b43c6c]{width:150px;display:inline-block;margin:5px;border-radius:3px}", ""]);

// exports


/***/ }),

/***/ 1598:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".mti-tit[data-v-45c6191a]{background:#f4f4f4;padding:10px;margin-bottom:15px}.mti-tit .spt[data-v-45c6191a]{padding:0 10px;color:#bbb}.tblform th[data-v-45c6191a]{width:120px}.tblform .input[data-v-45c6191a]{width:400px}.query-section[data-v-45c6191a]{margin-bottom:12px}.query-section .input-box[data-v-45c6191a]{height:29px;line-height:29px;cursor:pointer}.query-section .item[data-v-45c6191a]{display:inline-block;margin-right:6px}.query-section button[data-v-45c6191a]{position:relative;top:-2px}", ""]);

// exports


/***/ }),

/***/ 1606:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".mytbl .input[data-v-4a0a9e56]{width:90px;margin-right:5px}.sum[data-v-4a0a9e56]{height:40px;line-height:40px;padding-top:5px}", ""]);

// exports


/***/ }),

/***/ 1620:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-style- .page-tips[data-v-4ef2ec7e]{color:orange;padding-bottom:10px}.-style- .borderspt[data-v-4ef2ec7e]{border-top:2px solid #ddd}.-style- .diff[data-v-4ef2ec7e]{color:#ff4500}", ""]);

// exports


/***/ }),

/***/ 1627:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-mp-list .date[data-v-53c80bdc]{width:130px;display:inline-block}.-mp-list .query-cond-inline[data-v-53c80bdc]{margin-bottom:12px}.-mp-dlg .mp-tbl th[data-v-53c80bdc]{font-weight:400}.-mp-dlg .mp-tbl td[data-v-53c80bdc],.-mp-dlg .mp-tbl th[data-v-53c80bdc]{padding:5px 0}.-mp-dlg .submit[data-v-53c80bdc]{margin:20px 0 0;text-align:center;border-top:1px solid #eee;padding-top:20px}.-mp-dlg .submit button[data-v-53c80bdc]{width:100px}.-mp-dlg .points-input[data-v-53c80bdc]{text-align:center;font-size:14px;font-weight:700;width:100px}", ""]);

// exports


/***/ }),

/***/ 1630:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-date[data-v-54d2aa6c]{width:150px}", ""]);

// exports


/***/ }),

/***/ 1634:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1636:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".date[data-v-5637ca4c]{width:140px}", ""]);

// exports


/***/ }),

/***/ 1638:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".opts[data-v-575b484e]{padding:15px;text-align:center;margin:0 auto}.opts li[data-v-575b484e]{display:inline-block;padding:0 8px;font-size:13px}.opts li[data-v-575b484e]:last-child{padding-left:20px}.opts input[data-v-575b484e]{text-align:center;border-top:none;border-left:none;outline:none;border-right:none;border-bottom-color:#999;background:#eee;font-size:13px;height:24px;border-radius:0}", ""]);

// exports


/***/ }),

/***/ 1639:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "@page{margin:0}.submit[data-v-575b484e]{margin:20px 0;position:fixed;left:50%;top:0;transform:translateX(-50%)}.submit[data-v-575b484e] .ivu-btn{width:100px}#print[data-v-575b484e]{margin:0 auto;padding:0;background:#fff;overflow:auto}#print .print-item[data-v-575b484e]{line-height:1;position:absolute}.page-tit[data-v-575b484e]{margin-bottom:5px;font-weight:600;font-size:18px}.pages-list li[data-v-575b484e]{width:100%;height:30px}.pages-list li .infor-name[data-v-575b484e]{position:absolute;top:0;font-size:13px;max-width:600px}.print-default[data-v-575b484e]{margin:150px 100px}.print-default .print-tit[data-v-575b484e]{font-size:14px;font-weight:600;margin-bottom:10px}.print-default .print-cont[data-v-575b484e]{margin-bottom:15px;overflow:hidden}.print-default .print-cont li[data-v-575b484e]{float:left;overflow:hidden;margin-bottom:5px;width:50%}.print-default .print-cont li .infor-detail[data-v-575b484e],.print-default .print-cont li .infor-name[data-v-575b484e]{float:left}.print-default .print-cont li.tip[data-v-575b484e]{width:100%}.print-default .print-cont li.tip .infor-detail[data-v-575b484e]{width:calc(100% - 200px);word-break:break-all}", ""]);

// exports


/***/ }),

/***/ 1640:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".query-section[data-v-5852f148]{margin-bottom:12px}.query-section .input-box[data-v-5852f148]{height:29px;line-height:29px;cursor:pointer}.query-section .item[data-v-5852f148]{display:inline-block;margin-right:6px}.query-section button[data-v-5852f148]{position:relative;top:-2px}", ""]);

// exports


/***/ }),

/***/ 1642:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".mti-tit[data-v-592ff393]{background:#f4f4f4;padding:10px;margin-bottom:15px}.mti-tit .spt[data-v-592ff393]{padding:0 10px;color:#bbb}.tblform th[data-v-592ff393]{width:120px}.tblform .input[data-v-592ff393]{width:400px}", ""]);

// exports


/***/ }),

/***/ 1647:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".memb-img img[data-v-5d870aaa]{display:block;margin:0 auto}.memb-img .remark[data-v-5d870aaa]{margin-top:10px;font-size:14px;text-align:center}.memb-img .opts[data-v-5d870aaa]{border-top:1px dashed #ddd;margin:10px 0;text-align:center;padding-top:20px}.memb-img .opts a[data-v-5d870aaa]{padding:6px 15px;background:#eee;margin:0 10px}", ""]);

// exports


/***/ }),

/***/ 1662:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".flex-center[data-v-6948fc78]{display:flex;align-items:center}[data-v-6948fc78].ivu-form .ivu-form-item-label{width:130px!important}.warn[data-v-6948fc78]{display:inline-block;height:32px;margin-left:35px}.warn i[data-v-6948fc78]{color:#ffb800}.with-words .ivu-input-wrapper[data-v-6948fc78]{position:relative}.with-words .words[data-v-6948fc78]{position:absolute;top:0;left:380px;bottom:0;display:flex;align-items:flex-end}.b-label[data-v-6948fc78] .ivu-form-item-label{font-weight:700}.input-box[data-v-6948fc78]{width:140px;vertical-align:middle;cursor:pointer}.icon-svginfor[data-v-6948fc78]{position:relative;top:3px;margin-right:-4px}", ""]);

// exports


/***/ }),

/***/ 1676:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-style- .page-tips[data-v-715830aa]{color:orange;padding-bottom:10px}.-style- .borderspt[data-v-715830aa]{border-top:2px solid #ddd}.-style- .diff[data-v-715830aa]{color:#ff4500}", ""]);

// exports


/***/ }),

/***/ 1678:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-date[data-v-7229c083]{width:148px}.value-cards[data-v-7229c083]{border:1px dashed #ddd;padding:8px 5px 5px 10px;background:#f5f5f5;margin-top:5px}.create-payment-type[data-v-7229c083]{background:#f4f4f4;padding:8px 0 6px;margin-bottom:15px;text-align:center}.create-payment-type label[data-v-7229c083]{width:120px}.create-payment-type .ivu-radio-wrapper-checked[data-v-7229c083]{font-weight:700}", ""]);

// exports


/***/ }),

/***/ 1680:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".align-center[data-v-72a22f86]{display:flex;align-items:center}[data-v-72a22f86].ivu-form .ivu-form-item-label{width:130px!important}.ivu-form-item[data-v-72a22f86] .ivu-form-item-content{margin-left:130px!important}.warn[data-v-72a22f86]{display:inline-block;height:32px;margin-left:35px}.warn i[data-v-72a22f86]{color:#ffb800}.with-words .ivu-input-wrapper[data-v-72a22f86]{position:relative}.with-words .words[data-v-72a22f86]{position:absolute;top:0;left:380px;bottom:0;display:flex;align-items:flex-end}.b-label[data-v-72a22f86] .ivu-form-item-label{font-weight:700}.input-box[data-v-72a22f86]{width:140px;vertical-align:middle;cursor:pointer}.success-box[data-v-72a22f86]{display:flex}.success-box .demo-box[data-v-72a22f86]{margin-left:80px;border:1px solid #e3e8ee;padding:20px 20px 0;margin-bottom:50px}.success-box .demo-box img[data-v-72a22f86]{width:400px}.success-box .demo-box div[data-v-72a22f86]{height:44px;line-height:44px;text-align:center}.guide[data-v-72a22f86]{position:fixed;left:0;top:0;right:0;bottom:0;background-color:rgba(0,0,0,.3)}.guide .guide-main[data-v-72a22f86]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.guide .guide-main .middle[data-v-72a22f86]{display:flex;align-items:center}.guide .guide-main .middle .pic[data-v-72a22f86]{width:500px;height:707px}.guide .guide-main .middle .front[data-v-72a22f86]{width:187px;height:389px}.guide .guide-main .close[data-v-72a22f86]{padding:16px}.guide .guide-main .close img[data-v-72a22f86]{display:block;margin:auto;width:32px;height:32px;cursor:pointer}", ""]);

// exports


/***/ }),

/***/ 1683:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1686:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".conf li[data-v-796ee030]{display:block;padding:6px 0}.-mp-list .date[data-v-796ee030]{width:130px;display:inline-block}.-mp-list .query-cond-inline[data-v-796ee030]{margin-bottom:12px}.-mp-dlg .mp-tbl th[data-v-796ee030]{font-weight:400}.-mp-dlg .mp-tbl td[data-v-796ee030],.-mp-dlg .mp-tbl th[data-v-796ee030]{padding:5px 0}.-mp-dlg .submit[data-v-796ee030]{margin:20px 0 0;text-align:center;border-top:1px solid #eee;padding-top:20px}.-mp-dlg .submit button[data-v-796ee030]{width:100px}.-mp-dlg .points-input[data-v-796ee030]{text-align:center;font-size:14px;font-weight:700;width:100px}", ""]);

// exports


/***/ }),

/***/ 1691:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".rates[data-v-7ad8123c]{margin-left:20px;display:inline}.rates li[data-v-7ad8123c]{display:inline;border-right:1px solid #ddd}.rates li a[data-v-7ad8123c]{padding:0 10px}.rates li[data-v-7ad8123c]:last-child{border-right:0}.input[data-v-7ad8123c]{width:100px}.confirm[data-v-7ad8123c]{width:100px;margin-top:10px}", ""]);

// exports


/***/ }),

/***/ 1694:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".input-s[data-v-7cf223cb]{width:200px}.input-b[data-v-7cf223cb]{width:400px}", ""]);

// exports


/***/ }),

/***/ 1696:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".mti-tit[data-v-7ece0f33]{background:#f4f4f4;padding:10px;margin-bottom:15px}.mti-tit .spt[data-v-7ece0f33]{padding:0 10px;color:#bbb}.tblform th[data-v-7ece0f33]{width:120px}.tblform .input[data-v-7ece0f33]{width:130px;font-size:14px;font-weight:700;text-align:left}.query-section[data-v-7ece0f33]{margin-bottom:12px}.query-section .input-box[data-v-7ece0f33]{height:29px;line-height:29px;cursor:pointer}.query-section .item[data-v-7ece0f33]{display:inline-block;margin-right:6px}.query-section button[data-v-7ece0f33]{position:relative;top:-2px}.mt-form[data-v-7ece0f33]{width:620px;margin-bottom:20px;background:#f2f2f2;padding:10px}.mt-form label[data-v-7ece0f33]{padding-right:10px}.mt-form li.item[data-v-7ece0f33]{display:inline-block;padding:4px 0;margin-right:30px}.mt-form li.item[data-v-7ece0f33]:last-child{margin-right:0;padding-right:0}", ""]);

// exports


/***/ }),

/***/ 1698:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".tit[data-v-7f96f8d2]{width:800px}.-date[data-v-7f96f8d2]{display:inline-block;width:120px}.-date-year[data-v-7f96f8d2]{width:70px;text-align:center}.-date-month-day[data-v-7f96f8d2]{width:60px;text-align:center}.-img-upload-tip[data-v-7f96f8d2]{color:#aaa;padding-bottom:5px}.big-phone[data-v-7f96f8d2]{position:absolute;margin-top:6px;margin-left:225px;padding:3px 0;z-index:10;text-align:right;width:200px;background:#fff;font-size:18px;font-weight:700;line-height:1}.memb-cnts[data-v-7f96f8d2]{width:100%}.memb-cnts li[data-v-7f96f8d2]{display:inline-block;padding:0 30px;border-left:1px solid #eee;text-align:center;font-size:12px;color:#aaa}.memb-cnts li[data-v-7f96f8d2]:first-child{border:0;padding-left:0}.memb-cnts li div[data-v-7f96f8d2]{font-size:20px;padding-top:10px;line-height:1}.warning-box[data-v-7f96f8d2]{border-color:orange;padding:10px 15px}.warning-box li[data-v-7f96f8d2]{padding:8px 0;line-height:1}.warning-box li i[data-v-7f96f8d2]{color:orange;padding-right:8px}.take-photo-type[data-v-7f96f8d2]{padding:0 0 10px;border-bottom:1px dashed #eee;margin-bottom:15px}.take-photo .mytbl button[data-v-7f96f8d2]{width:100px;margin:10px 0}.member-photo[data-v-7f96f8d2]{margin-top:10px}.member-photo img[data-v-7f96f8d2]{max-width:200px;background:#eee;padding:4px}.form-submit .send-notice[data-v-7f96f8d2]{padding-left:25px;color:#999}.card-no[data-v-7f96f8d2]{width:260px;display:inline-block}.more-card-no[data-v-7f96f8d2]{margin-top:10px}.memb-confirm[data-v-7f96f8d2]{font-size:13px}.memb-confirm td[data-v-7f96f8d2],.memb-confirm th[data-v-7f96f8d2]{padding:6px;font-size:13px}.memb-confirm th[data-v-7f96f8d2]{text-align:left;color:#888;padding-left:0}.memb-confirm .form-submit[data-v-7f96f8d2]{padding-top:25px;text-align:center;margin-bottom:-10px}.card-num-conf[data-v-7f96f8d2]{margin-bottom:-10px}.card-num-conf input[type=number][data-v-7f96f8d2]{height:25px;width:60px;font-size:13px;font-weight:700;text-align:center}.car-nos .ivu-tag[data-v-7f96f8d2]{height:26px;line-height:26px}", ""]);

// exports


/***/ }),

/***/ 1700:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".guide[data-v-80c32664]{position:fixed;left:0;top:0;right:0;bottom:0;background-color:rgba(0,0,0,.3)}.guide .guide-main[data-v-80c32664]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.guide .guide-main .page[data-v-80c32664]{text-align:right;color:#fff;font-size:18px;padding-bottom:9px;letter-spacing:1px;padding-right:185px}.guide .guide-main .middle[data-v-80c32664]{display:flex;align-items:center}.guide .guide-main .middle .left[data-v-80c32664],.guide .guide-main .middle .right[data-v-80c32664]{padding:80px}.guide .guide-main .middle .arrow[data-v-80c32664]{width:25px;height:45px;cursor:pointer}.guide .guide-main .middle .pic[data-v-80c32664]{width:500px;height:707px}.guide .guide-main .close[data-v-80c32664]{padding:16px}.guide .guide-main .close img[data-v-80c32664]{display:block;margin:auto;width:32px;height:32px;cursor:pointer}", ""]);

// exports


/***/ }),

/***/ 1702:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".mtests li[data-v-8663d0dc]{display:block;margin:20px 0}.mtests li .spt[data-v-8663d0dc]{padding:0 10px;color:#ccc}.mtests li .tit[data-v-8663d0dc]{background:#f0f0f0;padding:10px;margin-bottom:10px}.mtests li .cont[data-v-8663d0dc]{width:700px;line-height:1.8}.mtests li .cont u[data-v-8663d0dc]{font-style:italic;text-decoration:none;color:#aaa;font-size:12px}", ""]);

// exports


/***/ }),

/***/ 1711:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".query-section[data-v-961af096]{margin-bottom:12px}.query-section .input-box[data-v-961af096]{height:29px;line-height:29px;cursor:pointer}.query-section .item[data-v-961af096]{display:inline-block;margin-right:6px}.query-section button[data-v-961af096]{position:relative;top:-2px}", ""]);

// exports


/***/ }),

/***/ 1713:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1715:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-date[data-v-9ce8a818]{width:130px;display:inline-block}.query-cond-inline[data-v-9ce8a818]{padding-bottom:12px}", ""]);

// exports


/***/ }),

/***/ 1720:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".tit[data-v-a50e13d0]{width:800px}.-date[data-v-a50e13d0]{display:inline-block;width:120px}.-date-year[data-v-a50e13d0]{width:70px;text-align:center}.-date-month-day[data-v-a50e13d0]{width:60px;text-align:center}.-img-upload-tip[data-v-a50e13d0]{color:#aaa;padding-bottom:5px}.big-phone[data-v-a50e13d0]{position:absolute;margin-top:6px;margin-left:225px;padding:3px 0;z-index:10;text-align:right;width:200px;background:#fff;font-size:18px;font-weight:700;line-height:1}.memb-cnts[data-v-a50e13d0]{width:100%}.memb-cnts li[data-v-a50e13d0]{display:inline-block;padding:0 30px;border-left:1px solid #eee;text-align:center;font-size:12px;color:#aaa}.memb-cnts li[data-v-a50e13d0]:first-child{border:0;padding-left:0}.memb-cnts li div[data-v-a50e13d0]{font-size:20px;padding-top:10px;line-height:1}.warning-box[data-v-a50e13d0]{border-color:orange;padding:10px 15px}.warning-box li[data-v-a50e13d0]{padding:8px 0;line-height:1}.warning-box li i[data-v-a50e13d0]{color:orange;padding-right:8px}.take-photo-type[data-v-a50e13d0]{padding:0 0 10px;border-bottom:1px dashed #eee;margin-bottom:15px}.take-photo .mytbl button[data-v-a50e13d0]{width:100px;margin:10px 0}.member-photo[data-v-a50e13d0]{margin-top:10px}.member-photo img[data-v-a50e13d0]{max-width:200px;background:#eee;padding:4px}.form-submit .send-notice[data-v-a50e13d0]{padding-left:25px;color:#999}.card-no[data-v-a50e13d0]{width:260px;display:inline-block}.more-card-no[data-v-a50e13d0]{margin-top:10px}.memb-confirm[data-v-a50e13d0]{font-size:13px}.memb-confirm td[data-v-a50e13d0],.memb-confirm th[data-v-a50e13d0]{padding:6px;font-size:13px}.memb-confirm th[data-v-a50e13d0]{text-align:left;color:#888;padding-left:0}.memb-confirm .form-submit[data-v-a50e13d0]{padding-top:25px;text-align:center;margin-bottom:-10px}.card-num-conf[data-v-a50e13d0]{margin-bottom:-10px}.card-num-conf input[type=number][data-v-a50e13d0]{height:25px;width:60px;font-size:13px;font-weight:700;text-align:center}.car-nos .ivu-tag[data-v-a50e13d0]{height:26px;line-height:26px}.card-days1[data-v-a50e13d0]{width:70px;position:relative;top:1px}", ""]);

// exports


/***/ }),

/***/ 1722:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-style- .page-tips[data-v-a7c88af2]{color:orange;padding-bottom:10px}.-style- .borderspt[data-v-a7c88af2]{border-top:2px solid #ddd}.-style- .diff[data-v-a7c88af2]{color:#ff4500}", ""]);

// exports


/***/ }),

/***/ 1729:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".stat td[data-v-bf6711e6],.stat th[data-v-bf6711e6]{height:35px;font-size:13px;line-height:1}.stat th span[data-v-bf6711e6]{display:inline-block;height:20px;line-height:20px;width:20px;border-radius:50%;text-align:center;background:#f2f2f2;font-size:14px;font-weight:700;font-family:Times New Roman}.stat td b[data-v-bf6711e6]{font-size:18px;padding-right:5px}.diff[data-v-bf6711e6]{margin-left:10px;background:#fffcde;display:inline-block;padding:8px 15px 10px;line-height:1}.diff b[data-v-bf6711e6]{font-size:16px;padding:0 5px}", ""]);

// exports


/***/ }),

/***/ 1735:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".input-s[data-v-c845a348]{width:150px;display:inline-block}.-date[data-v-c845a348]{width:125px}.card-num-conf[data-v-c845a348]{padding-left:40px}.card-num-conf input[type=number][data-v-c845a348]{height:25px;width:60px;font-size:13px;font-weight:700;text-align:center}.value-cards[data-v-c845a348]{border:1px dashed #ddd;padding:8px 5px 5px 10px;background:#f5f5f5;margin-top:5px}.card-days1[data-v-c845a348]{width:70px;position:relative;top:2px}", ""]);

// exports


/***/ }),

/***/ 1741:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "td[data-v-d75e6be6]{vertical-align:top}.query[data-v-d75e6be6]{width:250px;background:#fff}.query .act-types[data-v-d75e6be6]{display:flex;justify-content:center;border-bottom:1px solid #e5e5e5;padding:20px 10px}.query .act-types .on[data-v-d75e6be6]{font-weight:700;color:#555;background:#eaeaea}.query ul[data-v-d75e6be6]{padding:10px 18px}.query ul li.item[data-v-d75e6be6]{display:block;padding:6px 0}.query ul li.item[data-v-d75e6be6]:last-child{padding-bottom:0}.query ul .input[data-v-d75e6be6]{width:100%}.query .radio-list[data-v-d75e6be6]{width:100%;border:1px solid #e2e2e2;padding:5px}.query .radio-list label[data-v-d75e6be6]{background:#f5f5f5;display:inline-block;width:92px;margin:4px 3px;padding:0 5px;height:32px}.query .radio-list label[data-v-d75e6be6]:hover{background:#eee}.query .query-by-times[data-v-d75e6be6]{border:1px solid #e2e2e2;padding:10px}.query .query-by-times .input-num[data-v-d75e6be6]{width:52px;text-align:center;margin:0 2px;height:28px;border:none;background:#f4f4f4}.query .query-by-times button[data-v-d75e6be6]{margin-left:8px;vertical-align:top}.query .submit[data-v-d75e6be6]{border-top:1px solid #e5e5e5;padding:0 18px;margin-bottom:15px}.query .submit button[data-v-d75e6be6]{display:block;width:100%;margin-top:12px}.ret[data-v-d75e6be6]{background:#fff;padding-top:5px}.ret .tbl-header .r[data-v-d75e6be6]{margin-top:-3px}.ret .query-count[data-v-d75e6be6]{color:#777;padding-right:15px}.ret .query-count .cnt[data-v-d75e6be6]{font-size:16px;padding:0 8px;color:#1aad19;font-weight:700}.ret .order-field[data-v-d75e6be6]{cursor:pointer}.opt-bar table[data-v-d75e6be6]{width:100%}.opt-bar li.item[data-v-d75e6be6]{display:inline-block;padding-right:8px}", ""]);

// exports


/***/ }),

/***/ 1750:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".audit[data-v-f47e960a]{margin-bottom:20px}.conf li[data-v-f47e960a]{display:block;padding:6px 0}.-mp-list .date[data-v-f47e960a]{width:130px;display:inline-block}.-mp-list .query-cond-inline[data-v-f47e960a]{margin-bottom:12px}.-mp-dlg .mp-tbl th[data-v-f47e960a]{font-weight:400}.-mp-dlg .mp-tbl td[data-v-f47e960a],.-mp-dlg .mp-tbl th[data-v-f47e960a]{padding:5px 0}.-mp-dlg .submit[data-v-f47e960a]{margin:20px 0 0;text-align:center;border-top:1px solid #eee;padding-top:20px}.-mp-dlg .submit button[data-v-f47e960a]{width:100px}.-mp-dlg .points-input[data-v-f47e960a]{text-align:center;font-size:14px;font-weight:700;width:100px}", ""]);

// exports


/***/ }),

/***/ 1752:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-one-query[data-v-f71ae132]{height:32px;line-height:32px}.-one-query .note[data-v-f71ae132]{color:#c5c5c5}.-one-query .note .iconfont[data-v-f71ae132]{position:relative;top:1px;margin-right:6px;font-size:15px}.-one-query .note[data-v-f71ae132]:hover{color:red}.-more-query[data-v-f71ae132]{margin-bottom:12px;padding-bottom:12px;border-bottom:1px dashed #e4e4e4}.-more-query li.item[data-v-f71ae132]{padding-right:0}.-staff[data-v-f71ae132]{width:120px}.-date[data-v-f71ae132]{width:200px;display:inline-block}.-query-loading[data-v-f71ae132]{width:100px;margin:-130px auto 0}.card-list[data-v-f71ae132]{width:280px;background:#fff}.card-list .card-types[data-v-f71ae132]{display:flex;justify-content:center;border-bottom:1px solid #e5e5e5;padding:20px 10px}.card-list .card-types .on[data-v-f71ae132]{font-weight:700;color:#555;background:#eaeaea}.card-list .card-types .ivu-btn[data-v-f71ae132]{padding:0 13px}.card-list .on[data-v-f71ae132]{color:#ff4500}.card-list ul[data-v-f71ae132]{padding:0 12px;max-height:1200px;overflow-y:auto}.card-list ul li[data-v-f71ae132]{display:block;border-bottom:1px solid #f0f0f0;padding:0 12px;cursor:pointer;line-height:38px;height:38px;width:100%;overflow:hidden}.card-list ul li[data-v-f71ae132]:hover{background:#fbfbfb}.view-type[data-v-f71ae132]{border-radius:12px;background:#fff;position:absolute;display:inline-block}.view-type i[data-v-f71ae132]{font-size:13px;color:#aaa}.view-type i[data-v-f71ae132]:hover{color:red}.view-type-1[data-v-f71ae132]{margin-left:-8px;margin-top:25px}.view-type-2[data-v-f71ae132]{margin-left:-20px;margin-top:8px}.card-cond .on[data-v-f71ae132]{font-weight:700;color:#555;background:#eaeaea}.balance-input[data-v-f71ae132]{width:70px;text-align:center}.submit button[data-v-f71ae132]{position:relative;top:-3px}.balance-days-tips[data-v-f71ae132]{margin-left:30px;color:#aaa}.query-cnt[data-v-f71ae132]{color:#666}.query-cnt .cnt[data-v-f71ae132]{font-size:16px;color:#666;padding:0 5px;font-weight:700}.query-cnt .cnt-1[data-v-f71ae132]{color:#daa520}.query-cnt .cnt-2[data-v-f71ae132]{color:#ff4500}.query-cnt .cnt-3[data-v-f71ae132]{color:green}.query-cnt .cnt-4[data-v-f71ae132]{color:darkred}.format-phone[data-v-f71ae132]{position:fixed;left:50%;font-size:30px;line-height:1;font-weight:700;top:2px;text-shadow:4px 4px 4px #bbb}.opt-bar table[data-v-f71ae132]{width:100%}.opt-bar li.item[data-v-f71ae132]{display:inline-block;padding-right:8px}", ""]);

// exports


/***/ }),

/***/ 1753:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1758:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".item-list[data-v-ff40c016]{padding:8px}.item-list .li[data-v-ff40c016]{background:#eee;display:inline-block;width:450px;margin:8px;text-align:center}.item-list .-hd[data-v-ff40c016]{font-size:14px;padding:15px 0;background:#ddd;line-height:1}.item-list .img[data-v-ff40c016]{padding:10px}.item-list img[data-v-ff40c016]{width:400px;height:400px;border-radius:3px}.item-list .opts[data-v-ff40c016]{padding:10px 0;width:400px;margin:auto;text-align:left}.item-list .opts a[data-v-ff40c016]{display:inline-block;width:70px;height:25px;line-height:25px;text-align:center;background:#2d8cf0;color:#fff;font-size:10px;border-radius:1px;margin-right:10px}.item-list .remark[data-v-ff40c016]{width:400px;margin:auto}.item-list .remark[data-v-ff40c016] .ivu-input[disabled]{background-color:#fff}.item-list .s-tags[data-v-ff40c016]{width:400px;margin:10px auto -4px;text-align:left}.item-list .s-tags span[data-v-ff40c016]{display:inline-block;min-width:75px;height:24px;line-height:24px;text-align:center;border-radius:2px;margin-bottom:10px;margin-right:10px;background:rgba(45,140,240,.1);color:#2d8cf0}.tag-area[data-v-ff40c016]{padding:0 8px;margin-bottom:2px;margin-top:11px}.tag-area span[data-v-ff40c016]{display:inline-block;min-width:75px;height:30px;line-height:30px;text-align:center;border-radius:2px;margin-bottom:10px;margin-right:10px;cursor:pointer}.tag-area .norm-tag[data-v-ff40c016]{background-color:#efefef}.tag-area .active[data-v-ff40c016]{background:rgba(45,140,240,.1);color:#2d8cf0}", ""]);

// exports


/***/ }),

/***/ 1764:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1486);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("0f8c6648", content, true, {});

/***/ }),

/***/ 1770:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1492);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("f6b686b2", content, true, {});

/***/ }),

/***/ 1771:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1493);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("0d14c11e", content, true, {});

/***/ }),

/***/ 1772:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1494);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("546340d0", content, true, {});

/***/ }),

/***/ 1775:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1497);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("b1fac88c", content, true, {});

/***/ }),

/***/ 1782:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1504);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("08231c7d", content, true, {});

/***/ }),

/***/ 1783:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1505);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("99b615f0", content, true, {});

/***/ }),

/***/ 1793:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1515);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("78761c9a", content, true, {});

/***/ }),

/***/ 1795:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1517);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("6a845219", content, true, {});

/***/ }),

/***/ 1801:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1523);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("2395a45a", content, true, {});

/***/ }),

/***/ 1803:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1525);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("8cb39fb8", content, true, {});

/***/ }),

/***/ 1805:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1527);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("66e0263b", content, true, {});

/***/ }),

/***/ 1822:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1544);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("38dcc179", content, true, {});

/***/ }),

/***/ 1825:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1547);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("14a6ba52", content, true, {});

/***/ }),

/***/ 1826:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1548);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("b0915862", content, true, {});

/***/ }),

/***/ 1828:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1550);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("72220583", content, true, {});

/***/ }),

/***/ 1833:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1555);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("6fe5d4b8", content, true, {});

/***/ }),

/***/ 1841:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1563);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("42221d73", content, true, {});

/***/ }),

/***/ 1843:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1565);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("b12c8b1c", content, true, {});

/***/ }),

/***/ 1844:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1566);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("069d39de", content, true, {});

/***/ }),

/***/ 1851:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1573);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("29621e70", content, true, {});

/***/ }),

/***/ 1855:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1577);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("7d5e32cc", content, true, {});

/***/ }),

/***/ 1869:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1591);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("24a82cc2", content, true, {});

/***/ }),

/***/ 1870:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1592);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("6bb2a58f", content, true, {});

/***/ }),

/***/ 1871:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1593);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("9c236840", content, true, {});

/***/ }),

/***/ 1872:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1594);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("e7e45230", content, true, {});

/***/ }),

/***/ 1876:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1598);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("19c53360", content, true, {});

/***/ }),

/***/ 1884:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1606);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("61784152", content, true, {});

/***/ }),

/***/ 1898:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1620);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("e98a50ea", content, true, {});

/***/ }),

/***/ 1905:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1627);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("040bdb4c", content, true, {});

/***/ }),

/***/ 1908:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1630);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("23c93bb2", content, true, {});

/***/ }),

/***/ 1912:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1634);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("635d9a78", content, true, {});

/***/ }),

/***/ 1914:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1636);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("61971924", content, true, {});

/***/ }),

/***/ 1916:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1638);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("1b576ddc", content, true, {});

/***/ }),

/***/ 1917:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1639);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("0b559ab1", content, true, {});

/***/ }),

/***/ 1918:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1640);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("371e2fe1", content, true, {});

/***/ }),

/***/ 1920:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1642);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("4f630e42", content, true, {});

/***/ }),

/***/ 1925:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1647);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("3fa95192", content, true, {});

/***/ }),

/***/ 1940:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1662);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("5774681b", content, true, {});

/***/ }),

/***/ 1954:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1676);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("63d1f598", content, true, {});

/***/ }),

/***/ 1956:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1678);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("2159a068", content, true, {});

/***/ }),

/***/ 1958:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1680);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("27d45c50", content, true, {});

/***/ }),

/***/ 1961:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1683);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("2c34a39c", content, true, {});

/***/ }),

/***/ 1964:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1686);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("31d96f82", content, true, {});

/***/ }),

/***/ 1969:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1691);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("05efa707", content, true, {});

/***/ }),

/***/ 1972:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1694);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("f9179644", content, true, {});

/***/ }),

/***/ 1974:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1696);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("536d3a10", content, true, {});

/***/ }),

/***/ 1976:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1698);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("12c646ea", content, true, {});

/***/ }),

/***/ 1978:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1700);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("20fb2b6c", content, true, {});

/***/ }),

/***/ 1980:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1702);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("0be4ecf6", content, true, {});

/***/ }),

/***/ 1989:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1711);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("b093527c", content, true, {});

/***/ }),

/***/ 1991:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1713);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("4b83d622", content, true, {});

/***/ }),

/***/ 1993:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1715);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("182ca0fb", content, true, {});

/***/ }),

/***/ 1998:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1720);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("77664b7f", content, true, {});

/***/ }),

/***/ 2000:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1722);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("13323246", content, true, {});

/***/ }),

/***/ 2007:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1729);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("5bb6cb40", content, true, {});

/***/ }),

/***/ 2013:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1735);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("31e7a14a", content, true, {});

/***/ }),

/***/ 2019:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1741);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("53ac65d6", content, true, {});

/***/ }),

/***/ 2028:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1750);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("09b964ec", content, true, {});

/***/ }),

/***/ 2030:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1752);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("c7d4682c", content, true, {});

/***/ }),

/***/ 2031:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1753);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("1fb45da3", content, true, {});

/***/ }),

/***/ 2036:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1758);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("af50b1f0", content, true, {});

/***/ }),

/***/ 2049:
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABbCAYAAAA82qZkAAAECUlEQVR4Xt3bW4sVRxQF4LXUHxJQDIYQEVFENEiQEGK8R7zgH/MpJCZeyN3RYZineRJRRBSJKIIQJPkL4iUrrEMdOXNmzpnefatqN8zL0A31nb13dXd1NTGwkPQRgIMArpJ8Oz18DsmTMBcBbAHwAsBP06jBgKYw4zwY9SPJd+N/DAIkaSuA8ykz00X1PJXfCFU8KGEuANg8pz3eo4oGVcSMnUZdKRYk6eNUZpF5a7lIkKTtAM4B2BTQPANwrTiQpB0AzgQxTwD8TPK/okBNMUXNcm1gigFJ+hTAqbplNtln2UsuYU4Hr4mPAfzmninqXk7STgAnamB+Jan1ZsBsGeoCk62HusJkAUnaDeCbYJk9BPDHrDLLNikkzNHA1d+HVsb0miFJewF83SWmN1BNzH0AN6uUWa8lVxdDciGYzdHhnU7bkvYD+DI4sPt1MZ2CcmA6A0n6HMAXwczcJbkYPGfN4a2XnCRDDIpEK5jWMyTJ/eK+iURrmFZBJWBaA0nyBdMXzkjcJrkcOaHKsY17qCRM4wyVhmkEkuSbTN85R2KF5ErkhOix4ZKT5HN8+x/FLJO8HR1g9PgQKGH8yOxH50j0ggmV3BAwlUFDwVQCJYyXmbx2FolFkncjJ7Rx7NwekuTFci8ADgIzN0MJ40VzL55HIktmxgNcN0NDxayboQaYBZJeB8gaqzKUMH7R5BdOkSgCsypDkvxS9mwQ4/Vlr8xkz8yqHkoYv2n26/OqYYxXM70QWEzwQ8KMSk6Syyw6Nf9J8kExaZkYiEHb0uvzeRsbJsfuUrtRLMgjrYn6neSj0rL0ftr+UFDT1yGXn2e7qhseXH5FZWrNrU/akuKJYpCoWfdy3mczSNTMx4eamfL2lL9yThQbPQ9FM+V9A7/kRG24SCLpEwDfBnoqK2pDULpODQZVCdQAdZ3k0z57qjJoKKgQaALltYaq57qnestU1UGtqhpJnwE4WSKqFihlqkhUbVAD1BWS3pLcSTQC1UR5B7w/xOgE1RiUULsAHAv0VGeoVkAloVoDlYJqFTSBOh7oeJefP5nxpzONo3VQQu0BcCQwOn+p5Y+bGqM6AeVEdQbKheoUlAPVOSih9gH4KthTP5D8O3DO6NBeQDVRbwBcjqJ6A/WF6hXUB6p3UEIdAHA40B+Vyy8LqAHqe5Iv5/0Q2UA1Ua8BePabicoKSqhDAPxXNeaisoMSyv3kvqoaM1FFgNpEFQNqgPqO5L/j1BYFSijfIvlWqWq8AuDZb4QqDtQUVSQooaK79J2pS8WCamTK+yZuFA1KKD/K+5F+XtwjeavYHpoeuaR5qDskl4qd5WalYQZqzcb24ktuEjiFWiJ5Z/oHGBQo9ZTX/P4heW+9bA4OtNHV9n8hW/qsnz/GNQAAAABJRU5ErkJggg=="

/***/ }),

/***/ 2050:
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABbCAYAAAA82qZkAAAEKUlEQVR4Xt3bWatcRRQF4LUcf5A/QBGDSkicNTghGiOKgQQTEBFUfPDBgAGDQaMiTjiPCD75lBdB/C0KIiLRJetSHfr27e5b+0y1j/vxUod7vrP3PkNVNTGzkHQDgOcAHCb51+rpc06egvkRwLUAfgJwcBU1G9AKZpEHo24l+ffiD7MASToA4PuSmdWicsZuW6DSgwrmBwBXb2mPy6jUoErMwmnUobQgSYcBfBu8aZ1KCZJ0EMA3AK4KgFyWt6cDSboDwGdBzNcA7iV5KRWoYD4HcGUgM8bcQ/IfH5MGNAQmDUjSEQAf9slMmgdrwXwcrJZPADy4KLPl8mxacpIeBvBeB8z9JLWuz5qBxsA066GxME1Akh4H8GawzN4H8MimMmvWQwXzVuAZ46HVmEkzJOlpAK+PiZkM1BFzAcATNWU2acl1xZA8FszmzvBRb9uSTgF4NXhiF7piRgW1wIwGkvQ8gJeDmTlH8njwmD3DBy85SYYYFIlBMINnSJL7xX0TicEwg4IyYAYDSfID0w/OSJwheTpyQM3Y3j2UCdM7Q9kwvUCS/JLpN+dIvETyxcgB0bHhkpPkY/z6H8WcJnkmeoLR8SFQwfiT2Z/OkZgEEyq5OWCqQXPBVIEKxtNMnjuLxHGS5yIHDDF2aw9J8pSsJwBngdmaoYLxPLMnzyPRJDOLE1ybobli1mZIktdkvJwRzcwxkp4HaBq7MlQwXmjyglMkUmB2ZUiSF2W91hLBeH7ZMzPNM7OrhwrGS3pePq8NYzyb6YnANMH/E2an5CR91eEG8BjJd9OkZelEDLqlLJ9fU3mCLrWjaUFGdEQ9RPKjyosw2bDLt+0OqH/9GZENtfoccvl5k1Dthod0qD2vPmVLypdzRW16l/M+m1miNn4+dMzUfSS/mOwOsOYf7fc95Ez5OVW7VcXbU460RO07SSLpbgDe6DAL1L6g8pyaDaoK1AN1J8nvpuypalBH1CUAd02JCoGWUJ8CuKLyyk+KCoMK6oGyISIdqhMoM6ozqAfqEElvSR4leoGWUB8E9jx4W793wo+C6g0qqEcBvJ0BNQgoE2owUBbUoKAl1DuBjndP+Scz/ulM7xgcVFBPAngjcHb+pZZ/3NQbNQqoJWo0UCvUqKAWqNFBBXUCwGvBnjpA8mLgmJ2hk4A6ov4EcHMUNRloKtSkoClQk4MK6lkArwT6o7r8moB6oG4k+fO2C9EM1BH1B4CbtqGaggrqBQCRLWdbUc1BBeV+cl/VxkZUCtCQqDSgHqjrSf66SG0qUEH5FcmvSrXxOwDf/XZQ6UB9USlBBeX9qc/UpgnAbwCuSwvqkCnvmziaGlRQ/pT3J/22OE/yqbQ9tHrmkrahzpI8mfYutykNG1B7NranL7ll4ArqJMmzqxdgVqDSU57z+4Xk+XXZnB1ov9v4fy+H+vpw5uv3AAAAAElFTkSuQmCC"

/***/ }),

/***/ 2051:
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABbCAYAAAA82qZkAAAE30lEQVR4XtXb36sVVRQH8O/SMsuIjLAijSIpDMEHwQdfopcexDAs6bdZ9mf5I39lIcaFoj9CEBSCMCrDFFOkItRKzSXfwzrXc86dOXuvvefHnnn0rrlnPnutvWaus46g4lDVZQB2ATgjIueqYkr9N5m9MMO8A+BlAHcBfCEiP5UKmL2uKdAMZhz7P4DjQ0Etgmowg0ONQAHMoFBimLcBvBKxT1h+R0XkfERsLyEEbQGwzfnph0XkF+c5nYR7MzS+qDsAjpWYKc8eml3hIlGxXa6uXIhi+V3opJ4iPiTmPhT6NbcBHCkFFXpSCGHGPy8GtQTkuC/NYotAVYImUO8DWB+bJgBEHRKRi45zGg2tBRlqOYD3nKhb1ih6Qc0FDREVBA0NFQWaQH0I4AVH0bP8DorIZcc5WaHRIEM9AOADJ+pfaxSdoFygIaDcoNJRSaCSUcmgCdRuAM85djL3FBvFFcc50aFZIEM9COAjJ+ofAJ+3gcoGlYZqBFQSqjFQJmq/iFyL3ihzAhsFTaA+BrDWcYE3rFFkoxoHGWoFAHa/zlGtgPpEtQbKRHFP/eEo2cXQVkEZqOsADqSgWgdNoD4B8Ixj1ZNQnYAMtRIAu1+rqM5Amah9IvJXTHY7BWWg/rY9FUR1Dmob1QtoAsVG8VRMKVlMMFO9gQz1MIA9CSjuKeKWHL2CMlDcS7xPLUH1DmoaVQSoSVQxoAnUXgBPOhoFy497ik8WKApkqFUA2P08KD7Ick9dLw6UjXKkttNQVX0VwGvOD10oNUMpsxPficip4kCJgyDfiMjp4pqCqm4F8LqzzBYxRYESMArg23FmxotQRMmpKjc/m0DsQcyCiJydPaF3kKqyxFhqsUctpveSS8ScFJHv6/S9ZUhVOdLG9hx7MDNzMb1lKAHDYd6v52Wmt6agqm8A2BybFptMPiEiP8Sc01nJqSo/a3ubmM5KzjBvAtgUs8oWwzKLzkxnJZeB+VJEfnQswCi01ZIzzFsANjoujJPHX6VgWgXZ+PTOBAy/mvCzYwGmQlvJ0MSXQTY4LoyZycK0kqFEDIdx+f2K5My00hQM8y6AlxyZIYbT+r86zqkNbazkVJXTj/yajgfDkU4OtDeCaazkDMP51Bcdq0wMZ75/c5wTDM3OkKpyho5zqb1jsjNkGE45Ph9cuvsBnHLk4HqjmcluCqrKoSVON3oxHIO+5FgAV2hSyRmGgxXrHJ/2n+2Z1jBJJaeqnBLhOJkXwxm53x0LkBTqypBh+Cb7WcenMTOdYFwZUtWHbH7Hg+GgH/dM65lxNQXD8I3A047MEMPMXHWckx0aLDlV5XtQllnxmGDJGYaZWeNYups2T9ppZoIll4Hhi6fsQT7HAob/HlLVR+x1uyczfCXISd/eMJUlZ5hPna8EieGM25+pK9vUeVNNQVUftcx43m8Wg5nKkGH4Bnq1Y7U4+MDW3HtmppqCqj5mb569GDaA4ISUY4GyQ/nVaWK4Zx53/DYi2ACKwoxKTlU5POT5E4DlxTKrHB5yLEoroQQxM8wQMxU6aoeGQid29fNRlzPUZwDY5eqOojOz5ElBVZ+wTFWhiOF9ZjRPU/Ixex8iiq2b8zbjg3d+NoDiMVP3ofHVqypvqnwgJYoYtmY+cA7iqPzzwVA77L9nB4OpzNAg0jDnIu8BQM4TsJ1DSTYAAAAASUVORK5CYII="

/***/ }),

/***/ 2052:
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAABbCAYAAAA82qZkAAAE9ElEQVR4XtXcSagdRRQG4P84RRFFMYqIIOgigggiiCbGKZqoURwgAUVQXMSN2Zmtgm51p25EhCASguKEOBGRGCdEEEEEg2NIxDiiBOdw5H+c++x30/d2naqurupeJqde91fnVHXfd08/QcuhqkcA2A5gq4i82BZT67/J9IWp6uEAngVwA4B/AVwvIq/VCpi+riWgKcwk9m/ixoJaBM3AjA61AFLVwwA8Z2U2q7pGkSkxDDeADQHrhKhrROTNgNgiIQRtBvCw8+xrRWSHc8wg4d4MTS7qTwDra8yUZw1Nz3CVqNBdbla5EHWViLwzSD0FnCTkPtT1Y34HsK4WVNeTQhdm8v/VoA4B2X2p+fgzKlQrqIF6ifedUBEAZuoKEfnAMabX0JkgQx0JgE/bHtQBAFeWQs0FjRHVCRobKgjUQL0KYI2j6Fl+l4rIR44xSaHBIEMtA/CyE/WrbRSDoFygMaDcoNpRUaCaUdGgBoqfi1Y7VjLX1GoR+cQxJjg0CWSoYwC87kT9DOCyHKhkUG2oXkA1oXoDJaJWichnwQtlTmCvoAaKvxW60HGBPwC4pA9U7yBDHQvgjRKoLKCSqGygRNRKEfnCUbKLoVlBCajv7ObrRmUHNVBvATjfMetRqEFAhjoeAHe/rKjBQImoi0Tkm5DsDgpKQO21NdWJGhyUG1UE1EC9DeDckFKymM5MFQMZ6kQAOyNQXFP72iaiKCgB9bWtqUNQxUF9o6oA9YmqBtRAvQvgbMdGwfLjmtrPMVWBDLUcwC4n6nNbU/urAyWjHKkdNFRV7wXwgPOkd9aaobsBPOLEbBaRR6sDqWoMZpOIPF7dpqCq9wB4yJmZRUxVoAiMArhrkpnJJFRRcqp6P4D7HJkh5g4ReXJ6THGQqj4IYEsfmOIlF4m5VUTYDtd6FMuQqrKlja1toQfLbC6mWIYiMAcB3DYvM8U2BVV9DMCm0LQAIGaDiDwfMmbQksuNGbTkVHUrgNtDZtli2DO+MTQzg5ZcJOZGEWFPhOvIXnKqug3ALY6r+gfATTGYrCVn7dNPRWDYnBvdcZwlQ4Z5BsDNzswkYbJkyF45eNqJ+cteGonOTJZNwTAvALjOkRlirhYR/sIx+eit5OydI978PJg/AFzbF6a3kjMMt9i1jikmhq2c7znGdIYmZ0hVjwLAZtvimOQMGYZvf13eOXX/B7DLkY3rvWYmeVNQ1aMBvBKBYRv0h44JcIVGlZxh2FixynG232zNZMNElZyqskuE7WReDJtpP3ZMQFSoK0OG4TfZFzjOxswMgnFlSFWPs/4dD+YX6wjOnhnXpmAYNk6c58gMMWzF/NQxJjm0s+RU9QRrmKge01lyhuE31ec4pu5H6ycdNDOdJZeAuVhEdjsmoNfQ1pJT1ZPs63ZPZviVIHezYpjWkjMMXxJc4Zg6Ytjj9pVjTJbQJRlS1VMAcDcbJWZJhgzDB8YzHVPHxgc2vxbPzJJNQVVPs2+evRi2J+9xTED2UL46TQx7A85wnI1tXtwAqsIslJyq8tnM83mG5cUya20eckxKllCCmBnePE8POAMzwzL7NiC2SMjCLmeo9wGcOucqvrTMVIuZ3uXOsky1oYjhfeb7ItPuOOn0fYgobt0nN34GX7LgBlA9ZtaTAm+qbB4iihg+m/3kmKSiobOe5dje9YT9+Rs+PY/m6Pw8NBqJXeh/7CcT67BEoHoAAAAASUVORK5CYII="

/***/ }),

/***/ 2064:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1884)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1288),
  /* template */
  __webpack_require__(2230),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-4a0a9e56",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2065:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1825)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1289),
  /* template */
  __webpack_require__(2171),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-296b96c2",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2066:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1972)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1290),
  /* template */
  __webpack_require__(2318),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-7cf223cb",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2067:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1851)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1291),
  /* template */
  __webpack_require__(2197),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-389d17a9",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2068:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1908)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1292),
  /* template */
  __webpack_require__(2255),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-54d2aa6c",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2069:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2007)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1293),
  /* template */
  __webpack_require__(2355),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-bf6711e6",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2073:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1980)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1299),
  /* template */
  __webpack_require__(2327),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-8663d0dc",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2074:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1914)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1300),
  /* template */
  __webpack_require__(2260),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-5637ca4c",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2106:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "calc"
  }, [_c('ul', [_c('li', [_c('input-num', {
    staticClass: "input",
    model: {
      value: (_vm.add[0]),
      callback: function($$v) {
        _vm.$set(_vm.add, 0, _vm._n($$v))
      },
      expression: "add[0]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "opt"
  }, [_vm._v("＋")]), _vm._v(" "), _c('input-num', {
    staticClass: "input",
    model: {
      value: (_vm.add[1]),
      callback: function($$v) {
        _vm.$set(_vm.add, 1, _vm._n($$v))
      },
      expression: "add[1]"
    }
  }), _vm._v(" "), _c('i-button', {
    staticClass: "btn",
    on: {
      "click": _vm.doAdd
    }
  }, [_vm._v("=")]), _vm._v(" "), _c('span', {
    staticClass: "ret",
    domProps: {
      "innerHTML": _vm._s(_vm.add[2])
    }
  })], 1), _vm._v(" "), _c('li', [_c('input-num', {
    staticClass: "input",
    model: {
      value: (_vm.subtract[0]),
      callback: function($$v) {
        _vm.$set(_vm.subtract, 0, _vm._n($$v))
      },
      expression: "subtract[0]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "opt"
  }, [_vm._v("－")]), _vm._v(" "), _c('input-num', {
    staticClass: "input",
    model: {
      value: (_vm.subtract[1]),
      callback: function($$v) {
        _vm.$set(_vm.subtract, 1, _vm._n($$v))
      },
      expression: "subtract[1]"
    }
  }), _vm._v(" "), _c('i-button', {
    staticClass: "btn",
    on: {
      "click": _vm.doSubtract
    }
  }, [_vm._v("=")]), _vm._v(" "), _c('span', {
    staticClass: "ret",
    domProps: {
      "innerHTML": _vm._s(_vm.subtract[2])
    }
  })], 1), _vm._v(" "), _c('li', [_c('input-num', {
    staticClass: "input",
    model: {
      value: (_vm.mult[0]),
      callback: function($$v) {
        _vm.$set(_vm.mult, 0, _vm._n($$v))
      },
      expression: "mult[0]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "opt"
  }, [_vm._v("×")]), _vm._v(" "), _c('input-num', {
    staticClass: "input",
    model: {
      value: (_vm.mult[1]),
      callback: function($$v) {
        _vm.$set(_vm.mult, 1, _vm._n($$v))
      },
      expression: "mult[1]"
    }
  }), _vm._v(" "), _c('i-button', {
    staticClass: "btn",
    on: {
      "click": _vm.doMult
    }
  }, [_vm._v("=")]), _vm._v(" "), _c('span', {
    staticClass: "ret",
    domProps: {
      "innerHTML": _vm._s(_vm.mult[2])
    }
  })], 1), _vm._v(" "), _c('li', [_c('input-num', {
    staticClass: "input",
    model: {
      value: (_vm.div[0]),
      callback: function($$v) {
        _vm.$set(_vm.div, 0, _vm._n($$v))
      },
      expression: "div[0]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "opt"
  }, [_vm._v("÷")]), _vm._v(" "), _c('input-num', {
    staticClass: "input",
    model: {
      value: (_vm.div[1]),
      callback: function($$v) {
        _vm.$set(_vm.div, 1, _vm._n($$v))
      },
      expression: "div[1]"
    }
  }), _vm._v(" "), _c('i-button', {
    staticClass: "btn",
    on: {
      "click": _vm.doDiv
    }
  }, [_vm._v("=")]), _vm._v(" "), _c('span', {
    staticClass: "ret",
    domProps: {
      "innerHTML": _vm._s(_vm.div[2])
    }
  })], 1)])])
},staticRenderFns: []}

/***/ }),

/***/ 2112:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('page-header', {
    attrs: {
      "title": _vm.memberName,
      "menu-list": _vm.menuList
    }
  }, [_c('div', {
    staticClass: "reload"
  }, [_c('a', {
    on: {
      "click": _vm.loadMemberCards
    }
  }, [_c('icon', {
    attrs: {
      "type": "refresh",
      "size": "14"
    }
  }), _vm._v(" 刷新\n          ")], 1)])]), _vm._v(" "), _c('ul', {
    staticClass: "-mclist"
  }, _vm._l((_vm.memberCardList), function(c, idx) {
    return ((!_vm.hidePausedCard || (_vm.hidePausedCard && c.status !== 1)) && (!_vm.hideInvalidCard || (_vm.hideInvalidCard && c.isValid))) ? _c('li', {
      key: c.mcId,
      staticClass: "item"
    }, [_c('div', {
      staticClass: "-hd"
    }, [_c('div', {
      staticClass: "l"
    }, [(c.cardType === 1) ? _c('span', {
      staticClass: "card-type card-type-1"
    }, [_vm._v("期限")]) : (c.cardType === 2) ? _c('span', {
      staticClass: "card-type card-type-2"
    }, [_vm._v("次数")]) : (c.cardType === 3) ? _c('span', {
      staticClass: "card-type card-type-3"
    }, [_vm._v("储值")]) : (c.cardType === 4) ? _c('span', {
      staticClass: "card-type card-type-4"
    }, [_vm._v("计时")]) : _vm._e(), _vm._v(" "), (c.isCrossCard) ? _c('span', {
      staticClass: "card-type cross-card"
    }, [_vm._v("通卡")]) : _vm._e(), _vm._v(" "), _c('div', {
      staticClass: "-card-name",
      attrs: {
        "title": c.cardName
      }
    }, [_vm._v("\n                " + _vm._s(c.cardName) + "\n              ")])]), _vm._v(" "), _c('div', {
      staticClass: "r"
    }, [_c('Dropdown', {
      attrs: {
        "placement": "bottom-end"
      }
    }, [_c('span', {
      staticClass: "more"
    }, [_vm._v("\n                  更多"), _c('i', {
      staticClass: "iconfont icon-arrow-down-1"
    })]), _vm._v(" "), _c('DropdownMenu', {
      attrs: {
        "slot": "list"
      },
      slot: "list"
    }, [(_vm.memberCreatePermit) ? _c('DropdownItem', [_c('div', {
      on: {
        "click": function($event) {
          return _vm.openCardBaseDlg(c)
        }
      }
    }, [_c('i', {
      staticClass: "iconfont icon-edit"
    }), _vm._v(" 会员卡基础信息编辑")])]) : _vm._e(), _vm._v(" "), (_vm.courseEditPermit && (c.cardClass == 2 || (c.cardType == 2 || c.cardType === 3))) ? _c('DropdownItem', [_c('div', {
      on: {
        "click": function($event) {
          return _vm.linkToPcScheduleCreation(c)
        }
      }
    }, [_c('i', {
      staticClass: "iconfont icon-kebiao"
    }), _vm._v(" 排私教课 →")])]) : _vm._e(), _vm._v(" "), (_vm.memberCreatePermit) ? _c('DropdownItem', [_c('div', {
      on: {
        "click": function($event) {
          return _vm.deleteCard(c)
        }
      }
    }, [_c('i', {
      staticClass: "iconfont icon-delete"
    }), _vm._v(" 删除会员卡")])]) : _vm._e(), _vm._v(" "), _c('DropdownItem', [_c('div', {
      on: {
        "click": function($event) {
          return _vm.openCardInfoDlg(c.cardId)
        }
      }
    }, [_c('i', {
      staticClass: "iconfont icon-svginfor"
    }), _vm._v(" 查看会员卡种信息")])])], 1)], 1)], 1)]), _vm._v(" "), _c('div', {
      staticClass: "-opt"
    }, [_c('button-group', [_c('i-button', {
      attrs: {
        "type": "primary",
        "disabled": !_vm.memberCardPaymentPermit && !_vm.memberCardDraftCreatePermit
      },
      on: {
        "click": function($event) {
          return _vm.createCardPayment(c)
        }
      }
    }, [_vm._v("续卡 / 退卡")]), _vm._v(" "), _c('i-button', {
      attrs: {
        "disabled": !_vm.memberCardVacationPermit,
        "title": "请假或停卡"
      },
      on: {
        "click": function($event) {
          return _vm.createCardVacation(c)
        }
      }
    }, [_vm._v("请假")]), _vm._v(" "), _c('i-button', {
      attrs: {
        "disabled": !_vm.memberCardTransferPermit
      },
      on: {
        "click": function($event) {
          return _vm.transferCard(c)
        }
      }
    }, [_vm._v("转卡")]), _vm._v(" "), (c.status === 0) ? _c('i-button', {
      attrs: {
        "disabled": !_vm.memberCardPausePermit
      },
      on: {
        "click": function($event) {
          return _vm.stopMemberCard(c.mcId, c.cardName)
        }
      }
    }, [_vm._v("停用")]) : _vm._e(), _vm._v(" "), (c.status === 1 || c.status === 2) ? _c('i-button', {
      attrs: {
        "disabled": !_vm.memberCardPausePermit
      },
      on: {
        "click": function($event) {
          return _vm.restoreMemberCard(c.mcId)
        }
      }
    }, [_vm._v("恢复")]) : _vm._e(), _vm._v(" "), _c('i-button', {
      attrs: {
        "disabled": !_vm.memberCardChangePermit
      },
      on: {
        "click": function($event) {
          return _vm.handleUpdateCardPayment(c.mcId)
        }
      }
    }, [_vm._v("充值修改")])], 1)], 1), _vm._v(" "), _c('div', {
      staticClass: "-bd"
    }, [_c('table', [(c.cardNo || c.cardOutsideNo) ? _c('tr', [_c('th', [_vm._v("卡号")]), _vm._v(" "), _c('td', [(c.cardNo) ? [_vm._v(_vm._s(c.cardNo) + "（内）")] : _vm._e(), _vm._v(" "), (c.cardNo && c.cardOutsideNo) ? _c('span', {
      staticClass: "spt"
    }, [_vm._v("|")]) : _vm._e(), _vm._v(" "), (c.cardOutsideNo) ? [_vm._v(_vm._s(c.cardOutsideNo) + "（外）")] : _vm._e()], 2)]) : _vm._e(), _vm._v(" "), (c.status !== 0) ? _c('tr', [_c('th', [_vm._v("状态")]), _vm._v(" "), _c('td', [_c('b', {
      staticClass: "red"
    }, [_vm._v(_vm._s(_vm.g.Dict.MemberCardStatus[c.status]))])])]) : _vm._e(), _vm._v(" "), (c.cardType === 3) ? _c('tr', [_c('th', [_vm._v("剩余金额")]), _vm._v(" "), _c('td', [_c('div', {
      staticClass: "l"
    }, [_c('b', {
      staticClass: "big pointer",
      on: {
        "dblclick": function($event) {
          return _vm.openMcValueDetailDlg(c)
        }
      }
    }, [_vm._v(_vm._s(c.currentAmount))]), _vm._v(" 元\n                    "), (c.currentAmount <= 0) ? _c('span', {
      staticClass: "red"
    }, [_vm._v("（余额不足）")]) : _vm._e()]), _vm._v(" "), _c('div', {
      staticClass: "r"
    }, [_c('a', {
      staticClass: "mc-item-opt",
      on: {
        "click": function($event) {
          return _vm.queryMemberCardConsumeRecords(c)
        }
      }
    }, [_c('i', {
      staticClass: "iconfont icon-list"
    }), _vm._v("消费记录")])])])]) : _vm._e(), _vm._v(" "), (c.cardType === 2 && c.currentTimes !== null) ? _c('tr', [_c('th', [_vm._v("剩余次数")]), _vm._v(" "), _c('td', [_c('div', {
      staticClass: "l"
    }, [_c('b', {
      staticClass: "big pointer",
      on: {
        "dblclick": function($event) {
          return _vm.openMcValueDetailDlg(c)
        }
      }
    }, [_vm._v(_vm._s(c.currentTimes))]), _vm._v(" 次\n                    "), (c.unitPrice) ? _c('span', {
      staticClass: "mc-unit-price"
    }, [_vm._v("（平均" + _vm._s(_vm.g.Util.round(c.unitPrice.toFixed(2))) + "元/次）")]) : _vm._e()]), _vm._v(" "), _c('div', {
      staticClass: "r"
    }, [_c('a', {
      staticClass: "mc-item-opt",
      on: {
        "click": function($event) {
          return _vm.queryMemberCardConsumeRecords(c)
        }
      }
    }, [_c('i', {
      staticClass: "iconfont icon-list"
    }), _vm._v("消费记录")])])])]) : _vm._e(), _vm._v(" "), (c.cardType === 4 && c.currentTimes !== null) ? _c('tr', [_c('th', [_vm._v("剩余时间")]), _vm._v(" "), _c('td', [_c('div', {
      staticClass: "l"
    }, [_c('b', {
      staticClass: "big"
    }, [_vm._v(_vm._s(c.currentTimes))]), _vm._v(" " + _vm._s(_vm.g.Dict.CardTimeTypes[c.cardTimeType]) + "\n                    "), (c.currentTimes <= 0) ? _c('span', {
      staticClass: "red"
    }, [_vm._v("（余额不足）")]) : _vm._e()]), _vm._v(" "), _c('div', {
      staticClass: "r"
    }, [_c('a', {
      staticClass: "mc-item-opt",
      on: {
        "click": function($event) {
          return _vm.queryMemberCardConsumeRecords(c)
        }
      }
    }, [_c('i', {
      staticClass: "iconfont icon-list"
    }), _vm._v("消费记录")])])])]) : _vm._e(), _vm._v(" "), (c.cardType === 1 || c.beginDate) ? _c('tr', [_c('th', [_vm._v("使用期限")]), _vm._v(" "), _c('td', [(c.beginDate && c.endDate) ? _c('div', [_c('div', {
      staticClass: "l",
      class: {
        'red': c.leftDays < 0
      }
    }, [_vm._v("\n                      " + _vm._s(_vm.g.Util.formatDate(c.beginDate)) + " ~ "), _c('b', [_vm._v(_vm._s(_vm.g.Util.formatDate(c.endDate)))])]), _vm._v(" "), (_vm.memberCardPaymentPermit) ? _c('div', {
      staticClass: "r"
    }, [_c('a', {
      staticClass: "mc-item-opt",
      on: {
        "click": function($event) {
          return _vm.openMcEndDateChangeHelpDlg(c)
        }
      }
    }, [_c('i', {
      staticClass: "icon-svginfor iconfont"
    }), _vm._v("修改帮助")])]) : _vm._e()]) : (!c.beginDate) ? _c('i', {
      staticClass: "gray"
    }, [_vm._v("尚未开卡")]) : [_vm._v(_vm._s(_vm.g.Util.formatDate(c.beginDate)) + " ~ "), _c('i', {
      staticClass: "orange"
    }, [_vm._v("未设置到期日期")])]], 2)]) : _vm._e(), _vm._v(" "), (c.beginDate && c.endDate && c.cardType === 1) ? _c('tr', [_c('th', [_vm._v("剩余天数")]), _vm._v(" "), _c('td', [_c('b', {
      staticClass: "big"
    }, [_vm._v(_vm._s(c.leftDays))]), _vm._v(" 天\n                  "), (c.leftDays < 0) ? _c('b', {
      staticClass: "red"
    }, [_vm._v("（已过期）")]) : _vm._e()])]) : _vm._e(), _vm._v(" "), (!c.beginDate && c.limitBeginDate) ? _c('tr', [_c('th', [_vm._v("最迟开卡日")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(c.limitBeginDate)))])]) : _vm._e(), _vm._v(" "), (_vm.isInVacation(c)) ? _c('tr', [_c('th', [_vm._v("请假日期")]), _vm._v(" "), _c('td', [_c('span', {
      staticClass: "orange l",
      attrs: {
        "title": '剩余' + _vm.g.Util.calcDateDiffDays(c.vacationEnd, _vm.now) + '天'
      }
    }, [_vm._v("\n                    " + _vm._s(_vm.g.Util.formatDate(c.vacationBegin, false)) + " ~ " + _vm._s(_vm.g.Util.formatDate(c.vacationEnd, false)) + "\n                  ")]), _vm._v(" "), (_vm.memberCardVacationPermit) ? _c('span', {
      staticClass: "r"
    }, [_c('Dropdown', {
      attrs: {
        "placement": "bottom-end",
        "trigger": "hover"
      },
      on: {
        "on-click": _vm.handleMcVacationOpt
      }
    }, [_c('a', {
      staticClass: "mc-item-opt"
    }, [_c('Icon', {
      attrs: {
        "type": "ios-arrow-down",
        "size": "17"
      }
    }), _vm._v("更多操作\n                      ")], 1), _vm._v(" "), _c('DropdownMenu', {
      attrs: {
        "slot": "list"
      },
      slot: "list"
    }, [_c('DropdownItem', {
      attrs: {
        "name": 'alt-' + idx
      }
    }, [_vm._v("提前销假")]), _vm._v(" "), _c('DropdownItem', {
      attrs: {
        "name": 'cancel-' + idx
      }
    }, [_vm._v("撤销请假")]), _vm._v(" "), _c('DropdownItem', {
      attrs: {
        "name": 'continue-' + idx
      }
    }, [_vm._v("续假")])], 1)], 1)], 1) : _vm._e()])]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("创建人/时间")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createUname) + "   " + _vm._s(c.createTime))])]), _vm._v(" "), (c.remark) ? _c('tr', [_c('th', [_vm._v("会员卡备注")]), _vm._v(" "), _c('td', [_c('div', {
      staticClass: "mc-remark",
      on: {
        "click": function($event) {
          return _vm.openMcRemarkDlg(c)
        }
      }
    }, [_vm._v(_vm._s(c.remark))])])]) : _vm._e()])]), _vm._v(" "), _c('div', {
      staticClass: "records-query"
    }, [_c('ul', [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.queryCardPayment(c)
        }
      }
    }, [_vm._v("充值记录")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.queryCardVacation(c.mcId)
        }
      }
    }, [_vm._v("请假记录")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.queryMemberCardTransferLog(c.mcId)
        }
      }
    }, [_vm._v("转卡记录")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.queryMemberCardStatusLog(c.mcId)
        }
      }
    }, [_vm._v("停用记录")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.queryMemberCardChangeLog(c.mcId)
        }
      }
    }, [_vm._v("修改记录")])])])])]) : _vm._e()
  }), 0), _vm._v(" "), _c('div', {
    staticClass: "add-card"
  }, [(_vm.memberCreatePermit || _vm.memberCardDraftCreatePermit) ? _c('div', {
    staticClass: "l"
  }, [_c('i-button', {
    staticClass: "add-card-btn",
    attrs: {
      "type": "primary",
      "icon": "plus"
    },
    on: {
      "click": _vm.createMemberCard
    }
  }, [_vm._v("添加新卡")]), _vm._v(" "), _vm._m(0)], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(!_vm.hideInvalidCard) ? _c('Checkbox', {
    on: {
      "on-change": _vm.changeHidePausedCard
    },
    model: {
      value: (_vm.hidePausedCard),
      callback: function($$v) {
        _vm.hidePausedCard = $$v
      },
      expression: "hidePausedCard"
    }
  }, [_vm._v("隐藏停用卡")]) : _vm._e(), _vm._v(" "), _c('Checkbox', {
    model: {
      value: (_vm.hideInvalidCard),
      callback: function($$v) {
        _vm.hideInvalidCard = $$v
      },
      expression: "hideInvalidCard"
    }
  }, [_vm._v("隐藏无效卡")]), _vm._v(" "), (_vm.memberCreatePermit || _vm.memberAgentPermit) ? [_vm._v("\n             \n            "), (_vm.hasMoreShops) ? _c('i-button', {
    attrs: {
      "icon": "android-sync"
    },
    on: {
      "click": function($event) {
        _vm.dlgView.memberCardSync = true
      }
    }
  }, [_vm._v("同步通卡")]) : _vm._e()] : _vm._e()], 2)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡充值记录",
      "width": "700",
      "styles": {
        top: '10px'
      },
      "ok-text": "",
      "cancel-text": ""
    },
    model: {
      value: (_vm.dlgView.cardPaymentQuery),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "cardPaymentQuery", $$v)
      },
      expression: "dlgView.cardPaymentQuery"
    }
  }, [(_vm.dlg.cardPaymentList && _vm.dlg.cardPaymentList.length > 1) ? _c('ul', {
    staticClass: "mc-stat"
  }, [(_vm.selectMc.cardTotalPayment) ? _c('li', [_vm._v("总实收金额：￥" + _vm._s(_vm.selectMc.cardTotalPayment))]) : _vm._e(), _vm._v(" "), (_vm.selectMc.cardType === 2 && _vm.selectMc.cardTotalTimes) ? _c('li', [_vm._v("\n            总充值次数：" + _vm._s(_vm.selectMc.cardTotalTimes) + " 次\n          ")]) : _vm._e()]) : _vm._e(), _vm._v(" "), _c('ul', {
    staticClass: "-v-tbl"
  }, _vm._l((_vm.dlg.cardPaymentList), function(c, idx) {
    return _c('li', {
      staticClass: "tit-li"
    }, [_c('div', {
      staticClass: "tit"
    }, [_c('div', {
      staticClass: "l"
    }, [_c('label', [_vm._v("充值时间：")]), _c('b', [_vm._v(_vm._s(c.createTime))]), _vm._v(" "), (c.createTime !== c.updateTime) ? _c('span', {
      staticClass: "l10"
    }, [_c('a', {
      on: {
        "click": function($event) {
          return _vm.queryMcpTimeChangeLog(c.mcpId)
        }
      }
    }, [_vm._v("【查看修改日志】")])]) : _vm._e()]), _vm._v(" "), _c('div', {
      staticClass: "r"
    }, [(_vm.g.data.shop.shopName === c.shopName) ? [(_vm.mcpContractMap[c.mcpId]) ? [_c('a', {
      attrs: {
        "href": _vm.g.Util.getImgUrl(_vm.mcpContractMap[c.mcpId]),
        "target": "_blank"
      }
    }, [_vm._v("查看合同")]), _vm._v(" "), _c('span', {
      staticClass: "spt"
    }, [_vm._v("|")])] : _vm._e(), _vm._v(" "), _c('a', {
      attrs: {
        "href": '#/member-contract-print/' + c.memberId + '/' + c.mcpId,
        "target": "_blank"
      }
    }, [_vm._v("打印合同")]), _vm._v(" "), _c('span', {
      staticClass: "spt"
    }, [_vm._v("|")]), _vm._v(" "), _c('a', {
      on: {
        "click": function($event) {
          return _vm.printMemberCardPayment('memberCardPaymentRecord_' + idx)
        }
      }
    }, [_vm._v("打印小票")]), _vm._v(" "), (c.paymentChannel !== 8 && _vm.memberCreatePermit && !c.isSelfCreate) ? _c('span', [_c('span', {
      staticClass: "spt"
    }, [_vm._v("|")]), _vm._v(" "), _c('a', {
      on: {
        "click": function($event) {
          return _vm.openChangePaymentTimeDlg(c.mcpId)
        }
      }
    }, [_vm._v("修改充值时间")]), _vm._v(" "), (c.isDelete && _vm.dlg.cardPaymentList.length > 1) ? [_c('span', {
      staticClass: "spt"
    }, [_vm._v("|")]), _vm._v(" "), _c('a', {
      on: {
        "click": function($event) {
          return _vm.deleteMemberCardPayment(c.mcpId)
        }
      }
    }, [_vm._v("删除充值记录")])] : _vm._e()], 2) : _vm._e()] : [_vm._v("\n                  充值门店： "), _c('b', [_vm._v(_vm._s(c.shopName))])]], 2)]), _vm._v(" "), _c('div', {
      attrs: {
        "id": 'memberCardPaymentRecord_' + idx
      }
    }, [_c('table', [(c.isSelfCreate) ? _c('tr', [_c('th', [_vm._v("充值方式")]), _vm._v(" "), _c('td', {
      staticClass: "orangered"
    }, [_vm._v("会员在线充值")])]) : (c.paymentType >= 4) ? _c('tr', [_c('th', [_vm._v("充值方式")]), _vm._v(" "), _c('td', {
      staticClass: "orangered"
    }, [_vm._v(_vm._s(_vm.g.Dict.CardPaymentType[c.paymentType]))])]) : _vm._e(), _vm._v(" "), _c('tr', {
      staticClass: "page-hidden"
    }, [_c('th', [_vm._v("会员姓名")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.memberName))])]), _vm._v(" "), _c('tr', {
      staticClass: "page-hidden"
    }, [_c('th', [_vm._v("会员卡")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.selectCardName))])]), _vm._v(" "), (!c.isSelfCreate && c.createUname) ? _c('tr', [_c('th', [_vm._v("操作人")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createUname))])]) : _vm._e(), _vm._v(" "), _c('tr', {
      staticClass: "page-hidden"
    }, [_c('th', [_vm._v("充值时间")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createTime))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("充值金额")]), _vm._v(" "), _c('td', {
      class: {
        red: c.usableAmount < 0
      }
    }, [_vm._v(_vm._s(c.usableAmount) + " 元")])]), _vm._v(" "), (c.deposit) ? _c('tr', [_c('th', [_vm._v("已交订金")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.deposit) + " 元")])]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("实收金额")]), _vm._v(" "), _c('td', {
      class: {
        red: c.paymentAmount < 0
      }
    }, [_vm._v(_vm._s(c.paymentAmount) + " 元\n                    "), (c.chargeFromMcName) ? _c('span', {
      staticClass: "l10 orange"
    }, [_vm._v("（来自储值卡：" + _vm._s(c.chargeFromMcName) + "）")]) : _vm._e()])]), _vm._v(" "), (c.paymentPoints) ? _c('tr', [_c('th', [_vm._v("支付积分")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.paymentPoints) + " 分")])]) : _vm._e(), _vm._v(" "), (_vm.dlg.cardType === 2) ? _c('tr', [_c('th', [_vm._v("充值次数")]), _vm._v(" "), _c('td', {
      class: {
        red: c.usableTimes < 0
      }
    }, [_vm._v(_vm._s(c.usableTimes) + " 次\n                  ")])]) : _vm._e(), _vm._v(" "), (c.paymentAmount && c.usableTimes && _vm.dlg.cardType === 2) ? _c('tr', [_c('th', [_vm._v("单次价格")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(((c.paymentAmount + (c.deposit ? c.deposit : 0)) / c.usableTimes).toFixed(2)) + " 元 / 次")])]) : _vm._e(), _vm._v(" "), (_vm.dlg.cardType === 4) ? _c('tr', [_c('th', [_vm._v("充值" + _vm._s(_vm.g.Dict.CardTimeTypes[_vm.dlg.cardTimeType]))]), _vm._v(" "), _c('td', {
      class: {
        red: c.usableTimes < 0
      }
    }, [_vm._v(_vm._s(c.usableTimes) + " " + _vm._s(_vm.g.Dict.CardTimeTypes[_vm.dlg.cardTimeType]))])]) : _vm._e(), _vm._v(" "), (c.expBeginDate && c.expEndDate) ? _c('tr', [_c('th', [_vm._v("设置期限")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(c.expBeginDate)) + " ~ " + _vm._s(_vm.g.Util.formatDate(c.expEndDate)))])]) : _vm._e(), _vm._v(" "), (c.usableDays) ? _c('tr', [_c('th', [_vm._v("使用天数")]), _vm._v(" "), _c('td', {
      class: {
        red: c.usableDays < 0
      }
    }, [_vm._v(_vm._s(c.usableDays) + " 天")])]) : _vm._e(), _vm._v(" "), (c.paymentType < 5) ? _c('tr', {
      staticClass: "hidden"
    }, [_c('th', [_vm._v("销售")]), _vm._v(" "), _c('td', [(c.salesConfList) ? [_c('table', {
      staticClass: "sales-amounts"
    }, _vm._l((c.salesConfList), function(s) {
      return _c('tr', [_c('td', [_vm._v(_vm._s(s.split(':')[1]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.split(':')[2]) + " 元")])])
    }), 0), _vm._v(" "), (_vm.memberCreatePermit && _vm.g.data.shop.shopName === c.shopName) ? _c('div', {
      staticClass: "p10"
    }, [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openChangePaymentSalesDlg(c)
        }
      }
    }, [_vm._v("【设置】")])]) : _vm._e()] : [(c.salesId) ? [_vm._v(_vm._s(c.salesName))] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("无")]), _vm._v(" "), (_vm.memberCreatePermit && _vm.g.data.shop.shopName === c.shopName) ? _c('span', {
      staticClass: "l10"
    }, [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openChangePaymentSalesDlg(c)
        }
      }
    }, [_vm._v("【设置】")])]) : _vm._e()]], 2)]) : _vm._e(), _vm._v(" "), _c('tr', {
      staticClass: "page-hidden"
    }, [_c('th', [_vm._v("流水号")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(Date.new(c.createTime).getTime()))])]), _vm._v(" "), (c.remark || c.paymentType > 4) ? _c('tr', [_c('th', [_vm._v("备注")]), _vm._v(" "), _c('td', [(c.paymentType === 4) ? _c('i', {
      staticClass: "orange"
    }, [_vm._v("分销奖励")]) : (c.paymentType === 5) ? _c('i', {
      staticClass: "orange"
    }, [_vm._v("会员卡批量新增天数")]) : _c('pre', [_vm._v(_vm._s(c.remark))])])]) : _vm._e(), _vm._v(" "), (c.attachmentImgs) ? _c('tr', {
      staticClass: "hidden"
    }, [_c('th', [_vm._v("附件")]), _vm._v(" "), _c('td', _vm._l((c.attachmentImgs.split(',')), function(img) {
      return _c('a', {
        attrs: {
          "href": _vm.g.Util.getImgUrl(img),
          "target": "_blank"
        }
      }, [_c('img', {
        attrs: {
          "src": _vm.g.Util.getImgUrl(img, 500, 500, 'eeeeee'),
          "width": "150"
        }
      })])
    }), 0)]) : _vm._e()])])])
  }), 0), _vm._v(" "), (_vm.dlg.cardPaymentList && !_vm.dlg.cardPaymentList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无充值记录")]) : _vm._e(), _vm._v(" "), (_vm.memberCardPaymentDelLogList && _vm.memberCardPaymentDelLogList.length) ? _c('div', {
    staticClass: "mcp-del-log"
  }, [_c('div', {
    staticClass: "hd"
  }, [_vm._v("充值记录删除日志")]), _vm._v(" "), _c('ul', {
    staticClass: "-v-tbl mt20"
  }, _vm._l((_vm.memberCardPaymentDelLogList), function(c, idx) {
    return _c('li', {
      staticClass: "tit-li"
    }, [_c('div', {
      staticClass: "tit"
    }, [_c('div', {
      staticClass: "l"
    }, [_c('label', [_vm._v("充值时间：")]), _c('b', [_vm._v(_vm._s(c.mcpCreateTime))]), _vm._v(" "), _c('span', {
      staticClass: "spt"
    }, [_vm._v("|")]), _vm._v(" "), _c('label', [_vm._v("删除时间：")]), _c('b', [_vm._v(_vm._s(c.createTime))])])]), _vm._v(" "), _c('table', [_c('tr', [_c('th', [_vm._v("充值操作人")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createUname))])]), _vm._v(" "), _c('tr', {
      staticClass: "page-hidden"
    }, [_c('th', [_vm._v("充值时间")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createTime))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("充值金额")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.usableAmount) + " 元")])]), _vm._v(" "), (c.deposit) ? _c('tr', [_c('th', [_vm._v("已交订金")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.deposit) + " 元")])]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("实收金额")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.paymentAmount) + " 元")])]), _vm._v(" "), (c.paymentPoints) ? _c('tr', [_c('th', [_vm._v("支付积分")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.paymentPoints) + " 分")])]) : _vm._e(), _vm._v(" "), (_vm.dlg.cardType === 2) ? _c('tr', [_c('th', [_vm._v("充值次数")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.usableTimes) + " 次")])]) : _vm._e(), _vm._v(" "), (_vm.dlg.cardType === 4) ? _c('tr', [_c('th', [_vm._v("充值" + _vm._s(_vm.g.Dict.CardTimeTypes[_vm.dlg.cardTimeType]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.usableTimes) + " " + _vm._s(_vm.g.Dict.CardTimeTypes[_vm.dlg.cardTimeType]))])]) : _vm._e(), _vm._v(" "), (c.expBeginDate && c.expEndDate) ? _c('tr', [_c('th', [_vm._v("设置期限")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(c.expBeginDate)) + " ~ " + _vm._s(_vm.g.Util.formatDate(c.expEndDate)))])]) : _vm._e(), _vm._v(" "), (c.usableDays) ? _c('tr', [_c('th', [_vm._v("使用天数")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.usableDays) + " 天")])]) : _vm._e(), _vm._v(" "), _c('tr', {
      staticClass: "hidden"
    }, [_c('th', [_vm._v("销售")]), _vm._v(" "), _c('td', [(c.salesId) ? [_vm._v(_vm._s(c.salesName))] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("无")])], 2)]), _vm._v(" "), (c.remark) ? _c('tr', [_c('th', [_vm._v("备注")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.remark))])]) : _vm._e()])])
  }), 0)]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "form-submit center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlgView.cardPaymentQuery = false
      }
    }
  }, [_vm._v("关闭")])], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "修改充值时间",
      "width": "500",
      "ok-text": "确定",
      "cancel-text": ""
    },
    on: {
      "on-ok": _vm.changePaymentTime
    },
    model: {
      value: (_vm.dlgView.cardPaymentTimeUpdate),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "cardPaymentTimeUpdate", $$v)
      },
      expression: "dlgView.cardPaymentTimeUpdate"
    }
  }, [_c('div', {
    staticClass: "allpadding"
  }, [_c('DatePicker', {
    staticStyle: {
      "width": "130px",
      "display": "inline-block"
    },
    attrs: {
      "type": "date",
      "placeholder": "输入日期"
    },
    model: {
      value: (_vm.cardPaymentDate),
      callback: function($$v) {
        _vm.cardPaymentDate = $$v
      },
      expression: "cardPaymentDate"
    }
  }), _vm._v(" "), _c('TimePicker', {
    staticStyle: {
      "width": "100px",
      "display": "inline-block"
    },
    attrs: {
      "type": "time",
      "placeholder": "输入时间",
      "format": "HH:mm"
    },
    model: {
      value: (_vm.cardPaymentTime),
      callback: function($$v) {
        _vm.cardPaymentTime = $$v
      },
      expression: "cardPaymentTime"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "p10"
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 3,
      "placeholder": "请输入备注"
    },
    model: {
      value: (_vm.cardPaymentChangeRemark),
      callback: function($$v) {
        _vm.cardPaymentChangeRemark = $$v
      },
      expression: "cardPaymentChangeRemark"
    }
  })], 1)], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "设置销售及业绩",
      "width": "500",
      "styles": {
        top: '10px'
      }
    },
    on: {
      "on-ok": _vm.changePaymentSales
    },
    model: {
      value: (_vm.dlgView.cardPaymentSalesUpdate),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "cardPaymentSalesUpdate", $$v)
      },
      expression: "dlgView.cardPaymentSalesUpdate"
    }
  }, [(_vm.dlgView.cardPaymentSalesUpdate) ? _c('member-card-payment-sales', {
    attrs: {
      "mcp": _vm.selectMcp,
      "after-confirm": _vm.afterSaveSales
    }
  }) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": '会员卡消费记录 - ' + _vm.selectMc.cardName,
      "width": "1050",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.dlgView.mcConsumeRecords),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "mcConsumeRecords", $$v)
      },
      expression: "dlgView.mcConsumeRecords"
    }
  }, [(_vm.g.data.shop.shopType !== 101) ? [(_vm.dlgView.mcConsumeRecords) ? _c('member-card-consume-records', {
    attrs: {
      "member-card": _vm.selectMc
    }
  }) : _vm._e()] : (_vm.selectMc && _vm.dlgView.mcConsumeRecords) ? [_c('spp-mc-consume-log', {
    attrs: {
      "mc-id": _vm.selectMc.mcId,
      "member-id": _vm.selectMc.memberId
    }
  })] : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "form-submit center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    staticClass: "long-btn",
    on: {
      "click": function($event) {
        _vm.dlgView.mcConsumeRecords = false
      }
    }
  }, [_vm._v("关闭")])], 1)], 2), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡充值",
      "width": "700",
      "styles": {
        top: '10px'
      },
      "mask-closable": false
    },
    model: {
      value: (_vm.dlgView.cardPaymentCreate),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "cardPaymentCreate", $$v)
      },
      expression: "dlgView.cardPaymentCreate"
    }
  }, [(_vm.dlgView.cardPaymentCreate) ? _c('card-payment-create', {
    attrs: {
      "select-card": _vm.selectCard,
      "member-id": _vm.memberId,
      "on-submit": _vm.afterCreateCardPayment
    }
  }) : _vm._e(), _vm._v(" "), _c('div', {
    staticStyle: {
      "display": "none"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡请假记录",
      "width": "650",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.dlgView.cardVacationQuery),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "cardVacationQuery", $$v)
      },
      expression: "dlgView.cardVacationQuery"
    }
  }, [(_vm.dlgView.cardVacationQuery) ? _c('member-card-vacation-query', {
    attrs: {
      "mc-id": _vm.selectMcId
    }
  }) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    staticClass: "long-btn",
    on: {
      "click": function($event) {
        _vm.dlgView.cardVacationQuery = false
      }
    }
  }, [_vm._v("关闭")])], 1)], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡请假/停卡",
      "width": "650",
      "styles": {
        top: '10px'
      },
      "mask-closable": false
    },
    model: {
      value: (_vm.dlgView.cardVacationCreate),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "cardVacationCreate", $$v)
      },
      expression: "dlgView.cardVacationCreate"
    }
  }, [(_vm.dlgView.cardVacationCreate) ? [_c('member-card-vacation-edit', {
    attrs: {
      "select-card": _vm.selectCard,
      "on-submit": _vm.afterCreateCardVacation
    }
  })] : _vm._e(), _vm._v(" "), _c('div', {
    staticStyle: {
      "display": "none"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 2), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡请假撤销",
      "width": "700",
      "styles": {
        top: '10px'
      },
      "mask-closable": false
    },
    model: {
      value: (_vm.dlgView.cardVacationCancel),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "cardVacationCancel", $$v)
      },
      expression: "dlgView.cardVacationCancel"
    }
  }, [(_vm.dlgView.cardVacationCancel) ? _c('member-card-vacation-edit', {
    attrs: {
      "select-card": _vm.selectCard,
      "is-cancel": true,
      "on-submit": _vm.afterCancelCardVacation
    }
  }) : _vm._e(), _vm._v(" "), _c('div', {
    staticStyle: {
      "display": "none"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡续假",
      "width": "600",
      "styles": {
        top: '10px'
      },
      "mask-closable": false
    },
    model: {
      value: (_vm.dlgView.vacationExtend),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "vacationExtend", $$v)
      },
      expression: "dlgView.vacationExtend"
    }
  }, [_c('table', {
    staticClass: "tblform",
    attrs: {
      "width": "90%"
    }
  }, [_c('tr', [_c('td', {
    staticClass: "required",
    attrs: {
      "width": "110"
    }
  }, [_vm._v("请假结束日期")]), _vm._v(" "), _c('td', [_c('DatePicker', {
    staticStyle: {
      "width": "130px"
    },
    attrs: {
      "type": "date",
      "placeholder": ""
    },
    model: {
      value: (_vm.vacationExtend.endDate),
      callback: function($$v) {
        _vm.$set(_vm.vacationExtend, "endDate", $$v)
      },
      expression: "vacationExtend.endDate"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('td', [_vm._v("续假备注")]), _vm._v(" "), _c('td', [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 5
    },
    model: {
      value: (_vm.vacationExtend.remark),
      callback: function($$v) {
        _vm.$set(_vm.vacationExtend, "remark", $$v)
      },
      expression: "vacationExtend.remark"
    }
  })], 1)])]), _vm._v(" "), _c('div', {
    staticClass: "form-submit center"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.extendVacation
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlgView.vacationExtend = false
      }
    }
  }, [_vm._v("关闭")])], 1), _vm._v(" "), _c('div', {
    staticStyle: {
      "display": "none"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "添加新卡",
      "width": "750",
      "styles": {
        top: '10px'
      },
      "mask-closable": false
    },
    model: {
      value: (_vm.dlgView.cardCreate),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "cardCreate", $$v)
      },
      expression: "dlgView.cardCreate"
    }
  }, [(_vm.dlgView.cardCreate) ? _c('member-card-create', {
    attrs: {
      "member-id": _vm.memberId,
      "on-submit": _vm.afterCreateCard
    }
  }) : _vm._e(), _vm._v(" "), _c('div', {
    staticStyle: {
      "display": "none"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡充值修改",
      "width": "720",
      "styles": {
        top: '10px'
      },
      "mask-closable": false
    },
    model: {
      value: (_vm.dlgView.cardUpdate),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "cardUpdate", $$v)
      },
      expression: "dlgView.cardUpdate"
    }
  }, [(_vm.dlgView.cardUpdate) ? [_c('member-card-update', {
    attrs: {
      "mc-id": _vm.selectMcId,
      "on-submit": _vm.afterUpdateCard,
      "on-close": _vm.onCloseCardUpdate
    }
  })] : _vm._e(), _vm._v(" "), _c('div', {
    staticStyle: {
      "display": "none"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 2), _vm._v(" "), _c('modal', {
    attrs: {
      "title": '转卡 - ' + _vm.transferCardName,
      "styles": {
        top: '10px'
      },
      "width": "700",
      "mask-closable": false
    },
    model: {
      value: (_vm.dlgView.cardTransfer),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "cardTransfer", $$v)
      },
      expression: "dlgView.cardTransfer"
    }
  }, [(_vm.dlgView.cardTransfer) ? _c('member-card-transfer', {
    attrs: {
      "after-submit": _vm.afterTransferCard,
      "member-card": _vm.transferMemberCard
    }
  }) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": '停用 - ' + _vm.selectCardName,
      "width": "650",
      "mask-closable": false
    },
    model: {
      value: (_vm.dlgView.stopCard),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "stopCard", $$v)
      },
      expression: "dlgView.stopCard"
    }
  }, [_c('table', {
    staticClass: "tblform",
    attrs: {
      "width": "550"
    }
  }, [_c('tr', [_c('th', [_vm._v("停用方式：")]), _vm._v(" "), _c('td', [_c('radio-group', {
    staticClass: "stop-card",
    model: {
      value: (_vm.stopMcStatus),
      callback: function($$v) {
        _vm.stopMcStatus = $$v
      },
      expression: "stopMcStatus"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("作废（"), _c('span', {
    staticClass: "orangered"
  }, [_vm._v("作废后，此卡将无法使用；恢复后继续计时")]), _vm._v("）")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("暂停（"), _c('span', {
    staticClass: "orangered"
  }, [_vm._v("暂停后，此卡将无法使用；恢复时会自动延期暂停的天数")]), _vm._v("）")])], 1)], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("\n              停用原因：\n            ")]), _vm._v(" "), _c('td', [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 5,
      "placeholder": ""
    },
    model: {
      value: (_vm.stopCardRemark),
      callback: function($$v) {
        _vm.stopCardRemark = (typeof $$v === 'string' ? $$v.trim() : $$v)
      },
      expression: "stopCardRemark"
    }
  })], 1)])]), _vm._v(" "), _c('div', {
    staticClass: "form-submit center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submitStopCard
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlgView.stopCard = false
      }
    }
  }, [_vm._v("关闭")])], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡删除",
      "width": "550",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.dlgView.cardDelDlg),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "cardDelDlg", $$v)
      },
      expression: "dlgView.cardDelDlg"
    }
  }, [_c('div', [_vm._v("请填写删除会员卡【"), _c('b', [_vm._v(_vm._s(_vm.selectMc ? _vm.selectMc.cardName : null))]), _vm._v("】的原因：")]), _vm._v(" "), _c('div', {
    staticClass: "p15"
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 5
    },
    model: {
      value: (_vm.cardDelRemark),
      callback: function($$v) {
        _vm.cardDelRemark = (typeof $$v === 'string' ? $$v.trim() : $$v)
      },
      expression: "cardDelRemark"
    }
  })], 1), _vm._v(" "), _c('div', {
    staticClass: "warning",
    staticStyle: {
      "margin-top": "15px"
    }
  }, [_vm._v("\n          如果该会员卡已被使用过（例如，入场签到、约课、购买商品等），将不能删除。\n        ")]), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submitDelCard
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlgView.cardDelDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡停用记录",
      "width": "500",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.dlgView.cardStatusLog),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "cardStatusLog", $$v)
      },
      expression: "dlgView.cardStatusLog"
    }
  }, [(!_vm.dlg.cardStatusLogList || _vm.dlg.cardStatusLogList.length === 0) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n          暂无停用记记录\n        ")]) : _vm._e(), _vm._v(" "), _c('ul', {
    staticClass: "-v-tbl"
  }, _vm._l((_vm.dlg.cardStatusLogList), function(c) {
    return _c('li', [_c('table', [_c('tr', [_c('th', [_vm._v("状态")]), _vm._v(" "), _c('td', [_c('b', [_vm._v(_vm._s(_vm.g.Dict.MemberCardStatus[c.status]))])])]), _vm._v(" "), _c('tr', [_c('th', {
      attrs: {
        "width": "90"
      }
    }, [_vm._v("停用时间")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createTime))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("操作人")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createUname))])]), _vm._v(" "), (c.remark) ? _c('tr', [_c('th', [_vm._v("停用原因")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.remark))])]) : _vm._e()])])
  }), 0)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡修改记录",
      "width": "700",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.dlgView.cardPaymentChangeLog),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "cardPaymentChangeLog", $$v)
      },
      expression: "dlgView.cardPaymentChangeLog"
    }
  }, [(!_vm.dlg.cardChangeLogList || _vm.dlg.cardChangeLogList.length === 0) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n          暂无修改记录\n        ")]) : _vm._e(), _vm._v(" "), (_vm.dlg.cardChangeLogList && _vm.dlg.cardChangeLogList.length > 0) ? _c('ul', {
    staticClass: "-v-tbl change"
  }, _vm._l((_vm.dlg.cardChangeLogList), function(l, idx) {
    return _c('li', [(idx % 2 === 0) ? _c('div', {
      staticClass: "items"
    }, [_c('table', [(l.cardName !== _vm.dlg.cardChangeLogList[idx + 1].cardName) ? _c('tr', [_c('th', [_vm._v("会员卡")]), _vm._v(" "), _c('td', [_c('span', {
      staticClass: "before"
    }, [_vm._v(_vm._s(_vm.dlg.cardChangeLogList[idx + 1].cardName))]), _vm._v(" "), _c('span', {
      staticClass: "chgtip"
    }, [_vm._v("修改为")]), _vm._v(" "), _c('span', {
      staticClass: "after"
    }, [_vm._v(_vm._s(l.cardName))])])]) : _vm._e(), _vm._v(" "), (l.usableAmount !== _vm.dlg.cardChangeLogList[idx + 1].usableAmount) ? _c('tr', [_c('th', [_vm._v("充值金额")]), _vm._v(" "), _c('td', [_c('span', {
      staticClass: "before"
    }, [_vm._v("￥" + _vm._s(_vm.dlg.cardChangeLogList[idx + 1].usableAmount))]), _vm._v(" "), _c('span', {
      staticClass: "chgtip"
    }, [_vm._v("修改为")]), _vm._v(" "), _c('span', {
      staticClass: "after"
    }, [(!_vm.g.Util.isEmpty(l.usableAmount)) ? [_vm._v("￥" + _vm._s(l.usableAmount))] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("空")])], 2)])]) : _vm._e(), _vm._v(" "), (l.paymentAmount !== _vm.dlg.cardChangeLogList[idx + 1].paymentAmount) ? _c('tr', [_c('th', [_vm._v("实收金额")]), _vm._v(" "), _c('td', [_c('span', {
      staticClass: "before"
    }, [_vm._v("￥" + _vm._s(_vm.dlg.cardChangeLogList[idx + 1].paymentAmount))]), _vm._v(" "), _c('span', {
      staticClass: "chgtip"
    }, [_vm._v("修改为")]), _vm._v(" "), _c('span', {
      staticClass: "after"
    }, [(!_vm.g.Util.isEmpty(l.paymentAmount)) ? [_vm._v("￥" + _vm._s(l.paymentAmount))] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("空")])], 2)])]) : _vm._e(), _vm._v(" "), (l.usableDays !== _vm.dlg.cardChangeLogList[idx + 1].usableDays) ? _c('tr', [_c('th', [_vm._v("使用天数")]), _vm._v(" "), _c('td', [_c('span', {
      staticClass: "before"
    }, [_vm._v(_vm._s(_vm.dlg.cardChangeLogList[idx + 1].usableDays) + " 天")]), _vm._v(" "), _c('span', {
      staticClass: "chgtip"
    }, [_vm._v("修改为")]), _vm._v(" "), _c('span', {
      staticClass: "after"
    }, [_vm._v(_vm._s(l.usableDays) + " 天")])])]) : _vm._e(), _vm._v(" "), (l.cardType === 2 && l.usableTimes !== _vm.dlg.cardChangeLogList[idx + 1].usableTimes) ? _c('tr', [_c('th', [_vm._v("使用次数")]), _vm._v(" "), _c('td', [_c('span', {
      staticClass: "before"
    }, [_vm._v(_vm._s(_vm.dlg.cardChangeLogList[idx + 1].usableTimes) + " 次")]), _vm._v(" "), _c('span', {
      staticClass: "chgtip"
    }, [_vm._v("修改为")]), _vm._v(" "), _c('span', {
      staticClass: "after"
    }, [_vm._v(_vm._s(l.usableTimes) + " 次")])])]) : _vm._e(), _vm._v(" "), (l.cardType === 4 && l.usableTimes !== _vm.dlg.cardChangeLogList[idx + 1].usableTimes) ? _c('tr', [_c('th', [_vm._v("使用时间")]), _vm._v(" "), _c('td', [_c('span', {
      staticClass: "before"
    }, [_vm._v(_vm._s(_vm.dlg.cardChangeLogList[idx + 1].usableTimes) + " " + _vm._s(_vm.g.Dict.CardTimeTypes[l.cardTimeType]))]), _vm._v(" "), _c('span', {
      staticClass: "chgtip"
    }, [_vm._v("修改为")]), _vm._v(" "), _c('span', {
      staticClass: "after"
    }, [_vm._v(_vm._s(l.usableTimes) + " " + _vm._s(_vm.g.Dict.CardTimeTypes[l.cardTimeType]))])])]) : _vm._e(), _vm._v(" "), ((l.beginDate !== _vm.dlg.cardChangeLogList[idx + 1].beginDate)) ? _c('tr', [_c('th', [_vm._v("开始日期")]), _vm._v(" "), _c('td', [(_vm.dlg.cardChangeLogList[idx + 1].beginDate) ? _c('span', {
      staticClass: "before"
    }, [_vm._v(_vm._s(_vm.g.Util.formatDate(_vm.dlg.cardChangeLogList[idx + 1].beginDate)))]) : _c('i', {
      staticClass: "before"
    }, [_vm._v("空")]), _vm._v(" "), _c('span', {
      staticClass: "chgtip"
    }, [_vm._v("修改为")]), _vm._v(" "), (l.beginDate) ? _c('span', {
      staticClass: "after"
    }, [_vm._v(_vm._s(_vm.g.Util.formatDate(l.beginDate)))]) : _c('i', {
      staticClass: "after"
    }, [_vm._v("空")])])]) : _vm._e(), _vm._v(" "), ((l.limitBeginDate !== _vm.dlg.cardChangeLogList[idx + 1].limitBeginDate)) ? _c('tr', [_c('th', [_vm._v("最迟开卡日期")]), _vm._v(" "), _c('td', [(_vm.dlg.cardChangeLogList[idx + 1].limitBeginDate) ? _c('span', {
      staticClass: "before"
    }, [_vm._v(_vm._s(_vm.g.Util.formatDate(_vm.dlg.cardChangeLogList[idx + 1].limitBeginDate)))]) : _c('i', {
      staticClass: "before"
    }, [_vm._v("空")]), _vm._v(" "), _c('span', {
      staticClass: "chgtip"
    }, [_vm._v("修改为")]), _vm._v(" "), (l.limitBeginDate) ? _c('span', {
      staticClass: "after"
    }, [_vm._v(_vm._s(_vm.g.Util.formatDate(l.limitBeginDate)))]) : _c('i', {
      staticClass: "after"
    }, [_vm._v("空")])])]) : _vm._e(), _vm._v(" "), (l.salesId !== _vm.dlg.cardChangeLogList[idx + 1].salesId) ? _c('tr', [_c('th', [_vm._v("销售")]), _vm._v(" "), _c('td', [(_vm.dlg.cardChangeLogList[idx + 1].salesId) ? _c('span', {
      staticClass: "before"
    }, [_vm._v(_vm._s(_vm.dlg.cardChangeLogList[idx + 1].salesName))]) : _c('i', {
      staticClass: "before"
    }, [_vm._v("空")]), _vm._v(" "), _c('span', {
      staticClass: "chgtip"
    }, [_vm._v("修改为")]), _vm._v(" "), (l.salesId) ? _c('span', {
      staticClass: "after"
    }, [_vm._v(_vm._s(l.salesName))]) : _c('i', {
      staticClass: "after"
    }, [_vm._v("空")])])]) : _vm._e(), _vm._v(" "), (l.remark !== _vm.dlg.cardChangeLogList[idx + 1].remark) ? _c('tr', [_c('th', [_vm._v("充值备注")]), _vm._v(" "), _c('td', [_c('span', {
      staticClass: "before"
    }, [(_vm.dlg.cardChangeLogList[idx + 1].remark) ? [_vm._v(_vm._s(_vm.dlg.cardChangeLogList[idx + 1].remark))] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("空")])], 2), _vm._v(" "), _c('span', {
      staticClass: "chgtip"
    }, [_vm._v("修改为")]), _vm._v(" "), _c('span', {
      staticClass: "after"
    }, [(l.remark) ? [_vm._v(_vm._s(l.remark))] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("空")])], 2)])]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("修改时间")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("修改人")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))])]), _vm._v(" "), (l.changeRemark) ? _c('tr', [_c('th', [_vm._v("修改备注")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.changeRemark))])]) : _vm._e()])]) : _vm._e()])
  }), 0) : _vm._e()]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "通卡同步",
      "width": "670",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.dlgView.memberCardSync),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "memberCardSync", $$v)
      },
      expression: "dlgView.memberCardSync"
    }
  }, [_c('div', {
    staticClass: "warning"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v("\n          通卡的创建和编辑，系统都会自动同步，无需本窗口的同步操作。仅仅当通卡未成功同步，才需手动强制同步。\n        ")]), _vm._v(" "), _c('div', {
    staticClass: "center",
    staticStyle: {
      "margin-top": "25px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary",
      "icon": "android-sync"
    },
    on: {
      "click": _vm.syncMemberCard
    }
  }, [_vm._v("开始同步")])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡种详细信息",
      "width": "840",
      "styles": {
        top: '10px'
      },
      "ok-text": "",
      "cancel-text": ""
    },
    model: {
      value: (_vm.dlgView.cardInfo),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "cardInfo", $$v)
      },
      expression: "dlgView.cardInfo"
    }
  }, [(_vm.dlg.selectCardId && _vm.dlgView.cardInfo) ? _c('card-info', {
    attrs: {
      "default-card-id": _vm.dlg.selectCardId,
      "default-readonly": true
    }
  }) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center",
    staticStyle: {
      "margin-top": "-30px"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    staticStyle: {
      "width": "200px"
    },
    on: {
      "click": function($event) {
        _vm.dlgView.cardInfo = false
      }
    }
  }, [_vm._v("关闭")])], 1)], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": '会员卡基础信息编辑 - ' + _vm.selectMc.cardName,
      "width": "600",
      "ok-text": "",
      "cancel-text": ""
    },
    model: {
      value: (_vm.dlgView.mcBaseInfo),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "mcBaseInfo", $$v)
      },
      expression: "dlgView.mcBaseInfo"
    }
  }, [_c('table', {
    staticClass: "tblform",
    attrs: {
      "width": "500"
    }
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("卡内号")]), _vm._v(" "), _c('td', [_c('input-int', {
    staticStyle: {
      "width": "100%"
    },
    attrs: {
      "placeholder": "请输入或读入实物卡号（选填）"
    },
    model: {
      value: (_vm.selectMc.cardNo),
      callback: function($$v) {
        _vm.$set(_vm.selectMc, "cardNo", _vm._n($$v))
      },
      expression: "selectMc.cardNo"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("卡表面号")]), _vm._v(" "), _c('td', [_c('input-int', {
    staticStyle: {
      "width": "100%"
    },
    attrs: {
      "placeholder": "请输入卡表面的数字号码（选填）"
    },
    model: {
      value: (_vm.selectMc.cardOutsideNo),
      callback: function($$v) {
        _vm.$set(_vm.selectMc, "cardOutsideNo", _vm._n($$v))
      },
      expression: "selectMc.cardOutsideNo"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("请假次数限制")]), _vm._v(" "), _c('td', [_c('input-int', {
    staticStyle: {
      "width": "120px"
    },
    attrs: {
      "placeholder": "本卡最多请假次数"
    },
    model: {
      value: (_vm.selectMc.limitVacationCount),
      callback: function($$v) {
        _vm.$set(_vm.selectMc, "limitVacationCount", _vm._n($$v))
      },
      expression: "selectMc.limitVacationCount"
    }
  }), _vm._v("\n               次\n              "), _c('help', [_vm._v("如果不设置将按照会员卡种类中的设置处理，否则按照此处的次数限制")])], 1)]), _vm._v(" "), _c('tr', [_c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("请假天数限制")]), _vm._v(" "), _c('td', [_c('input-int', {
    staticStyle: {
      "width": "120px"
    },
    attrs: {
      "placeholder": "本卡最多请假天数"
    },
    model: {
      value: (_vm.selectMc.limitVacationDays),
      callback: function($$v) {
        _vm.$set(_vm.selectMc, "limitVacationDays", _vm._n($$v))
      },
      expression: "selectMc.limitVacationDays"
    }
  }), _vm._v("\n               天\n              "), _c('help', [_vm._v("如果不设置将按照会员卡种类中的设置处理，否则按照此处的天数限制")])], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("卡所属人身份证")]), _vm._v(" "), _c('td', [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "本会员卡所属人的身份证号，选填"
    },
    model: {
      value: (_vm.selectMc.idNo),
      callback: function($$v) {
        _vm.$set(_vm.selectMc, "idNo", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "selectMc.idNo"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("会员卡备注")]), _vm._v(" "), _c('td', [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 5
    },
    model: {
      value: (_vm.selectMc.remark),
      callback: function($$v) {
        _vm.$set(_vm.selectMc, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "selectMc.remark"
    }
  })], 1)])]), _vm._v(" "), _c('div', {
    staticClass: "center form-submit",
    staticStyle: {
      "margin-top": "-5px"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.updateMemberCardBaseInfo
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlgView.mcBaseInfo = false
      }
    }
  }, [_vm._v("关闭")]), _vm._v(" "), _c('span', {
    staticStyle: {
      "color": "#fff"
    }
  }, [_vm._v(_vm._s(_vm.selectMc.cardTotalAmount))])], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡备注",
      "width": "600",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.dlgView.mcRemarkView),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "mcRemarkView", $$v)
      },
      expression: "dlgView.mcRemarkView"
    }
  }, [_c('div', {
    staticClass: "mc-remark-full"
  }, [_c('pre', [_vm._v(_vm._s(_vm.selectMc.remark))])])]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "充值时间修改日志",
      "width": "900"
    },
    model: {
      value: (_vm.dlgView.mcpTimeChangeLog),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "mcpTimeChangeLog", $$v)
      },
      expression: "dlgView.mcpTimeChangeLog"
    }
  }, [(_vm.mcpTimeChangeLogList && _vm.mcpTimeChangeLogList.length) ? _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "145"
    }
  }, [_vm._v("原充值时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "145"
    }
  }, [_vm._v("新充值时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "145"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', [_vm._v("备注")])]), _vm._v(" "), _vm._l((_vm.mcpTimeChangeLogList), function(log) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(log.oldTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.newTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.remark))])])
  })], 2)]) : _vm._e(), _vm._v(" "), (_vm.mcpTimeChangeLogList && !_vm.mcpTimeChangeLogList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n          暂无数据 "), _c('p'), _vm._v("（修改日志从 2020-10-20 起记录）\n        ")]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlgView.mcpTimeChangeLog = false
      }
    }
  }, [_vm._v("关闭")])], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡到期日期修改帮助",
      "width": "700",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.dlgView.mcEndDateChangeHelp),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "mcEndDateChangeHelp", $$v)
      },
      expression: "dlgView.mcEndDateChangeHelp"
    }
  }, [(_vm.dlgView.mcEndDateChangeHelp) ? _c('div', {
    staticClass: "mc-end-chg-help"
  }, [_c('span', {
    staticClass: "normal"
  }, [_vm._v("如果需要设置会员卡到期日期为  ")]), _vm._v(" "), _c('DatePicker', {
    staticStyle: {
      "width": "140px",
      "display": "inline-block"
    },
    attrs: {
      "type": "date",
      "placeholder": "请输入新到期日期"
    },
    model: {
      value: (_vm.mcEndDateNew),
      callback: function($$v) {
        _vm.mcEndDateNew = $$v
      },
      expression: "mcEndDateNew"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "normal"
  }, [_vm._v("，首推如下处理方法：")]), _vm._v(" "), _c('div', {
    staticClass: "normal p15"
  }, [_vm._v("\n            会员卡充值：充值金额为 0 元，充值天数为 "), (_vm.mcEndDateNew) ? _c('b', [_vm._v(_vm._s(_vm.g.Util.calcDateDiffDays(_vm.mcEndDateNew, _vm.mcEndDate)))]) : _c('span', {
    staticClass: "gray"
  }, [_vm._v("*")]), _vm._v(" 天\n            "), (_vm.mcEndDateNew) ? _c('span', {
    staticClass: "tips"
  }, [_vm._v("（ " + _vm._s(_vm.g.Util.formatDateForShort(_vm.mcEndDateNew)) + " - " + _vm._s(_vm.g.Util.formatDateForShort(_vm.mcEndDate)) + "）")]) : _vm._e()]), _vm._v(" "), (_vm.mcEndDateNew) ? _c('div', {
    staticClass: "mt20 form-submit center"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.openMcEndDateChangeRemarkDlg
    }
  }, [_vm._v("点击自动充值")]), _vm._v("\n             \n            "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlgView.mcEndDateChangeHelp = false
      }
    }
  }, [_vm._v("关闭")])], 1) : _vm._e()], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticStyle: {
      "display": "none"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡充值备注",
      "width": "550",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.dlgView.mcEndDateChangeRemark),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "mcEndDateChangeRemark", $$v)
      },
      expression: "dlgView.mcEndDateChangeRemark"
    }
  }, [_c('i-input', {
    staticStyle: {
      "display": "block"
    },
    attrs: {
      "type": "textarea",
      "rows": 4,
      "placeholder": "请输入充值备注"
    },
    model: {
      value: (_vm.mcRechargeRemark),
      callback: function($$v) {
        _vm.mcRechargeRemark = $$v
      },
      expression: "mcRechargeRemark"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    staticClass: "long-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submitMcPaymentCreate
    }
  }, [_vm._v("提交")])], 1)], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡转卡记录",
      "width": "650",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.dlgView.cardTransferLog),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "cardTransferLog", $$v)
      },
      expression: "dlgView.cardTransferLog"
    }
  }, [(_vm.dlgView.cardTransferLog) ? [_c('member-card-transfer-log', {
    attrs: {
      "mc-id": _vm.selectMcId
    }
  })] : _vm._e()], 2), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡剩余值计算详细",
      "width": "770",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.dlgView.mcValueDetailDlg),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "mcValueDetailDlg", $$v)
      },
      expression: "dlgView.mcValueDetailDlg"
    }
  }, [(_vm.dlgView.mcValueDetailDlg) ? [_c('member-card-value-detail', {
    attrs: {
      "mc-id": _vm.selectMcId,
      "afterCorrectMemberCardCurrentValue": _vm.updateMemberCardCurrentValue
    }
  })] : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center form-submit",
    staticStyle: {
      "margin-top": "-5px"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlgView.mcValueDetailDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)], 2)], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('span', {
    staticClass: "add-card-tips"
  }, [_c('span', {
    staticClass: "icon"
  }, [_vm._v("◀")]), _vm._v(" 会员购买新卡时使用（例如，购买私教课卡，团课卡或其他种类的卡）")])
}]}

/***/ }),

/***/ 2113:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('i-button', {
    attrs: {
      "icon": "plus",
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.openOrgDlg(null)
      }
    }
  }, [_vm._v("添加单位")]), _vm._v(" "), _c('div', {
    staticClass: "mytbl p15"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.memberOrgList), function(o, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(o.orgName))]), _vm._v(" "), _c('td', [(_vm.editable) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openOrgDlg(idx)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.delMemberOrg(idx)
        }
      }
    }, [_vm._v("删除")])])]) : _vm._e()])])
  })], 2)]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "单位编辑",
      "width": "400"
    },
    model: {
      value: (_vm.orgDlgView),
      callback: function($$v) {
        _vm.orgDlgView = $$v
      },
      expression: "orgDlgView"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "请输入单位名称"
    },
    model: {
      value: (_vm.orgName),
      callback: function($$v) {
        _vm.orgName = $$v
      },
      expression: "orgName"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "center p15"
  }, [_c('i-button', {
    staticClass: "primray",
    staticStyle: {
      "width": "100px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submit
    }
  }, [_vm._v("提交")])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("单位名称")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("操作")])])
}]}

/***/ }),

/***/ 2114:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-card-consume-llist"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [(_vm.queryPermit) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员卡剩余额检查")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_vm._v("\n\t\t\t\t\t共查询到 " + _vm._s(_vm.mcCount) + " 条记录\n\t\t\t\t")])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('div', [_c('radio-group', {
    model: {
      value: (_vm.query.cardType),
      callback: function($$v) {
        _vm.$set(_vm.query, "cardType", _vm._n($$v))
      },
      expression: "query.cardType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("次数卡")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 3
    }
  }, [_vm._v("储值卡")])], 1), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.query.isFocusCheck),
      callback: function($$v) {
        _vm.$set(_vm.query, "isFocusCheck", $$v)
      },
      expression: "query.isFocusCheck"
    }
  }, [_vm._v("筛选重点检查")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.query.ignoreEmptyValue),
      callback: function($$v) {
        _vm.$set(_vm.query, "ignoreEmptyValue", $$v)
      },
      expression: "query.ignoreEmptyValue"
    }
  }, [_vm._v("忽略0剩余")]), _vm._v("\n\t\t\t\t\t \n\t\t\t\t\t"), _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.queryMemberCardList(null)
      }
    }
  }, [_vm._v("确定")])], 1), _vm._v(" "), _c('table', {
    staticClass: "mt15"
  }, [_vm._m(0), _vm._v(" "), _vm._l((_vm.mcList), function(mc, idx) {
    return _c('tr', [_c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMemberInfo(mc.memberId)
        }
      }
    }, [_vm._v(_vm._s(mc.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(mc.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(mc.createTime))]), _vm._v(" "), _c('td', [(mc.cardType === 2 || mc.cardType === 4) ? [_vm._v(_vm._s(mc.cardTotalTimes || 0))] : (mc.cardType === 3) ? [_vm._v(_vm._s(mc.cardTotalAmount || 0))] : _vm._e(), _vm._v("\n\t\t\t\t\t\t\t" + _vm._s(_vm.g.Dict.CardUnitName[mc.cardType]) + "\n\t\t\t\t\t\t")], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(mc.transFromValue || 0) + " " + _vm._s(_vm.g.Dict.CardUnitName[mc.cardType]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(mc.transToValue || 0) + " " + _vm._s(_vm.g.Dict.CardUnitName[mc.cardType]))]), _vm._v(" "), _c('td', [(mc.consumeValue) ? _c('a', {
      on: {
        "click": function($event) {
          return _vm.viewMemberCardConsumeRecords(mc)
        }
      }
    }, [_vm._v(_vm._s(mc.consumeValue) + " " + _vm._s(_vm.g.Dict.CardUnitName[mc.cardType]))]) : _c('span', {
      staticClass: "gray"
    }, [_vm._v("0 " + _vm._s(_vm.g.Dict.CardUnitName[mc.cardType]))])]), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(mc.calcCurrentValue) + " " + _vm._s(_vm.g.Dict.CardUnitName[mc.cardType]) + "\n\t\t\t\t\t\t")]), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(mc.currentValue) + " " + _vm._s(_vm.g.Dict.CardUnitName[mc.cardType]) + "\n\t\t\t\t\t\t\t"), (mc.calcCurrentValue !== mc.currentValue) ? _c('div', {
      staticClass: "diff"
    }, [_vm._v("\n\t\t\t\t\t\t\t\t与计算剩余值"), _c('b', [_vm._v(_vm._s(mc.calcCurrentValue))]), _vm._v("不一致（相差 "), _c('b', [_vm._v(_vm._s(_vm.g.Util.round(mc.currentValue - mc.calcCurrentValue)))]), _vm._v("），\n\t\t\t\t\t\t\t\t"), (mc.calcCurrentValue >= 0) ? _c('a', {
      staticClass: "opt",
      on: {
        "click": function($event) {
          return _vm.correctMemberCardCurrentValue(idx)
        }
      }
    }, [_vm._v("点击自动纠正")]) : [_vm._v("很可能是导入会员时无充值记录所致")]], 2) : _c('span', {
      staticClass: "l10"
    }, [_c('i', {
      staticClass: "iconfont icon-check2 green bigger"
    })])])])
  })], 2)]), _vm._v(" "), (_vm.mcList && !_vm.mcList.length) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e(), _vm._v(" "), (_vm.mcCount && _vm.mcCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.mcCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMemberCardList
    }
  })], 1) : _vm._e()]) : _c('div', {
    staticClass: "warning"
  }, [_vm._v("\n\t\t\t仅对店长角色开放此功能\n\t\t")])]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.selectMemberId
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": '会员卡消费记录 - ' + _vm.selectMc.cardName,
      "width": "1050",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.mcConsumeRecordsDlg),
      callback: function($$v) {
        _vm.mcConsumeRecordsDlg = $$v
      },
      expression: "mcConsumeRecordsDlg"
    }
  }, [(_vm.selectMc && _vm.mcConsumeRecordsDlg) ? [_c('member-card-consume-records', {
    attrs: {
      "member-card": _vm.selectMc
    }
  })] : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "form-submit center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    staticClass: "long-btn",
    on: {
      "click": function($event) {
        _vm.mcConsumeRecordsDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)], 2)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    staticStyle: {
      "min-width": "60px"
    }
  }, [_vm._v("会员名")]), _vm._v(" "), _c('th', {
    staticStyle: {
      "min-width": "60px"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "145"
    }
  }, [_vm._v("创建时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("总充值")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("转卡转入")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("转卡转出")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("总消费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("计算剩余值 "), _c('a', {
    staticClass: "th-help",
    attrs: {
      "title": "计算剩余值 = 总充值 + 转卡转入 - 转卡转出 - 总消费"
    }
  }, [_vm._v("?")])]), _vm._v(" "), _c('th', [_vm._v("会员卡剩余值 "), _c('a', {
    staticClass: "th-help",
    attrs: {
      "title": "会员卡显示的剩余值（次或元）"
    }
  }, [_vm._v("?")])])])
}]}

/***/ }),

/***/ 2117:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "tblform"
  }, [_c('table', [_c('tr', [_c('th', [_vm._v("原金额")]), _c('td', [_c('input-num', {
    staticClass: "input",
    on: {
      "blur": _vm.calcNewAmount
    },
    model: {
      value: (_vm.oldAmount),
      callback: function($$v) {
        _vm.oldAmount = $$v
      },
      expression: "oldAmount"
    }
  }), _vm._v("  元")], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("费率")]), _vm._v(" "), _c('td', [_c('input-num', {
    staticClass: "input",
    on: {
      "blur": _vm.calcNewAmount
    },
    model: {
      value: (_vm.feeRate),
      callback: function($$v) {
        _vm.feeRate = $$v
      },
      expression: "feeRate"
    }
  }), _vm._v("  %\n\t\t\t\t\t"), (_vm.favRates && _vm.favRates.length) ? _c('ul', {
    staticClass: "rates"
  }, _vm._l((_vm.favRates), function(r) {
    return _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.seletRate(r)
        }
      }
    }, [_vm._v(_vm._s(r) + "%")])])
  }), 0) : _vm._e()], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("新金额")]), _vm._v(" "), _c('td', [(_vm.newAmount) ? [_c('b', {
    staticClass: "biggest"
  }, [_vm._v(_vm._s(_vm.newAmount))]), _vm._v(" 元")] : _c('i', {
    staticClass: "gray"
  }, [_vm._v("无")])], 2)]), _vm._v(" "), _c('tr', [_c('th'), _vm._v(" "), _c('td', [_c('i-button', {
    staticClass: "confirm",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.confirm
    }
  }, [_vm._v("确定")])], 1)])])])
},staticRenderFns: []}

/***/ }),

/***/ 2125:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-notice"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('section', [_vm._m(0), _vm._v(" "), _c('div', {
    staticClass: "list"
  }, [_c('ul', {
    staticClass: "items"
  }, [_c('li', [_c('label', [_vm._v("当员工新建会员时：")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.noticeArg.createMemberSmsToMemberEnable),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg, "createMemberSmsToMemberEnable", $$v)
      },
      expression: "noticeArg.createMemberSmsToMemberEnable"
    }
  }, [_vm._v("给会员发短信通知")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.noticeArg.createMemberSmsToShopOwnerEnable),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg, "createMemberSmsToShopOwnerEnable", $$v)
      },
      expression: "noticeArg.createMemberSmsToShopOwnerEnable"
    }
  }, [_vm._v("给店长发短信通知")])], 1), _vm._v(" "), _c('li', [_vm._v("\n\t\t\t\t\t\t给会员创建或充值会员卡时，当实收金额低于充值金额（原价）的 "), _c('input', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: (_vm.noticeArg.memberCardPaymentNoticeRate),
      expression: "noticeArg.memberCardPaymentNoticeRate"
    }],
    staticClass: "underline-input",
    attrs: {
      "type": "number"
    },
    domProps: {
      "value": (_vm.noticeArg.memberCardPaymentNoticeRate)
    },
    on: {
      "input": function($event) {
        if ($event.target.composing) { return; }
        _vm.$set(_vm.noticeArg, "memberCardPaymentNoticeRate", $event.target.value)
      }
    }
  }), _vm._v(" % 时发短信通知店长\n\t\t\t\t\t")]), _vm._v(" "), _c('li', [_c('label', [_vm._v("给会员创办会员卡时：")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.noticeArg.memberCardCreateSmsToMember),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg, "memberCardCreateSmsToMember", $$v)
      },
      expression: "noticeArg.memberCardCreateSmsToMember"
    }
  }, [_vm._v("给会员发短信通知")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.noticeArg.memberCardCreateSmsToShopOwner),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg, "memberCardCreateSmsToShopOwner", $$v)
      },
      expression: "noticeArg.memberCardCreateSmsToShopOwner"
    }
  }, [_vm._v("给店长发短信通知")])], 1), _vm._v(" "), _c('li', [_c('label', [_vm._v("给会员充值会员卡时：")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.noticeArg.memberCardPaymentSmsToMember),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg, "memberCardPaymentSmsToMember", $$v)
      },
      expression: "noticeArg.memberCardPaymentSmsToMember"
    }
  }, [_vm._v("给会员发短信通知")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.noticeArg.memberCardPaymentSmsToShopOwner),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg, "memberCardPaymentSmsToShopOwner", $$v)
      },
      expression: "noticeArg.memberCardPaymentSmsToShopOwner"
    }
  }, [_vm._v("给店长发短信通知")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "block"
  }, [_vm._v("\n\t\t\t\t\t给店长发送短信时，额外发送给  \n\t\t\t\t\t"), _c('i-select', {
    staticStyle: {
      "width": "600px"
    },
    attrs: {
      "placeholder": "请选择更多员工",
      "filterable": "",
      "multiple": ""
    },
    model: {
      value: (_vm.noticeArg.memberNoticeToStaffs),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg, "memberNoticeToStaffs", $$v)
      },
      expression: "noticeArg.memberNoticeToStaffs"
    }
  }, _vm._l((_vm.staffList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1)]), _vm._v(" "), _vm._m(1)]), _vm._v(" "), _c('section', [_vm._m(2), _vm._v(" "), _c('div', {
    staticClass: "conf"
  }, [_c('div', {
    staticClass: "opt"
  }, [_vm._v("\n\t\t\t\t\t短信提醒：\n\t\t\t\t\t"), _c('radio-group', {
    model: {
      value: (_vm.noticeArg.memberBirthdaySmsEnable),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg, "memberBirthdaySmsEnable", $$v)
      },
      expression: "noticeArg.memberBirthdaySmsEnable"
    }
  }, [_c('radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("不提醒")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("提醒会员和员工")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("仅提醒会员")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 3
    }
  }, [_vm._v("仅提醒员工")])], 1), _vm._v(" "), (_vm.noticeArg.memberBirthdaySmsEnable == 1 || _vm.noticeArg.memberBirthdaySmsEnable == 2) ? _c('span', {
    staticClass: "l15"
  }, [_c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.updateShopArg(2069, _vm.onlyNoticeValidMemberBirthday)
      }
    },
    model: {
      value: (_vm.onlyNoticeValidMemberBirthday),
      callback: function($$v) {
        _vm.onlyNoticeValidMemberBirthday = $$v
      },
      expression: "onlyNoticeValidMemberBirthday"
    }
  }, [_vm._v("提醒会员时仅包括有效会员")])], 1) : _vm._e()], 1), _vm._v(" "), (_vm.noticeArg.memberBirthdaySmsEnable == 1 || _vm.noticeArg.memberBirthdaySmsEnable == 2) ? [_vm._m(3), _vm._v(" "), _c('Radio-group', {
    staticClass: "tmpt",
    attrs: {
      "vertical": ""
    },
    model: {
      value: (_vm.noticeArg.memberBirthdayTmptId),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg, "memberBirthdayTmptId", $$v)
      },
      expression: "noticeArg.memberBirthdayTmptId"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v(" 亲爱的"), _c('span', {
    staticClass: "gray"
  }, [_vm._v("#会员名#")]), _vm._v("，" + _vm._s(_vm.g.data.shop.shopName) + "全体员工祝您生日快乐、身体健康、工作顺利！")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v(" 亲，今天是您的生日，" + _vm._s(_vm.g.data.shop.shopName) + "从未忘记在这特别的日子祝福您：生日快乐、身体健康！")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 3
    }
  }, [_vm._v(" 亲爱的"), _c('span', {
    staticClass: "gray"
  }, [_vm._v("#会员名#")]), _vm._v("，小店" + _vm._s(_vm.g.data.shop.shopName) + "掐指一算得知今天是您生日，小店代表全体员工祝您生日快乐！")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 4
    }
  }, [_vm._v(" 亲爱的"), _c('span', {
    staticClass: "gray"
  }, [_vm._v("#会员名#")]), _vm._v("，今天是您的生日，" + _vm._s(_vm.g.data.shop.shopName) + "祝您生日快乐、身体健康。我们特别为您准备了一份精美的生日礼物，请您今天带上您的会员卡到店领取。")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 5
    }
  }, [_vm._v(" 亲爱的"), _c('span', {
    staticClass: "gray"
  }, [_vm._v("#会员名#")]), _vm._v("小朋友，生日快乐！" + _vm._s(_vm.g.data.shop.shopName) + "全体老师祝你在每个成长的日子里都开开心心、健康快乐！")])], 1)] : _vm._e(), _vm._v(" "), (_vm.noticeArg.memberBirthdaySmsEnable == 1 || _vm.noticeArg.memberBirthdaySmsEnable == 3) ? _c('div', {
    class: {
      'reminder-staff': true,
      'break-line': _vm.noticeArg.memberBirthdaySmsEnable == 1
    }
  }, [_vm._v("\n\t\t\t\t\t员工提醒设置："), _c('help', [_vm._v("会员生日提醒除了自动发给会员外，还可以选择发给附加通知人（相同的人不会重复发）。")]), _vm._v("\n\t\t\t\t\t \n\t\t\t\t\t"), _c('checkbox', {
    model: {
      value: (_vm.reminderStaffs[0]),
      callback: function($$v) {
        _vm.$set(_vm.reminderStaffs, 0, $$v)
      },
      expression: "reminderStaffs[0]"
    }
  }, [_vm._v("管理员")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.reminderStaffs[1]),
      callback: function($$v) {
        _vm.$set(_vm.reminderStaffs, 1, $$v)
      },
      expression: "reminderStaffs[1]"
    }
  }, [_vm._v("店长")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.reminderStaffs[2]),
      callback: function($$v) {
        _vm.$set(_vm.reminderStaffs, 2, $$v)
      },
      expression: "reminderStaffs[2]"
    }
  }, [_vm._v("教练")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.reminderStaffs[3]),
      callback: function($$v) {
        _vm.$set(_vm.reminderStaffs, 3, $$v)
      },
      expression: "reminderStaffs[3]"
    }
  }, [_vm._v("会籍顾问")]), _vm._v("  \n\t\t\t\t\t提前"), _c('input-int', {
    staticClass: "input",
    attrs: {
      "placeholder": "选填"
    },
    model: {
      value: (_vm.memberBirthdayAdvanceReminderDays),
      callback: function($$v) {
        _vm.memberBirthdayAdvanceReminderDays = $$v
      },
      expression: "memberBirthdayAdvanceReminderDays"
    }
  }), _vm._v("天通知\n\t\t\t\t\t"), _c('span', {
    staticClass: "l15"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveMemberBirthdayReminderStaffs
    }
  }, [_vm._v("确定")])], 1)], 1) : _vm._e()], 2)]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员卡期限提醒\n\t\t\t\t\t"), _c('help', [_vm._v("当会员的会员卡使用期限剩余 * 天时，系统可提醒会员")])], 1), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.noticeArg.memberCardSmsEnable) ? _c('div', {
    staticClass: "card-reminder-staff"
  }, [_c('help', [_vm._v("会员卡期限提醒除了自动发给会员外，还可以选择发给附加通知人（相同的人不会重复发）。")]), _vm._v("\n\t\t\t\t\t\t附加通知人： \n\t\t\t\t\t\t"), _c('checkbox', {
    model: {
      value: (_vm.memberCardNoticeStaffs[0]),
      callback: function($$v) {
        _vm.$set(_vm.memberCardNoticeStaffs, 0, $$v)
      },
      expression: "memberCardNoticeStaffs[0]"
    }
  }, [_vm._v("管理员")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.memberCardNoticeStaffs[1]),
      callback: function($$v) {
        _vm.$set(_vm.memberCardNoticeStaffs, 1, $$v)
      },
      expression: "memberCardNoticeStaffs[1]"
    }
  }, [_vm._v("店长")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.memberCardNoticeStaffs[2]),
      callback: function($$v) {
        _vm.$set(_vm.memberCardNoticeStaffs, 2, $$v)
      },
      expression: "memberCardNoticeStaffs[2]"
    }
  }, [_vm._v("教练")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.memberCardNoticeStaffs[3]),
      callback: function($$v) {
        _vm.$set(_vm.memberCardNoticeStaffs, 3, $$v)
      },
      expression: "memberCardNoticeStaffs[3]"
    }
  }, [_vm._v("会籍顾问")]), _vm._v("\n\t\t\t\t\t\t \n\t\t\t\t\t\t"), _c('i-button', {
    attrs: {
      "size": "small"
    },
    on: {
      "click": function($event) {
        return _vm.saveReminderStaffs(_vm.memberCardNoticeStaffs, 2053)
      }
    }
  }, [_vm._v("确定")])], 1) : _vm._e()])]), _vm._v(" "), _c('div', {
    staticClass: "conf"
  }, [_vm._v("\n\t\t\t\t短信提醒：\n\t\t\t\t"), _c('i-switch', {
    attrs: {
      "size": "large"
    },
    model: {
      value: (_vm.noticeArg.memberCardSmsEnable),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg, "memberCardSmsEnable", $$v)
      },
      expression: "noticeArg.memberCardSmsEnable"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("开")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("关")])]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n\t\t\t\t设置需提醒的剩余天数：\n\t\t\t\t"), _c('span', {
    staticClass: "days-conf"
  }, [_c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberCardSmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberCardNoticeDays[0]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberCardNoticeDays, 0, $$v)
      },
      expression: "noticeArg.memberCardNoticeDays[0]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberCardSmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberCardNoticeDays[1]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberCardNoticeDays, 1, $$v)
      },
      expression: "noticeArg.memberCardNoticeDays[1]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberCardSmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberCardNoticeDays[2]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberCardNoticeDays, 2, $$v)
      },
      expression: "noticeArg.memberCardNoticeDays[2]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")])], 1)], 1)]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员卡最迟开卡日期提醒\n\t\t\t\t\t"), _c('help', [_vm._v("当会员的会员卡距离最迟开卡日期 * 天时，系统可提醒会员")])], 1), _vm._v(" "), _c('div', {
    staticClass: "r"
  })]), _vm._v(" "), _c('div', {
    staticClass: "conf"
  }, [_vm._v("\n\t\t\t\t短信提醒：\n\t\t\t\t"), _c('i-switch', {
    attrs: {
      "size": "large"
    },
    model: {
      value: (_vm.noticeArg.memberCardLimitBeginDateSmsEnable),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg, "memberCardLimitBeginDateSmsEnable", $$v)
      },
      expression: "noticeArg.memberCardLimitBeginDateSmsEnable"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("开")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("关")])]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n\t\t\t\t设置需提醒的距离天数：\n\t\t\t\t"), _c('span', {
    staticClass: "days-conf"
  }, [_c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberCardLimitBeginDateSmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberCardLimitBeginDateDays[0]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberCardLimitBeginDateDays, 0, $$v)
      },
      expression: "noticeArg.memberCardLimitBeginDateDays[0]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberCardLimitBeginDateSmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberCardLimitBeginDateDays[1]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberCardLimitBeginDateDays, 1, $$v)
      },
      expression: "noticeArg.memberCardLimitBeginDateDays[1]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberCardLimitBeginDateSmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberCardLimitBeginDateDays[2]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberCardLimitBeginDateDays, 2, $$v)
      },
      expression: "noticeArg.memberCardLimitBeginDateDays[2]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")])], 1)], 1)]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员卡请假到期提醒\n\t\t\t\t\t"), _c('help', [_vm._v("当会员的会员卡请假还剩余 * 天时，系统可提醒会员")])], 1), _vm._v(" "), _c('div', {
    staticClass: "r"
  })]), _vm._v(" "), _c('div', {
    staticClass: "conf"
  }, [_vm._v("\n\t\t\t\t短信提醒：\n\t\t\t\t"), _c('i-switch', {
    attrs: {
      "size": "large"
    },
    model: {
      value: (_vm.noticeArg.memberCardVacationSmsEnable),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg, "memberCardVacationSmsEnable", $$v)
      },
      expression: "noticeArg.memberCardVacationSmsEnable"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("开")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("关")])]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n\t\t\t\t设置需提醒的距离天数：\n\t\t\t\t"), _c('span', {
    staticClass: "days-conf"
  }, [_c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberCardVacationSmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberCardVacationDays[0]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberCardVacationDays, 0, $$v)
      },
      expression: "noticeArg.memberCardVacationDays[0]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberCardVacationSmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberCardVacationDays[1]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberCardVacationDays, 1, $$v)
      },
      expression: "noticeArg.memberCardVacationDays[1]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberCardVacationSmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberCardVacationDays[2]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberCardVacationDays, 2, $$v)
      },
      expression: "noticeArg.memberCardVacationDays[2]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")])], 1)], 1)]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员团课出勤提醒\n\t\t\t\t\t"), _c('help', [_vm._v("\n\t\t\t\t\t\t当距离会员上次上团课 * 天时，系统可提醒会员\n\t\t\t\t\t\t"), _c('a', {
    attrs: {
      "title": '尊敬的***，您有**天没来本馆上课了，期待您经常来上课。 - [' + _vm.g.data.shop.shopName + ']'
    }
  }, [_c('i', {
    staticClass: "icon-svginfor big orange iconfont"
  })])])], 1), _vm._v(" "), _c('div', {
    staticClass: "r"
  })]), _vm._v(" "), _c('div', {
    staticClass: "conf"
  }, [_vm._v("\n\t\t\t\t短信提醒：\n\t\t\t\t"), _c('i-switch', {
    attrs: {
      "size": "large"
    },
    model: {
      value: (_vm.noticeArg.memberGcLessonSmsEnable),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg, "memberGcLessonSmsEnable", $$v)
      },
      expression: "noticeArg.memberGcLessonSmsEnable"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("开")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("关")])]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n\t\t\t\t设置需提醒的天数：\n\t\t\t\t"), _c('span', {
    staticClass: "days-conf"
  }, [_c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberGcLessonSmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberGcLessonNoticeDays[0]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberGcLessonNoticeDays, 0, $$v)
      },
      expression: "noticeArg.memberGcLessonNoticeDays[0]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberGcLessonSmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberGcLessonNoticeDays[1]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberGcLessonNoticeDays, 1, $$v)
      },
      expression: "noticeArg.memberGcLessonNoticeDays[1]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberGcLessonSmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberGcLessonNoticeDays[2]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberGcLessonNoticeDays, 2, $$v)
      },
      expression: "noticeArg.memberGcLessonNoticeDays[2]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")])], 1)], 1)]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员私教课出勤提醒\n\t\t\t\t\t"), _c('help', [_vm._v("\n\t\t\t\t\t\t当距离会员上次上私教课 * 天时， 系统可提醒会员\n\t\t\t\t\t\t"), _c('a', {
    attrs: {
      "title": '尊敬的***，您有**天没来本馆上课了，期待您经常来上课。-[' + _vm.g.data.shop.shopName + ']'
    }
  }, [_c('i', {
    staticClass: "icon-svginfor big orange iconfont"
  })])])], 1), _vm._v(" "), _c('div', {
    staticClass: "r"
  })]), _vm._v(" "), _c('div', {
    staticClass: "conf"
  }, [_vm._v("\n\t\t\t\t短信提醒：\n\t\t\t\t"), _c('i-switch', {
    attrs: {
      "size": "large"
    },
    model: {
      value: (_vm.noticeArg.memberPcLessonSmsEnable),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg, "memberPcLessonSmsEnable", $$v)
      },
      expression: "noticeArg.memberPcLessonSmsEnable"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("开")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("关")])]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n\t\t\t\t设置需提醒的天数：\n\t\t\t\t"), _c('span', {
    staticClass: "days-conf"
  }, [_c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberPcLessonSmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberPcLessonNoticeDays[0]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberPcLessonNoticeDays, 0, $$v)
      },
      expression: "noticeArg.memberPcLessonNoticeDays[0]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberPcLessonSmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberPcLessonNoticeDays[1]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberPcLessonNoticeDays, 1, $$v)
      },
      expression: "noticeArg.memberPcLessonNoticeDays[1]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberPcLessonSmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberPcLessonNoticeDays[2]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberPcLessonNoticeDays, 2, $$v)
      },
      expression: "noticeArg.memberPcLessonNoticeDays[2]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")])], 1)], 1)]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员入场锻炼提醒\n\t\t\t\t\t"), _c('help', [_vm._v("\n\t\t\t\t\t\t当距离会员上次入场签到 * 天时，系统可提醒会员\n\t\t\t\t\t\t"), _c('a', {
    attrs: {
      "title": '尊敬的***，您有**天没来本馆锻炼了，期待您经常来锻炼- [' + _vm.g.data.shop.shopName + ']'
    }
  }, [_c('i', {
    staticClass: "icon-svginfor big orange iconfont"
  })])])], 1), _vm._v(" "), _c('div', {
    staticClass: "r"
  })]), _vm._v(" "), _c('div', {
    staticClass: "conf"
  }, [_vm._v("\n\t\t\t\t短信提醒：\n\t\t\t\t"), _c('i-switch', {
    attrs: {
      "size": "large"
    },
    model: {
      value: (_vm.noticeArg.memberEntrySmsEnable),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg, "memberEntrySmsEnable", $$v)
      },
      expression: "noticeArg.memberEntrySmsEnable"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("开")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("关")])]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n\t\t\t\t设置需提醒的天数：\n\t\t\t\t"), _c('span', {
    staticClass: "days-conf"
  }, [_c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberEntrySmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberEntryNoticeDays[0]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberEntryNoticeDays, 0, $$v)
      },
      expression: "noticeArg.memberEntryNoticeDays[0]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberEntrySmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberEntryNoticeDays[1]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberEntryNoticeDays, 1, $$v)
      },
      expression: "noticeArg.memberEntryNoticeDays[1]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.noticeArg.memberEntrySmsEnable
    },
    model: {
      value: (_vm.noticeArg.memberEntryNoticeDays[2]),
      callback: function($$v) {
        _vm.$set(_vm.noticeArg.memberEntryNoticeDays, 2, $$v)
      },
      expression: "noticeArg.memberEntryNoticeDays[2]"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")])], 1)], 1)]), _vm._v(" "), _c('section', [_c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.updateShopArg(2047, _vm.ignoreCrossMember)
      }
    },
    model: {
      value: (_vm.ignoreCrossMember),
      callback: function($$v) {
        _vm.ignoreCrossMember = $$v
      },
      expression: "ignoreCrossMember"
    }
  }, [_vm._v("忽略跨店会员的提醒")]), _vm._v(" "), _c('span', {
    staticClass: "help-tips"
  }, [_vm._v("（勾选后，除【会员操作提醒】外的其余提醒，将忽略跨店会员）")])], 1), _vm._v(" "), _vm._m(4), _vm._v(" "), _c('div', {
    staticClass: "form-submit-bottom"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.updateNoticeArg
    }
  }, [_vm._v("保存")])], 1), _vm._v(" "), _vm._m(5)])])])])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员操作提醒")]), _vm._v(" "), _c('div', {
    staticClass: "r help-tips small"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" 修改后需点击最下方的保存")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "sec-remark"
  }, [_c('b', [_vm._v("备注")]), _vm._v("：上述【店长】特指员工列表中排序第一的店长角色；下同。\n\t\t\t")])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit l"
  }, [_vm._v("会员生日提醒")]), _vm._v(" "), _c('div', {
    staticClass: "r help-tips small"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v("  修改后需点击最下方的保存")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "subtit"
  }, [_vm._v("选择会员提醒短信内容模板: "), _c('span', {
    staticClass: "gray"
  }, [_vm._v("（##之间的内容为变量，实际发送短信时会自动替换为真实的内容）")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('section', {
    staticClass: "remark"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit-help"
  }, [_vm._v("您需要知道的")])]), _vm._v(" "), _c('ol', [_c('li', [_vm._v("系统会在每天 7:00 ~ 8:00 检查符合条件的会员，然后发送消息；")]), _vm._v(" "), _c('li', [_vm._v("提醒天数可设置多个，如果为空，则不作检查和提醒；")])])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('td', {
    staticClass: "small",
    attrs: {
      "align": "right"
    }
  }, [_c('a', {
    attrs: {
      "href": "#/sms-log"
    }
  }, [_vm._v("短信发送记录 →")])])
}]}

/***/ }),

/***/ 2126:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('page-header', {
    attrs: {
      "title": _vm.memberName,
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('ul', {
    staticClass: "query-cond-inline"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("签到日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "-date",
    attrs: {
      "type": "date",
      "placeholder": "开始日期"
    },
    model: {
      value: (_vm.query.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "beginDate", $$v)
      },
      expression: "query.beginDate"
    }
  }), _vm._v("\n\t\t\t\t\t~\n\t\t\t\t\t"), _c('date-picker', {
    staticClass: "-date",
    attrs: {
      "type": "date",
      "placeholder": "结束日期"
    },
    model: {
      value: (_vm.query.endDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "endDate", $$v)
      },
      expression: "query.endDate"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("入场时长（分钟）")]), _vm._v(" "), _c('input-int', {
    staticClass: "duration",
    model: {
      value: (_vm.query.durationBegin),
      callback: function($$v) {
        _vm.$set(_vm.query, "durationBegin", $$v)
      },
      expression: "query.durationBegin"
    }
  }), _vm._v(" ~\n\t\t\t\t\t"), _c('input-int', {
    staticClass: "duration",
    model: {
      value: (_vm.query.durationEnd),
      callback: function($$v) {
        _vm.$set(_vm.query, "durationEnd", $$v)
      },
      expression: "query.durationEnd"
    }
  })], 1)]), _vm._v(" "), _c('ul', {
    staticClass: "query-cond-inline",
    staticStyle: {
      "padding-bottom": "0"
    }
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("签到用卡")]), _vm._v(" "), _c('i-select', {
    staticStyle: {
      "width": "500px"
    },
    attrs: {
      "placeholder": "可选择多张会员卡",
      "multiple": ""
    },
    model: {
      value: (_vm.query.mcIdList),
      callback: function($$v) {
        _vm.$set(_vm.query, "mcIdList", $$v)
      },
      expression: "query.mcIdList"
    }
  }, _vm._l((_vm.memberCardList), function(c) {
    return _c('i-option', {
      key: 'card_' + c.mcId,
      attrs: {
        "value": c.mcId,
        "label": c.cardName
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(c.cardName) + "\n\t\t\t\t\t\t\t"), (c.beginDate) ? _c('div', {
      staticClass: "gray p5"
    }, [_vm._v(_vm._s(_vm.g.Util.formatDateForShort(c.beginDate, false)) + " ~ " + _vm._s(_vm.g.Util.formatDateForShort(c.endDate, false)))]) : _vm._e()])
  }), 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.queryEntryCheckin(null)
      }
    }
  }, [_vm._v("查询")])], 1)])]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "tbl-header"
  }, [_c('div', {
    staticClass: "l"
  }, [_vm._v("\n\t\t\t\t\t查询到 "), _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.totalCount))]), _vm._v(" 次入场记录\n\t\t\t\t")])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.mecList), function(m, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(m.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.shopName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.checkinCount))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.cardName)), (m.mcRemark) ? _c('div', {
      staticClass: "gray p5"
    }, [_vm._v(_vm._s(m.mcRemark))]) : _vm._e()]), _vm._v(" "), _c('td', [(!_vm.g.Util.isEmpty(m.cardType)) ? [_vm._v(_vm._s(_vm.g.Dict.CardType[m.cardType]))] : _vm._e()], 2), _vm._v(" "), _c('td', [(m.checkoutTime) ? [_vm._v(_vm._s(m.updateUname))] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.checkoutTime))]), _vm._v(" "), _c('td', [(m.checkoutTime) ? [_vm._v(_vm._s(m.duration) + " "), _c('span', {
      staticClass: "gray"
    }, [_vm._v("分钟")])] : _vm._e()], 2), _vm._v(" "), _c('td', [(m.paymentItemName) ? [_vm._v(_vm._s(m.paymentItemName))] : _vm._e(), _vm._v(" "), (m.cardType === 1) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("期限卡不计费")]) : (!_vm.g.Util.isEmpty(m.cardPayment)) ? _c('span', [_vm._v(_vm._s(m.cardPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[m.cardType]))]) : _c('i', {
      staticClass: "gray"
    }, [_vm._v("尚未结算")])], 2)])
  })], 2), _vm._v(" "), (_vm.totalCount && _vm.totalCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.totalCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.changePageNo
    }
  })], 1) : _vm._e(), _vm._v(" "), (!_vm.totalCount) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()])])], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("签到时间  ↓")]), _vm._v(" "), _c('th', [_vm._v("签到操作人")]), _vm._v(" "), _c('th', [_vm._v("签到门店")]), _vm._v(" "), _c('th', [_vm._v("签到人次")]), _vm._v(" "), _c('th', [_vm._v("签到用卡")]), _vm._v(" "), _c('th', [_vm._v("卡类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("签出操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("签出时间")]), _vm._v(" "), _c('th', [_vm._v("入场时长")]), _vm._v(" "), _c('th', [_vm._v("签到消费")])])
}]}

/***/ }),

/***/ 2136:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-opt-log"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', {
    staticClass: "date-nav"
  }, [_c('a', {
    staticClass: "pre",
    on: {
      "click": function($event) {
        return _vm.queryByDayNav(-1)
      }
    }
  }, [_c('icon', {
    staticClass: "left",
    attrs: {
      "type": "chevron-left"
    }
  }), _vm._v(" 前一天")], 1), _vm._v(" "), _c('date-picker', {
    staticClass: "input-date",
    attrs: {
      "type": "date"
    },
    on: {
      "on-change": function($event) {
        return _vm.queryMemberOptLog()
      }
    },
    model: {
      value: (_vm.queryDate),
      callback: function($$v) {
        _vm.queryDate = $$v
      },
      expression: "queryDate"
    }
  }), _vm._v(" "), _c('a', {
    staticClass: "nxt",
    on: {
      "click": function($event) {
        return _vm.queryByDayNav(1)
      }
    }
  }, [_vm._v("后一天 "), _c('icon', {
    attrs: {
      "type": "chevron-right"
    }
  })], 1)], 1), _vm._v(" "), (!_vm.hasLogData) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n\t\t\t【" + _vm._s(_vm.g.Util.formatDate(_vm.queryDate)) + "】无操作日志\n\t\t")]) : _vm._e(), _vm._v(" "), (_vm.memberCardVacationList && _vm.memberCardVacationList.length) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员卡请假记录")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "gray",
    on: {
      "click": function($event) {
        return _vm.$router.push('/member-opt-log-card-vacation')
      }
    }
  }, [_vm._v("更多"), _c('i', {
    staticClass: "iconfont icon-arrow-r small"
  })])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.memberCardVacationList), function(l) {
    return _c('tr', [_c('td', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.viewMember(l.memberId)
        }
      }
    }, [_vm._v(_vm._s(l.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.cardName))]), _vm._v(" "), _c('td', [(l.status === 0) ? _c('span', [_vm._v("请假")]) : _c('span', {
      staticClass: "red"
    }, [_vm._v("撤销")])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(l.vacationBegin)) + " ~ " + _vm._s(_vm.g.Util.formatDate(l.vacationEnd)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [(!_vm.g.Util.isEmpty(l.vacationFee)) ? [_vm._v("￥" + _vm._s(l.vacationFee) + " / " + _vm._s(_vm.g.Dict.CardPaymentChannel[l.feeChannel]))] : _vm._e()], 2), _vm._v(" "), _c('td', [(l.remark) ? [_c('pre', [_vm._v(_vm._s(l.remark))])] : _vm._e()], 2)])
  })], 2)])]) : _vm._e(), _vm._v(" "), (_vm.mcStatusLogList && _vm.mcStatusLogList.length) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员卡停用")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "gray",
    on: {
      "click": function($event) {
        return _vm.$router.push('/member-opt-log-card-disuse')
      }
    }
  }, [_vm._v("更多"), _c('i', {
    staticClass: "iconfont icon-arrow-r small"
  })])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(1), _vm._v(" "), _vm._l((_vm.mcStatusLogList), function(l) {
    return _c('tr', [_c('td', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.viewMember(l.memberId)
        }
      }
    }, [_vm._v(_vm._s(l.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.MemberCardStatus[l.status]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [(l.remark) ? [_vm._v(_vm._s(l.remark))] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("恢复正常")])], 2)])
  })], 2)])]) : _vm._e(), _vm._v(" "), (_vm.mcDelLogList && _vm.mcDelLogList.length) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员卡删除")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "gray",
    on: {
      "click": function($event) {
        return _vm.$router.push('/member-opt-log-card-del')
      }
    }
  }, [_vm._v("更多"), _c('i', {
    staticClass: "iconfont icon-arrow-r small"
  })])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(2), _vm._v(" "), _vm._l((_vm.mcDelLogList), function(l) {
    return _c('tr', [_c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(l.memberId)
        }
      }
    }, [_vm._v(_vm._s(l.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.cardName))]), _vm._v(" "), _c('td', [(l.currentAmount) ? [_vm._v("￥" + _vm._s(l.currentAmount))] : _vm._e()], 2), _vm._v(" "), _c('td', [(l.paymentAmount) ? [_vm._v("￥" + _vm._s(l.paymentAmount))] : _vm._e()], 2), _vm._v(" "), _c('td', [(l.cardType === 1 && l.usableDays) ? _c('span', [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(l.usableDays) + " 天\n\t\t\t\t\t\t\t")]) : _vm._e(), _vm._v(" "), (l.cardType === 2 && l.currentTimes) ? _c('span', [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(l.currentTimes) + " 次\n\t\t\t\t\t\t\t")]) : _vm._e()]), _vm._v(" "), _c('td', [(l.beginDate) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.formatDateForShort(l.beginDate)) + " ~ " + _vm._s(_vm.g.Util.formatDateForShort(l.endDate)) + "\n\t\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.delRemark))])])
  })], 2)])]) : _vm._e(), _vm._v(" "), (_vm.mcChangeLogList && _vm.mcChangeLogList.length > 1) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员卡充值修改")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "gray",
    on: {
      "click": function($event) {
        return _vm.$router.push('/member-opt-log-card-change')
      }
    }
  }, [_vm._v("更多"), _c('i', {
    staticClass: "iconfont icon-arrow-r small"
  })])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    staticStyle: {
      "min-width": "1500px"
    }
  }, [_vm._m(3), _vm._v(" "), _vm._l((_vm.mcChangeLogList), function(l, idx) {
    return _c('tr', {
      class: {
        'borderspt': (idx > 0 && idx % 2 === 0)
      }
    }, [(idx % 2 === 0) ? _c('td', {
      attrs: {
        "rowspan": "2"
      }
    }, [_c('a', {
      on: {
        "click": function($event) {
          return _vm.viewMember(l.memberId)
        }
      }
    }, [_vm._v(_vm._s(l.memberName))])]) : _vm._e(), _vm._v(" "), _c('td', [(l.recordType === 1) ? _c('span', {
      staticClass: "orange"
    }, [_vm._v("修改后")]) : _vm._e(), (l.recordType === 0) ? _c('span', {
      staticClass: "green"
    }, [_vm._v("修改前")]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.cardName))]), _vm._v(" "), _c('td', {
      class: {
        'diff': (idx % 2 === 0 && l.usableAmount !== _vm.mcChangeLogList[idx + 1].usableAmount)
      }
    }, [(!_vm.g.Util.isEmpty(l.usableAmount)) ? [_vm._v("￥" + _vm._s(l.usableAmount))] : _vm._e()], 2), _vm._v(" "), _c('td', {
      class: {
        'diff': (idx % 2 === 0 && l.paymentAmount !== _vm.mcChangeLogList[idx + 1].paymentAmount)
      }
    }, [(!_vm.g.Util.isEmpty(l.paymentAmount)) ? [_vm._v("￥" + _vm._s(l.paymentAmount))] : _vm._e()], 2), _vm._v(" "), _c('td', [(l.cardType === 2) ? _c('span', {
      class: {
        'diff': (idx % 2 === 0 && l.usableTimes !== _vm.mcChangeLogList[idx + 1].usableTimes)
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t\t\t" + _vm._s(l.usableTimes) + "次\n\t\t\t\t\t\t\t\t")]) : _vm._e()]), _vm._v(" "), _c('td', [(l.usableDays) ? _c('span', {
      class: {
        'diff': (idx % 2 === 0 && l.usableDays !== _vm.mcChangeLogList[idx + 1].usableDays)
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t\t\t" + _vm._s(l.usableDays) + "天\n\t\t\t\t\t\t\t\t")]) : _vm._e()]), _vm._v(" "), _c('td', {
      class: {
        'diff': (idx % 2 === 0 && (l.beginDate !== _vm.mcChangeLogList[idx + 1].beginDate))
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.formatDateForShort(l.beginDate)) + "\n\t\t\t\t\t\t")]), _vm._v(" "), _c('td', {
      class: {
        'diff': (idx % 2 === 0 && (l.limitBeginDate !== _vm.mcChangeLogList[idx + 1].limitBeginDate))
      }
    }, [(l.limitBeginDate) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.formatDateForShort(l.limitBeginDate)) + "\n\t\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), _c('td', {
      class: {
        'diff': (idx % 2 === 0 && l.salesName !== _vm.mcChangeLogList[idx + 1].salesName)
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(l.salesName) + "\n\t\t\t\t\t\t")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname.shorten(4)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.changeRemark))])])
  })], 2)])]) : _vm._e(), _vm._v(" "), (_vm.mcTransferLogList && _vm.mcTransferLogList.length) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员卡转卡")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "gray",
    on: {
      "click": function($event) {
        return _vm.$router.push('/member-opt-log-transfer-card')
      }
    }
  }, [_vm._v("更多"), _c('i', {
    staticClass: "iconfont icon-arrow-r small"
  })])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(4), _vm._v(" "), _vm._l((_vm.mcTransferLogList), function(l, idx) {
    return _c('tr', [_c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(l.fromMemberId)
        }
      }
    }, [_vm._v(_vm._s(l.fromMemberName))])]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(l.toMemberId)
        }
      }
    }, [_vm._v(_vm._s(l.toMemberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardType[l.cardType]))]), _vm._v(" "), _c('td', [(l.transferValue) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(l.transferValue) + " " + _vm._s(_vm.g.Dict.CardUnitName[l.cardType]) + "\n\t\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), _c('td', [(l.mcBeginDate && l.mcEndDate) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.formatDate(l.mcBeginDate)) + " ~ " + _vm._s(_vm.g.Util.formatDate(l.mcEndDate)) + "\n\t\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.remark))])])
  })], 2)])]) : _vm._e(), _vm._v(" "), (_vm.mcBatchOptLogList && _vm.mcBatchOptLogList.length) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员卡批量操作")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "gray",
    on: {
      "click": function($event) {
        return _vm.$router.push('/member-opt-log-card-alt')
      }
    }
  }, [_vm._v("更多"), _c('i', {
    staticClass: "iconfont icon-arrow-r small"
  })])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(5), _vm._v(" "), _vm._l((_vm.mcBatchOptLogList), function(l) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [(l.optType === 0) ? [_vm._v("\n\t\t\t\t\t\t\t\t批量增加 "), _c('b', {
      staticClass: "red big"
    }, [_vm._v(_vm._s(l.altDays))]), _vm._v(" 天\n\t\t\t\t\t\t\t\t"), (l.minEndDate) ? _c('span', [_vm._v("（限制到期日期为 " + _vm._s(_vm.g.Util.formatDate(l.minEndDate)) + "）")]) : _vm._e()] : (l.optType === 1) ? [_vm._v("修改开始日期为 "), _c('b', {
      staticClass: "big red"
    }, [_vm._v(_vm._s(_vm.g.Util.formatDate(l.cardDate)))])] : (l.optType === 2) ? [_vm._v("修改到期日期为 "), _c('b', {
      staticClass: "big red"
    }, [_vm._v(_vm._s(_vm.g.Util.formatDate(l.cardDate)))])] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.cardNames))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.remark))])])
  })], 2)])]) : _vm._e(), _vm._v(" "), (_vm.memberPhoneChangeLogList && _vm.memberPhoneChangeLogList.length) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员手机号修改")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "gray",
    on: {
      "click": function($event) {
        return _vm.$router.push('/member-opt-log-change-phone')
      }
    }
  }, [_vm._v("更多"), _c('i', {
    staticClass: "iconfont icon-arrow-r small"
  })])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(6), _vm._v(" "), _vm._l((_vm.memberPhoneChangeLogList), function(l) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(l.memberId)
        }
      }
    }, [_vm._v(_vm._s(l.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.oldPhoneNo))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.newPhoneNo))])])
  })], 2)])]) : _vm._e(), _vm._v(" "), (_vm.mcNoChangeLogList && _vm.mcNoChangeLogList.length) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员卡号修改")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "gray",
    on: {
      "click": function($event) {
        return _vm.$router.push('/member-opt-log-change-card-no')
      }
    }
  }, [_vm._v("更多"), _c('i', {
    staticClass: "iconfont icon-arrow-r small"
  })])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(7), _vm._v(" "), _vm._l((_vm.mcNoChangeLogList), function(l) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(l.memberId)
        }
      }
    }, [_vm._v(_vm._s(l.memberName))])]), _vm._v(" "), _c('td', [(l.oldCardNo) ? [_vm._v(_vm._s(l.oldCardNo))] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("空")])], 2), _vm._v(" "), _c('td', [(l.newCardNo) ? [_vm._v(_vm._s(l.newCardNo))] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("空")])], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.MemberCardSrc[l.cardNoSrc]))])])
  })], 2)])]) : _vm._e(), _vm._v(" "), (_vm.mecCheckinLogList && _vm.mecCheckinLogList.length) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("入场签到取消")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "gray",
    on: {
      "click": function($event) {
        return _vm.$router.push('/member-opt-log-entry-checkin')
      }
    }
  }, [_vm._v("更多"), _c('i', {
    staticClass: "iconfont icon-arrow-r small"
  })])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(8), _vm._v(" "), _vm._l((_vm.mecCheckinLogList), function(m, idx) {
    return _c('tr', [_c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(m.memberId)
        }
      }
    }, [_vm._v(_vm._s(m.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.checkinCount))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.checkinTime))]), _vm._v(" "), _c('td', [(m.checkoutTime) ? [_vm._v(_vm._s(m.checkoutTime))] : _vm._e()], 2), _vm._v(" "), _c('td', [(m.cardType === 1) ? [_c('span', {
      staticClass: "gray"
    }, [_vm._v("不计费")])] : (m.cardPayment) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(m.cardPayment) + "\n\t\t\t\t\t\t\t\t"), (m.cardType === 2) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("次")]) : _vm._e(), _vm._v(" "), (m.cardType === 3) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("元")]) : _vm._e()] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.lockerId))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createTime))]), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(m.logRemark) + "\n\t\t\t\t\t\t")])])
  })], 2)])]) : _vm._e(), _vm._v(" "), (_vm.mcpTimeChangeLogList && _vm.mcpTimeChangeLogList.length) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员卡充值时间修改")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "gray",
    on: {
      "click": function($event) {
        return _vm.$router.push('/member-opt-log-mcp-time')
      }
    }
  }, [_vm._v("更多"), _c('i', {
    staticClass: "iconfont icon-arrow-r small"
  })])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(9), _vm._v(" "), _vm._l((_vm.mcpTimeChangeLogList), function(l) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(l.memberId)
        }
      }
    }, [_vm._v(_vm._s(l.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.cardName))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(l.paymentAmount))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.oldTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.newTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.remark))])])
  })], 2)])]) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "60"
    }
  }, [_vm._v("操作")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("请假日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "165"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "130"
    }
  }, [_vm._v("请假费 / 支付方式")]), _vm._v(" "), _c('th', [_vm._v("备注")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("会员")]), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("会员卡")]), _c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "170"
    }
  }, [_vm._v("操作时间")]), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("操作人")]), _c('th', [_vm._v("备注")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("充值金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("实收金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("使用额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "175"
    }
  }, [_vm._v("使用期限")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("删除人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("删除时间")]), _vm._v(" "), _c('th', [_vm._v("备注")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "60"
    }
  }, [_vm._v("操作")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("充值金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("实收金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("使用次数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("使用天数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("开始日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("最迟开卡日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("销售")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("修改时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("修改人")]), _vm._v(" "), _c('th', [_vm._v("备注")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("转卡会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("转卡给")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("卡类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("转出")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "180"
    }
  }, [_vm._v("原始卡使用期限")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', [_vm._v("备注")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "145"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "300"
    }
  }, [_vm._v("操作内容")]), _vm._v(" "), _c('th', [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("备注")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("原手机号")]), _vm._v(" "), _c('th', [_vm._v("新手机号")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("原会员卡号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("新会员卡号")]), _vm._v(" "), _c('th', [_vm._v("卡号来源")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("签到人次")]), _vm._v(" "), _c('th', [_vm._v("签到用卡")]), _vm._v(" "), _c('th', [_vm._v("签到时间")]), _vm._v(" "), _c('th', [_vm._v("签出时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("签到消费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("柜号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', [_vm._v("取消原因")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("充值金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("原充值时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("新充值时间")]), _vm._v(" "), _c('th', [_vm._v("备注")])])
}]}

/***/ }),

/***/ 2139:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-batch-opt"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('Tabs', {
    attrs: {
      "animated": false
    }
  }, [_c('TabPane', {
    attrs: {
      "label": "批量操作会员卡"
    }
  }, [(_vm.g.data.user.isShopOwner) ? _c('section', {
    staticClass: "mc-opt"
  }, [_c('div', {
    staticClass: "tblform"
  }, [_c('table', [_c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("操作类型")]), _vm._v(" "), _c('td', [_c('radio-group', {
    staticClass: "opt-type",
    model: {
      value: (_vm.mcOpt.optType),
      callback: function($$v) {
        _vm.$set(_vm.mcOpt, "optType", $$v)
      },
      expression: "mcOpt.optType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("增加天数")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("修改开卡日期")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("修改到期日期")])], 1)], 1)]), _vm._v(" "), (_vm.mcOpt.optType === 0) ? _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("增加天数")]), _c('td', [_c('input-int', {
    attrs: {
      "min": -100000
    },
    model: {
      value: (_vm.mcOpt.altCardDays),
      callback: function($$v) {
        _vm.$set(_vm.mcOpt, "altCardDays", $$v)
      },
      expression: "mcOpt.altCardDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "l10 gray"
  }, [_vm._v("天")])], 1)]) : _vm._e(), _vm._v(" "), (_vm.mcOpt.optType === 0) ? _c('tr', [_c('th', [_vm._v("办卡日期")]), _vm._v(" "), _c('td', [_c('DatePicker', {
    staticClass: "input-s",
    attrs: {
      "type": "date",
      "format": "yyyy-MM-dd",
      "placeholder": ""
    },
    model: {
      value: (_vm.mcOpt.createDateBegin),
      callback: function($$v) {
        _vm.$set(_vm.mcOpt, "createDateBegin", $$v)
      },
      expression: "mcOpt.createDateBegin"
    }
  }), _vm._v("\n\t\t\t\t\t\t\t\t\t~\n\t\t\t\t\t\t\t\t\t"), _c('DatePicker', {
    staticClass: "input-s",
    attrs: {
      "type": "date",
      "format": "yyyy-MM-dd",
      "placeholder": ""
    },
    model: {
      value: (_vm.mcOpt.createDateEnd),
      callback: function($$v) {
        _vm.$set(_vm.mcOpt, "createDateEnd", $$v)
      },
      expression: "mcOpt.createDateEnd"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "help-tips l10"
  }, [_vm._v("（如果填写了，则表示对此日期范围内创建的会员卡增加天数；否则不限制办卡日期）")])], 1)]) : _vm._e(), _vm._v(" "), (_vm.mcOpt.optType === 0) ? _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("限制到期日期")]), _vm._v(" "), _c('td', [_c('DatePicker', {
    staticClass: "input-s",
    attrs: {
      "type": "date",
      "format": "yyyy-MM-dd",
      "placeholder": ""
    },
    model: {
      value: (_vm.mcOpt.minEndDate),
      callback: function($$v) {
        _vm.$set(_vm.mcOpt, "minEndDate", $$v)
      },
      expression: "mcOpt.minEndDate"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "l10 red"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v("\n\t\t\t\t\t\t\t\t\t\t只对卡到期日期及之后的会员卡，统一增加天数\n\t\t\t\t\t\t\t\t\t")]), _vm._v(" "), _c('help', {
    attrs: {
      "title": "更多帮助"
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t此【到期日期】特指会员卡的到期日期（即会员卡结束日期）\n\t\t\t\t\t\t\t\t\t\t"), _c('p', [_vm._v("\n\t\t\t\t\t\t\t\t\t\t\t例如，设置“限制到期日期”为“2020-3-15”，则提交后系统只对会员卡到期日期大于等于“2020-3-15”的卡统一增加天数。\n\t\t\t\t\t\t\t\t\t\t")])])], 1)]) : (_vm.mcOpt.optType === 1) ? _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("开卡日期")]), _vm._v(" "), _c('td', [_c('DatePicker', {
    attrs: {
      "type": "datetime",
      "format": "yyyy-MM-dd",
      "placeholder": "请设置会员卡开卡日期"
    },
    model: {
      value: (_vm.mcOpt.cardDate),
      callback: function($$v) {
        _vm.$set(_vm.mcOpt, "cardDate", $$v)
      },
      expression: "mcOpt.cardDate"
    }
  })], 1)]) : (_vm.mcOpt.optType === 2) ? _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("到期日期")]), _vm._v(" "), _c('td', [_c('DatePicker', {
    attrs: {
      "type": "datetime",
      "format": "yyyy-MM-dd",
      "placeholder": "请设置会员卡到期日期"
    },
    model: {
      value: (_vm.mcOpt.cardDate),
      callback: function($$v) {
        _vm.$set(_vm.mcOpt, "cardDate", $$v)
      },
      expression: "mcOpt.cardDate"
    }
  })], 1)]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("会员卡选择")]), _vm._v(" "), _c('td', [_c('div', {
    staticClass: "card-list"
  }, [_c('CheckboxGroup', {
    model: {
      value: (_vm.mcOpt.selectCardIdList),
      callback: function($$v) {
        _vm.$set(_vm.mcOpt, "selectCardIdList", $$v)
      },
      expression: "mcOpt.selectCardIdList"
    }
  }, _vm._l((_vm.dict.cardList), function(c) {
    return _c('Checkbox', {
      key: c.cardId,
      attrs: {
        "label": c.cardId
      }
    }, [_vm._v(_vm._s(c.cardName)), (c.status === 1) ? _c('span', {
      staticClass: "orangered"
    }, [_vm._v("【已停用】")]) : _vm._e()])
  }), 1), _vm._v(" "), _c('div', [_c('a', {
    on: {
      "click": _vm.checkAllCards
    }
  }, [_vm._v("全选")]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v(" "), _c('a', {
    on: {
      "click": _vm.uncheckAllCards
    }
  }, [_vm._v("全不选")])])], 1)])]), _vm._v(" "), _c('tr', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.mcOpt.optType === 1),
      expression: "mcOpt.optType === 1"
    }]
  }, [_c('th'), _vm._v(" "), _c('td', [_c('checkbox', {
    model: {
      value: (_vm.mcOpt.limitNoneBeginDateCard),
      callback: function($$v) {
        _vm.$set(_vm.mcOpt, "limitNoneBeginDateCard", $$v)
      },
      expression: "mcOpt.limitNoneBeginDateCard"
    }
  }, [_vm._v("仅操作未开卡的会员卡")]), _vm._v(" "), _c('span', {
    staticClass: "help-tips"
  }, [_vm._v("（如果不勾选，则对所选的所有会员卡操作）")])], 1)]), _vm._v(" "), _c('tr', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.mcOpt.optType === 2),
      expression: "mcOpt.optType === 2"
    }]
  }, [_c('th'), _vm._v(" "), _c('td', [_c('checkbox', {
    model: {
      value: (_vm.mcOpt.limitNoneEndDateCard),
      callback: function($$v) {
        _vm.$set(_vm.mcOpt, "limitNoneEndDateCard", $$v)
      },
      expression: "mcOpt.limitNoneEndDateCard"
    }
  }, [_vm._v("仅操作无到期日期的会员卡")]), _vm._v(" "), _c('span', {
    staticClass: "help-tips"
  }, [_vm._v("（如果不勾选，则对所选的所有会员卡操作）")])], 1)]), _vm._v(" "), (_vm.mcOpt.optType === 0) ? _c('tr', [_c('th', [_vm._v("是否忽略请假")]), _vm._v(" "), _c('td', [_c('i-switch', {
    attrs: {
      "size": "large"
    },
    model: {
      value: (_vm.mcOpt.ignoreVacation),
      callback: function($$v) {
        _vm.$set(_vm.mcOpt, "ignoreVacation", $$v)
      },
      expression: "mcOpt.ignoreVacation"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('span', {
    staticClass: "l10 orange"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v("\n\t\t\t\t\t\t\t\t\t\t默认为“否”，表示请假中的卡也做批量处理；选择“是”，则表示请假中的卡不做批量处理。\n\t\t\t\t\t\t\t\t\t")])], 1)]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("备注")]), _vm._v(" "), _c('td', [_c('i-input', {
    staticClass: "opt-remark",
    attrs: {
      "type": "textarea",
      "rows": 4
    },
    model: {
      value: (_vm.mcOpt.remark),
      callback: function($$v) {
        _vm.$set(_vm.mcOpt, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "mcOpt.remark"
    }
  })], 1)]), _vm._v(" "), (_vm.shopOwnerPhone) ? _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("短信验证码")]), _vm._v(" "), _c('td', [_c('input-int', {
    model: {
      value: (_vm.mcOpt.smsCode),
      callback: function($$v) {
        _vm.$set(_vm.mcOpt, "smsCode", $$v)
      },
      expression: "mcOpt.smsCode"
    }
  }), _vm._v(" "), _c('span', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.mcOpt.authcodeDisabled),
      expression: "mcOpt.authcodeDisabled"
    }],
    staticClass: "l10"
  }, [_vm._v(_vm._s(_vm.mcOpt.authcodeLabel))]), _vm._v(" "), _c('a', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (!_vm.mcOpt.authcodeDisabled),
      expression: "!mcOpt.authcodeDisabled"
    }],
    staticClass: "l10",
    on: {
      "click": _vm.onClickSmsAuthcodeBtn
    }
  }, [_vm._v("获取验证码")]), _vm._v(" "), _c('span', {
    staticClass: "spt gray"
  }, [_vm._v("|")]), _vm._v(" "), _c('span', {
    staticClass: "gray"
  }, [_vm._v("验证码将发送到店长手机 "), _c('span', {
    staticClass: "orange"
  }, [_vm._v(_vm._s(_vm.shopOwnerPhone))])])], 1)]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th'), _vm._v(" "), _c('td', [_c('div', {
    staticClass: "submit"
  }, [(_vm.shopOwnerPhone) ? _c('i-button', {
    attrs: {
      "type": "primary",
      "loading": _vm.mcOpt.submitLoading
    },
    on: {
      "click": _vm.handleBatchChangeMemberCardDays
    }
  }, [_vm._v("提交")]) : _c('span', [_vm._v("未获取到店长手机号")]), _vm._v(" "), _c('span', {
    staticClass: "l10 red"
  }, [_c('i', {
    staticClass: "iconfont icon-alert1"
  }), _vm._v(" 将会对所有符合条件的会员卡进行操作，请谨慎提交")])], 1)])])])])]) : _vm._e(), _vm._v(" "), (_vm.g.data.user.isShopOwner) ? _c('section', [_c('div', {
    staticClass: "inner-remark"
  }, [_c('div', {
    staticClass: "tit"
  }, [_c('div', {
    staticClass: "tit-help"
  }, [_vm._v("您需要知道的")])]), _vm._v(" "), _c('ul', [_c('li', [_vm._v("批量增加天数操作一般用在节假日期间，为了不计算节假日的时间，统一给会员卡增加天数")]), _vm._v(" "), _c('li', [_vm._v("批量增加天数操作只会对 "), _c('b', {
    staticClass: "orangered"
  }, [_vm._v("已开卡")]), _vm._v(" 的状态正常的会员卡统一处理")]), _vm._v(" "), _c('li', [_vm._v("批量操作后，可"), _c('a', {
    on: {
      "click": function($event) {
        return _vm.$router.push('/member-opt-log-card-alt')
      }
    }
  }, [_vm._v(" 点击查看批量操作日志 →")])])])])]) : _c('section', [_c('div', {
    staticClass: "center orangered"
  }, [_vm._v("仅店长有权限操作")])])]), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "批量更换会籍顾问"
    }
  }, [(_vm.g.data.user.isShopOwner) ? _c('section', {
    staticStyle: {
      "height": "500px"
    }
  }, [_c('div', {
    staticClass: "remark"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v("\n\t\t\t\t\t\t常用于员工离职时更换会员的会籍顾问；将【原会籍顾问】名下的会员全部转移到【新会籍顾问】下\n\t\t\t\t\t")]), _vm._v(" "), _c('table', {
    staticClass: "tblform"
  }, [_c('tr', [_c('th', [_vm._v("原会籍顾问")]), _vm._v(" "), _c('td', [_c('i-select', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.g.data.user.isShopOwner,
      "filterable": ""
    },
    model: {
      value: (_vm.oldAdvisorId),
      callback: function($$v) {
        _vm.oldAdvisorId = $$v
      },
      expression: "oldAdvisorId"
    }
  }, _vm._l((_vm.dict.allStaffList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId,
        "label": s.name
      }
    }, [_c('span', [_vm._v(_vm._s(s.name))])])
  }), 1)], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("新会籍顾问")]), _vm._v(" "), _c('td', [_c('i-select', {
    staticClass: "input-s",
    attrs: {
      "disabled": !_vm.g.data.user.isShopOwner,
      "filterable": ""
    },
    model: {
      value: (_vm.newAdvisorId),
      callback: function($$v) {
        _vm.newAdvisorId = $$v
      },
      expression: "newAdvisorId"
    }
  }, _vm._l((_vm.dict.activeStaffList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId,
        "label": s.name
      }
    }, [_c('span', [_vm._v(_vm._s(s.name))])])
  }), 1)], 1)]), _vm._v(" "), _c('tr', [_c('th'), _vm._v(" "), _c('td', {
    staticClass: "submit"
  }, [(_vm.g.data.user.isShopOwner) ? _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.replaceMemberAdvisor
    }
  }, [_vm._v("确定")]) : _vm._e(), _vm._v(" "), _c('span', {
    staticClass: "l10 gray"
  }, [_vm._v("（仅店长有权限操作）")])], 1)])])]) : _c('section', [_c('div', {
    staticClass: "center orangered"
  }, [_vm._v("仅店长有权限操作")])])]), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "批量更新会员卡号"
    }
  }, [(_vm.g.data.user.isShopOwner) ? _c('section', [_c('div', {
    staticStyle: {
      "height": "255px"
    }
  }, [_c('table', {
    staticClass: "mcards l"
  }, _vm._l((_vm.memberCards), function(mc, idx) {
    return _c('tr', [_c('td', [_c('input-int', {
      staticClass: "input-s",
      attrs: {
        "placeholder": "会员手机号"
      },
      on: {
        "blur": function($event) {
          return _vm.queryMember(idx, mc)
        }
      },
      model: {
        value: (mc.phoneNo),
        callback: function($$v) {
          _vm.$set(mc, "phoneNo", (typeof $$v === 'string' ? $$v.trim() : $$v))
        },
        expression: "mc.phoneNo"
      }
    })], 1), _vm._v(" "), _c('td', [_c('input-int', {
      staticClass: "input-s green",
      attrs: {
        "placeholder": "会员卡号"
      },
      model: {
        value: (mc.cardNo),
        callback: function($$v) {
          _vm.$set(mc, "cardNo", (typeof $$v === 'string' ? $$v.trim() : $$v))
        },
        expression: "mc.cardNo"
      }
    })], 1), _vm._v(" "), _c('td', {
      staticClass: "tips"
    }, [(mc.querying) ? _c('span', [_c('img', {
      attrs: {
        "src": "/static/img/loading-2.gif"
      }
    })]) : _vm._e(), _vm._v(" "), (mc.memberId) ? _c('span', {
      staticClass: "name"
    }, [_vm._v(_vm._s(mc.name))]) : _c('span', {
      staticClass: "err"
    }, [_vm._v(_vm._s(mc.error))])])])
  }), 0), _vm._v(" "), _c('div', {
    staticClass: "l mcards-log"
  }, [_vm._v("\n\t\t\t\t\t\t\t当前更新记录"), _c('span', {
    staticClass: "gray"
  }, [_vm._v(" （" + _vm._s(_vm.updateCardNoCnt) + "）")]), _vm._v(" "), _c('div', {
    staticClass: "txt"
  }, [_c('textarea', {
    attrs: {
      "cols": "50",
      "readonly": "readonly"
    }
  }, [_vm._v(_vm._s(_vm.updateCardNoLog))])])])]), _vm._v(" "), _c('div', {
    staticClass: "form-submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.updateMemberCards
    }
  }, [_vm._v("更新")])], 1)]) : _c('section', [_c('div', {
    staticClass: "center orangered"
  }, [_vm._v("仅店长有权限操作")])])]), _vm._v(" "), (_vm.g.data.user.isShopOwner) ? _c('TabPane', {
    attrs: {
      "label": "批量设置开卡"
    }
  }, [_c('section', [_c('div', {
    staticClass: "warning"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 勾选后，系统将在每天早上 8:00 ~ 9:00 针对未开卡且已达到最迟开日的会员卡自动开卡，开卡日为办卡时设置的最迟开卡日期。\n\t\t\t\t\t")]), _vm._v(" "), _c('div', {
    staticClass: "mt20"
  }, [_c('checkbox', {
    model: {
      value: (_vm.autActivateCardArgs[0]),
      callback: function($$v) {
        _vm.$set(_vm.autActivateCardArgs, 0, $$v)
      },
      expression: "autActivateCardArgs[0]"
    }
  }, [_vm._v("允许系统自动根据最迟开卡日开卡")]), _vm._v(" "), (_vm.autActivateCardArgs[0]) ? [_c('p'), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.autActivateCardArgs[1]),
      callback: function($$v) {
        _vm.$set(_vm.autActivateCardArgs, 1, $$v)
      },
      expression: "autActivateCardArgs[1]"
    }
  }, [_vm._v("自动开卡后发送【短信】通知会员（"), _c('span', {
    staticClass: "orangered"
  }, [_vm._v("计费短信")]), _vm._v("）\n\t\t\t\t\t\t\t\t"), _c('help', [_vm._v("短信内容示例：尊敬的张生，您的会员卡“年卡”尚未开卡，且已到达最迟开卡日2022-6-28，根据场馆设置，已自动为您开卡（2022-6-28 ~ 2023-6-28） --健总管测试店\n\t\t\t\t\t\t\t\t\t"), _c('p', [_vm._v("\n\t\t\t\t\t\t\t\t\t\t备注：本短信是计费短信，如果场馆短信数不足，系统将不会发送短信。\n\t\t\t\t\t\t\t\t\t")])])], 1), _vm._v(" "), _c('p'), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.autActivateCardArgs[2]),
      callback: function($$v) {
        _vm.$set(_vm.autActivateCardArgs, 2, $$v)
      },
      expression: "autActivateCardArgs[2]"
    }
  }, [_vm._v("自动开卡后发送【微信】通知会员（"), _c('span', {
    staticClass: "orangered"
  }, [_vm._v("会员需关注公众号且通过公众号登录过系统，否则收不到微信消息")]), _vm._v("）")])] : _vm._e()], 2), _vm._v(" "), _c('div', {
    staticClass: "form-submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.updateAutoActivateCardArgs
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('span', {
    staticClass: "l10 gray"
  }, [_vm._v("（仅店长有权限操作）")])], 1)])]) : _vm._e(), _vm._v(" "), (_vm.g.data.user.isShopOwner) ? _c('TabPane', {
    attrs: {
      "label": "批量设置会员授权"
    }
  }, [_c('section', {
    staticClass: "opt-memb-auth"
  }, [_c('ul', [_c('li', [_c('checkbox', {
    staticClass: "conf",
    model: {
      value: (_vm.memberAuthOpt.isConfAuthEntryCheckin),
      callback: function($$v) {
        _vm.$set(_vm.memberAuthOpt, "isConfAuthEntryCheckin", $$v)
      },
      expression: "memberAuthOpt.isConfAuthEntryCheckin"
    }
  }, [_vm._v("设置门店免输密码代签入场签到")]), _vm._v(" "), _c('radio-group', {
    model: {
      value: (_vm.memberAuthOpt.authEntryCheckin),
      callback: function($$v) {
        _vm.$set(_vm.memberAuthOpt, "authEntryCheckin", $$v)
      },
      expression: "memberAuthOpt.authEntryCheckin"
    }
  }, [_c('radio', {
    attrs: {
      "label": 0,
      "disabled": !_vm.memberAuthOpt.isConfAuthEntryCheckin
    }
  }, [_vm._v("不允许")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 1,
      "disabled": !_vm.memberAuthOpt.isConfAuthEntryCheckin
    }
  }, [_vm._v("允许")])], 1)], 1), _vm._v(" "), _c('li', [_c('checkbox', {
    staticClass: "conf",
    model: {
      value: (_vm.memberAuthOpt.isConfAuthGroupLessonCheckin),
      callback: function($$v) {
        _vm.$set(_vm.memberAuthOpt, "isConfAuthGroupLessonCheckin", $$v)
      },
      expression: "memberAuthOpt.isConfAuthGroupLessonCheckin"
    }
  }, [_vm._v("设置门店免输密码代签团课签到")]), _vm._v(" "), _c('radio-group', {
    model: {
      value: (_vm.memberAuthOpt.authGroupLessonCheckin),
      callback: function($$v) {
        _vm.$set(_vm.memberAuthOpt, "authGroupLessonCheckin", $$v)
      },
      expression: "memberAuthOpt.authGroupLessonCheckin"
    }
  }, [_c('radio', {
    attrs: {
      "label": 0,
      "disabled": !_vm.memberAuthOpt.isConfAuthGroupLessonCheckin
    }
  }, [_vm._v("不允许")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 1,
      "disabled": !_vm.memberAuthOpt.isConfAuthGroupLessonCheckin
    }
  }, [_vm._v("允许")])], 1)], 1), _vm._v(" "), _c('li', [_c('checkbox', {
    staticClass: "conf",
    model: {
      value: (_vm.memberAuthOpt.isConfAuthCardPayment),
      callback: function($$v) {
        _vm.$set(_vm.memberAuthOpt, "isConfAuthCardPayment", $$v)
      },
      expression: "memberAuthOpt.isConfAuthCardPayment"
    }
  }, [_vm._v("设置门店用储值卡结算商品时免输密码")]), _vm._v(" "), _c('radio-group', {
    model: {
      value: (_vm.memberAuthOpt.authCardPayment),
      callback: function($$v) {
        _vm.$set(_vm.memberAuthOpt, "authCardPayment", $$v)
      },
      expression: "memberAuthOpt.authCardPayment"
    }
  }, [_c('radio', {
    attrs: {
      "label": 0,
      "disabled": !_vm.memberAuthOpt.isConfAuthCardPayment
    }
  }, [_vm._v("不允许")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 1,
      "disabled": !_vm.memberAuthOpt.isConfAuthCardPayment
    }
  }, [_vm._v("允许")])], 1)], 1)]), _vm._v(" "), _c('div', {
    staticClass: "form-submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.updateMemberAuth
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('span', {
    staticClass: "l10 orangered"
  }, [_vm._v("\n\t\t\t\t\t\t\t（仅店长有权限操作，提交后将根据上述设置批量更新所有会员的授权）\n\t\t\t\t\t\t")])], 1)])]) : _vm._e()], 1)], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2145:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-send-sms"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('section', [_c('icon', {
    attrs: {
      "type": "android-calendar",
      "size": "18",
      "color": "gray"
    }
  }), _vm._v(" \n\t\t\t"), _c('i', {
    staticClass: "gray"
  }, [_vm._v("已加入开发计划，敬请期待 … ")]), _vm._v(" "), _vm._m(0)], 1)])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "to-do-list"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("大致功能有：")]), _vm._v(" "), _c('ol', [_c('li', [_vm._v("可查询出符合指定条件的会员；")]), _vm._v(" "), _c('li', [_vm._v("可选择需要发送短信的会员；")]), _vm._v(" "), _c('li', [_vm._v("可设置短信发送内容；")]), _vm._v(" "), _c('li', [_vm._v("可设置短信发送日期和时间；")]), _vm._v(" "), _c('li', [_vm._v("设置好后，系统会在设定的时间发送短信；")])])])
}]}

/***/ }),

/***/ 2148:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-opt-log"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "145"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "300"
    }
  }, [_vm._v("操作内容")]), _vm._v(" "), _c('th', [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("备注")]), _vm._v(" "), (_vm.g.data.user.isShopOwner) ? _c('th', {
    attrs: {
      "width": "60"
    }
  }, [_vm._v("操作")]) : _vm._e()]), _vm._v(" "), _vm._l((_vm.logList), function(l) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [(l.optType === 0) ? [_vm._v("\n\t\t\t\t\t\t\t\t批量增加 "), _c('b', {
      class: {
        big: true,
        green: l.altDays > 0,
        red: l.altDays <= 0
      }
    }, [_vm._v(_vm._s(l.altDays))]), _vm._v(" 天\n\t\t\t\t\t\t\t\t"), _c('ul', {
      staticClass: "opt-conf"
    }, [(l.minEndDate) ? _c('li', [_vm._v("限制到期日期： " + _vm._s(_vm.g.Util.formatDate(l.minEndDate)))]) : _vm._e(), _vm._v(" "), (l.mcCreateDateBegin) ? _c('li', [_vm._v("限制办卡日期： " + _vm._s(_vm.g.Util.formatDate(l.mcCreateDateBegin)) + " ~ " + _vm._s(_vm.g.Util.formatDate(l.mcCreateDateEnd)))]) : _vm._e()])] : (l.optType === 1) ? [_vm._v("\n\t\t\t\t\t\t\t\t修改开始日期为 "), _c('b', {
      staticClass: "big red"
    }, [_vm._v(_vm._s(_vm.g.Util.formatDate(l.cardDate)))])] : (l.optType === 2) ? [_vm._v("\n\t\t\t\t\t\t\t\t修改到期日期为 "), _c('b', {
      staticClass: "big red"
    }, [_vm._v(_vm._s(_vm.g.Util.formatDate(l.cardDate)))])] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.cardNames))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.remark))]), _vm._v(" "), (_vm.g.data.user.isShopOwner) ? _c('td', [(l.altDays > 0 && l.optType === 0 && !_vm.canceledLogIds.contains(l.logId)) ? _c('a', {
      on: {
        "click": function($event) {
          return _vm.openCancelOptDlg(l)
        }
      }
    }, [_vm._v("撤销")]) : _vm._e()]) : _vm._e()])
  })], 2)]), _vm._v(" "), (_vm.logList && _vm.logList.length === 0) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n\t\t\t\t暂无数据\n\t\t\t")]) : _vm._e()])], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "批量操作撤销",
      "width": "600",
      "styles": {
        top: '10px'
      },
      "mask-closable": false
    },
    model: {
      value: (_vm.cancelOptDlg),
      callback: function($$v) {
        _vm.cancelOptDlg = $$v
      },
      expression: "cancelOptDlg"
    }
  }, [(_vm.selectLog) ? [_c('div', {
    staticClass: "orangered normal"
  }, [_vm._v("此撤销操作将执行批量新增 【"), _c('b', {
    staticClass: "orangered"
  }, [_vm._v("-" + _vm._s(_vm.selectLog.altDays))]), _vm._v("】 天，请谨慎操作。")]), _vm._v(" "), _c('div', {
    staticClass: "p15"
  }, [_c('i-input', {
    attrs: {
      "placeholder": "请输入撤销备注",
      "type": "textarea",
      "rows": 3
    },
    model: {
      value: (_vm.optRemark),
      callback: function($$v) {
        _vm.optRemark = $$v
      },
      expression: "optRemark"
    }
  })], 1), _vm._v(" "), _c('div', {
    staticClass: "p15"
  }, [_c('input-int', {
    staticStyle: {
      "width": "120px"
    },
    attrs: {
      "placeholder": "请输入短信验证码"
    },
    model: {
      value: (_vm.mcOpt.smsCode),
      callback: function($$v) {
        _vm.$set(_vm.mcOpt, "smsCode", $$v)
      },
      expression: "mcOpt.smsCode"
    }
  }), _vm._v(" "), _c('span', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.mcOpt.authcodeDisabled),
      expression: "mcOpt.authcodeDisabled"
    }],
    staticClass: "l10"
  }, [_vm._v(_vm._s(_vm.mcOpt.authcodeLabel))]), _vm._v(" "), _c('a', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (!_vm.mcOpt.authcodeDisabled),
      expression: "!mcOpt.authcodeDisabled"
    }],
    staticClass: "l10",
    on: {
      "click": _vm.onClickSmsAuthcodeBtn
    }
  }, [_vm._v("获取验证码")]), _vm._v(" "), _c('span', {
    staticClass: "spt gray"
  }, [_vm._v("|")]), _vm._v(" "), _c('span', {
    staticClass: "gray"
  }, [_vm._v("验证码（此短信计费）将发送到店长手机 "), _c('span', {
    staticClass: "orange"
  }, [_vm._v(_vm._s(_vm.shopOwnerPhone))])])], 1)] : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.handleBatchChangeMemberCardDays
    }
  }, [_vm._v("提交")])], 1)], 2)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2150:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-opt-log"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.logList), function(l) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(l.memberId)
        }
      }
    }, [_vm._v(_vm._s(l.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.cardName))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(l.paymentAmount))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.oldTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.newTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.remark))])])
  })], 2)]), _vm._v(" "), (_vm.count && _vm.count >= 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.count,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryLog
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.logList && _vm.logList.length === 0) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n\t\t\t\t暂无数据\n\t\t\t")]) : _vm._e()])], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("充值金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("原充值时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("新充值时间")]), _vm._v(" "), _c('th', [_vm._v("备注")])])
}]}

/***/ }),

/***/ 2167:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [(_vm.statSum && _vm.statSumChartData.length === 0) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n\t\t暂无消费记录\n\t")]) : _vm._e(), _vm._v(" "), (_vm.statSum && _vm.statSumChartData.length) ? _c('Tabs', {
    attrs: {
      "animated": false
    },
    on: {
      "on-click": _vm.changeTab
    },
    model: {
      value: (_vm.tabName),
      callback: function($$v) {
        _vm.tabName = $$v
      },
      expression: "tabName"
    }
  }, [(_vm.statSumChartData.length > 1) ? _c('TabPane', {
    attrs: {
      "label": "消费统计",
      "name": "sum"
    }
  }, [_c('chart', {
    staticClass: "piechart",
    attrs: {
      "options": _vm.memberCardConsumeStatOption
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.statSum.costOfEntryCheckin) ? _c('TabPane', {
    attrs: {
      "label": '入场签到消费 ({0}{1})'.format(_vm.statSum.costOfEntryCheckin, _vm.cardUnitName),
      "name": "entryCheckin"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("签到时间  ↓")]), _vm._v(" "), _c('th', [_vm._v("签到操作人")]), _vm._v(" "), _c('th', [_vm._v("签到人次")]), _vm._v(" "), _c('th', [_vm._v("签到消费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("签出时间")]), _vm._v(" "), _c('th', [_vm._v("入场时长")])]), _vm._v(" "), _vm._l((_vm.entryCheckinList), function(m) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(m.createTime) + "\n\t\t\t\t\t\t\t"), (_vm.g.data.shop.shopName !== m.shopName) ? _c('div', {
      staticClass: "p5 gray"
    }, [_vm._v(_vm._s(m.shopName))]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.checkinCount))]), _vm._v(" "), _c('td', [(m.cardType === 1) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("期限卡不计费")]) : (!_vm.g.Util.isEmpty(m.cardPayment)) ? _c('span', [_vm._v(_vm._s(m.cardPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[m.cardType]))]) : _c('span', [_vm._v("尚未结算")])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.checkoutTime))]), _vm._v(" "), _c('td', [(m.checkoutTime) ? [_vm._v(_vm._s(m.duration) + " 分钟")] : _vm._e()], 2)])
  })], 2), _vm._v(" "), (_vm.entryCheckinCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.entryCheckinCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryEntryCheckin
    }
  })], 1) : _vm._e()])]) : _vm._e(), _vm._v(" "), (_vm.statSum.costOfGroupLesson) ? _c('TabPane', {
    attrs: {
      "label": '团课消费 ({0}{1})'.format(_vm.statSum.costOfGroupLesson, _vm.cardUnitName),
      "name": "groupLesson"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', [_vm._v("课程名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("教练")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课日期 ↓")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("会员卡消费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("预约人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("预约时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("签到人")]), _vm._v(" "), _c('th', [_vm._v("签到时间")])]), _vm._v(" "), _vm._l((_vm.groupLessonList), function(l, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(l.lessonTitle) + "\n\t\t\t\t\t\t\t"), (_vm.g.data.shop.shopName !== l.shopName) ? _c('div', {
      staticClass: "p5 gray"
    }, [_vm._v(_vm._s(l.shopName))]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.coachName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonDate))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonTimeDesc))]), _vm._v(" "), _c('td', [(l.cardType === 1) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("期限卡不计费")]) : _c('span', [_vm._v(_vm._s(l.cardPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[l.cardType]))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.bookingUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.bookingTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.checkinUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.checkinTime))])])
  })], 2)]), _vm._v(" "), (_vm.groupLessonCount && _vm.groupLessonCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.groupLessonCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMemberLesson
    }
  })], 1) : _vm._e()]) : _vm._e(), _vm._v(" "), (_vm.statSum.costOfPrivateLesson) ? _c('TabPane', {
    attrs: {
      "label": '私教课消费 ({0}{1}）'.format(_vm.statSum.costOfPrivateLesson, _vm.cardUnitName),
      "name": "privateLesson"
    }
  }, [(_vm.shopPlStatList && _vm.shopPlStatList.length > 1) ? _c('ul', {
    staticClass: "shop-cnt-stat"
  }, _vm._l((_vm.shopPlStatList), function(s) {
    return _c('li', [_vm._v(_vm._s(s.shopName) + " ："), _c('b', [_vm._v(_vm._s(s.lessonCnt))]), _vm._v(" 节")])
  }), 0) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', [_vm._v("课程名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("教练")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课日期 ↓")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("会员卡消费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("预约人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("预约时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("签到时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("场地")])]), _vm._v(" "), _vm._l((_vm.privateLessonList), function(l, idx) {
    return _c('tr', [_c('td', [(!l.shopName || _vm.g.data.shop.shopName === l.shopName) ? [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          _vm.$router.push('/private-lesson-edit/{0}/{1}'.format(l.lessonId, l.mplId))
        }
      }
    }, [_vm._v(_vm._s(l.courseName))])] : [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(l.courseName) + "\n\t\t\t\t\t\t\t\t"), _c('div', {
      staticClass: "p5 gray"
    }, [_vm._v(_vm._s(l.shopName))])]], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.coachName) + " "), (l.isViceCoach) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("(代课)")]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonDate))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonTimeDesc))]), _vm._v(" "), _c('td', [(l.cardType === 1) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("不计费")]) : _c('span', [_vm._v(_vm._s(l.cardPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[l.cardType]))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.checkinTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.groundName))])])
  })], 2)]), _vm._v(" "), (_vm.privateLessonCount && _vm.privateLessonCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.privateLessonCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMemberPrivateLesson
    }
  })], 1) : _vm._e()]) : _vm._e(), _vm._v(" "), (_vm.statSum.costOfVenueBooking) ? _c('TabPane', {
    attrs: {
      "label": '场地预约消费 ({0}{1})'.format(_vm.statSum.costOfVenueBooking, _vm.cardUnitName),
      "name": "venueBooking"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("使用时间 ↓")]), _vm._v(" "), _c('th', [_vm._v("场馆")]), _vm._v(" "), _c('th', [_vm._v("场地")]), _vm._v(" "), _c('th', [_vm._v("会员卡消费")]), _vm._v(" "), _c('th', [_vm._v("预约人")]), _vm._v(" "), _c('th', [_vm._v("预约时间")]), _vm._v(" "), _c('th', [_vm._v("签到人")]), _vm._v(" "), _c('th', [_vm._v("签到时间")])]), _vm._v(" "), _vm._l((_vm.venueBookingList), function(b, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(b.bookingDate)) + "   " + _vm._s(b.beginTime) + " ~ " + _vm._s(b.endTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(b.venueName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(b.areaName))]), _vm._v(" "), _c('td', [(b.cardType === 1) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("不计费")]) : (!_vm.g.Util.isEmpty(b.cardPayment)) ? _c('span', [_vm._v(_vm._s(b.cardPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[b.cardType]))]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(b.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(b.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(b.checkinUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(b.checkinTime))])])
  })], 2), _vm._v(" "), (_vm.venueBookingCount && _vm.venueBookingCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.venueBookingCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryVenueBooking
    }
  })], 1) : _vm._e()])]) : _vm._e(), _vm._v(" "), (_vm.statSum.venueBookingCancelFee) ? _c('TabPane', {
    attrs: {
      "label": '场地预约取消扣费 ({0}{1})'.format(_vm.statSum.venueBookingCancelFee, _vm.cardUnitName),
      "name": "venueBookingCancelFee"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("场地")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "180"
    }
  }, [_vm._v("场地使用时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("预约登记时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("计费会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("预约计费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("取消时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("取消人")]), _vm._v(" "), _c('th', [_vm._v("取消扣费")])]), _vm._v(" "), _vm._l((_vm.venueBookingCancelLogList), function(log) {
    return (_vm.venueBookingCancelLogList) ? _c('tr', [_c('td', [_vm._v(_vm._s(log.areaName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(log.bookingDate)) + "   " + _vm._s(log.bookingBeginTime) + " ~ " + _vm._s(log.bookingEndTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.bookingCreateTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.cardPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[log.cardType]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.createUname))]), _vm._v(" "), _c('td', [(log.cancelPayment) ? [_vm._v(_vm._s(log.cancelPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[log.cardType]))] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("无")])], 2)]) : _vm._e()
  })], 2)]), _vm._v(" "), (_vm.venueBookingCancelLogCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.venueBookingCancelLogCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryVenueBookingCancelLog
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.venueBookingCancelLogList && _vm.venueBookingCancelLogList.length === 0) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n\t\t\t\t暂无记录\n\t\t\t")]) : _vm._e()]) : _vm._e(), _vm._v(" "), (_vm.statSum.costOfVenueCheckin) ? _c('TabPane', {
    attrs: {
      "label": '场地计时消费 ({0}{1})'.format(_vm.statSum.costOfVenueCheckin, _vm.cardUnitName),
      "name": "venueCheckin"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("签到时间 ↓")]), _vm._v(" "), _c('th', [_vm._v("场馆")]), _vm._v(" "), _c('th', [_vm._v("场地")]), _vm._v(" "), _c('th', [_vm._v("创建人")]), _vm._v(" "), _c('th', [_vm._v("签出时间")]), _vm._v(" "), _c('th', [_vm._v("使用时长")]), _vm._v(" "), _c('th', [_vm._v("会员卡消费")])]), _vm._v(" "), _vm._l((_vm.venueCheckinList), function(b, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(b.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(b.venueName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(b.areaName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(b.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(b.checkoutTime))]), _vm._v(" "), _c('td', [(!_vm.g.Util.isEmpty(b.duration)) ? [_vm._v(_vm._s(b.duration) + " 分钟")] : _vm._e()], 2), _vm._v(" "), _c('td', [(b.cardType === 1) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("不计费")]) : (!_vm.g.Util.isEmpty(b.cardPayment)) ? _c('span', [_vm._v(_vm._s(b.cardPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[b.cardType]))]) : _vm._e()])])
  })], 2), _vm._v(" "), (_vm.venueCheckinCount && _vm.venueCheckinCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.venueCheckinCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryVenueCheckin
    }
  })], 1) : _vm._e()])]) : _vm._e(), _vm._v(" "), (_vm.statSum.costOfAccProduct) ? _c('TabPane', {
    attrs: {
      "label": '记账商品消费 ({0}{1})'.format(_vm.statSum.costOfAccProduct, _vm.cardUnitName),
      "name": "accProduct"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("交易时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("商品名称")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("单价")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("数量")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', [_vm._v("备注")])]), _vm._v(" "), _vm._l((_vm.valueCardChargeList), function(c) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(c.createTime))]), _c('td', [_vm._v(_vm._s(c.chargeItemName))]), _c('td', [_vm._v("￥" + _vm._s(c.unitPrice))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.unitNum))]), _c('td', [_vm._v("￥"), _c('b', [_vm._v(_vm._s(c.arAmount))])]), _c('td', [_vm._v(_vm._s(c.createUname.shorten(4)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.remark))])])
  })], 2)]), _vm._v(" "), (_vm.valueCardChargeCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.valueCardChargeCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMemberValueCardCharge
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.valueCardChargeList && _vm.valueCardChargeList.length === 0) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n\t\t\t\t暂无记录\n\t\t\t")]) : _vm._e()]) : _vm._e(), _vm._v(" "), (_vm.statSum.costOfMallOrder) ? _c('TabPane', {
    attrs: {
      "label": '微商城消费 ({0}{1})'.format(_vm.statSum.costOfMallOrder, _vm.cardUnitName),
      "name": "mall"
    }
  }, [_c('div', {
    staticClass: "mytbl orders"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "145"
    }
  }, [_vm._v("订单时间 ↓")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "60"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "145"
    }
  }, [_vm._v("支付时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("支付积分")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "85"
    }
  }, [_vm._v("会员卡消费")]), _vm._v(" "), _c('th', [_vm._v("购买商品")]), _vm._v(" "), _c('th', [_vm._v("购买备注")])]), _vm._v(" "), _vm._l((_vm.mallOrderList), function(o) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(o.createTime))]), _vm._v(" "), _c('td', {
      class: {
        'unpay': o.status === 0
      }
    }, [_vm._v(_vm._s(_vm.g.Dict.OrderStatus[o.status]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.transTime))]), _vm._v(" "), _c('td', [(o.paymentPoints) ? [_vm._v(_vm._s(o.paymentPoints))] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("无")])], 2), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(o.paymentCardAmount))]), _vm._v(" "), _c('td', [_c('ul', {
      staticClass: "prds"
    }, _vm._l((o.productList), function(p) {
      return _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t\t" + _vm._s(p.productName) + " × " + _vm._s(p.unitNum) + "\n\t\t\t\t\t\t\t\t")])
    }), 0)]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.remark))])])
  })], 2)]), _vm._v(" "), (_vm.mallOrderList && _vm.mallOrderList.length > 0) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.mallOrderCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMallOrder
    }
  })], 1) : _vm._e()]) : _vm._e(), _vm._v(" "), (_vm.statSum.payForCard) ? _c('TabPane', {
    attrs: {
      "label": '储值卡充值消费 ({0}元)'.format(_vm.statSum.payForCard),
      "name": "cardPayment"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("实收金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', [_vm._v("操作时间")])]), _vm._v(" "), _vm._l((_vm.memberCardPaymentList), function(mcp, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(mcp.cardName))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(mcp.paymentAmount))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(mcp.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(mcp.createTime))])])
  })], 2)])]) : _vm._e(), _vm._v(" "), (_vm.statSum.mplExtraCost) ? _c('TabPane', {
    attrs: {
      "name": "mplExtraCost",
      "label": '私教课额外消费 ({0}{1})'.format(_vm.statSum.mplExtraCost, _vm.cardUnitName)
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', [_vm._v("课程名称")]), _vm._v(" "), _c('th', [_vm._v("上课日期")]), _vm._v(" "), _c('th', [_vm._v("上课时间")]), _vm._v(" "), _c('th', [_vm._v("教练")]), _vm._v(" "), _c('th', [_vm._v("额外消费")]), _vm._v(" "), _c('th', [_vm._v("消费时间")])]), _vm._v(" "), _vm._l((_vm.mplExtraPaymentList), function(p) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(p.courseName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(p.lessonDate)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatTime(p.lessonBeginTime)) + " ~ " + _vm._s(_vm.g.Util.formatTime(p.lessonEndTime)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(p.coachName))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(p.cardPayment))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(p.createTime))])])
  })], 2)]), _vm._v(" "), (_vm.mplExtraPaymentCount && _vm.mplExtraPaymentCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.mplExtraPaymentCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMplExtraPayment
    }
  })], 1) : _vm._e()]) : _vm._e(), _vm._v(" "), (_vm.statSum.costOfAcc) ? _c('TabPane', {
    attrs: {
      "label": '其他记账消费 ({0}{1})'.format(_vm.statSum.costOfAcc, _vm.cardUnitName),
      "name": "acc"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', [_vm._v("计费项目")]), _vm._v(" "), _c('th', [_vm._v("消费金额")]), _vm._v(" "), _c('th', [_vm._v("创建人")]), _vm._v(" "), _c('th', [_vm._v("创建时间")]), _vm._v(" "), _c('th', [_vm._v("备注")])]), _vm._v(" "), _vm._l((_vm.chargeList), function(c) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(_vm.g.Dict.ChargeFroms[c.chargeFrom]))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(c.arAmount))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.remark))])])
  })], 2)]), _vm._v(" "), (_vm.chargeCount && _vm.chargeCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.chargeCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryAccCharge
    }
  })], 1) : _vm._e()]) : _vm._e()], 1) : _vm._e()], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2171:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [(_vm.cardTransferFromLogList && !_vm.cardTransferFromLogList.length && _vm.cardTransferToLogList && !_vm.cardTransferToLogList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n\t\t暂无转卡记录\n\t")]) : _vm._e(), _vm._v(" "), (_vm.cardTransferFromLogList && _vm.cardTransferFromLogList.length) ? _c('div', {
    staticClass: "card-transf-log"
  }, [_c('h3', [_vm._v("转出记录")]), _vm._v(" "), _c('ul', {
    staticClass: "-v-tbl"
  }, _vm._l((_vm.cardTransferFromLogList), function(l, idx) {
    return _c('li', [_c('table', [(_vm.g.data.shop.shopName !== l.shopName) ? _c('tr', [_c('th', [_vm._v("操作门店")]), _vm._v(" "), _c('td', {
      staticClass: "bold"
    }, [_vm._v(_vm._s(l.shopName))])]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("转出给会员")]), _vm._v(" "), _c('td', [(_vm.g.data.shop.shopName === l.shopName) ? _c('a', {
      attrs: {
        "target": "_blank",
        "href": '#/member-card-list/' + l.toMemberId
      }
    }, [_vm._v(_vm._s(l.toMemberName))]) : [_vm._v(_vm._s(l.toMemberName))], _vm._v(" "), (l.toMcCardNo || l.toMcCardOutsideNo) ? _c('span', {
      staticClass: "l10"
    }, [_vm._v("\n\t\t\t\t\t\t\t\t\t（\n\t\t\t\t\t\t\t\t\t\t"), (l.toMcCardNo) ? [_vm._v("卡内号：" + _vm._s(l.toMcCardNo))] : _vm._e(), _vm._v(" "), (l.toMcCardNo && l.toMcCardOutsideNo) ? _c('span', {
      staticClass: "spt"
    }, [_vm._v("|")]) : _vm._e(), _vm._v(" "), (l.toMcCardOutsideNo) ? [_vm._v("卡表号：" + _vm._s(l.toMcCardOutsideNo))] : _vm._e(), _vm._v("\n\t\t\t\t\t\t\t\t\t\t）\n\t\t\t\t\t\t\t\t\t")], 2) : _vm._e()], 2)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("转出")]), _vm._v(" "), _c('td', [(l.transferValue) ? _c('b', [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(l.transferValue) + " " + _vm._s(_vm.g.Dict.CardUnitName[l.cardType]) + "\n\t\t\t\t\t\t\t")]) : _vm._e()])]), _vm._v(" "), (l.mcBeginDate && l.mcEndDate) ? _c('tr', [_c('th', [_vm._v("原使用期限")]), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.formatDate(l.mcBeginDate)) + " ~ " + _vm._s(_vm.g.Util.formatDate(l.mcEndDate)) + "\n\t\t\t\t\t\t")])]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("操作人")]), _c('td', [_vm._v(_vm._s(l.createUname))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("操作时间")]), _c('td', [_vm._v(_vm._s(l.createTime))])]), _vm._v(" "), (l.remark) ? _c('tr', [_c('th', [_vm._v("备注")]), _c('td', [_c('pr', [_vm._v(_vm._s(l.remark))])], 1)]) : _vm._e()])])
  }), 0)]) : _vm._e(), _vm._v(" "), (_vm.cardTransferFromLogList && _vm.cardTransferFromLogList.length && _vm.cardTransferToLogList && _vm.cardTransferToLogList.length) ? _c('p', [_vm._v(" ")]) : _vm._e(), _vm._v(" "), (_vm.cardTransferToLogList && _vm.cardTransferToLogList.length) ? _c('div', {
    staticClass: "card-transf-log"
  }, [_c('h3', [_vm._v("转入记录")]), _vm._v(" "), _c('ul', {
    staticClass: "-v-tbl"
  }, _vm._l((_vm.cardTransferToLogList), function(l) {
    return _c('li', [_c('table', [(_vm.g.data.shop.shopName !== l.shopName) ? _c('tr', [_c('th', [_vm._v("操作门店")]), _vm._v(" "), _c('td', {
      staticClass: "bold"
    }, [_vm._v(_vm._s(l.shopName))])]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("转卡会员")]), _vm._v(" "), _c('td', [(_vm.g.data.shop.shopName === l.shopName) ? _c('a', {
      attrs: {
        "target": "_blank",
        "href": '#/member-card-list/' + l.fromMemberId
      }
    }, [_vm._v(_vm._s(l.fromMemberName))]) : [_vm._v(_vm._s(l.fromMemberName))], _vm._v(" "), (l.fromMcCardNo || l.fromMcCardOutsideNo) ? _c('span', {
      staticClass: "l10"
    }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t（\n\t\t\t\t\t\t\t\t\t\t"), (l.fromMcCardNo) ? [_vm._v("卡内号：" + _vm._s(l.fromMcCardNo))] : _vm._e(), _vm._v(" "), (l.fromMcCardNo && l.fromMcCardOutsideNo) ? _c('span', {
      staticClass: "spt"
    }, [_vm._v("|")]) : _vm._e(), _vm._v(" "), (l.fromMcCardOutsideNo) ? [_vm._v("卡表号：" + _vm._s(l.fromMcCardOutsideNo))] : _vm._e(), _vm._v("\n\t\t\t\t\t\t\t\t\t\t）\n\t\t\t\t\t\t\t\t\t")], 2) : _vm._e()], 2)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("转入")]), _vm._v(" "), _c('td', [(l.transferValue) ? _c('b', [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(l.transferValue) + " " + _vm._s(_vm.g.Dict.CardUnitName[l.cardType]) + "\n\t\t\t\t\t\t\t")]) : _vm._e()])]), _vm._v(" "), (l.mcBeginDate && l.mcEndDate) ? _c('tr', [_c('th', [_vm._v("原使用期限")]), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.formatDate(l.mcBeginDate)) + " ~ " + _vm._s(_vm.g.Util.formatDate(l.mcEndDate)) + "\n\t\t\t\t\t\t")])]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("操作人")]), _c('td', [_vm._v(_vm._s(l.createUname))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("操作时间")]), _c('td', [_vm._v(_vm._s(l.createTime))])]), _vm._v(" "), (l.remark) ? _c('tr', [_c('th', [_vm._v("备注")]), _c('td', [_c('pr', [_vm._v(_vm._s(l.remark))])], 1)]) : _vm._e()])])
  }), 0)]) : _vm._e()])
},staticRenderFns: []}

/***/ }),

/***/ 2172:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-opt-log"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.logList), function(l) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(l.memberId)
        }
      }
    }, [_vm._v(_vm._s(l.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.oldPhoneNo))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.newPhoneNo))])])
  })], 2)]), _vm._v(" "), (_vm.count && _vm.count >= 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.count,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryLog
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.logList && _vm.logList.length === 0) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n\t\t\t\t暂无数据\n\t\t\t")]) : _vm._e()])], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("原手机号")]), _vm._v(" "), _c('th', [_vm._v("新手机号")])])
}]}

/***/ }),

/***/ 2174:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-follow-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('section', {
    staticClass: "query-section"
  }, [_c('table', [_c('tr', [_c('th', [_vm._v("跟进人员")]), _vm._v(" "), _c('td', [(_vm.dict.staffList.length > 1) ? _c('checkbox-group', {
    model: {
      value: (_vm.query.ownerUidList),
      callback: function($$v) {
        _vm.$set(_vm.query, "ownerUidList", $$v)
      },
      expression: "query.ownerUidList"
    }
  }, _vm._l((_vm.dict.staffList), function(s) {
    return _c('checkbox', {
      key: s.uid,
      staticClass: "ckbox",
      attrs: {
        "label": s.uid
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1) : _vm._e(), _vm._v(" "), (_vm.dict.staffList.length === 1) ? _c('b', [_vm._v(_vm._s(_vm.dict.staffList[0].name))]) : _vm._e()], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("跟进日期")]), _vm._v(" "), _c('td', [_c('date-picker', {
    staticClass: "-date",
    attrs: {
      "format": "yyyy-MM-dd",
      "confirm": "",
      "type": "daterange",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.query.followDateRange),
      callback: function($$v) {
        _vm.$set(_vm.query, "followDateRange", $$v)
      },
      expression: "query.followDateRange"
    }
  }), _vm._v(" "), _c('ul', {
    staticClass: "date-list"
  }, [_c('li', [_c('a', {
    on: {
      "click": function($event) {
        return _vm.setQueryDate(1)
      }
    }
  }, [_vm._v("今天")])]), _vm._v(" "), _c('li', [_c('a', {
    on: {
      "click": function($event) {
        return _vm.setQueryDate(2)
      }
    }
  }, [_vm._v("昨天")])]), _vm._v(" "), _c('li', [_c('a', {
    on: {
      "click": function($event) {
        return _vm.setQueryDate(3)
      }
    }
  }, [_vm._v("前天")])]), _vm._v(" "), _c('li', [_c('a', {
    on: {
      "click": function($event) {
        return _vm.setQueryDate(4)
      }
    }
  }, [_vm._v("最近一周")])])])], 1)]), _vm._v(" "), _c('tr', [_c('th'), _vm._v(" "), _c('td', [_c('div', {
    staticClass: "item submit"
  }, [_c('i-button', {
    staticClass: "primary-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.queryMemberFollow()
      }
    }
  }, [_vm._v("查询")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.resetQuery
    }
  }, [_vm._v("重置")])], 1)])])])]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员跟进记录 "), (_vm.totalCount) ? _c('span', [_vm._v("（" + _vm._s(_vm.totalCount) + "条）")]) : _vm._e()])]), _vm._v(" "), (_vm.memberFollowList && _vm.memberFollowList.length > 0) ? _c('Timeline', {
    staticClass: "follow-list"
  }, _vm._l((_vm.memberFollowList), function(f, idx) {
    return _c('TimelineItem', {
      key: idx
    }, [_c('span', {
      staticClass: "time"
    }, [_vm._v(_vm._s(f.createTime))]), _vm._v(" "), _c('span', {
      staticClass: "name"
    }, [_vm._v(_vm._s(f.createUname))]), _vm._v(" "), _c('span', {
      staticClass: "gray"
    }, [_vm._v("跟进会员")]), _vm._v(" "), (_vm.g.data.user.isShopOwner || f.updateUid === _vm.g.data.user.uid) ? _c('a', {
      on: {
        "click": function($event) {
          return _vm.viewMember(f.memberId)
        }
      }
    }, [_vm._v(_vm._s(f.memberName))]) : _c('span', [_vm._v(_vm._s(f.memberName))]), _vm._v(" "), _c('div', {
      staticClass: "content"
    }, [_c('pre', [_vm._v(_vm._s(f.content))])]), _vm._v(" "), (f.pics) ? _c('div', {
      staticClass: "pics"
    }, _vm._l((f.pics.split(',')), function(picName) {
      return _c('a', {
        attrs: {
          "href": _vm.g.Util.getImgUrl(picName),
          "target": "_blank"
        }
      }, [_c('img', {
        attrs: {
          "src": _vm.g.Util.getImgUrl(picName, 200, 200, 'EEEEEE')
        }
      })])
    }), 0) : _vm._e()])
  }), 1) : _c('p', {
    staticClass: "center gray"
  }, [_vm._v("无跟进记录")]), _vm._v(" "), (_vm.totalCount && _vm.totalCount > 30) ? _c('div', {
    staticClass: "page-nav",
    staticStyle: {
      "text-align": "left"
    }
  }, [_c('page', {
    attrs: {
      "total": _vm.totalCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.changePageNo
    }
  })], 1) : _vm._e()], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.selectMemberId
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2179:
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-test"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', {
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("添加测试")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        _vm.demoType = 'guide';
        _vm.demoVisible = true;
      }
    }
  }, [_vm._v("测试报告样例")])], 1)]), _vm._v(" "), _c('i-form', {
    ref: "options",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.options,
      "label-width": 90
    }
  }, [(_vm.options.psId && _vm.options.memberId) ? _c('form-item', {
    attrs: {
      "label": "选择会员",
      "required": ""
    }
  }, [_c('a', {
    on: {
      "click": function($event) {
        return _vm.viewMemberInfo(_vm.options.memberId)
      }
    }
  }, [_vm._v(_vm._s(_vm.options.memberName))])]) : _c('form-item', {
    attrs: {
      "prop": "memberId",
      "label": "会员",
      "required": ""
    }
  }, [_c('div', {
    staticClass: "input-box"
  }, [_c('div', {
    staticClass: "l",
    staticStyle: {
      "width": "85%"
    },
    on: {
      "click": function($event) {
        _vm.memberSelectDlg = true
      }
    }
  }, [(_vm.member.name) ? _c('span', [_vm._v(_vm._s(_vm.member.name))]) : _vm._e(), _vm._v("  \n            ")]), _vm._v(" "), _c('div', {
    staticClass: "r",
    on: {
      "click": _vm.clearMember
    }
  }, [_c('Icon', {
    staticClass: "gray",
    attrs: {
      "type": "android-close",
      "size": "13"
    }
  })], 1)]), _vm._v(" "), (_vm.member.name) ? _c('span', {
    staticClass: "l5"
  }, [_c('a', {
    on: {
      "click": function($event) {
        return _vm.viewMemberInfo(_vm.member.memberId)
      }
    }
  }, [_vm._v("【查看会员信息】")])]) : _vm._e()]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "age",
      "label": "年龄",
      "required": ""
    }
  }, [_c('input-int', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.age),
      callback: function($$v) {
        _vm.$set(_vm.options, "age", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.age"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("岁")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "height",
      "label": "身高",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.height),
      callback: function($$v) {
        _vm.$set(_vm.options, "height", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.height"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("厘米")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "weight",
      "label": "体重",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.weight),
      callback: function($$v) {
        _vm.$set(_vm.options, "weight", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.weight"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("公斤")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "bmi",
      "label": "BMI"
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "disabled": "",
      "min": 0
    },
    model: {
      value: (_vm.options.bmi),
      callback: function($$v) {
        _vm.$set(_vm.options, "bmi", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.bmi"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "testDateTime",
      "label": "测试日期",
      "required": ""
    }
  }, [_c('DatePicker', {
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "type": "date",
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.options.testDateTime),
      callback: function($$v) {
        _vm.$set(_vm.options, "testDateTime", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.testDateTime"
    }
  })], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "myform mrb",
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "tit",
    staticStyle: {
      "margin-bottom": "15px"
    }
  }, [_vm._v("正面视角")]), _vm._v(" "), _c('i-form', {
    ref: "options",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.options,
      "label-width": 90
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "height",
      "label": "正面视角照"
    }
  }, [_c('img-upload', {
    attrs: {
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "default-file-list": _vm.imgUpload.defaultFront,
      "on-success": _vm.handleFrontUpload,
      "max-size": _vm.imgUpload.maxSize
    }
  }, [_c('i-button', {
    attrs: {
      "type": "ghost",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("上传正面视角照片")]), _vm._v(" "), _c('a', {
    staticStyle: {
      "margin-left": "9px",
      "padding": "10px"
    },
    on: {
      "click": function($event) {
        $event.stopPropagation();
        _vm.demoType = 'front';
        _vm.demoVisible = true;
      }
    }
  }, [_vm._v("正面视角示例图")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "height",
      "label": "",
      "required": ""
    }
  }, [(_vm.frontOptions) ? _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.resetPosture(1)
      }
    }
  }, [_vm._v("重新测试")]) : _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.testPosture(1)
      }
    }
  }, [_vm._v("开始测试")])], 1), _vm._v(" "), (_vm.frontOptions) ? _c('div', {
    staticClass: "success-box"
  }, [_c('div', [_c('form-item', {
    attrs: {
      "prop": "frontHeadAnalysis",
      "label": "头部"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.frontOptions.frontHeadAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.frontOptions, "frontHeadAnalysis", $$v)
      },
      expression: "frontOptions.frontHeadAnalysis"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "frontHeadLevel",
      "label": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.frontOptions.frontHeadLevel),
      callback: function($$v) {
        _vm.$set(_vm.frontOptions, "frontHeadLevel", _vm._n($$v))
      },
      expression: "frontOptions.frontHeadLevel"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("未见异常")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("低风险")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("高风险")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "frontShoulderAnalysis",
      "label": "肩部"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.frontOptions.frontShoulderAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.frontOptions, "frontShoulderAnalysis", $$v)
      },
      expression: "frontOptions.frontShoulderAnalysis"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "frontShoulderLevel",
      "label": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.frontOptions.frontShoulderLevel),
      callback: function($$v) {
        _vm.$set(_vm.frontOptions, "frontShoulderLevel", _vm._n($$v))
      },
      expression: "frontOptions.frontShoulderLevel"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("未见异常")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("低风险")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("高风险")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "frontHipAnalysis",
      "label": "髋部"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.frontOptions.frontHipAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.frontOptions, "frontHipAnalysis", $$v)
      },
      expression: "frontOptions.frontHipAnalysis"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "frontHipLevel",
      "label": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.frontOptions.frontHipLevel),
      callback: function($$v) {
        _vm.$set(_vm.frontOptions, "frontHipLevel", _vm._n($$v))
      },
      expression: "frontOptions.frontHipLevel"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("未见异常")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("低风险")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("高风险")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "frontLegAnalysis",
      "label": "腿部"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.frontOptions.frontLegAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.frontOptions, "frontLegAnalysis", $$v)
      },
      expression: "frontOptions.frontLegAnalysis"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "frontLegLevel",
      "label": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.frontOptions.frontLegLevel),
      callback: function($$v) {
        _vm.$set(_vm.frontOptions, "frontLegLevel", _vm._n($$v))
      },
      expression: "frontOptions.frontLegLevel"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("未见异常")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("低风险")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("高风险")])], 1)], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "demo-box"
  }, [_c('img', {
    attrs: {
      "src": _vm.frontOptions.frontViewImgUrl,
      "alt": ""
    }
  }), _vm._v(" "), _c('div', [_vm._v("测试图")])])]) : _vm._e()], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "myform mrb",
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "tit",
    staticStyle: {
      "margin-bottom": "15px"
    }
  }, [_vm._v("侧面视角")]), _vm._v(" "), _c('i-form', {
    ref: "options",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.options,
      "label-width": 90
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "height",
      "label": "侧面视角照"
    }
  }, [_c('img-upload', {
    attrs: {
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "default-file-list": _vm.imgUpload.defaultSide,
      "on-success": _vm.handleSideUpload,
      "max-size": _vm.imgUpload.maxSize
    }
  }, [_c('i-button', {
    attrs: {
      "type": "ghost",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("上传侧面视角照片")]), _vm._v(" "), _c('a', {
    staticStyle: {
      "margin-left": "9px",
      "padding": "10px"
    },
    on: {
      "click": function($event) {
        $event.stopPropagation();
        _vm.demoType = 'side';
        _vm.demoVisible = true;
      }
    }
  }, [_vm._v("侧面视角示例图")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "height",
      "label": "",
      "required": ""
    }
  }, [(_vm.sideOptions) ? _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.resetPosture(2)
      }
    }
  }, [_vm._v("重新测试")]) : _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.testPosture(2)
      }
    }
  }, [_vm._v("开始测试")])], 1), _vm._v(" "), (_vm.sideOptions) ? _c('div', {
    staticClass: "success-box"
  }, [_c('div', [_c('form-item', {
    attrs: {
      "prop": "sideHeadAnalysis",
      "label": "头部"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.sideOptions.sideHeadAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.sideOptions, "sideHeadAnalysis", $$v)
      },
      expression: "sideOptions.sideHeadAnalysis"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sideHeadLevel",
      "label": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.sideOptions.sideHeadLevel),
      callback: function($$v) {
        _vm.$set(_vm.sideOptions, "sideHeadLevel", _vm._n($$v))
      },
      expression: "sideOptions.sideHeadLevel"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("未见异常")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("低风险")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("高风险")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sideShoulderAnalysis",
      "label": "肩部"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.sideOptions.sideShoulderAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.sideOptions, "sideShoulderAnalysis", $$v)
      },
      expression: "sideOptions.sideShoulderAnalysis"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sideShoulderLevel",
      "label": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.sideOptions.sideShoulderLevel),
      callback: function($$v) {
        _vm.$set(_vm.sideOptions, "sideShoulderLevel", _vm._n($$v))
      },
      expression: "sideOptions.sideShoulderLevel"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("未见异常")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("低风险")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("高风险")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sideHipAnalysis",
      "label": "髋部"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.sideOptions.sideHipAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.sideOptions, "sideHipAnalysis", $$v)
      },
      expression: "sideOptions.sideHipAnalysis"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sideHipLevel",
      "label": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.sideOptions.sideHipLevel),
      callback: function($$v) {
        _vm.$set(_vm.sideOptions, "sideHipLevel", _vm._n($$v))
      },
      expression: "sideOptions.sideHipLevel"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("未见异常")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("低风险")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("高风险")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sideLegAnalysis",
      "label": "腿部"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.sideOptions.sideLegAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.sideOptions, "sideLegAnalysis", $$v)
      },
      expression: "sideOptions.sideLegAnalysis"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sideLegLevel",
      "label": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.sideOptions.sideLegLevel),
      callback: function($$v) {
        _vm.$set(_vm.sideOptions, "sideLegLevel", _vm._n($$v))
      },
      expression: "sideOptions.sideLegLevel"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("未见异常")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("低风险")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("高风险")])], 1)], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "demo-box"
  }, [_c('img', {
    attrs: {
      "src": _vm.sideOptions.sideViewImgUrl,
      "alt": ""
    }
  }), _vm._v(" "), _c('div', [_vm._v("测试图")])])]) : _vm._e()], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "myform mrb",
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "tit",
    staticStyle: {
      "margin-bottom": "15px"
    }
  }, [_vm._v("结论")]), _vm._v(" "), _c('i-form', {
    ref: "options",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.options,
      "label-width": 90
    }
  }, [_c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "summary",
      "label": "结论"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.summary),
      callback: function($$v) {
        _vm.$set(_vm.options, "summary", $$v)
      },
      expression: "options.summary"
    }
  })], 1)], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "border": "none"
    }
  }, [_c('i-button', {
    staticClass: "primary",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.testSubmit
    }
  }, [_vm._v("提交")])], 1)], 1)], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员查询与选择",
      "width": "700",
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.memberSelectDlg),
      callback: function($$v) {
        _vm.memberSelectDlg = $$v
      },
      expression: "memberSelectDlg"
    }
  }, [(_vm.memberSelectDlg) ? _c('member-select', {
    attrs: {
      "after-select": _vm.afterSelectMember
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "780",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.selectMemberId
    }
  }) : _vm._e()], 1), _vm._v(" "), (_vm.demoVisible) ? _c('div', {
    staticClass: "guide"
  }, [_c('div', {
    staticClass: "guide-main"
  }, [_c('div', {
    staticClass: "middle"
  }, [(_vm.demoType == 'guide') ? _c('img', {
    staticClass: "pic",
    attrs: {
      "src": __webpack_require__(1181),
      "alt": ""
    }
  }) : _vm._e(), _vm._v(" "), (_vm.demoType == 'front') ? _c('img', {
    staticClass: "front",
    attrs: {
      "src": __webpack_require__(1182),
      "alt": ""
    }
  }) : _vm._e(), _vm._v(" "), (_vm.demoType == 'side') ? _c('img', {
    staticClass: "front",
    attrs: {
      "src": __webpack_require__(1183),
      "alt": ""
    }
  }) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "close"
  }, [_c('img', {
    attrs: {
      "src": __webpack_require__(1163),
      "alt": ""
    },
    on: {
      "click": function($event) {
        _vm.demoVisible = false
      }
    }
  })])])]) : _vm._e()], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2187:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [(_vm.disableMemberQuery) ? _c('section', {
    staticClass: "warning"
  }, [_vm._v("您已被禁用会员查询功能")]) : _vm._e(), _vm._v(" "), (!_vm.disableMemberQuery) ? _c('div', {
    staticClass: "toggle-query"
  }, [(_vm.showQuerySection) ? _c('div', {
    staticClass: "query-show"
  }, [_c('i', {
    staticClass: "iconfont icon-arrow-up-2",
    attrs: {
      "title": "隐藏查询条件"
    },
    on: {
      "click": function($event) {
        return _vm.toggleQuerySection()
      }
    }
  })]) : _c('div', {
    staticClass: "query-hide"
  }, [_c('i', {
    staticClass: "iconfont icon-arrow-down-2",
    attrs: {
      "title": "显示查询条件"
    },
    on: {
      "click": function($event) {
        return _vm.toggleQuerySection()
      }
    }
  })])]) : _vm._e(), _vm._v(" "), (_vm.showQuerySection && !_vm.disableMemberQuery) ? _c('section', {
    staticClass: "query-section"
  }, [_c('ul', {
    staticClass: "-more-query"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('i-input', {
    staticClass: "input",
    attrs: {
      "type": "text",
      "icon": "ios-search",
      "placeholder": "会员姓名 | 手机号 | 卡号"
    },
    on: {
      "on-enter": function($event) {
        return _vm.quickQuery(null)
      },
      "on-click": function($event) {
        return _vm.quickQuery(null)
      }
    },
    model: {
      value: (_vm.query.memberFlag),
      callback: function($$v) {
        _vm.$set(_vm.query, "memberFlag", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "query.memberFlag"
    }
  })], 1), _vm._v(" "), (!_vm.salesViewMembDisable) ? _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "input",
    attrs: {
      "placeholder": "请选择销售",
      "filterable": "",
      "clearable": ""
    },
    model: {
      value: (_vm.query.salesId),
      callback: function($$v) {
        _vm.$set(_vm.query, "salesId", _vm._n($$v))
      },
      expression: "query.salesId"
    }
  }, _vm._l((_vm.dict.salesList), function(s) {
    return _c('i-option', {
      key: 'sales' + s.staffId,
      attrs: {
        "value": s.staffId,
        "label": '销售：' + s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "input",
    attrs: {
      "placeholder": "请选择教练",
      "filterable": "",
      "clearable": ""
    },
    model: {
      value: (_vm.query.coachId),
      callback: function($$v) {
        _vm.$set(_vm.query, "coachId", _vm._n($$v))
      },
      expression: "query.coachId"
    }
  }, [(_vm.g.data.user.isShopOwner) ? _c('i-option', {
    attrs: {
      "value": -1
    }
  }, [_vm._v("【无教练】")]) : _vm._e(), _vm._v(" "), _vm._l((_vm.dict.coachList), function(s) {
    return _c('i-option', {
      key: 'coach' + s.staffId,
      attrs: {
        "value": s.staffId,
        "label": '教练：' + s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  })], 2)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "input",
    attrs: {
      "placeholder": "请选择会籍顾问",
      "filterable": "",
      "clearable": ""
    },
    model: {
      value: (_vm.query.advisorId),
      callback: function($$v) {
        _vm.$set(_vm.query, "advisorId", _vm._n($$v))
      },
      expression: "query.advisorId"
    }
  }, [(_vm.g.data.user.isShopOwner) ? _c('i-option', {
    attrs: {
      "value": -1
    }
  }, [_vm._v("【无会籍顾问】")]) : _vm._e(), _vm._v(" "), _vm._l((_vm.dict.advisorList), function(s) {
    return _c('i-option', {
      key: 'advi' + s.staffId,
      attrs: {
        "value": s.staffId,
        "label": '会籍顾问：' + s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  })], 2)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "input",
    attrs: {
      "placeholder": "请选择客户来源",
      "clearable": ""
    },
    model: {
      value: (_vm.query.source),
      callback: function($$v) {
        _vm.$set(_vm.query, "source", $$v)
      },
      expression: "query.source"
    }
  }, [_vm._l((_vm.dict.custSourceList), function(s) {
    return _c('i-option', {
      key: 'src' + s.sourceId,
      attrs: {
        "value": s.sourceId,
        "label": s.sourceName
      }
    }, [_vm._v("\n              " + _vm._s(s.sourceName) + "\n            ")])
  }), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 0
    }
  }, [_c('i', [_vm._v("跨店会员")])])], 2)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "input",
    attrs: {
      "clearable": "",
      "placeholder": "请选择会员所在单位"
    },
    model: {
      value: (_vm.query.orgId),
      callback: function($$v) {
        _vm.$set(_vm.query, "orgId", _vm._n($$v))
      },
      expression: "query.orgId"
    }
  }, _vm._l((_vm.dict.memberOrgList), function(o) {
    return _c('i-option', {
      key: o.orgId,
      attrs: {
        "value": o.orgId,
        "label": o.orgName
      }
    }, [_vm._v(_vm._s(o.orgName))])
  }), 1)], 1), _vm._v(" "), (_vm.canQueryAll) ? _c('li', {
    staticClass: "item"
  }, [_c('date-picker', {
    staticClass: "input",
    attrs: {
      "format": "yyyy/M/d",
      "placeholder": "请选择注册日期",
      "confirm": "",
      "options": _vm.createDateOption,
      "type": "daterange",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.query.createDateRange),
      callback: function($$v) {
        _vm.$set(_vm.query, "createDateRange", $$v)
      },
      expression: "query.createDateRange"
    }
  })], 1) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "input",
    attrs: {
      "clearable": "",
      "placeholder": "请选择会员标签"
    },
    model: {
      value: (_vm.query.tagId),
      callback: function($$v) {
        _vm.$set(_vm.query, "tagId", _vm._n($$v))
      },
      expression: "query.tagId"
    }
  }, _vm._l((_vm.dict.shopTagList), function(t) {
    return _c('i-option', {
      key: t.tagid,
      attrs: {
        "value": t.tagId,
        "label": '会员标签：' + t.tagName
      }
    }, [_vm._v(_vm._s(t.tagName))])
  }), 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "input",
    attrs: {
      "placeholder": "请选择是否私教会员",
      "clearable": ""
    },
    model: {
      value: (_vm.query.isPlMember),
      callback: function($$v) {
        _vm.$set(_vm.query, "isPlMember", _vm._n($$v))
      },
      expression: "query.isPlMember"
    }
  }, [_c('i-option', {
    attrs: {
      "value": "true"
    }
  }, [_vm._v("私教会员")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": "false"
    }
  }, [_vm._v("非私教会员")])], 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-input', {
    staticClass: "input",
    attrs: {
      "type": "text",
      "placeholder": "会员生日（格式：月/日）"
    },
    on: {
      "on-enter": _vm.queryMember,
      "click": function($event) {}
    },
    model: {
      value: (_vm.query.birthday),
      callback: function($$v) {
        _vm.$set(_vm.query, "birthday", $$v)
      },
      expression: "query.birthday"
    }
  }), _vm._v(" "), _c('a', {
    staticClass: "more-query-btn",
    on: {
      "click": function($event) {
        _vm.showMoreQuery = !_vm.showMoreQuery
      }
    }
  }, [_vm._v("更多过滤"), (_vm.showMoreQuery) ? _c('Icon', {
    attrs: {
      "type": "ios-arrow-up"
    }
  }) : _c('Icon', {
    attrs: {
      "type": "ios-arrow-down"
    }
  })], 1)], 1)]), _vm._v(" "), (_vm.showMoreQuery) ? _c('ul', {
    staticClass: "-more-query"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('i-input', {
    staticClass: "input",
    attrs: {
      "type": "text",
      "placeholder": "年龄范围（例如：20~30）"
    },
    on: {
      "on-enter": _vm.queryMember,
      "click": function($event) {}
    },
    model: {
      value: (_vm.query.birthdayYears),
      callback: function($$v) {
        _vm.$set(_vm.query, "birthdayYears", $$v)
      },
      expression: "query.birthdayYears"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "input",
    attrs: {
      "clearable": "",
      "placeholder": "请选择是否私教排课"
    },
    model: {
      value: (_vm.query.hasMemberPs),
      callback: function($$v) {
        _vm.$set(_vm.query, "hasMemberPs", _vm._n($$v))
      },
      expression: "query.hasMemberPs"
    }
  }, [_c('i-option', {
    attrs: {
      "value": "true"
    }
  }, [_vm._v("已排私教课")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": "false"
    }
  }, [_vm._v("未排私教课")])], 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-input', {
    staticClass: "input",
    attrs: {
      "type": "text",
      "placeholder": "请输入会员微信号"
    },
    model: {
      value: (_vm.query.wxNo),
      callback: function($$v) {
        _vm.$set(_vm.query, "wxNo", $$v)
      },
      expression: "query.wxNo"
    }
  })], 1), _vm._v(" "), (_vm.dict.coachTypeList && _vm.dict.coachTypeList.length) ? _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "input",
    attrs: {
      "placeholder": "请选择教练类型",
      "clearable": ""
    },
    model: {
      value: (_vm.query.coachType),
      callback: function($$v) {
        _vm.$set(_vm.query, "coachType", _vm._n($$v))
      },
      expression: "query.coachType"
    }
  }, _vm._l((_vm.dict.coachTypeList), function(t) {
    return _c('i-option', {
      key: t.ctId,
      attrs: {
        "value": t.ctId
      }
    }, [_vm._v(_vm._s(t.typeName))])
  }), 1)], 1) : _vm._e(), _vm._v(" "), (_vm.memberQueryViewType === 'full') ? _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "input",
    attrs: {
      "placeholder": "请选择未跟进天数",
      "clearable": ""
    },
    model: {
      value: (_vm.unfollowDays),
      callback: function($$v) {
        _vm.unfollowDays = $$v
      },
      expression: "unfollowDays"
    }
  }, [_c('i-option', {
    attrs: {
      "value": -1
    }
  }, [_vm._v("从未跟进")]), _vm._v(" "), _vm._l((_vm.followDays), function(n) {
    return _c('i-option', {
      key: n,
      attrs: {
        "value": n
      }
    }, [_vm._v(_vm._s(n) + " 天未跟进")])
  })], 2)], 1) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "input",
    attrs: {
      "placeholder": "请选择是否有入场签到",
      "clearable": ""
    },
    model: {
      value: (_vm.query.hasEntryCheckin),
      callback: function($$v) {
        _vm.$set(_vm.query, "hasEntryCheckin", $$v)
      },
      expression: "query.hasEntryCheckin"
    }
  }, [_c('i-option', {
    attrs: {
      "value": "true"
    }
  }, [_vm._v("有入场签到")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": "false"
    }
  }, [_vm._v("无入场签到")])], 1)], 1), _vm._v(" "), (_vm.dict.privateCourseList && _vm.dict.privateCourseList.length) ? _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "input",
    attrs: {
      "placeholder": "请选择会员私教排课课程",
      "clearable": ""
    },
    model: {
      value: (_vm.query.privateCourseId),
      callback: function($$v) {
        _vm.$set(_vm.query, "privateCourseId", $$v)
      },
      expression: "query.privateCourseId"
    }
  }, _vm._l((_vm.dict.privateCourseList), function(c) {
    return _c('i-option', {
      key: 'pc' + c.courseId,
      attrs: {
        "value": c.courseId
      }
    }, [_vm._v(_vm._s(c.courseName))])
  }), 1)], 1) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "input",
    attrs: {
      "placeholder": "请选择私教排课教练",
      "filterable": "",
      "clearable": ""
    },
    model: {
      value: (_vm.query.psCoachId),
      callback: function($$v) {
        _vm.$set(_vm.query, "psCoachId", _vm._n($$v))
      },
      expression: "query.psCoachId"
    }
  }, _vm._l((_vm.dict.coachList), function(s) {
    return _c('i-option', {
      key: 'coach' + s.staffId,
      attrs: {
        "value": s.staffId,
        "label": s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "input",
    attrs: {
      "placeholder": "请选择是否有会员头像",
      "clearable": ""
    },
    model: {
      value: (_vm.query.hasMemberAvatar),
      callback: function($$v) {
        _vm.$set(_vm.query, "hasMemberAvatar", $$v)
      },
      expression: "query.hasMemberAvatar"
    }
  }, [_c('i-option', {
    attrs: {
      "value": "true"
    }
  }, [_vm._v("有会员头像")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": "false"
    }
  }, [_vm._v("无会员头像")])], 1)], 1), _vm._v(" "), (_vm.isChainShop) ? _c('li', {
    staticClass: "item"
  }, [_c('checkbox', {
    model: {
      value: (_vm.query.ignoreCrossMember),
      callback: function($$v) {
        _vm.$set(_vm.query, "ignoreCrossMember", $$v)
      },
      expression: "query.ignoreCrossMember"
    }
  }, [_vm._v("忽略跨店会员")])], 1) : _vm._e()]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "submit"
  }, [_c('i-button', {
    staticClass: "primary-btn",
    attrs: {
      "type": "primary",
      "icon": "ios-search"
    },
    on: {
      "click": function($event) {
        return _vm.submitMemberQuery()
      }
    }
  }, [_vm._v("查询")]), _vm._v("  \n        "), _c('i-button', {
    on: {
      "click": _vm.resetQuery
    }
  }, [_vm._v("重置")]), _vm._v(" "), (_vm.query.memberFlag) ? _c('span', {
    staticClass: "l15 gray"
  }, [_vm._v(" \n          "), _c('Checkbox', {
    on: {
      "on-change": _vm.setAutoJumpToMembDetail
    },
    model: {
      value: (_vm.redirectToMemberPage),
      callback: function($$v) {
        _vm.redirectToMemberPage = $$v
      },
      expression: "redirectToMemberPage"
    }
  }, [_vm._v("只查出一个会员时，直接进入会员信息页面")])], 1) : _vm._e()], 1)]) : _vm._e(), _vm._v(" "), (!_vm.disableMemberQuery) ? _c('section', [_c('div', {
    staticClass: "opt-bar"
  }, [_c('table', [_c('tr', [_c('td', [_c('ul', [(_vm.setMemberAdvisorPermit && (_vm.dict.advisorList && _vm.dict.advisorList.length)) ? _c('li', {
    staticClass: "item"
  }, [_c('Dropdown', {
    attrs: {
      "placement": "bottom-start",
      "trigger": "click"
    },
    on: {
      "on-click": _vm.batchUpdateMemberAdvisor
    }
  }, [_c('i-button', [_vm._v("\n                      批量分配会籍 "), _c('Icon', {
    attrs: {
      "type": "arrow-down-b"
    }
  })], 1), _vm._v(" "), _c('DropdownMenu', {
    attrs: {
      "slot": "list"
    },
    slot: "list"
  }, _vm._l((_vm.dict.advisorList), function(s) {
    return _c('DropdownItem', {
      key: s.staffId,
      attrs: {
        "name": s.staffId + '\t' + s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1)], 1) : _vm._e(), _vm._v(" "), (_vm.setMemberSalesPermit && (_vm.dict.salesList && _vm.dict.salesList.length)) ? _c('li', {
    staticClass: "item"
  }, [_c('Dropdown', {
    attrs: {
      "placement": "bottom-start",
      "trigger": "click"
    },
    on: {
      "on-click": _vm.batchUpdateMemberSales
    }
  }, [_c('i-button', [_vm._v("\n                      批量分配销售 "), _c('Icon', {
    attrs: {
      "type": "arrow-down-b"
    }
  })], 1), _vm._v(" "), _c('DropdownMenu', {
    attrs: {
      "slot": "list"
    },
    slot: "list"
  }, _vm._l((_vm.dict.salesList), function(s) {
    return _c('DropdownItem', {
      key: s.staffId,
      attrs: {
        "name": s.staffId + '\t' + s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1)], 1) : _vm._e(), _vm._v(" "), (_vm.setMemberCoachPermit && (_vm.dict.coachList && _vm.dict.coachList.length)) ? _c('li', {
    staticClass: "item"
  }, [
    [(_vm.dict.coachTypeList && _vm.dict.coachTypeList.length) ? _c('i-button', {
      on: {
        "click": _vm.openAssignCoachDlg
      }
    }, [_vm._v("批量分配教练")]) : _c('Dropdown', {
      attrs: {
        "placement": "bottom-start",
        "trigger": "click"
      },
      on: {
        "on-click": _vm.batchUpdateMemberCoach
      }
    }, [_c('i-button', [_vm._v("\n                        批量分配教练 "), _c('Icon', {
      attrs: {
        "type": "arrow-down-b"
      }
    })], 1), _vm._v(" "), _c('DropdownMenu', {
      attrs: {
        "slot": "list"
      },
      slot: "list"
    }, _vm._l((_vm.dict.coachList), function(s) {
      return _c('DropdownItem', {
        key: s.staffId,
        attrs: {
          "name": s.staffId + '\t' + s.name
        }
      }, [_vm._v(_vm._s(s.name))])
    }), 1)], 1)]
  ], 2) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "90px"
    },
    attrs: {
      "title": "设置会员查询结果的显示方式"
    },
    on: {
      "on-change": _vm.changeMemberQueryViewType
    },
    model: {
      value: (_vm.memberQueryViewType),
      callback: function($$v) {
        _vm.memberQueryViewType = $$v
      },
      expression: "memberQueryViewType"
    }
  }, [_c('i-option', {
    attrs: {
      "value": "simple"
    }
  }, [_vm._v("简洁显示")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": "full"
    }
  }, [_vm._v("综合显示")])], 1)], 1), _vm._v(" "), (_vm.g.data.user.isTenantOwner && _vm.memberDelEnable) ? _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    attrs: {
      "icon": "trash-b"
    },
    on: {
      "click": _vm.openMemberDelDlg
    }
  }, [_vm._v("批量删除会员")])], 1) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('Dropdown', {
    attrs: {
      "placement": "bottom-start",
      "trigger": "hover"
    },
    on: {
      "on-click": _vm.changeMoreOpts
    }
  }, [_c('i-button', [_vm._v("\n                      更多操作 "), _c('Icon', {
    attrs: {
      "type": "arrow-down-b"
    }
  })], 1), _vm._v(" "), _c('DropdownMenu', {
    attrs: {
      "slot": "list"
    },
    slot: "list"
  }, [(_vm.memberEditable) ? _c('DropdownItem', {
    attrs: {
      "name": "setTags"
    }
  }, [_vm._v("批量设置标签")]) : _vm._e(), _vm._v(" "), (_vm.memberQueryViewType === 'full') ? _c('DropdownItem', {
    attrs: {
      "name": "setFields"
    }
  }, [_vm._v("自定义列")]) : _vm._e(), _vm._v(" "), (_vm.memberQueryViewType === 'full') ? _c('Dropdown', {
    attrs: {
      "placement": "right-start",
      "name": "orderType"
    },
    on: {
      "on-click": _vm.changeOrderType
    }
  }, [_c('DropdownItem', [_vm._v("\n                          排序方式   "), _c('Icon', {
    attrs: {
      "size": "14",
      "type": "ios-arrow-right"
    }
  })], 1), _vm._v(" "), _c('DropdownMenu', {
    attrs: {
      "slot": "list"
    },
    slot: "list"
  }, [_c('DropdownItem', {
    attrs: {
      "name": 1
    }
  }, [_vm._v("会员创建时间 ↓")]), _vm._v(" "), _c('DropdownItem', {
    attrs: {
      "name": 2
    }
  }, [_vm._v("最近充值时间 ↓")]), _vm._v(" "), _c('DropdownItem', {
    attrs: {
      "name": 3
    }
  }, [_vm._v("最近跟进时间 ↓")])], 1)], 1) : _vm._e(), _vm._v(" "), (_vm.g.data.user.isShopOwner) ? _c('DropdownItem', {
    attrs: {
      "name": "export"
    }
  }, [_vm._v("导出会员信息")]) : _vm._e()], 1)], 1)], 1)])]), _vm._v(" "), _c('td', {
    attrs: {
      "align": "right"
    }
  }, [_c('ul', {
    staticClass: "cnt-stat"
  }, [(_vm.validMemberCnt !== null) ? _c('li', {
    staticClass: "valid",
    attrs: {
      "title": "有效会员是指，会员至少有一张有效的会员卡"
    },
    on: {
      "click": function($event) {
        return _vm.queryValidMember(true)
      }
    }
  }, [(_vm.query.isValidMember === true) ? _c('i', {
    staticClass: "iconfont icon-check2 on"
  }) : _vm._e(), _vm._v("\n                  有效会员数"), _c('div', {
    staticClass: "cnt"
  }, [_vm._v(_vm._s(_vm.validMemberCnt))])]) : _vm._e(), _vm._v(" "), (_vm.invalidMemberCnt !== null) ? _c('li', {
    staticClass: "invalid",
    attrs: {
      "title": "无效会员是指，会员的所有会员卡都过期或无剩余额"
    },
    on: {
      "click": function($event) {
        return _vm.queryValidMember(false)
      }
    }
  }, [(_vm.query.isValidMember === false) ? _c('i', {
    staticClass: "iconfont icon-check2 on"
  }) : _vm._e(), _vm._v("\n                  无效会员数"), _c('div', {
    staticClass: "cnt"
  }, [_vm._v(_vm._s(_vm.invalidMemberCnt))])]) : _vm._e(), _vm._v(" "), (_vm.totalMemberCnt !== null) ? _c('li', {
    staticClass: "all",
    on: {
      "click": _vm.submitMemberQuery
    }
  }, [_vm._v("总会员数"), _c('div', {
    staticClass: "cnt"
  }, [_vm._v(_vm._s(_vm.totalMemberCnt))])]) : _vm._e()])])])])]), _vm._v(" "), (_vm.memberList && _vm.memberQueryViewType === 'simple') ? _c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    staticClass: "inner-tbl"
  }, [_c('tr', [(_vm.selectMemberPermit) ? _c('th', {
    staticClass: "ckbox",
    attrs: {
      "width": "40"
    },
    on: {
      "click": _vm.selectAll
    }
  }, [(_vm.isSelectAll) ? _c('i', {
    staticClass: "iconfont icon-checkbox-checked ckbox-1"
  }) : _c('i', {
    staticClass: "iconfont icon-checkbox-empty ckbox-0"
  })]) : _vm._e(), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("性别 / 姓名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "85"
    }
  }, [_vm._v("销售")]), _vm._v(" "), _c('th', {
    staticStyle: {
      "min-width": "85px"
    }
  }, [_vm._v("教练")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "85"
    }
  }, [_vm._v("会籍顾问")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("客户来源")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("注册日期")]), _vm._v(" "), _vm._m(0), _vm._v(" "), _c('th', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("会员卡号")]), _vm._v(" "), _c('th', [_vm._v("积分头衔 / 会员标签 / 备注")])]), _vm._v(" "), _vm._l((_vm.memberList), function(m, idx) {
    return _c('tr', {
      key: m.memberId
    }, [(_vm.selectMemberPermit) ? _c('td', {
      staticClass: "ckbox",
      on: {
        "click": function($event) {
          return _vm.selectMember(idx)
        }
      }
    }, [(!_vm.memberCkList[idx]) ? _c('i', {
      staticClass: "iconfont icon-checkbox-empty ckbox-0"
    }) : _c('i', {
      staticClass: "iconfont icon-checkbox-checked ckbox-1"
    })]) : _vm._e(), _vm._v(" "), _c('td', [_c('div', {
      staticClass: "member-opt-list"
    }, [_c('a', {
      staticClass: "mname",
      on: {
        "click": function($event) {
          return _vm.viewMemberBase(m.memberId)
        }
      }
    }, [(m.sex) ? _c('span', {
      staticClass: "male"
    }, [_vm._v("♂")]) : _c('span', {
      staticClass: "female"
    }, [_vm._v("♀")]), _vm._v("\n                  " + _vm._s(m.name.shorten(10))), (m.avatarPathname) ? _c('i', {
      staticClass: "iconfont icon-people1"
    }) : _vm._e()]), _vm._v(" "), _c('div', {
      staticClass: "opt-list-pop"
    }, [_c('u', [_vm._v("◀")]), _vm._v(" "), _c('ul', [_c('li', [_c('a', {
      attrs: {
        "href": '#/member-info/' + m.memberId,
        "target": "_blank"
      }
    }, [_vm._v("会员详情")])]), _vm._v(" "), _c('li', [_c('a', {
      attrs: {
        "href": '#/member-card-list/' + m.memberId,
        "target": "_blank"
      }
    }, [_vm._v("会员卡")])]), _vm._v(" "), _c('li', [_c('a', {
      attrs: {
        "href": '#/member-lesson-list/' + m.memberId,
        "target": "_blank"
      }
    }, [_vm._v("上课记录")])]), _vm._v(" "), _c('li', [_c('a', {
      attrs: {
        "href": '#/member-checkin-list/' + m.memberId,
        "target": "_blank"
      }
    }, [_vm._v("入场记录")])]), _vm._v(" "), _c('li', [_c('a', {
      attrs: {
        "href": '#/member-points-list/' + m.memberId,
        "target": "_blank"
      }
    }, [_vm._v("积分记录")])]), _vm._v(" "), (_vm.memberEditable) ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openMemberTagDlg(idx)
        }
      }
    }, [_vm._v("设置标签")])]) : _vm._e()])])])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.salesName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.coachName) + "\n              "), (m.moreCoachIds) ? _c('ul', {
      class: {
        coaches: true,
        'p5': m.coachName
      }
    }, _vm._l((m.moreCoachNameList), function(coachName, idx) {
      return (coachName) ? _c('li', [_vm._v("\n                  " + _vm._s(coachName)), _c('i', [_vm._v("（" + _vm._s(m.moreCoachTypeNameList[idx]) + "）")])]) : _vm._e()
    }), 0) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.advisorName))]), _vm._v(" "), _c('td', [(m.sourceName) ? [_vm._v(_vm._s(m.sourceName))] : (m.source === 0) ? _c('i', {
      staticClass: "gray"
    }, [_vm._v("跨店会员")]) : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDateIgnoreNull(m.regDate)))]), _vm._v(" "), _c('td', [(m.pointsSum) ? [_vm._v("\n                " + _vm._s(m.points)), (m.points !== m.pointsSum) ? [_c('span', {
      staticClass: "spt"
    }, [_vm._v("/")]), _vm._v(_vm._s(m.pointsSum))] : _vm._e()] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.cardNo))]), _vm._v(" "), _c('td', [(m.pointsTitle) ? _c('span', {
      staticClass: "points-tit",
      style: ('background-color:#' + _vm.pointsColorMap[m.pointsTitle])
    }, [_vm._v(_vm._s(m.pointsTitle))]) : _vm._e(), _vm._v(" "), (m.tagIds) ? _c('span', {
      staticClass: "tags"
    }, _vm._l((m.tagNames), function(tagName) {
      return _c('span', [_vm._v(_vm._s(tagName))])
    }), 0) : _vm._e(), _vm._v(" "), (_vm.query.isValidBirthdayYears && m.birthdayYear) ? _c('span', [_vm._v("【" + _vm._s(m.birthdayYear) + "年（" + _vm._s(m.age) + "岁）】")]) : _vm._e(), _vm._v(" "), (_vm.query.isValidBirthday && m.birthdayDate) ? _c('span', [_vm._v("【生日：" + _vm._s(_vm.formatBirthday(m.birthdayDate)) + "】")]) : _vm._e(), _vm._v(" "), (m.remark) ? _c('div', {
      staticClass: "p5"
    }, [_vm._v(_vm._s(m.remark))]) : _vm._e()])])
  })], 2)]) : (_vm.memberList && _vm.memberQueryViewType === 'full') ? _c('div', {
    staticClass: "member-list"
  }, [_c('vxe-table', {
    attrs: {
      "data": _vm.memberList,
      "size": "small",
      "resizable": "",
      "border": "",
      "max-height": _vm.memberTblHeight,
      "highlight-hover-row": "",
      "auto-resize": ""
    },
    on: {
      "checkbox-all": _vm.selectAllCheckboxEvent,
      "checkbox-change": _vm.selectCheckboxEvent
    }
  }, [(_vm.selectMemberPermit) ? _c('vxe-table-column', {
    attrs: {
      "type": "checkbox",
      "width": "40",
      "fixed": "left"
    }
  }) : _vm._e(), _vm._v(" "), _c('vxe-table-column', {
    attrs: {
      "title": "会员姓名",
      "width": "110",
      "fixed": "left"
    },
    scopedSlots: _vm._u([{
      key: "default",
      fn: function(ref) {
        var row = ref.row;
        var rowIndex = ref.rowIndex;

        return [_c('div', {
          staticClass: "memb-opt-list"
        }, [(row.memberId) ? _c('a', {
          staticClass: "mname",
          on: {
            "click": function($event) {
              return _vm.viewMemberBase(row.memberId)
            }
          }
        }, [_vm._v(_vm._s(row.name)), (row.avatarPathname) ? _c('i', {
          staticClass: "iconfont icon-people1"
        }) : _vm._e()]) : _vm._e(), _vm._v(" "), _c('div', {
          staticClass: "opt-list-pop"
        }, [_c('ul', [_c('li', [_c('a', {
          attrs: {
            "target": "_blank",
            "href": '#/member-info/' + row.memberId
          }
        }, [_vm._v("会员详情"), _c('i', {
          staticClass: "iconfont icon-arrow-r"
        })])]), _vm._v(" "), _c('li', [_c('a', {
          attrs: {
            "target": "_blank",
            "href": '#/member-card-list/' + row.memberId
          }
        }, [_vm._v("会员卡"), _c('i', {
          staticClass: "iconfont icon-arrow-r"
        })])]), _vm._v(" "), (_vm.memberEditable) ? _c('li', [_c('a', {
          on: {
            "click": function($event) {
              return _vm.openMemberTagDlg(rowIndex)
            }
          }
        }, [_vm._v("设置标签")])]) : _vm._e()])])])]
      }
    }], null, false, 510459057)
  }), _vm._v(" "), (_vm.staffFavFields.contains(1)) ? _c('vxe-table-column', {
    attrs: {
      "title": "性别",
      "width": "50"
    },
    scopedSlots: _vm._u([{
      key: "default",
      fn: function(ref) {
        var row = ref.row;

        return [(!_vm.g.Util.isEmpty(row.sex)) ? [_vm._v(_vm._s(_vm.g.Dict.Sex[row.sex]))] : _vm._e()]
      }
    }], null, false, 2049851515)
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(2)) ? _c('vxe-table-column', {
    attrs: {
      "title": "生日",
      "width": "85"
    },
    scopedSlots: _vm._u([{
      key: "default",
      fn: function(ref) {
        var row = ref.row;

        return [_c('span', [_vm._v(_vm._s(_vm.formatBirthday(row.birthdayYear, row.birthdayDate)))])]
      }
    }], null, false, 777328684)
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(3)) ? _c('vxe-table-column', {
    attrs: {
      "field": "salesName",
      "title": "销售",
      "width": "85"
    }
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(4)) ? _c('vxe-table-column', {
    attrs: {
      "field": "coach",
      "title": "教练",
      "min-width": "120"
    },
    scopedSlots: _vm._u([{
      key: "default",
      fn: function(ref) {
        var row = ref.row;

        return [_c('div', [(row.coachName) ? [_vm._v(_vm._s(row.coachName))] : _vm._e(), _vm._v(" "), (row.moreCoachIds) ? _c('ul', {
          class: {
            coaches: true,
            'p5': row.coachName
          }
        }, _vm._l((row.moreCoachNameList), function(coachName, idx) {
          return (coachName) ? _c('li', [_vm._v(_vm._s(coachName)), _c('i', [_vm._v("（" + _vm._s(row.moreCoachTypeNameList[idx]) + "）")])]) : _vm._e()
        }), 0) : _vm._e()], 2)]
      }
    }], null, false, 3448167957)
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(5)) ? _c('vxe-table-column', {
    attrs: {
      "field": "advisorName",
      "title": "会籍顾问",
      "width": "85"
    }
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(6)) ? _c('vxe-table-column', {
    attrs: {
      "title": "客户来源",
      "width": "110"
    },
    scopedSlots: _vm._u([{
      key: "default",
      fn: function(ref) {
        var row = ref.row;

        return [(row.sourceName) ? _c('span', [_vm._v(_vm._s(row.sourceName))]) : (row.source === 0) ? _c('i', {
          staticClass: "gray"
        }, [_vm._v("跨店会员")]) : _vm._e()]
      }
    }], null, false, 1884837071)
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(7)) ? _c('vxe-table-column', {
    attrs: {
      "title": "注册日期",
      "width": "100"
    },
    scopedSlots: _vm._u([{
      key: "default",
      fn: function(ref) {
        var row = ref.row;

        return [(row.regDate) ? [_vm._v(_vm._s(_vm.g.Util.formatDate(row.regDate)))] : _vm._e()]
      }
    }], null, false, 1547590679)
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(8)) ? _c('vxe-table-column', {
    attrs: {
      "field": "cardNo",
      "title": "会员卡号",
      "min-width": "120"
    }
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(9)) ? _c('vxe-table-column', {
    attrs: {
      "field": "latestMcpTime",
      "title": '最近充值时间' + (_vm.query.orderType == 2 ? ' ↓' : ''),
      "width": "150"
    }
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(10)) ? _c('vxe-table-column', {
    attrs: {
      "title": "最近充值卡",
      "min-width": "110",
      "field": "latestMcpCardName"
    }
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(11)) ? _c('vxe-table-column', {
    attrs: {
      "title": "最近充值信息",
      "min-width": "120"
    },
    scopedSlots: _vm._u([{
      key: "default",
      fn: function(ref) {
        var row = ref.row;

        return [(!_vm.g.Util.isEmpty(row.latestMcpAmount)) ? [(!_vm.g.Util.isEmpty(row.latestMcpAmount)) ? [_vm._v("￥" + _vm._s(row.latestMcpAmount))] : _vm._e(), _vm._v(" "), (row.latestMcpCardType == 1) ? [_vm._v("/ " + _vm._s(row.latestMcpDays) + "天")] : (row.latestMcpCardType == 2) ? [_vm._v("/ " + _vm._s(row.latestMcpTimes) + "次")] : (row.latestMcpCardType == 4) ? [_vm._v("/ " + _vm._s(row.latestMcpTimes) + "分钟")] : _vm._e()] : _vm._e()]
      }
    }], null, false, 1061184998)
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(12)) ? _c('vxe-table-column', {
    attrs: {
      "title": "剩余积分",
      "width": "80",
      "field": "points"
    }
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(13)) ? _c('vxe-table-column', {
    attrs: {
      "title": "累计积分",
      "width": "80",
      "field": "pointsSum"
    }
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(14)) ? _c('vxe-table-column', {
    attrs: {
      "title": "积分头衔",
      "min-width": "90"
    },
    scopedSlots: _vm._u([{
      key: "default",
      fn: function(ref) {
        var row = ref.row;

        return [(row.pointsTitle) ? _c('span', {
          staticClass: "points-tit",
          style: ('background-color:#' + _vm.pointsColorMap[row.pointsTitle])
        }, [_vm._v(_vm._s(row.pointsTitle))]) : _vm._e()]
      }
    }], null, false, 644773805)
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(15)) ? _c('vxe-table-column', {
    attrs: {
      "title": "会员标签",
      "min-width": "300"
    },
    scopedSlots: _vm._u([{
      key: "default",
      fn: function(ref) {
        var row = ref.row;

        return [(row.tagIds) ? _c('div', {
          staticClass: "tags"
        }, _vm._l((row.tagNames), function(tagName) {
          return _c('span', [_vm._v(_vm._s(tagName))])
        }), 0) : _vm._e()]
      }
    }], null, false, 2157283956)
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(16)) ? _c('vxe-table-column', {
    attrs: {
      "field": "createUname",
      "title": "创建人",
      "width": "85"
    }
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(17)) ? _c('vxe-table-column', {
    attrs: {
      "field": "createTime",
      "title": '创建时间' + (_vm.query.orderType == 1 ? ' ↓' : ''),
      "width": "150"
    }
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(18)) ? _c('vxe-table-column', {
    attrs: {
      "title": "会员备注",
      "min-width": "350"
    },
    scopedSlots: _vm._u([{
      key: "default",
      fn: function(ref) {
        var row = ref.row;

        return [(row.remark) ? _c('pre', [_vm._v(_vm._s(row.remark))]) : _vm._e()]
      }
    }], null, false, 1932809428)
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(19)) ? _c('vxe-table-column', {
    attrs: {
      "title": '最近跟进时间' + (_vm.query.orderType == 3 ? ' ↓' : ''),
      "width": "150",
      "field": "latestFollowTime"
    }
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(20)) ? _c('vxe-table-column', {
    attrs: {
      "title": "最近跟进人",
      "width": "90",
      "field": "latestFollowStaffName"
    }
  }) : _vm._e(), _vm._v(" "), (_vm.staffFavFields.contains(21)) ? _c('vxe-table-column', {
    attrs: {
      "title": "最近跟进内容",
      "min-width": "350"
    },
    scopedSlots: _vm._u([{
      key: "default",
      fn: function(ref) {
        var row = ref.row;

        return [(row.latestFollowContent) ? _c('pre', [_vm._v(_vm._s(row.latestFollowContent))]) : _vm._e()]
      }
    }], null, false, 3803204948)
  }) : _vm._e()], 1)], 1) : _vm._e(), _vm._v(" "), (_vm.totalCount && (!_vm.query.memberFlag || (_vm.query.memberFlag && _vm.canQueryAll))) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.totalCount,
      "current": _vm.queryPage,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.changePageNo
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.totalCount > 30 && _vm.query.memberFlag && !_vm.canQueryAll) ? _c('div', {
    staticClass: "no-data"
  }, [_c('i', {
    staticClass: "gray"
  }, [_vm._v("无查询所有会员权限，仅能显示第一页")])]) : _vm._e()]) : _vm._e()]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": _vm.memberTagDlgTit,
      "width": "700",
      "ok-text": "",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewMemberTagDlg),
      callback: function($$v) {
        _vm.viewMemberTagDlg = $$v
      },
      expression: "viewMemberTagDlg"
    }
  }, [(_vm.viewMemberTagDlg) ? _c('member-tag-edit', {
    attrs: {
      "member-id": _vm.viewMemberId,
      "member-ids": _vm.checkedMemberIdList,
      "member-tags": _vm.memberTags,
      "after-update-shop-tags": _vm.afterUpdateShopTags,
      "after-update-member-tags": _vm.afterUpdateMemberTags
    }
  }) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        _vm.viewMemberTagDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "分配教练",
      "width": "550",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.assignCoachDlg),
      callback: function($$v) {
        _vm.assignCoachDlg = $$v
      },
      expression: "assignCoachDlg"
    }
  }, [_c('div', {
    staticStyle: {
      "margin": "0 auto",
      "width": "350px"
    }
  }, [_vm._l((_vm.assignMemberCoachList), function(c, idx) {
    return _c('div', {
      staticClass: "p10"
    }, [_c('i-select', {
      staticStyle: {
        "width": "170px"
      },
      attrs: {
        "placeholder": "选择教练类型"
      },
      model: {
        value: (c.coachType),
        callback: function($$v) {
          _vm.$set(c, "coachType", $$v)
        },
        expression: "c.coachType"
      }
    }, [_c('i-option', {
      key: 0,
      attrs: {
        "value": ""
      }
    }, [_c('span', {
      staticClass: "gray"
    }, [_vm._v("无")])]), _vm._v(" "), _vm._l((_vm.dict.coachTypeList), function(s) {
      return _c('i-option', {
        key: s.ctId,
        attrs: {
          "value": s.ctId
        }
      }, [_vm._v(_vm._s(s.typeName))])
    })], 2), _vm._v("\n         \n        "), _c('i-select', {
      staticStyle: {
        "width": "150px"
      },
      attrs: {
        "filterable": "",
        "placeholder": "选择教练"
      },
      model: {
        value: (c.coachId),
        callback: function($$v) {
          _vm.$set(c, "coachId", $$v)
        },
        expression: "c.coachId"
      }
    }, [_c('i-option', {
      key: 0,
      attrs: {
        "value": ""
      }
    }, [_c('span', {
      staticClass: "gray"
    }, [_vm._v("无")])]), _vm._v(" "), _vm._l((_vm.dict.coachList), function(s) {
      return _c('i-option', {
        key: s.staffId,
        attrs: {
          "value": s.staffId
        }
      }, [_vm._v(_vm._s(s.name))])
    })], 2)], 1)
  }), _vm._v(" "), _c('div', {
    staticClass: "p20"
  }, [_vm._v("\n        分配方式：\n        "), _c('RadioGroup', {
    model: {
      value: (_vm.assignCoachMethod),
      callback: function($$v) {
        _vm.assignCoachMethod = _vm._n($$v)
      },
      expression: "assignCoachMethod"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("\n            更新会员教练\n          ")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("\n            新增会员教练\n          ")])], 1)], 1)], 2), _vm._v(" "), _c('div', {
    staticStyle: {
      "margin-top": "-20px"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('div', {
    staticClass: "form-submit center"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submiAssignCoach
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.assignCoachDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)])]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "导出文件下载",
      "width": "500",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.exportDlg),
      callback: function($$v) {
        _vm.exportDlg = $$v
      },
      expression: "exportDlg"
    }
  }, [_c('div', {
    staticClass: "export-xls"
  }, [(_vm.exportFileUrl) ? [(_vm.exportFileUrl) ? _c('a', {
    attrs: {
      "href": _vm.exportFileUrl,
      "target": "_blank"
    }
  }, [_vm._v("下载导出文件（xls）")]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "remark"
  }, [_c('b', {
    staticClass: "red"
  }, [_vm._v("提示")]), _vm._v("：每次最多导出 600 条记录 "), _c('br'), _vm._v("如要导出下一个600条，请将当前页数增加20页后再导出")])] : _c('span', [_vm._v("正在查询并导出，请稍候...")])], 2)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "批量删除会员",
      "width": "800",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.delMemberDlg),
      callback: function($$v) {
        _vm.delMemberDlg = $$v
      },
      expression: "delMemberDlg"
    }
  }, [_c('div', [_vm._v("\n      安全校验码： "), _c('i-input', {
    staticStyle: {
      "width": "180px"
    },
    attrs: {
      "type": "text"
    },
    model: {
      value: (_vm.sysCheckCode),
      callback: function($$v) {
        _vm.sysCheckCode = (typeof $$v === 'string' ? $$v.trim() : $$v)
      },
      expression: "sysCheckCode"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "orange l10"
  }, [_vm._v("（备注：每个门店的【安全校验码】每天都不一样，请咨询系统售后人员）")])], 1), _vm._v(" "), _c('div', {
    staticClass: "warning mt20"
  }, [_vm._v("\n      会员删除包括删除会员的所有信息，例如：会员的会员卡记录、签到记录、上课记录、相册等。一旦删除，将不能恢复，请慎重操作。\n    ")]), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.deleteMemberList
    }
  }, [_vm._v("提交")])], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "自定义显示列",
      "width": "800",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.memberFieldSetDlg),
      callback: function($$v) {
        _vm.memberFieldSetDlg = $$v
      },
      expression: "memberFieldSetDlg"
    }
  }, [(_vm.memberFieldSetDlg) ? _c('div', {
    staticClass: "fields-conf"
  }, [_c('CheckboxGroup', {
    model: {
      value: (_vm.staffFavFieldsForEdit),
      callback: function($$v) {
        _vm.staffFavFieldsForEdit = $$v
      },
      expression: "staffFavFieldsForEdit"
    }
  }, _vm._l((_vm.memberFields), function(name, id) {
    return _c('Checkbox', {
      key: id,
      attrs: {
        "label": parseInt(id)
      }
    }, [_vm._v(_vm._s(name))])
  }), 1)], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center form-submit",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.updateStaffFavField
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.memberFieldSetDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("积分 "), _c('a', {
    staticClass: "th-help",
    attrs: {
      "title": "剩余积分/累计积分"
    }
  }, [_vm._v("?")])])
}]}

/***/ }),

/***/ 2189:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-opt-log"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "mytbl member-photo-log"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.log.data), function(l) {
    return _c('tr', [_c('td', {
      staticClass: "center",
      on: {
        "click": function($event) {
          return _vm.viewMember(l.memberId)
        }
      }
    }, [(l.memberAvatar) ? _c('div', [_c('img', {
      attrs: {
        "src": _vm.g.Util.getImgUrl(l.memberAvatar, 400, 400, 'dddddd')
      }
    })]) : _vm._e(), _vm._v(" "), _c('a', {
      staticClass: "block bold"
    }, [_vm._v(_vm._s(l.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [(l.oldImg) ? _vm._l((l.oldImg.split(',')), function(img) {
      return _c('a', {
        attrs: {
          "href": _vm.g.Util.getImgUrl(img),
          "target": "_blank"
        }
      }, [_c('img', {
        attrs: {
          "src": _vm.g.Util.getImgUrl(img, 400, 400, 'dddddd')
        }
      })])
    }) : _vm._e()], 2), _vm._v(" "), _c('td', [(l.newImg) ? _vm._l((l.newImg.split(',')), function(img) {
      return _c('a', {
        attrs: {
          "href": _vm.g.Util.getImgUrl(img),
          "target": "_blank"
        }
      }, [_c('img', {
        attrs: {
          "src": _vm.g.Util.getImgUrl(img, 400, 400, 'dddddd')
        }
      })])
    }) : _vm._e()], 2)])
  })], 2), _vm._v(" "), (_vm.log.count && _vm.log.count >= 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.log.count,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMemberAvatarChangeLog
    }
  })], 1) : _vm._e()]), _vm._v(" "), (_vm.log.data && _vm.log.data.length === 0) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("\n\t\t\t\t暂无数据\n\t\t\t")]) : _vm._e()])], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', [_vm._v("原头像")]), _vm._v(" "), _c('th', [_vm._v("新头像")])])
}]}

/***/ }),

/***/ 2190:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-test"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', {
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("测试详情")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        return _vm.$refs.guide.show()
      }
    }
  }, [_vm._v("测试报告样例")])], 1)]), _vm._v(" "), _c('i-form', {
    ref: "options",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.options,
      "label-width": 90
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "testDateTime",
      "label": "测试日期",
      "required": ""
    }
  }, [_c('DatePicker', {
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "type": "date",
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.options.testDateTime),
      callback: function($$v) {
        _vm.$set(_vm.options, "testDateTime", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.testDateTime"
    }
  })], 1), _vm._v(" "), (_vm.options.psId && _vm.options.memberId) ? _c('form-item', {
    attrs: {
      "label": "选择会员",
      "required": ""
    }
  }, [_c('a', {
    on: {
      "click": function($event) {
        return _vm.viewMemberInfo(_vm.options.memberId)
      }
    }
  }, [_vm._v(_vm._s(_vm.options.memberName))])]) : _c('form-item', {
    attrs: {
      "prop": "memberId",
      "label": "会员",
      "required": ""
    }
  }, [_c('div', {
    staticClass: "input-box"
  }, [_c('div', {
    staticClass: "l",
    staticStyle: {
      "width": "85%"
    },
    on: {
      "click": function($event) {
        _vm.memberSelectDlg = true
      }
    }
  }, [(_vm.member.name) ? _c('span', [_vm._v(_vm._s(_vm.member.name))]) : _vm._e(), _vm._v("  \n\t\t\t\t\t\t")]), _vm._v(" "), _c('div', {
    staticClass: "r",
    on: {
      "click": _vm.clearMember
    }
  }, [_c('Icon', {
    staticClass: "gray",
    attrs: {
      "type": "android-close",
      "size": "13"
    }
  })], 1)]), _vm._v(" "), (_vm.member.name) ? _c('span', {
    staticClass: "l5"
  }, [_c('a', {
    on: {
      "click": function($event) {
        return _vm.viewMemberInfo(_vm.member.memberId)
      }
    }
  }, [_vm._v("【查看会员信息】")])]) : _vm._e()]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "age",
      "label": "年龄",
      "required": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.options.age),
      callback: function($$v) {
        _vm.$set(_vm.options, "age", _vm._n($$v))
      },
      expression: "options.age"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("3")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3.5
    }
  }, [_vm._v("3.5")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 4
    }
  }, [_vm._v("4")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 4.5
    }
  }, [_vm._v("4.5")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 5
    }
  }, [_vm._v("5")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 5.5
    }
  }, [_vm._v("5.5")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 6
    }
  }, [_vm._v("6")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "score",
      "label": "体测总体分值",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.score),
      callback: function($$v) {
        _vm.$set(_vm.options, "score", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.score"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("分")]), _vm._v(" "), _c('div', {
    staticClass: "warn flex-center"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("请输入1~40的分值")])])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "summary",
      "label": "体测总结和评价",
      "required": ""
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.summary),
      callback: function($$v) {
        _vm.$set(_vm.options, "summary", $$v)
      },
      expression: "options.summary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.summary.length) + "/" + _vm._s(_vm.topWords))])], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "myform mrb",
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "tit",
    staticStyle: {
      "margin-bottom": "15px"
    }
  }, [_vm._v("身体形态")]), _vm._v(" "), _c('i-form', {
    ref: "options",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.options,
      "label-width": 90
    }
  }, [_c('form-item', {
    staticClass: "b-label",
    attrs: {
      "prop": "height",
      "label": "身高",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.height),
      callback: function($$v) {
        _vm.$set(_vm.options, "height", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.height"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("厘米")])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "heightSummary",
      "label": "评语"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.heightSummary),
      callback: function($$v) {
        _vm.$set(_vm.options, "heightSummary", $$v)
      },
      expression: "options.heightSummary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.heightSummary.length) + "/" + _vm._s(_vm.summaryWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "heightAnalysis",
      "label": "分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.heightAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "heightAnalysis", $$v)
      },
      expression: "options.heightAnalysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.heightAnalysis.length) + "/" + _vm._s(_vm.analysisWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "b-label",
    attrs: {
      "prop": "weight",
      "label": "体重",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.weight),
      callback: function($$v) {
        _vm.$set(_vm.options, "weight", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.weight"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("公斤")])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "weightSummary",
      "label": "评语"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.weightSummary),
      callback: function($$v) {
        _vm.$set(_vm.options, "weightSummary", $$v)
      },
      expression: "options.weightSummary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.weightSummary.length) + "/" + _vm._s(_vm.summaryWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "weightAnalysis",
      "label": "分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.weightAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "weightAnalysis", $$v)
      },
      expression: "options.weightAnalysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.weightAnalysis.length) + "/" + _vm._s(_vm.analysisWords))])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "bmi",
      "label": "BMI"
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "disabled": "",
      "min": 0
    },
    model: {
      value: (_vm.options.bmi),
      callback: function($$v) {
        _vm.$set(_vm.options, "bmi", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.bmi"
    }
  })], 1)], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "myform mrb",
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "tit",
    staticStyle: {
      "margin-bottom": "15px"
    }
  }, [_vm._v("运动能力")]), _vm._v(" "), _c('i-form', {
    ref: "options",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.options,
      "label-width": 90
    }
  }, [_c('form-item', {
    staticClass: "b-label",
    attrs: {
      "prop": "throwForDistance",
      "label": "网球掷远"
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.throwForDistance),
      callback: function($$v) {
        _vm.$set(_vm.options, "throwForDistance", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.throwForDistance"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("米")]), _vm._v(" "), _c('div', {
    staticClass: "warn flex-center"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("测试上肢力量")])])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "throwForDistanceSummary",
      "label": "评语"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.throwForDistanceSummary),
      callback: function($$v) {
        _vm.$set(_vm.options, "throwForDistanceSummary", $$v)
      },
      expression: "options.throwForDistanceSummary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.throwForDistanceSummary.length) + "/" + _vm._s(_vm.summaryWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "throwForDistanceAnalysis",
      "label": "分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.throwForDistanceAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "throwForDistanceAnalysis", $$v)
      },
      expression: "options.throwForDistanceAnalysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.throwForDistanceAnalysis.length) + "/" + _vm._s(_vm.analysisWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "b-label",
    attrs: {
      "prop": "longJump",
      "label": "立定跳远"
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.longJump),
      callback: function($$v) {
        _vm.$set(_vm.options, "longJump", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.longJump"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("厘米")]), _vm._v(" "), _c('div', {
    staticClass: "warn flex-center"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("测试下肢力量")])])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "longJumpSummary",
      "label": "评语"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.longJumpSummary),
      callback: function($$v) {
        _vm.$set(_vm.options, "longJumpSummary", $$v)
      },
      expression: "options.longJumpSummary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.longJumpSummary.length) + "/" + _vm._s(_vm.summaryWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "longJumpAnalysis",
      "label": "分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.longJumpAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "longJumpAnalysis", $$v)
      },
      expression: "options.longJumpAnalysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.longJumpAnalysis.length) + "/" + _vm._s(_vm.analysisWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "b-label",
    attrs: {
      "prop": "jumpWithBothFeet",
      "label": "双脚连续跳"
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.jumpWithBothFeet),
      callback: function($$v) {
        _vm.$set(_vm.options, "jumpWithBothFeet", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.jumpWithBothFeet"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("秒")]), _vm._v(" "), _c('div', {
    staticClass: "warn flex-center"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("测试协调性")])])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "jumpWithBothFeetSummary",
      "label": "评语"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.jumpWithBothFeetSummary),
      callback: function($$v) {
        _vm.$set(_vm.options, "jumpWithBothFeetSummary", $$v)
      },
      expression: "options.jumpWithBothFeetSummary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.jumpWithBothFeetSummary.length) + "/" + _vm._s(_vm.summaryWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "jumpWithBothFeetAnalysis",
      "label": "分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.jumpWithBothFeetAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "jumpWithBothFeetAnalysis", $$v)
      },
      expression: "options.jumpWithBothFeetAnalysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.jumpWithBothFeetAnalysis.length) + "/" + _vm._s(_vm.analysisWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "b-label",
    attrs: {
      "prop": "sitAndReach",
      "label": "坐位体前屈"
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.sitAndReach),
      callback: function($$v) {
        _vm.$set(_vm.options, "sitAndReach", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.sitAndReach"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("厘米")]), _vm._v(" "), _c('div', {
    staticClass: "warn flex-center"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("测试柔韧性")])])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "sitAndReachSummary",
      "label": "评语"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.sitAndReachSummary),
      callback: function($$v) {
        _vm.$set(_vm.options, "sitAndReachSummary", $$v)
      },
      expression: "options.sitAndReachSummary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.sitAndReachSummary.length) + "/" + _vm._s(_vm.summaryWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "sitAndReachAnalysis",
      "label": "分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.sitAndReachAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "sitAndReachAnalysis", $$v)
      },
      expression: "options.sitAndReachAnalysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.sitAndReachAnalysis.length) + "/" + _vm._s(_vm.analysisWords))])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "turnBackRun",
      "label": "10米折返跑"
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.turnBackRun),
      callback: function($$v) {
        _vm.$set(_vm.options, "turnBackRun", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.turnBackRun"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("秒")]), _vm._v(" "), _c('div', {
    staticClass: "warn flex-center"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("测试灵敏性")])])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "turnBackRunSummary",
      "label": "评语"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.turnBackRunSummary),
      callback: function($$v) {
        _vm.$set(_vm.options, "turnBackRunSummary", $$v)
      },
      expression: "options.turnBackRunSummary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.turnBackRunSummary.length) + "/" + _vm._s(_vm.summaryWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "turnBackRunAnalysis",
      "label": "分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.turnBackRunAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "turnBackRunAnalysis", $$v)
      },
      expression: "options.turnBackRunAnalysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.turnBackRunAnalysis.length) + "/" + _vm._s(_vm.analysisWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "b-label",
    attrs: {
      "prop": "balanceBeam",
      "label": "走平衡木"
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.balanceBeam),
      callback: function($$v) {
        _vm.$set(_vm.options, "balanceBeam", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.balanceBeam"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("秒")]), _vm._v(" "), _c('div', {
    staticClass: "warn flex-center"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("测试平衡力")])])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "balanceBeamSummary",
      "label": "评语"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.balanceBeamSummary),
      callback: function($$v) {
        _vm.$set(_vm.options, "balanceBeamSummary", $$v)
      },
      expression: "options.balanceBeamSummary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.balanceBeamSummary.length) + "/" + _vm._s(_vm.summaryWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "balanceBeamAnalysis",
      "label": "分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.balanceBeamAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "balanceBeamAnalysis", $$v)
      },
      expression: "options.balanceBeamAnalysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.balanceBeamAnalysis.length) + "/" + _vm._s(_vm.analysisWords))])], 1)], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "myform mrb",
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "tit",
    staticStyle: {
      "margin-bottom": "15px"
    }
  }, [_vm._v("建议分析")]), _vm._v(" "), _c('i-form', {
    ref: "options",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.options,
      "label-width": 90
    }
  }, [_c('form-item', {
    staticClass: "with-words b-label",
    attrs: {
      "prop": "analysis",
      "label": "弱项分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.analysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "analysis", $$v)
      },
      expression: "options.analysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.analysis.length) + "/" + _vm._s(_vm.weeknessWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words b-label",
    attrs: {
      "prop": "suggestions",
      "label": "提升建议"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.suggestions),
      callback: function($$v) {
        _vm.$set(_vm.options, "suggestions", $$v)
      },
      expression: "options.suggestions"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.suggestions.length) + "/" + _vm._s(_vm.suggestWords))])], 1)], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "border": "none",
      "padding-left": "130px"
    }
  }, [_c('i-button', {
    staticClass: "primary",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.testSubmit
    }
  }, [_vm._v("提交")])], 1)], 1)], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员查询与选择",
      "width": "700",
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.memberSelectDlg),
      callback: function($$v) {
        _vm.memberSelectDlg = $$v
      },
      expression: "memberSelectDlg"
    }
  }, [(_vm.memberSelectDlg) ? _c('member-select', {
    attrs: {
      "after-select": _vm.afterSelectMember
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "780",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.selectMemberId
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('Guide', {
    ref: "guide"
  })], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2197:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [(_vm.isLoadData && _vm.memberCard.mcpId) ? _c('section', [_vm._m(0), _c('br'), _vm._v(" "), (!_vm.showForm) ? _c('div', {
    staticClass: "center"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        _vm.showForm = true
      }
    }
  }, [_vm._v("我知道了")])], 1) : _vm._e(), _vm._v(" "), (_vm.showForm) ? _c('i-form', {
    ref: "memberCard",
    staticClass: "myform",
    staticStyle: {
      "width": "475px"
    },
    attrs: {
      "model": _vm.memberCard,
      "rules": _vm.memberCardFormRule,
      "label-width": 115
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "cardId",
      "label": "会员卡种类"
    }
  }, [_c('i-select', {
    attrs: {
      "filterable": ""
    },
    on: {
      "on-change": _vm.handleCardSelect
    },
    model: {
      value: (_vm.memberCard.cardId),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "cardId", _vm._n($$v))
      },
      expression: "memberCard.cardId"
    }
  }, _vm._l((_vm.dict.cardList), function(c) {
    return (_vm.memberCard.cardType === c.cardType) ? _c('i-option', {
      key: c.cardId,
      attrs: {
        "value": c.cardId,
        "label": c.cardName + ' 【' + c.cardTypeName + '】'
      }
    }, [_c('span', [_vm._v(_vm._s(c.cardName))]), _vm._v(" "), _c('span', {
      staticStyle: {
        "float": "right",
        "color": "#bbb"
      }
    }, [_vm._v(_vm._s(c.cardTypeName))])]) : _vm._e()
  }), 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "usableAmount",
      "label": "充值金额"
    }
  }, [_c('input-num', {
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.memberCard.usableAmount),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "usableAmount", $$v)
      },
      expression: "memberCard.usableAmount"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "paymentAmount",
      "label": "实收金额"
    }
  }, [_c('input-num', {
    attrs: {
      "disabled": _vm.memberCard.paymentChannel == 8,
      "title": ""
    },
    model: {
      value: (_vm.memberCard.paymentAmount),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "paymentAmount", $$v)
      },
      expression: "memberCard.paymentAmount"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1), _vm._v(" "), (_vm.memberCard.cardType === 2) ? _c('form-item', {
    attrs: {
      "prop": "usableTimes",
      "required": "",
      "label": "使用次数"
    }
  }, [_c('input-num', {
    model: {
      value: (_vm.memberCard.usableTimes),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "usableTimes", _vm._n($$v))
      },
      expression: "memberCard.usableTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次")])], 1) : _vm._e(), _vm._v(" "), (_vm.memberCard.cardType === 4) ? _c('form-item', {
    attrs: {
      "prop": "usableTimes",
      "label": "使用时间"
    }
  }, [_c('input-num', {
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.memberCard.usableTimes),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "usableTimes", $$v)
      },
      expression: "memberCard.usableTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v(_vm._s(_vm.g.Dict.CardTimeTypes[_vm.memberCard.cardTimeType]))])], 1) : _vm._e(), _vm._v(" "), (_vm.dateEditType === 1) ? _c('form-item', {
    attrs: {
      "prop": "usableDays",
      "label": "使用天数"
    }
  }, [_c('input-int', {
    attrs: {
      "min": -10000
    },
    model: {
      value: (_vm.memberCard.usableDays),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "usableDays", _vm._n($$v))
      },
      expression: "memberCard.usableDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")])], 1) : _vm._e(), _vm._v(" "), (_vm.memberCard.usableDays && _vm.dateEditType === 1) ? [_c('form-item', {
    attrs: {
      "prop": "beginDate",
      "label": "开卡日期"
    }
  }, [_c('date-picker', {
    staticClass: "input-s",
    attrs: {
      "type": "date"
    },
    model: {
      value: (_vm.memberCard.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "beginDate", $$v)
      },
      expression: "memberCard.beginDate"
    }
  }), _vm._v(" "), (!_vm.memberCard.beginDate) ? _c('div', {
    staticClass: "orange"
  }, [_c('Icon', {
    attrs: {
      "type": "information-circled",
      "size": "15"
    }
  }), _vm._v(" 尚未开卡，开卡日期以会员第一次使用日期为准\n            ")], 1) : _vm._e()], 1), _vm._v(" "), _c('form-item', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (!_vm.memberCard.beginDate),
      expression: "!memberCard.beginDate"
    }],
    attrs: {
      "prop": "limitBeginDate",
      "label": "最迟开卡日期"
    }
  }, [_c('date-picker', {
    staticClass: "input-s",
    attrs: {
      "type": "date"
    },
    model: {
      value: (_vm.memberCard.limitBeginDate),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "limitBeginDate", $$v)
      },
      expression: "memberCard.limitBeginDate"
    }
  }), _vm._v(" "), _c('help', {
    attrs: {
      "title": "帮助"
    }
  }, [_vm._v("\n              如果会员在此日期之后才首次开卡（使用），那么系统自动从此最迟开卡日期起计算。\n              "), _c('p'), _vm._v("\n              例如：会员【2017-3-1】办卡，最迟开卡日期设置为【2017-5-1】，如果会员【2017-6-1】首次来馆锻炼（开卡），\n              那么会员卡开卡日期会自动设置为【2017-5-1】。\n            ")])], 1)] : _vm._e(), _vm._v(" "), (_vm.dateEditType === 2) ? [_c('form-item', {
    attrs: {
      "prop": "beginDate",
      "label": "开卡日期"
    }
  }, [_c('date-picker', {
    staticClass: "input-s",
    attrs: {
      "type": "date"
    },
    model: {
      value: (_vm.memberCard.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "beginDate", $$v)
      },
      expression: "memberCard.beginDate"
    }
  })], 1), _vm._v(" "), (_vm.dateEditType === 2) ? _c('form-item', {
    attrs: {
      "prop": "endDate",
      "label": "到期日期"
    }
  }, [_c('date-picker', {
    staticClass: "input-s",
    attrs: {
      "type": "date"
    },
    model: {
      value: (_vm.memberCard.endDate),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "endDate", $$v)
      },
      expression: "memberCard.endDate"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "l15"
  }, [_c('a', {
    on: {
      "click": function($event) {
        _vm.dateEditType = 1
      }
    }
  }, [_vm._v("编辑使用天数")])])], 1) : _vm._e()] : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "paymentChannel",
      "label": "支付方式"
    }
  }, [(_vm.memberCard.paymentChannel) ? _c('RadioGroup', {
    model: {
      value: (_vm.memberCard.paymentChannel),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "paymentChannel", $$v)
      },
      expression: "memberCard.paymentChannel"
    }
  }, [(_vm.memberCard.paymentChannel == 8) ? [_c('radio', {
    attrs: {
      "label": 8
    }
  }, [_vm._v("POS机")])] : [_vm._l((_vm.g.Dict.CardPaymentChannel), function(name, key) {
    return [(+key !== 8) ? _c('radio', {
      key: key,
      attrs: {
        "label": parseInt(key)
      }
    }, [_vm._v(_vm._s(name))]) : _vm._e()]
  })]], 2) : (_vm.memberCard.paymentChannel === 0) ? _c('b', [_vm._v("储值卡")]) : _vm._e()], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "salesId",
      "label": "销售人员"
    }
  }, [_c('i-select', {
    attrs: {
      "filterable": ""
    },
    model: {
      value: (_vm.memberCard.salesId),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "salesId", $$v)
      },
      expression: "memberCard.salesId"
    }
  }, [_c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("无")])]), _vm._v(" "), _vm._l((_vm.dict.salesList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  })], 2)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "充值备注"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 3
    },
    model: {
      value: (_vm.memberCard.remark),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberCard.remark"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "changeRemark",
      "label": "修改备注"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 3,
      "placeholder": "请说明此次修改的原因"
    },
    model: {
      value: (_vm.memberCard.changeRemark),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "changeRemark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberCard.changeRemark"
    }
  })], 1)], 2) : _vm._e(), _vm._v(" "), (_vm.onSubmit && _vm.showForm) ? _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "115px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.handleSubmit()
      }
    }
  }, [_vm._v("提交")]), _vm._v("\n         \n        "), _c('i-button', {
    on: {
      "click": _vm.handleClose
    }
  }, [_vm._v("关闭")])], 1) : _vm._e()], 1) : _vm._e(), _vm._v(" "), (_vm.isLoadData && !_vm.memberCard.mcpId && !_vm.memberCard.isCrossPayment) ? _c('section', [_vm._m(1), _c('br'), _vm._v(" "), (_vm.g.data.user.isShopOwner) ? _c('div', [_c('i-form', {
    staticClass: "myform",
    staticStyle: {
      "width": "600px"
    },
    attrs: {
      "model": _vm.memberCard,
      "label-width": 115
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "cardId",
      "label": "会员卡种类"
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "420px"
    },
    on: {
      "on-change": _vm.handleCardSelect
    },
    model: {
      value: (_vm.memberCard.cardId),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "cardId", _vm._n($$v))
      },
      expression: "memberCard.cardId"
    }
  }, _vm._l((_vm.dict.cardList), function(c) {
    return (_vm.memberCard.cardType === c.cardType) ? _c('i-option', {
      key: c.cardId,
      attrs: {
        "value": c.cardId,
        "label": c.cardName + ' 【' + c.cardTypeName + '】'
      }
    }, [_c('span', [_vm._v(_vm._s(c.cardName))]), _vm._v(" "), _c('span', {
      staticStyle: {
        "float": "right",
        "color": "#bbb"
      }
    }, [_vm._v(_vm._s(c.cardTypeName))])]) : _vm._e()
  }), 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "使用期限"
    }
  }, [_c('date-picker', {
    staticClass: "date-s",
    attrs: {
      "type": "date",
      "placeholder": "开始日期"
    },
    on: {
      "on-change": _vm.changeBeginDate
    },
    model: {
      value: (_vm.memberCard.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "beginDate", $$v)
      },
      expression: "memberCard.beginDate"
    }
  }), _vm._v("\n            ~\n            "), _c('date-picker', {
    staticClass: "date-s",
    attrs: {
      "type": "date",
      "placeholder": "结束日期"
    },
    on: {
      "on-change": _vm.changeEndDate
    },
    model: {
      value: (_vm.memberCard.endDate),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "endDate", $$v)
      },
      expression: "memberCard.endDate"
    }
  }), _vm._v(" "), (_vm.memberCard.beginDate && _vm.memberCard.endDate) ? _c('span', {
    staticClass: "l10 gray"
  }, [_vm._v("\n              （共 "), _c('span', {
    staticClass: "green"
  }, [_vm._v(_vm._s(_vm.cardTotalDays))]), _vm._v(" 天，剩余 "), _c('span', {
    staticClass: "orange"
  }, [_vm._v(_vm._s(_vm.cardLeftDays))]), _vm._v(" 天）\n            ")]) : _vm._e(), _vm._v(" "), _c('a', {
    staticClass: "l10",
    on: {
      "click": _vm.clearDates
    }
  }, [_vm._v("清空")])], 1), _vm._v(" "), (_vm.memberCard.cardType === 2) ? _c('form-item', {
    attrs: {
      "label": "剩余次数"
    }
  }, [_c('input-num', {
    staticClass: "date-s",
    model: {
      value: (_vm.memberCard.usableTimes),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "usableTimes", _vm._n($$v))
      },
      expression: "memberCard.usableTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次")])], 1) : _vm._e(), _vm._v(" "), (_vm.memberCard.cardType === 3) ? _c('form-item', {
    attrs: {
      "label": "剩余金额"
    }
  }, [_c('input-num', {
    staticClass: "date-s",
    model: {
      value: (_vm.memberCard.usableAmount),
      callback: function($$v) {
        _vm.$set(_vm.memberCard, "usableAmount", _vm._n($$v))
      },
      expression: "memberCard.usableAmount"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1) : _vm._e()], 1), _vm._v(" "), (_vm.onSubmit) ? _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "115px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.changeCard
    }
  }, [_vm._v("提交")])], 1) : _vm._e()], 1) : _vm._e()]) : _vm._e(), _vm._v(" "), (_vm.isLoadData && !_vm.memberCard.mcpId && _vm.memberCard.isCrossPayment) ? _c('section', [_vm._m(2)]) : _vm._e()])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "warning"
  }, [_c('span', {
    staticClass: "biggest"
  }, [_c('i', {
    staticClass: "iconfont icon-alert2"
  }), _vm._v(" 此处仅修改最近一次的充值记录，仅当最近一次充值有误时才修改")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "warning"
  }, [_c('i', {
    staticClass: "iconfont icon-alert2"
  }), _vm._v(" 非充值记录，仅店长有权限操作")])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('p', {
    staticClass: "orangered center"
  }, [_c('i', {
    staticClass: "iconfont icon-alert2 orangered"
  }), _vm._v(" 此卡为跨店通卡，已在其它门店充值，此店不能修改。\n      ")])
}]}

/***/ }),

/***/ 2201:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -mll-"
  }, [_c('page-header', {
    attrs: {
      "title": _vm.memberName,
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('Tabs', {
    attrs: {
      "animated": false
    },
    on: {
      "on-click": _vm.changeTab
    },
    model: {
      value: (_vm.tabName),
      callback: function($$v) {
        _vm.tabName = $$v
      },
      expression: "tabName"
    }
  }, [(_vm.g.data.shop.hasPrivateCourse) ? _c('TabPane', {
    attrs: {
      "name": "pl",
      "label": '私教课（共' + (_vm.privateLessonTotal ? _vm.privateLessonTotal : 0) + '节）'
    }
  }, [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("私教排课")])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "40"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "250"
    }
  }, [_vm._v("课程名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("教练")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("场地")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("排课次数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("已用次数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "180"
    }
  }, [_vm._v("课程日期")]), _vm._v(" "), _c('th', [_vm._v("创建时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作")])]), _vm._v(" "), _vm._l((_vm.pcScheduleList), function(l, idx) {
    return _c('tr', [_c('td', {
      class: {
        gray: l.status === 99
      }
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t\t\t\t\t" + _vm._s(l.courseName) + "\n\t\t\t\t\t\t\t\t")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.coachName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.groundName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.limitTimes))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.usedTimes))]), _vm._v(" "), _c('td', [(l.beginDate && l.endDate) ? [_vm._v("\n\t\t\t\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.formatDate(l.beginDate)) + " ~ " + _vm._s(_vm.g.Util.formatDate(l.endDate)) + "\n\t\t\t\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_c('a', {
      staticStyle: {
        "display": "block"
      },
      on: {
        "click": function($event) {
          return _vm.$router.push('/private-course-schedule-edit/' + l.psId)
        }
      }
    }, [_vm._v("详情")])])])
  })], 2), _vm._v(" "), (_vm.pcScheduleList && !_vm.pcScheduleList.length) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e()])]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("私教课上课记录")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_vm._v("共查询到 " + _vm._s(_vm.plCnt) + " 条记录")])]), _vm._v(" "), _c('div', [_c('ul', {
    staticClass: "query"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "330px"
    },
    attrs: {
      "placeholder": "请选择私教排课",
      "clearable": ""
    },
    model: {
      value: (_vm.privateLessonQuery.psId),
      callback: function($$v) {
        _vm.$set(_vm.privateLessonQuery, "psId", $$v)
      },
      expression: "privateLessonQuery.psId"
    }
  }, _vm._l((_vm.pcScheduleList), function(l, idx) {
    return _c('i-option', {
      key: idx,
      attrs: {
        "value": l.psId
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t#" + _vm._s(idx + 1) + " " + _vm._s(l.courseName) + " / " + _vm._s(l.coachName) + " / 排课" + _vm._s(l.limitTimes) + "次\n\t\t\t\t\t\t\t\t\t")])
  }), 1)], 1), _vm._v(" "), (_vm.coachList && _vm.coachList.length > 1) ? _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "100px"
    },
    attrs: {
      "placeholder": "选择教练",
      "clearable": ""
    },
    model: {
      value: (_vm.privateLessonQuery.coachId),
      callback: function($$v) {
        _vm.$set(_vm.privateLessonQuery, "coachId", $$v)
      },
      expression: "privateLessonQuery.coachId"
    }
  }, _vm._l((_vm.coachList), function(c) {
    return _c('i-option', {
      key: 'coach_' + c.coachId,
      attrs: {
        "value": c.coachId
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t" + _vm._s(c.coachName) + "\n\t\t\t\t\t\t\t\t\t")])
  }), 1)], 1) : _vm._e(), _vm._v(" "), (_vm.memberCardList && _vm.memberCardList.length) ? _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "200px"
    },
    attrs: {
      "placeholder": "选择计费会员卡",
      "clearable": ""
    },
    model: {
      value: (_vm.privateLessonQuery.mcId),
      callback: function($$v) {
        _vm.$set(_vm.privateLessonQuery, "mcId", $$v)
      },
      expression: "privateLessonQuery.mcId"
    }
  }, _vm._l((_vm.memberCardList), function(c) {
    return _c('i-option', {
      key: 'card_' + c.mcId,
      attrs: {
        "value": c.mcId,
        "label": c.cardName
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t" + _vm._s(c.cardName) + "\n\t\t\t\t\t\t\t\t\t\t"), (c.beginDate) ? _c('div', {
      staticClass: "gray p5"
    }, [_vm._v(_vm._s(_vm.g.Util.formatDateForShort(c.beginDate, false)) + " ~ " + _vm._s(_vm.g.Util.formatDateForShort(c.endDate, false)))]) : _vm._e()])
  }), 1)], 1) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('date-picker', {
    staticClass: "date",
    attrs: {
      "type": "date",
      "placeholder": "上课开始日期"
    },
    model: {
      value: (_vm.privateLessonQuery.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.privateLessonQuery, "beginDate", $$v)
      },
      expression: "privateLessonQuery.beginDate"
    }
  }), _vm._v("\n\t\t\t\t\t\t\t\t~\n\t\t\t\t\t\t\t\t"), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "type": "date",
      "placeholder": "上课结束日期"
    },
    model: {
      value: (_vm.privateLessonQuery.endDate),
      callback: function($$v) {
        _vm.$set(_vm.privateLessonQuery, "endDate", $$v)
      },
      expression: "privateLessonQuery.endDate"
    }
  })], 1)]), _vm._v("\n\t\t\t\t\t\t \n\t\t\t\t\t\t"), _c('i-button', {
    attrs: {
      "type": "primary",
      "loading": _vm.privateLessonQueryLoading
    },
    on: {
      "click": function($event) {
        return _vm.queryMemberPrivateLesson(null)
      }
    }
  }, [_vm._v("查询")])], 1), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    staticStyle: {
      "min-width": "80px"
    }
  }, [_vm._v("课程名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("教练")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课日期 ↓")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("计费会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("会员卡消费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("预约人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("预约时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("签到人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("签到时间")]), _vm._v(" "), _c('th', [_vm._v("场地")])]), _vm._v(" "), _vm._l((_vm.privateLessonList), function(l, idx) {
    return _c('tr', [_c('td', [_c('a', {
      staticClass: "block",
      attrs: {
        "target": "_blank",
        "href": '#/private-lesson-edit/{0}/{1}'.format(l.lessonId, l.mplId)
      }
    }, [_vm._v(_vm._s(l.courseName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.coachName) + " "), (l.isViceCoach) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("(代课)")]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonDate))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonTimeDesc))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.cardName) + "\n\t\t\t\t\t\t\t\t\t"), (l.extraCardName) ? _c('div', {
      staticClass: "p5"
    }, [_vm._v(_vm._s(l.extraCardName))]) : _vm._e()]), _vm._v(" "), _c('td', [(l.cardType === 1) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("期限卡不计费")]) : _c('span', [_vm._v(_vm._s(l.cardPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[l.cardType]))]), _vm._v(" "), (l.extraCardName) ? _c('div', {
      staticClass: "p5"
    }, [_vm._v(_vm._s(l.extraCardPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[l.extraCardType]))]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.checkinUname))]), _vm._v(" "), _c('td', [(l.firstCheckinTime) ? _c('div', [_vm._v(_vm._s(l.firstCheckinTime))]) : _vm._e(), _vm._v("\n\t\t\t\t\t\t\t\t\t" + _vm._s(l.checkinTime) + "\n\t\t\t\t\t\t\t\t")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.groundName))])])
  })], 2)]), _vm._v(" "), (_vm.privateLessonList && !_vm.privateLessonList.length) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e(), _vm._v(" "), (_vm.plCnt && _vm.plCnt > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.plCnt,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.changePageNoForPrivateLesson
    }
  })], 1) : _vm._e()]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("私教课预约取消日志")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_vm._v("共查询到 " + _vm._s(_vm.lessonCancelLogCount) + " 条记录")])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl p10"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("课程")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("上课时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("教练")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("取消人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("取消时间")]), _vm._v(" "), _c('th', [_vm._v("取消原因")])]), _vm._v(" "), _vm._l((_vm.lessonCancelLogList), function(l) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(l.courseName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(l.lessonDate)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatTime(l.lessonTime)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.coachName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.remark))])])
  })], 2), _vm._v(" "), (_vm.lessonCancelLogCount && _vm.lessonCancelLogCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.lessonCancelLogCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryPcLessonCancelLogList
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.lessonCancelLogList && !_vm.lessonCancelLogList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n\t\t\t\t\t\t\t暂无数据\n\t\t\t\t\t\t")]) : _vm._e()])])]) : _vm._e(), _vm._v(" "), (_vm.g.data.shop.hasGroupCourse) ? _c('TabPane', {
    attrs: {
      "name": "gl",
      "label": '团课（共' + (_vm.groupLessonTotal ? _vm.groupLessonTotal : 0) + '节）'
    }
  }, [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("团课上课记录")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_vm._v("共查询到 " + _vm._s(_vm.glCnt) + " 条记录")])]), _vm._v(" "), _c('div', [_c('ul', {
    staticClass: "query"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "course",
    attrs: {
      "placeholder": "请选择课程",
      "clearable": ""
    },
    model: {
      value: (_vm.groupLessonQuery.courseId),
      callback: function($$v) {
        _vm.$set(_vm.groupLessonQuery, "courseId", $$v)
      },
      expression: "groupLessonQuery.courseId"
    }
  }, _vm._l((_vm.groupCourseList), function(c) {
    return _c('i-option', {
      key: c.courseId,
      attrs: {
        "value": c.courseId
      }
    }, [_vm._v(_vm._s(c.courseName))])
  }), 1)], 1), _vm._v(" "), (_vm.memberCardList && _vm.memberCardList.length) ? _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "200px"
    },
    attrs: {
      "placeholder": "选择计费会员卡",
      "clearable": ""
    },
    model: {
      value: (_vm.groupLessonQuery.mcId),
      callback: function($$v) {
        _vm.$set(_vm.groupLessonQuery, "mcId", $$v)
      },
      expression: "groupLessonQuery.mcId"
    }
  }, _vm._l((_vm.memberCardList), function(c) {
    return _c('i-option', {
      key: c.mcId,
      attrs: {
        "value": c.mcId,
        "label": c.cardName
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t" + _vm._s(c.cardName) + "\n\t\t\t\t\t\t\t\t\t\t"), (c.beginDate) ? _c('div', {
      staticClass: "gray p5"
    }, [_vm._v(_vm._s(_vm.g.Util.formatDateForShort(c.beginDate, false)) + " ~ " + _vm._s(_vm.g.Util.formatDateForShort(c.endDate, false)))]) : _vm._e()])
  }), 1)], 1) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('date-picker', {
    staticClass: "date",
    attrs: {
      "type": "date",
      "placeholder": "上课开始日期"
    },
    model: {
      value: (_vm.groupLessonQuery.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.groupLessonQuery, "beginDate", $$v)
      },
      expression: "groupLessonQuery.beginDate"
    }
  }), _vm._v("\n\t\t\t\t\t\t\t\t~\n\t\t\t\t\t\t\t\t"), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "type": "date",
      "placeholder": "上课结束日期"
    },
    model: {
      value: (_vm.groupLessonQuery.endDate),
      callback: function($$v) {
        _vm.$set(_vm.groupLessonQuery, "endDate", $$v)
      },
      expression: "groupLessonQuery.endDate"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('checkbox', {
    on: {
      "on-change": _vm.changeGlChecked
    },
    model: {
      value: (_vm.isCheckedGl),
      callback: function($$v) {
        _vm.isCheckedGl = $$v
      },
      expression: "isCheckedGl"
    }
  }, [_vm._v("已签到")])], 1)]), _vm._v("\n\t\t\t\t\t\t \n\t\t\t\t\t\t"), _c('i-button', {
    attrs: {
      "type": "primary",
      "loading": _vm.groupLessonQueryLoading
    },
    on: {
      "click": function($event) {
        return _vm.queryMemberGroupLesson(null)
      }
    }
  }, [_vm._v("查询")])], 1), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    staticStyle: {
      "min-width": "80px"
    }
  }, [_vm._v("课程名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("教练")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("计费会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("会员卡消费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("预约人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("预约时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("签到人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("签到时间")]), _vm._v(" "), (_vm.enableGlCheckout) ? _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("签出时间")]) : _vm._e()]), _vm._v(" "), _vm._l((_vm.groupLessonList), function(l, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(l.lessonTitle))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.coachName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonDate))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonTimeDesc))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.cardName))]), _vm._v(" "), _c('td', [(l.cardType === 1) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("期限卡不计费")]) : _c('span', [_vm._v(_vm._s(l.cardPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[l.cardType]))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.bookingUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.bookingTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.checkinUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.checkinTime))]), _vm._v(" "), (_vm.enableGlCheckout) ? _c('td', [_vm._v("\n\t\t\t\t\t\t\t\t\t" + _vm._s(l.checkoutTime) + "\n\t\t\t\t\t\t\t\t\t"), (l.mlDuration) ? _c('div', {
      staticClass: "gray"
    }, [_vm._v("(" + _vm._s(l.mlDuration) + " 分钟)")]) : _vm._e()]) : _vm._e()])
  })], 2)]), _vm._v(" "), (_vm.groupLessonList && !_vm.groupLessonList.length) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e(), _vm._v(" "), (_vm.glCnt && _vm.glCnt > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.glCnt,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.changePageNoForGroupLesson
    }
  })], 1) : _vm._e()]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("团课预约取消日志")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_vm._v("共查询到 " + _vm._s(_vm.mlCancelLogCount) + " 条记录")])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("取消时间 ↓")]), _vm._v(" "), _c('th', {
    staticStyle: {
      "min-width": "120px"
    }
  }, [_vm._v("课程")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("教练")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("预约时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("使用会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("会员卡消费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("预约人数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("预约人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("取消人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("预约位置")])]), _vm._v(" "), _vm._l((_vm.mlCancelLogList), function(l, idx) {
    return (l.courseName && l.lessonDate) ? _c('tr', [_c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.courseName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(l.lessonDate)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatTime(l.lessonBeginTime)) + " ~ " + _vm._s(_vm.g.Util.formatTime(l.lessonEndTime)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.coachName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.bookingTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.cardName))]), _vm._v(" "), _c('td', [(l.cardType === 1) ? [_vm._v("期限卡不计费")] : (l.cardType === 2) ? [_vm._v(_vm._s(l.cardPayment) + " 次")] : (l.cardType === 3) ? [_vm._v(_vm._s(l.cardPayment) + " 元")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.paymentCount))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.bookingUname))]), _vm._v(" "), _c('td', [(l.createUid === 0) ? _c('i', {
      staticClass: "gray"
    }, [_vm._v("系统自动")]) : [_vm._v(_vm._s(l.createUname))]], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.position))])]) : _vm._e()
  })], 2)]), _vm._v(" "), (_vm.mlCancelLogCount && _vm.mlCancelLogCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.mlCancelLogCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMemberLessonCancelLogList
    }
  })], 1) : _vm._e(), _vm._v(" "), (!_vm.mlCancelLogCount) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()])]) : _vm._e()], 1)], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2215:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-test"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('ul', {
    staticClass: "items"
  }, _vm._l((_vm.scoreTestItemList), function(s) {
    return _c('li', [_vm._v(_vm._s(s.itemName))])
  }), 0)])], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2216:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-opt-log"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.logList), function(m, idx) {
    return _c('tr', [_c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(m.memberId)
        }
      }
    }, [_vm._v(_vm._s(m.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.checkinCount))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.checkinTime))]), _vm._v(" "), _c('td', [(m.checkoutTime) ? [_vm._v(_vm._s(m.checkoutTime))] : _vm._e()], 2), _vm._v(" "), _c('td', [(m.cardType === 1) ? [_c('span', {
      staticClass: "gray"
    }, [_vm._v("不计费")])] : (m.cardPayment) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(m.cardPayment) + "\n\t\t\t\t\t\t\t\t"), (m.cardType === 2) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("次")]) : _vm._e(), _vm._v(" "), (m.cardType === 3) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("元")]) : _vm._e()] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.lockerId))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createTime))]), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(m.logRemark) + "\n\t\t\t\t\t\t")])])
  })], 2), _vm._v(" "), (_vm.totalCount) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.totalCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryLog
    }
  })], 1) : _vm._e()]), _vm._v(" "), (_vm.logList && !_vm.logList.length) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("\n\t\t\t\t暂无数据\n\t\t\t")]) : _vm._e()])], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [_c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  })], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("签到人次")]), _vm._v(" "), _c('th', [_vm._v("签到用卡")]), _vm._v(" "), _c('th', [_vm._v("签到时间")]), _vm._v(" "), _c('th', [_vm._v("签出时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("签到消费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("柜号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', [_vm._v("取消原因")])])
}]}

/***/ }),

/***/ 2217:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-draft-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -mp-list"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l tit"
  }, [_vm._v("会员卡充值审核单")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.g.data.user.isShopOwner) ? [_c('a', {
    on: {
      "click": function($event) {
        _vm.confDlg = true
      }
    }
  }, [_vm._v("设置")]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")])] : _vm._e(), _vm._v(" "), _c('a', {
    on: {
      "click": function($event) {
        return _vm.$router.push('/member-card-draft-query')
      }
    }
  }, [_vm._v("会员卡审核单 →")])], 2)]), _vm._v(" "), _c('section', [_c('ul', {
    staticClass: "query-cond-inline"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "85px"
    },
    attrs: {
      "placeholder": "状态",
      "clearable": ""
    },
    model: {
      value: (_vm.query.status),
      callback: function($$v) {
        _vm.$set(_vm.query, "status", $$v)
      },
      expression: "query.status"
    }
  }, _vm._l((_vm.g.Dict.MemberDraftStatus), function(s, idx) {
    return _c('i-option', {
      key: idx,
      attrs: {
        "value": idx
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(s) + "\n\t\t\t\t\t\t")])
  }), 1)], 1), _vm._v(" "), (_vm.staffList && _vm.staffList.length && _vm.memberCardDraftCreatePermit) ? _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "95px"
    },
    attrs: {
      "placeholder": "创建人",
      "clearable": ""
    },
    model: {
      value: (_vm.query.createUid),
      callback: function($$v) {
        _vm.$set(_vm.query, "createUid", $$v)
      },
      expression: "query.createUid"
    }
  }, _vm._l((_vm.staffList), function(s, idx) {
    return _c('i-option', {
      key: s.uid,
      attrs: {
        "value": s.uid
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(s.name) + "\n\t\t\t\t\t\t")])
  }), 1)], 1) : _vm._e(), _vm._v(" "), (_vm.staffList && _vm.staffList.length && _vm.memberCardDraftAuditPermit) ? _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "95px"
    },
    attrs: {
      "placeholder": "审核人",
      "clearable": ""
    },
    model: {
      value: (_vm.query.auditStaffId),
      callback: function($$v) {
        _vm.$set(_vm.query, "auditStaffId", $$v)
      },
      expression: "query.auditStaffId"
    }
  }, _vm._l((_vm.staffList), function(s, idx) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(s.name) + "\n\t\t\t\t\t\t")])
  }), 1)], 1) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('date-picker', {
    staticClass: "date",
    attrs: {
      "type": "date",
      "placeholder": "开始日期"
    },
    model: {
      value: (_vm.query.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "beginDate", $$v)
      },
      expression: "query.beginDate"
    }
  }), _vm._v("\n\t\t\t\t\t~\n\t\t\t\t\t"), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "type": "date",
      "placeholder": "结束日期"
    },
    model: {
      value: (_vm.query.endDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "endDate", $$v)
      },
      expression: "query.endDate"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('div', {
    staticClass: "query-section"
  }, [_c('div', {
    staticClass: "item input-box",
    staticStyle: {
      "width": "150px",
      "position": "relative",
      "top": "3px"
    },
    on: {
      "click": function($event) {
        _vm.memberSelectDlgForQuery = true
      }
    }
  }, [(!_vm.query.memberId) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("点击选择会员")]) : _c('span', [_vm._v(_vm._s(_vm.query.memberName))])])])]), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.queryMemberCardPaymentDraft(null)
      }
    }
  }, [_vm._v("查询")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.memberCardPaymentDraftList), function(m, idx) {
    return _c('tr', [_c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMemberBase(m.memberId)
        }
      }
    }, [_vm._v(_vm._s(m.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.cardName))]), _vm._v(" "), _c('td', [(m.status === 0) ? _c('span', {
      staticClass: "orange"
    }, [_vm._v("草稿")]) : (m.status === 1) ? _c('span', {
      staticClass: "orangered"
    }, [_vm._v("待审核")]) : (m.status === 2) ? _c('span', {
      staticClass: "green"
    }, [_vm._v("审核通过")]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(m.usableAmount))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(m.paymentAmount))]), _vm._v(" "), _c('td', [(m.usableDays) ? [_vm._v(_vm._s(m.usableDays) + " 天")] : _vm._e()], 2), _vm._v(" "), _c('td', [(m.cardType === 2) ? [_vm._v(_vm._s(m.usableTimes) + " 次")] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("无")])], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardPaymentChannel[m.paymentChannel]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.salesName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.auditStaffName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.remark))]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMemberCardPaymentDraftDetail(m)
        }
      }
    }, [_vm._v("详情")])])])
  })], 2), _vm._v(" "), (_vm.memberDraftCount) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.memberDraftCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMemberCardPaymentDraft
    }
  })], 1) : _vm._e(), _vm._v(" "), (!_vm.memberDraftCount) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()])])]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡充值审核单详情",
      "width": "750",
      "styles": {
        top: '10px'
      },
      "mask-closable": false
    },
    model: {
      value: (_vm.dlgView.mcpdDetail),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "mcpdDetail", $$v)
      },
      expression: "dlgView.mcpdDetail"
    }
  }, [(_vm.dlgView.mcpdDetail) ? [_c('section', [(_vm.memberCardPaymentDraftAuditList && _vm.memberCardPaymentDraftAuditList.length) ? _c('div', {
    staticClass: "mytbl",
    staticStyle: {
      "padding": "5px 0 25px 0"
    }
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "140"
    }
  }, [_vm._v("审核时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("审核人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("审核结果")]), _vm._v(" "), _c('th', [_vm._v("备注")])]), _vm._v(" "), _vm._l((_vm.memberCardPaymentDraftAuditList), function(m) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(m.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.auditStaffName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.auditResult ? '通过' : '不通过'))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.remark))])])
  })], 2)]) : _vm._e()]), _vm._v(" "), (_vm.mcpDraft.status === 1 && (_vm.mcpDraft.auditStaffId === _vm.g.data.user.staffId || _vm.g.data.user.isShopOwner)) ? _c('section', {
    staticClass: "audit"
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("审核结果")]), _vm._v(" "), _c('td', [_c('RadioGroup', {
    model: {
      value: (_vm.memberCardPaymentDraftAudit.auditResult),
      callback: function($$v) {
        _vm.$set(_vm.memberCardPaymentDraftAudit, "auditResult", $$v)
      },
      expression: "memberCardPaymentDraftAudit.auditResult"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("通过")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("不通过")])], 1)], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("审核备注")]), _vm._v(" "), _c('td', [(_vm.memberCardPaymentDraftAudit.auditResult === 0) ? _c('div', {
    staticClass: "orangered"
  }, [_vm._v("审核不通过时，请在备注里填写具体原因"), _c('p')]) : _vm._e(), _vm._v(" "), _c('i-input', {
    staticStyle: {
      "width": "100%"
    },
    attrs: {
      "type": "textarea",
      "rows": 6
    },
    model: {
      value: (_vm.memberCardPaymentDraftAudit.remark),
      callback: function($$v) {
        _vm.$set(_vm.memberCardPaymentDraftAudit, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberCardPaymentDraftAudit.remark"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('th'), _vm._v(" "), _c('td', [_c('div', [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submitMemberCardPaymentDraftAudit
    }
  }, [_vm._v("提交")])], 1)])])])])]) : _vm._e(), _vm._v(" "), _c('section', {
    staticStyle: {
      "border": "1px solid #E3E8EE",
      "padding": "15px"
    }
  }, [_c('member-card-payment-create', {
    attrs: {
      "mcpdId": _vm.mcpDraft.mcpdId,
      "selectCard": _vm.memberCard,
      "memberId": _vm.mcpDraft.memberId,
      "on-submit": _vm.afterCreateCardPayment,
      "mcpDraft": _vm.mcpDraft
    }
  })], 1), _vm._v(" "), (_vm.mcpDraft.status === 0 && (_vm.mcpDraft.createUid === _vm.g.data.user.uid || _vm.g.data.user.isShopOwner)) ? _c('div', {
    staticClass: "right mt20"
  }, [_c('i-button', {
    on: {
      "click": _vm.deleteMemberCardPaymentDraft
    }
  }, [_vm._v("删除审核单")])], 1) : _vm._e()] : _vm._e(), _vm._v(" "), _c('div', {
    staticStyle: {
      "display": "none"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 2), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员查询与选择",
      "width": "700",
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.memberSelectDlgForQuery),
      callback: function($$v) {
        _vm.memberSelectDlgForQuery = $$v
      },
      expression: "memberSelectDlgForQuery"
    }
  }, [(_vm.memberSelectDlgForQuery) ? _c('member-select', {
    attrs: {
      "after-select": _vm.afterSelectMemberForQuery
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡充值审核单设置",
      "width": "700",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.confDlg),
      callback: function($$v) {
        _vm.confDlg = $$v
      },
      expression: "confDlg"
    }
  }, [_c('ul', {
    staticClass: "conf"
  }, [_c('li', [_vm._v("\n\t\t\t\t提交审核后： \n\t\t\t\t"), _c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.g.Req.updateShopArg(2073, _vm.enableMemberCardPaymentDraftSbumitSms)
      }
    },
    model: {
      value: (_vm.enableMemberCardPaymentDraftSbumitSms),
      callback: function($$v) {
        _vm.enableMemberCardPaymentDraftSbumitSms = $$v
      },
      expression: "enableMemberCardPaymentDraftSbumitSms"
    }
  }, [_vm._v("发送短信通知给审核人员")]), _vm._v("\n\t\t\t\t \n\t\t\t\t"), _c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.g.Req.updateShopArg(2084, _vm.enableMemberCardPaymentDraftSbumitWx)
      }
    },
    model: {
      value: (_vm.enableMemberCardPaymentDraftSbumitWx),
      callback: function($$v) {
        _vm.enableMemberCardPaymentDraftSbumitWx = $$v
      },
      expression: "enableMemberCardPaymentDraftSbumitWx"
    }
  }, [_vm._v("发送微信通知给审核人员")])], 1), _vm._v(" "), _c('li', [_vm._v("\n\t\t\t\t审核退回后： \n\t\t\t\t"), _c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.g.Req.updateShopArg(2074, _vm.enableMemberCardPaymentDraftAuditSms)
      }
    },
    model: {
      value: (_vm.enableMemberCardPaymentDraftAuditSms),
      callback: function($$v) {
        _vm.enableMemberCardPaymentDraftAuditSms = $$v
      },
      expression: "enableMemberCardPaymentDraftAuditSms"
    }
  }, [_vm._v("发送短信通知给提交人员")]), _vm._v("\n\t\t\t\t \n\t\t\t\t"), _c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.g.Req.updateShopArg(2085, _vm.enableMemberCardPaymentDraftAuditWx)
      }
    },
    model: {
      value: (_vm.enableMemberCardPaymentDraftAuditWx),
      callback: function($$v) {
        _vm.enableMemberCardPaymentDraftAuditWx = $$v
      },
      expression: "enableMemberCardPaymentDraftAuditWx"
    }
  }, [_vm._v("发送微信通知给提交人员")])], 1)])]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "85"
    }
  }, [_vm._v("会员名")]), _vm._v(" "), _c('th', {
    staticStyle: {
      "min-width": "100px"
    }
  }, [_vm._v("会员卡名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("充值金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("实收金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("充值天数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("充值次数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("支付方式")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("销售")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("创建人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "140"
    }
  }, [_vm._v("创建时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("审核人")]), _vm._v(" "), _c('th', {
    staticStyle: {
      "min-width": "100px"
    }
  }, [_vm._v("充值备注")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("详情")])])
}]}

/***/ }),

/***/ 2218:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-query",
      "title": "会员信息"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('page-header', {
    attrs: {
      "title": _vm.memberName,
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', {
    staticClass: "myform",
    staticStyle: {
      "width": "100%"
    }
  }, [_c('i-form', {
    ref: "member",
    staticClass: "-form",
    attrs: {
      "model": _vm.member,
      "rules": _vm.memberFormRule,
      "label-width": 110
    }
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("基本信息")]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "name",
      "label": "姓名"
    }
  }, [(_vm.advEditable) ? _c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "请填写真实姓名",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.member.name),
      callback: function($$v) {
        _vm.$set(_vm.member, "name", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.name"
    }
  }) : [_c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.member.name))]), _vm._v(" "), _c('span', {
    staticClass: "tips l15"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor normal"
  }), _vm._v(" 修改姓名需有“会员高级编辑”权限，")]), _vm._v(" "), _c('a', {
    on: {
      "click": function($event) {
        return _vm.$router.push('/role-permission')
      }
    }
  }, [_vm._v("查看权限 →")])]], 2), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "phoneNo",
      "label": "手机号"
    }
  }, [_c('span', {
    staticClass: "input-s"
  }, [_c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.member.phoneNo))])]), _vm._v(" "), (_vm.altPhoneEditable) ? _c('span', [_c('a', {
    on: {
      "click": function($event) {
        return _vm.openUpdateMemberPhoneDlg()
      }
    }
  }, [_c('i', {
    staticClass: "iconfont icon-edit"
  }), _vm._v(" 更改手机号")])]) : _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor normal"
  }), _vm._v(" 修改手机号需有【会员手机号修改】权限")])]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "idNo",
      "label": "身份证号"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "会员身份证号（可选填）",
      "readonly": _vm.readonly
    },
    model: {
      value: (_vm.member.idNo),
      callback: function($$v) {
        _vm.$set(_vm.member, "idNo", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.idNo"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sex",
      "label": "性别"
    }
  }, [(!_vm.member.idNo) ? _c('radio-group', {
    model: {
      value: (_vm.member.sex),
      callback: function($$v) {
        _vm.$set(_vm.member, "sex", $$v)
      },
      expression: "member.sex"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1,
      "disabled": _vm.readonly
    }
  }, [_vm._v("男")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 0,
      "disabled": _vm.readonly
    }
  }, [_vm._v("女")])], 1) : (_vm.member.sex !== null) ? _c('span', [_vm._v(_vm._s(_vm.g.Dict.Sex[_vm.member.sex === 1]) + " （" + _vm._s(_vm.g.Dict.SexDesc[_vm.member.sex === 1]) + "）")]) : _vm._e()], 1), _vm._v(" "), (!_vm.readonly) ? _c('form-item', {
    attrs: {
      "prop": "cardNo",
      "label": "会员卡号"
    }
  }, [_c('input-int', {
    staticClass: "card-no",
    attrs: {
      "placeholder": "请刷卡读出卡号",
      "min": "0",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.member.cardNo),
      callback: function($$v) {
        _vm.$set(_vm.member, "cardNo", $$v)
      },
      expression: "member.cardNo"
    }
  }), _vm._v(" "), _c('i-button', {
    staticClass: "form-btn",
    attrs: {
      "icon": "plus",
      "disabled": _vm.readonly
    },
    on: {
      "click": _vm.addMemberCardNoObj
    }
  }, [_vm._v("更多卡号")]), _vm._v(" "), _c('help', {
    attrs: {
      "title": "提示"
    }
  }, [_vm._v("\n            健总管除了支持虚拟卡方式，也支持传统的绑定实物会员卡（一般用于入场签到刷卡）。\n            将实物卡号录入此处，就表示绑定会员卡，一个会员名下可绑定多张实物卡。\n            "), _c('p'), _c('b', {
    staticClass: "orange"
  }, [_vm._v("备注")]), _vm._v("： 此处千万不要输入卡表面的号码，要用读卡器读出卡内部编码（也称卡内号）\n          ")]), _vm._v(" "), _vm._l((_vm.memberCardNoList), function(c, idx) {
    return _c('div', [_c('input-int', {
      staticClass: "card-no more-card-no",
      model: {
        value: (c.cardNo),
        callback: function($$v) {
          _vm.$set(c, "cardNo", $$v)
        },
        expression: "c.cardNo"
      }
    }), _vm._v(" "), (!_vm.readonly) ? [_c('i-button', {
      staticClass: "form-btn",
      on: {
        "click": function($event) {
          return _vm.saveMemberCardNo(idx)
        }
      }
    }, [_vm._v("保存")]), _vm._v(" "), (c.mcnId) ? _c('a', {
      staticClass: "l10",
      on: {
        "click": function($event) {
          return _vm.delMemberCardNo(idx)
        }
      }
    }, [_vm._v("删除")]) : _vm._e()] : _vm._e()], 2)
  })], 2) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "头像照"
    }
  }, [(_vm.advEditable || (!_vm.member.avatarPathname && (_vm.memberCreatePermit || _vm.firstUploadMemberHeadPermit))) ? _c('i-button', {
    on: {
      "click": _vm.openPhotoDlg
    }
  }, [_vm._v("上传")]) : _vm._e(), _vm._v(" "), (_vm.advEditable && _vm.member.avatarPathname) ? _c('i-button', {
    staticClass: "del-photo",
    on: {
      "click": _vm.delMemberAvatar
    }
  }, [_vm._v("删除")]) : _vm._e(), _vm._v(" "), (_vm.member.avatarPathname && !_vm.advEditable) ? [_c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor normal"
  }), _vm._v(" 修改头像需有“会员高级编辑”权限")])] : _vm._e(), _vm._v(" "), (!_vm.member.avatarPathname && !_vm.memberCreatePermit && !_vm.advEditable && !_vm.firstUploadMemberHeadPermit) ? [_c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor normal"
  }), _vm._v(" 首次上传头像需有以下三种权限之一："), _c('br'), _vm._v("会员高级编辑、会员创建、首次上传会员头像")])] : _vm._e(), _vm._v(" "), (_vm.photo.imgUrl) ? _c('div', {
    staticClass: "member-photo"
  }, [_c('img', {
    attrs: {
      "src": _vm.photo.imgUrl
    }
  })]) : _vm._e(), _vm._v(" "), (_vm.photo.imgUrl && (_vm.advEditable || (!_vm.member.morePhotos && (_vm.memberCreatePermit || _vm.firstUploadMemberHeadPermit)))) ? _c('div', {
    staticClass: "more-photos"
  }, [_c('div', {
    staticClass: "more-photos-tit"
  }, [_c('checkbox', {
    model: {
      value: (_vm.canUploadMorePhotos),
      callback: function($$v) {
        _vm.canUploadMorePhotos = $$v
      },
      expression: "canUploadMorePhotos"
    }
  }, [_vm._v("上传更多会员照 "), _c('span', {
    staticClass: "gray"
  }, [_vm._v("（最多 5 张）")])])], 1), _vm._v(" "), (_vm.canUploadMorePhotos) ? [_c('table', [_c('tr', _vm._l(([0, 1, 2, 3, 4]), function(i) {
    return _c('td', [(_vm.moreMemberPhotos[i]) ? _c('img', {
      attrs: {
        "src": _vm.moreMemberPhotoUrls[i]
      }
    }) : _vm._e(), _vm._v(" "), _c('i-button', {
      on: {
        "click": function($event) {
          return _vm.openMemberAvatarDlg(i)
        }
      }
    }, [_vm._v("上传")]), _vm._v(" "), (_vm.moreMemberPhotos[i]) ? _c('i-button', {
      staticClass: "del-btn",
      on: {
        "click": function($event) {
          return _vm.deleteMorePhoto(i)
        }
      }
    }, [_vm._v("删除")]) : _vm._e()], 1)
  }), 0), _vm._v(" "), _c('tr', [_c('td', {
    attrs: {
      "colspan": "5"
    }
  }, [_c('div', {
    staticClass: "l"
  }, [_c('i-button', {
    staticClass: "long-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.updateMemberMorePhotos
    }
  }, [_vm._v("上传后点击提交")])], 1), _vm._v(" "), (_vm.enableEntryMach) ? _c('div', {
    staticClass: "r"
  }, [_c('i-button', {
    on: {
      "click": _vm.syncMorePhotoToMach
    }
  }, [_vm._v("再次同步更多会员照至设备")])], 1) : _vm._e()])])])] : _vm._e()], 2) : (_vm.member.morePhotos) ? _c('div', {
    staticClass: "more-photos"
  }, [_vm._v("\n            更多会员照\n            "), _c('table', [_c('tr', _vm._l(([0, 1, 2, 3, 4]), function(i) {
    return (_vm.moreMemberPhotos[i]) ? _c('td', [_c('img', {
      attrs: {
        "src": _vm.moreMemberPhotoUrls[i]
      }
    })]) : _vm._e()
  }), 0)])]) : _vm._e()], 2), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "birthday",
      "label": "生日"
    }
  }, [(!_vm.member.idNo) ? [_c('input-int', {
    staticClass: "-date-year",
    attrs: {
      "readonly": _vm.readonly,
      "min": "1900"
    },
    model: {
      value: (_vm.member.birthdayYear),
      callback: function($$v) {
        _vm.$set(_vm.member, "birthdayYear", _vm._n($$v))
      },
      expression: "member.birthdayYear"
    }
  }), _vm._v(" 年  \n            "), _c('input-int', {
    staticClass: "-date-month-day",
    attrs: {
      "readonly": _vm.readonly,
      "min": "1",
      "max": "12"
    },
    model: {
      value: (_vm.member.birthdayMonth),
      callback: function($$v) {
        _vm.$set(_vm.member, "birthdayMonth", _vm._n($$v))
      },
      expression: "member.birthdayMonth"
    }
  }), _vm._v(" 月  \n            "), _c('input-int', {
    staticClass: "-date-month-day",
    attrs: {
      "readonly": _vm.readonly,
      "min": "1",
      "max": "31"
    },
    model: {
      value: (_vm.member.birthdayDay),
      callback: function($$v) {
        _vm.$set(_vm.member, "birthdayDay", _vm._n($$v))
      },
      expression: "member.birthdayDay"
    }
  }), _vm._v(" 日\n          ")] : _c('span', [_vm._v("\n            " + _vm._s(_vm.member.birthdayYear) + "-" + _vm._s(_vm.member.birthdayMonth) + "-" + _vm._s(_vm.member.birthdayDay) + "\n          ")]), _vm._v(" "), (_vm.member.birthdayYear) ? _c('span', {
    staticClass: "l15 bold"
  }, [_vm._v("（" + _vm._s(new Date().getFullYear() - _vm.member.birthdayYear) + "岁）")]) : _vm._e()], 2), _vm._v(" "), (_vm.member.memberId && _vm.member.pointsSum) ? _c('form-item', {
    attrs: {
      "prop": "pointsSum",
      "label": "积分"
    }
  }, [_vm._v("\n          剩余积分 "), _c('b', [_vm._v(_vm._s(_vm.member.points))]), _vm._v(" 分，\n          累计积分 "), _c('b', [_vm._v(_vm._s(_vm.member.pointsSum))]), _vm._v(" 分\n        ")]) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "source",
      "label": "客户来源"
    }
  }, [_c('i-select', {
    attrs: {
      "filterable": "",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.member.source),
      callback: function($$v) {
        _vm.$set(_vm.member, "source", $$v)
      },
      expression: "member.source"
    }
  }, [_vm._l((_vm.dict.custSourceList), function(s) {
    return _c('i-option', {
      key: s.sourceId,
      attrs: {
        "value": s.sourceId,
        "label": s.sourceName
      }
    }, [_c('span', [_vm._v(_vm._s(s.sourceName))]), _vm._v(" "), (s.sourceDesc) ? _c('span', {
      staticClass: "r gray"
    }, [_vm._v("# " + _vm._s(s.sourceDesc.substr(0, 24)))]) : _vm._e()])
  }), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 0
    }
  }, [_vm._v("跨店会员")])], 2), _vm._v(" "), (!_vm.dict.custSourceList || _vm.dict.custSourceList.length === 0) ? _c('div', {
    staticClass: "gray"
  }, [_vm._v("\n            尚未设置客户来源， "), _c('a', {
    attrs: {
      "href": "#/cust-source"
    }
  }, [_vm._v("去设置客户来源 →")])]) : _vm._e()], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "orgId",
      "label": "所在单位"
    }
  }, [(_vm.memberOrgList) ? _c('i-select', {
    staticStyle: {
      "width": "345px"
    },
    attrs: {
      "disabled": _vm.readonly,
      "filterable": "",
      "placeholder": "请选择会员所在的单位（可选）"
    },
    model: {
      value: (_vm.member.orgId),
      callback: function($$v) {
        _vm.$set(_vm.member, "orgId", $$v)
      },
      expression: "member.orgId"
    }
  }, [_vm._l((_vm.memberOrgList), function(o) {
    return _c('i-option', {
      key: o.orgId,
      attrs: {
        "value": o.orgId
      }
    }, [_vm._v(_vm._s(o.orgName))])
  }), _vm._v(" "), _c('i-option', {
    key: 0,
    attrs: {
      "value": ""
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("无")])])], 2) : _vm._e(), _vm._v(" "), _c('i-button', {
    staticStyle: {
      "display": "inline-block",
      "width": "40px"
    },
    attrs: {
      "icon": "plus",
      "disabled": _vm.readonly
    },
    on: {
      "click": function($event) {
        _vm.orgDlgView = true
      }
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "salesId",
      "label": "销售"
    }
  }, [(_vm.dict.salesList) ? _c('i-select', {
    attrs: {
      "disabled": !_vm.g.data.user.isShopOwner,
      "filterable": ""
    },
    model: {
      value: (_vm.member.salesId),
      callback: function($$v) {
        _vm.$set(_vm.member, "salesId", $$v)
      },
      expression: "member.salesId"
    }
  }, [_vm._l((_vm.dict.salesList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), _vm._v(" "), _c('i-option', {
    key: 0,
    attrs: {
      "value": ""
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("无")])])], 2) : _vm._e()], 1), _vm._v(" "), (_vm.dict.coachList) ? _c('form-item', {
    attrs: {
      "prop": "coachId",
      "label": "教练"
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "280px"
    },
    attrs: {
      "disabled": _vm.readonly,
      "filterable": ""
    },
    model: {
      value: (_vm.member.coachId),
      callback: function($$v) {
        _vm.$set(_vm.member, "coachId", $$v)
      },
      expression: "member.coachId"
    }
  }, [_vm._l((_vm.dict.coachList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), _vm._v(" "), _c('i-option', {
    key: 0,
    attrs: {
      "value": ""
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("无")])])], 2), _vm._v("\n           \n          "), _c('i-button', {
    attrs: {
      "icon": "plus",
      "disabled": _vm.readonly
    },
    on: {
      "click": _vm.clickAddMoreCoach
    }
  }, [_vm._v("更多教练")]), _vm._v(" "), _vm._l((_vm.memberCoachList), function(c, idx) {
    return _c('div', {
      staticClass: "p10"
    }, [_c('i-select', {
      staticStyle: {
        "width": "132px"
      },
      attrs: {
        "placeholder": "选择教练类型"
      },
      model: {
        value: (c.coachType),
        callback: function($$v) {
          _vm.$set(c, "coachType", $$v)
        },
        expression: "c.coachType"
      }
    }, _vm._l((_vm.dict.coachTypeList), function(s) {
      return _c('i-option', {
        key: s.ctId,
        attrs: {
          "value": s.ctId
        }
      }, [_vm._v(_vm._s(s.typeName))])
    }), 1), _vm._v("\n             \n            "), _c('i-select', {
      staticStyle: {
        "width": "135px"
      },
      attrs: {
        "filterable": "",
        "placeholder": "选择教练"
      },
      model: {
        value: (c.coachId),
        callback: function($$v) {
          _vm.$set(c, "coachId", $$v)
        },
        expression: "c.coachId"
      }
    }, [_c('i-option', {
      key: 0,
      attrs: {
        "value": ""
      }
    }, [_c('span', {
      staticClass: "gray"
    }, [_vm._v("无")])]), _vm._v(" "), _vm._l((_vm.dict.coachList), function(s) {
      return _c('i-option', {
        key: s.staffId,
        attrs: {
          "value": s.staffId
        }
      }, [_vm._v(_vm._s(s.name))])
    })], 2)], 1)
  })], 2) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "advisorId",
      "label": "会籍顾问"
    }
  }, [(_vm.dict.advisorList) ? _c('i-select', {
    attrs: {
      "disabled": _vm.readonly,
      "filterable": ""
    },
    model: {
      value: (_vm.member.advisorId),
      callback: function($$v) {
        _vm.$set(_vm.member, "advisorId", $$v)
      },
      expression: "member.advisorId"
    }
  }, [_vm._l((_vm.dict.advisorList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), _vm._v(" "), _c('i-option', {
    key: 0,
    attrs: {
      "value": ""
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("无")])])], 2) : _vm._e()], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "introducerPhone",
      "label": "推荐人"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "请输入推荐人手机号"
    },
    model: {
      value: (_vm.member.introducerPhone),
      callback: function($$v) {
        _vm.$set(_vm.member, "introducerPhone", _vm._n($$v))
      },
      expression: "member.introducerPhone"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "contractNo",
      "label": "合同编号"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "",
      "readonly": _vm.readonly
    },
    model: {
      value: (_vm.member.contractNo),
      callback: function($$v) {
        _vm.$set(_vm.member, "contractNo", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.contractNo"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "carNos",
      "label": "车牌号"
    }
  }, [(_vm.readonly) ? [(!_vm.g.Util.isEmptyArray(_vm.carNoList)) ? _c('div', {
    staticClass: "car-nos-sec"
  }, [_vm._v(_vm._s(_vm.carNoList ? _vm.carNoList.join('、') : null))]) : _vm._e(), _vm._v(" "), _c('i', {
    staticClass: "gray"
  }, [_vm._v("暂无")])] : [(_vm.carNoList && _vm.carNoList.length) ? _c('div', {
    staticClass: "car-nos car-nos-sec"
  }, _vm._l((_vm.carNoList), function(cn, idx) {
    return _c('tag', {
      key: idx,
      attrs: {
        "name": cn,
        "closable": ""
      },
      on: {
        "on-close": function($event) {
          return _vm.removeCarNo(cn)
        }
      }
    }, [_vm._v(_vm._s(cn))])
  }), 1) : _vm._e(), _vm._v(" "), _c('i-button', {
    attrs: {
      "icon": "ios-plus-empty",
      "size": "small"
    },
    on: {
      "click": _vm.appendCarNo
    }
  }, [_vm._v("添加")])]], 2), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "会员备注"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "680px"
    },
    attrs: {
      "type": "textarea",
      "rows": 8,
      "readonly": _vm.readonly
    },
    model: {
      value: (_vm.member.remark),
      callback: function($$v) {
        _vm.$set(_vm.member, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.remark"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "gray p10"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor orange bigger"
  }), _vm._v("\n            如果记录会员跟进信息，建议不要在此填写，请填写到 "), _c('a', {
    on: {
      "click": function($event) {
        return _vm.$router.push('/member-follow-list/' + _vm.member.memberId)
      }
    }
  }, [_vm._v("会员跟进 →")])])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "注册日期"
    }
  }, [_c('DatePicker', {
    attrs: {
      "type": "datetime",
      "disabled": _vm.readonly,
      "format": "yyyy-MM-dd",
      "placeholder": "请设置会员注册日期"
    },
    model: {
      value: (_vm.member.regDate),
      callback: function($$v) {
        _vm.$set(_vm.member, "regDate", $$v)
      },
      expression: "member.regDate"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "forbiddenLogin",
      "label": "登录限制"
    }
  }, [_c('checkbox', {
    model: {
      value: (_vm.member.forbiddenLogin),
      callback: function($$v) {
        _vm.$set(_vm.member, "forbiddenLogin", $$v)
      },
      expression: "member.forbiddenLogin"
    }
  }, [_vm._v("禁止会员登录系统")]), _vm._v(" "), _c('help', [_vm._v("勾选后，会员在手机端将无法登录到本门店；不勾选则不受登录限制")])], 1), _vm._v(" "), _c('div', {
    staticClass: "tit"
  }, [_vm._v("详细信息 "), _c('span', {
    staticClass: "gray l10"
  }, [_vm._v("（选填）")])]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "wxNo",
      "label": "微信号"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "readonly": _vm.readonly,
      "placeholder": "请输入此会员的微信号"
    },
    model: {
      value: (_vm.member.wxNo),
      callback: function($$v) {
        _vm.$set(_vm.member, "wxNo", _vm._n($$v))
      },
      expression: "member.wxNo"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "会员地址"
    }
  }, [_c('row', {
    staticStyle: {
      "margin-bottom": "10px"
    },
    attrs: {
      "gutter": 10,
      "type": "flex",
      "justify": "space-between"
    }
  }, [_c('i-col', {
    attrs: {
      "span": "7"
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "addrProvince"
    }
  }, [_c('i-select', {
    attrs: {
      "disabled": _vm.readonly,
      "placeholder": "省（直辖市）",
      "filterable": ""
    },
    on: {
      "on-change": _vm.onChangeAddrL1
    },
    model: {
      value: (_vm.member.addrProvince),
      callback: function($$v) {
        _vm.$set(_vm.member, "addrProvince", $$v)
      },
      expression: "member.addrProvince"
    }
  }, _vm._l((_vm.addrList[0]), function(r) {
    return _c('i-option', {
      key: r.label,
      attrs: {
        "value": r.value
      }
    }, [_vm._v(_vm._s(r.label))])
  }), 1)], 1)], 1), _vm._v(" "), _c('i-col', {
    attrs: {
      "span": "10"
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "addrCity"
    }
  }, [_c('i-select', {
    attrs: {
      "disabled": _vm.readonly,
      "placeholder": "地级市",
      "filterable": ""
    },
    on: {
      "on-change": _vm.onChangeAddrL2
    },
    model: {
      value: (_vm.member.addrCity),
      callback: function($$v) {
        _vm.$set(_vm.member, "addrCity", $$v)
      },
      expression: "member.addrCity"
    }
  }, _vm._l((_vm.addrList[1]), function(r) {
    return _c('i-option', {
      key: r.label,
      attrs: {
        "value": r.value
      }
    }, [_vm._v(_vm._s(r.label))])
  }), 1)], 1)], 1), _vm._v(" "), _c('i-col', {
    attrs: {
      "span": "7"
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "addrDistrict"
    }
  }, [_c('i-select', {
    attrs: {
      "disabled": _vm.readonly,
      "placeholder": "县级市（区）",
      "filterable": ""
    },
    model: {
      value: (_vm.member.addrDistrict),
      callback: function($$v) {
        _vm.$set(_vm.member, "addrDistrict", $$v)
      },
      expression: "member.addrDistrict"
    }
  }, _vm._l((_vm.addrList[2]), function(r) {
    return _c('i-option', {
      key: r.label,
      attrs: {
        "value": r.value
      }
    }, [_vm._v(_vm._s(r.label))])
  }), 1)], 1)], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "addrDetail"
    }
  }, [_c('i-input', {
    attrs: {
      "readonly": _vm.readonly,
      "type": "textarea",
      "row": "3",
      "placeholder": "请输入街道和门牌号"
    },
    model: {
      value: (_vm.member.addrDetail),
      callback: function($$v) {
        _vm.$set(_vm.member, "addrDetail", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.addrDetail"
    }
  })], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "emergencyPhone",
      "label": "紧急手机号"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "readonly": _vm.readonly,
      "placeholder": "请输入此会员的紧急联系人手机号"
    },
    model: {
      value: (_vm.member.emergencyPhone),
      callback: function($$v) {
        _vm.$set(_vm.member, "emergencyPhone", _vm._n($$v))
      },
      expression: "member.emergencyPhone"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "身高",
      "prop": "height"
    }
  }, [_c('input-num', {
    attrs: {
      "title": "",
      "readonly": _vm.readonly
    },
    on: {
      "blur": _vm.handleCaclBmi
    },
    model: {
      value: (_vm.member.height),
      callback: function($$v) {
        _vm.$set(_vm.member, "height", $$v)
      },
      expression: "member.height"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("厘米")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "体重",
      "prop": "weight"
    }
  }, [_c('input-num', {
    attrs: {
      "title": "",
      "readonly": _vm.readonly
    },
    on: {
      "blur": _vm.handleCaclBmi
    },
    model: {
      value: (_vm.member.weight),
      callback: function($$v) {
        _vm.$set(_vm.member, "weight", $$v)
      },
      expression: "member.weight"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("千克")])], 1), _vm._v(" "), (_vm.member.bmi > 0) ? _c('form-item', {
    attrs: {
      "label": "BMI"
    }
  }, [_vm._v("\n          " + _vm._s(_vm.member.bmi) + " （"), _c('span', {
    class: '-bmi' + _vm.bmiLevel
  }, [_vm._v(_vm._s(_vm.bmiDesc))]), _vm._v("）\n        ")]) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "bodyType",
      "label": "体型"
    }
  }, [_c('i-select', {
    attrs: {
      "disabled": _vm.readonly,
      "filterable": ""
    },
    model: {
      value: (_vm.member.bodyType),
      callback: function($$v) {
        _vm.$set(_vm.member, "bodyType", $$v)
      },
      expression: "member.bodyType"
    }
  }, _vm._l((_vm.g.Dict.BodyType), function(b) {
    return _c('i-option', {
      key: b.value,
      attrs: {
        "value": b.value
      }
    }, [_vm._v(_vm._s(b.name))])
  }), 1)], 1), _vm._v(" "), (_vm.g.data.shop.shopType === _vm.g.Dict.ShopType.FENCING) ? [_c('div', {
    staticClass: "tit"
  }, [_vm._v("击剑信息")]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "fencingType",
      "label": "剑种"
    }
  }, [_c('i-select', {
    attrs: {
      "disabled": _vm.readonly,
      "filterable": ""
    },
    model: {
      value: (_vm.member.fencingType),
      callback: function($$v) {
        _vm.$set(_vm.member, "fencingType", $$v)
      },
      expression: "member.fencingType"
    }
  }, _vm._l((_vm.g.Dict.FencingType), function(v, k) {
    return _c('i-option', {
      key: v.value,
      attrs: {
        "value": v.value
      }
    }, [_vm._v(_vm._s(v.name))])
  }), 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "fencingLevel",
      "label": "组别"
    }
  }, [_c('i-select', {
    attrs: {
      "disabled": _vm.readonly,
      "filterable": ""
    },
    model: {
      value: (_vm.member.fencingLevel),
      callback: function($$v) {
        _vm.$set(_vm.member, "fencingLevel", $$v)
      },
      expression: "member.fencingLevel"
    }
  }, _vm._l((_vm.g.Dict.FencingLevel), function(v, k) {
    return _c('i-option', {
      key: v.value,
      attrs: {
        "value": v.value
      }
    }, [_vm._v(_vm._s(v.name))])
  }), 1)], 1)] : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "tit"
  }, [_vm._v("更新记录")]), _vm._v(" "), _c('form-item', {
    staticClass: "low-margin",
    attrs: {
      "label": "创建人"
    }
  }, [_vm._v(_vm._s(_vm.member.createUname))]), _vm._v(" "), _c('form-item', {
    staticClass: "low-margin",
    attrs: {
      "label": "创建时间"
    }
  }, [_vm._v(_vm._s(_vm.member.createTime))]), _vm._v(" "), _c('form-item', {
    staticClass: "low-margin",
    attrs: {
      "label": "更新人"
    }
  }, [_vm._v(_vm._s(_vm.member.updateUname))]), _vm._v(" "), _c('form-item', {
    staticClass: "low-margin",
    attrs: {
      "label": "更新时间"
    }
  }, [_vm._v(_vm._s(_vm.member.updateTime))])], 2), _vm._v(" "), (!_vm.readonly) ? _c('div', {
    staticClass: "form-submit-bottom"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.updateMember()
      }
    }
  }, [_vm._v("更新")]), _vm._v("  \n        "), _c('i-button', {
    on: {
      "click": _vm.queryMemberPhoneNoLog
    }
  }, [_vm._v("手机号修改日志")]), _vm._v("  \n        "), _c('i-button', {
    on: {
      "click": _vm.queryMemberCardNoLog
    }
  }, [_vm._v("会员卡号修改日志")]), _vm._v("  \n        "), _c('i-button', {
    on: {
      "click": _vm.viewMemberAvatarChangeLog
    }
  }, [_vm._v("会员头像修改日志")]), _vm._v("  \n        "), _c('i-button', {
    attrs: {
      "icon": "plus"
    },
    on: {
      "click": function($event) {
        _vm.cardReissueChargeDlg = true
      }
    }
  }, [_vm._v("录入补卡费")])], 1) : _vm._e()], 1)], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "会员手机号更改",
      "width": "550",
      "mask-closable": false
    },
    model: {
      value: (_vm.updateMemberPhoneView),
      callback: function($$v) {
        _vm.updateMemberPhoneView = $$v
      },
      expression: "updateMemberPhoneView"
    }
  }, [_c('table', {
    staticStyle: {
      "margin-top": "10px"
    }
  }, [_c('tr', [_c('td', [_c('input-int', {
    staticStyle: {
      "font-size": "16px",
      "font-weight": "bold",
      "width": "200px"
    },
    attrs: {
      "min": "0",
      "placeholder": "请输入新手机号",
      "title": ""
    },
    model: {
      value: (_vm.newPhoneNo),
      callback: function($$v) {
        _vm.newPhoneNo = $$v
      },
      expression: "newPhoneNo"
    }
  })], 1), _vm._v(" "), _c('td', {
    attrs: {
      "valign": "middle"
    }
  }, [(_vm.g.data.tenant.shopCount > 1) ? _c('span', {
    staticClass: "l15"
  }, [_c('checkbox', {
    model: {
      value: (_vm.ignoreSyncMember),
      callback: function($$v) {
        _vm.ignoreSyncMember = $$v
      },
      expression: "ignoreSyncMember"
    }
  }, [_vm._v("忽略跨店自动同步")]), _vm._v(" "), _c('help', [_vm._v("勾选此项表示，如果其它门店有相同手机号的会员，则不会自动与本会员同步更新。否则，会自动同步更新。")])], 1) : _vm._e(), _vm._v(" "), _c('span', {
    staticClass: "l15"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.updateMemberPhone
    }
  }, [_vm._v("更新")])], 1)])])]), _vm._v(" "), (_vm.phoneIsInOtherTenant) ? _c('div', {
    staticClass: "warning-box"
  }, [_c('span', {
    staticClass: "orangered"
  }, [_vm._v("此手机号已在健总管其他商户中存在，请选择其它手机号。")]), _vm._v(" "), _c('p'), _vm._v("如果确实需要使用此手机号，请通过短信验证码验证（需计费短信数）。\n      "), _c('div', {
    staticClass: "p15"
  }, [_c('input-int', {
    attrs: {
      "placeholder": "请输入短信验证码"
    },
    model: {
      value: (_vm.phoneAuthcode),
      callback: function($$v) {
        _vm.phoneAuthcode = $$v
      },
      expression: "phoneAuthcode"
    }
  }), _vm._v(" "), _c('span', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.authcodeDisabled),
      expression: "authcodeDisabled"
    }],
    staticClass: "l10 small green"
  }, [_vm._v(_vm._s(_vm.authcodeLabel))]), _vm._v(" "), _c('a', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (!_vm.authcodeDisabled),
      expression: "!authcodeDisabled"
    }],
    staticClass: "l10 small",
    on: {
      "click": _vm.onClickSmsAuthcodeBtn
    }
  }, [_vm._v("获取短信验证码")]), _vm._v(" "), _c('p'), _vm._v(" "), _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.checkPhoneAuthcode
    }
  }, [_vm._v("确定")])], 1)]) : _vm._e(), _vm._v(" "), (_vm.updateMemberPhoneErr) ? _c('div', {
    staticClass: "warning",
    staticStyle: {
      "margin-top": "10px"
    }
  }, [_vm._v(_vm._s(_vm.updateMemberPhoneErr))]) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "设置会员所在单位",
      "width": "600"
    },
    model: {
      value: (_vm.orgDlgView),
      callback: function($$v) {
        _vm.orgDlgView = $$v
      },
      expression: "orgDlgView"
    }
  }, [(_vm.orgDlgView) ? [_c('member-org-conf', {
    attrs: {
      "after-submit": _vm.afterConfMemberOrg
    }
  })] : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 2), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "上传会员头像照",
      "width": "700",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.photo.photoDlgView),
      callback: function($$v) {
        _vm.$set(_vm.photo, "photoDlgView", $$v)
      },
      expression: "photo.photoDlgView"
    }
  }, [_c('member-avatar-conf', {
    attrs: {
      "member-id": _vm.memberId,
      "is-update": true,
      "after-upload": _vm.afterUploadMemberAvatar
    }
  }), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "上传会员头像照",
      "width": "700",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.photo.morePhotoDlgView),
      callback: function($$v) {
        _vm.$set(_vm.photo, "morePhotoDlgView", $$v)
      },
      expression: "photo.morePhotoDlgView"
    }
  }, [_c('member-avatar-conf', {
    attrs: {
      "member-id": _vm.memberId,
      "is-update": false,
      "after-upload": _vm.afterUploadMoreMemberAvatar
    }
  }), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "会员手机号修改日志",
      "width": "700",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.phoneNoLogDlg),
      callback: function($$v) {
        _vm.phoneNoLogDlg = $$v
      },
      expression: "phoneNoLogDlg"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("原手机号")]), _vm._v(" "), _c('th', [_vm._v("新手机号")])]), _vm._v(" "), _vm._l((_vm.phoneNoLogList), function(l) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', {
      staticClass: "big"
    }, [_vm._v(_vm._s(l.oldPhoneNo))]), _vm._v(" "), _c('td', {
      staticClass: "big"
    }, [_vm._v(_vm._s(l.newPhoneNo))])])
  })], 2), _vm._v(" "), (_vm.phoneNoLogList && _vm.phoneNoLogList.length === 0) ? _c('p', {
    staticClass: "no-data"
  }, [_vm._v("暂无手机号修改日志")]) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    staticClass: "long-btn",
    on: {
      "click": function($event) {
        _vm.phoneNoLogDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "会员卡号修改日志",
      "width": "700",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.cardNoLogDlg),
      callback: function($$v) {
        _vm.cardNoLogDlg = $$v
      },
      expression: "cardNoLogDlg"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("原会员卡号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("新会员卡号")]), _vm._v(" "), _c('th', [_vm._v("卡号来源")])]), _vm._v(" "), _vm._l((_vm.cardNoLogList), function(l) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [(l.oldCardNo) ? [_vm._v(_vm._s(l.oldCardNo))] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("空")])], 2), _vm._v(" "), _c('td', [(l.newCardNo) ? [_vm._v(_vm._s(l.newCardNo))] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("空")])], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.MemberCardSrc[l.cardNoSrc]))])])
  })], 2), _vm._v(" "), (_vm.cardNoLogList && _vm.cardNoLogList.length === 0) ? _c('p', {
    staticClass: "no-data"
  }, [_vm._v("暂无会员卡号修改日志")]) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    staticClass: "long-btn",
    on: {
      "click": function($event) {
        _vm.cardNoLogDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "录入补卡费",
      "width": "600",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.cardReissueChargeDlg),
      callback: function($$v) {
        _vm.cardReissueChargeDlg = $$v
      },
      expression: "cardReissueChargeDlg"
    }
  }, [_c('table', {
    staticClass: "tblform",
    attrs: {
      "width": "500"
    }
  }, [_c('tr', [_c('th', {
    staticClass: "required",
    attrs: {
      "width": "90"
    }
  }, [_vm._v("补卡费")]), _vm._v(" "), _c('td', [_c('input-num', {
    staticClass: "input-s",
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "placeholder": "",
      "title": ""
    },
    model: {
      value: (_vm.cardReissueCharge.unitPrice),
      callback: function($$v) {
        _vm.$set(_vm.cardReissueCharge, "unitPrice", _vm._n($$v))
      },
      expression: "cardReissueCharge.unitPrice"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "gray l10"
  }, [_vm._v("元")])], 1)]), _vm._v(" "), (_vm.cardReissueCharge.unitPrice != 0) ? _c('tr', [_c('th', [_vm._v("支付方式")]), _vm._v(" "), _c('td', [_c('radio-group', {
    model: {
      value: (_vm.cardReissueCharge.paymentChannel),
      callback: function($$v) {
        _vm.$set(_vm.cardReissueCharge, "paymentChannel", $$v)
      },
      expression: "cardReissueCharge.paymentChannel"
    }
  }, _vm._l((_vm.g.Dict.CardPaymentChannel), function(name, key) {
    return _c('radio', {
      key: key,
      attrs: {
        "label": key
      }
    }, [_vm._v(_vm._s(name))])
  }), 1)], 1)]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("原卡号")]), _vm._v(" "), _c('td', [_c('input-int', {
    staticClass: "input-s",
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "placeholder": "",
      "title": ""
    },
    model: {
      value: (_vm.cardReissueCharge.oldCardNo),
      callback: function($$v) {
        _vm.$set(_vm.cardReissueCharge, "oldCardNo", _vm._n($$v))
      },
      expression: "cardReissueCharge.oldCardNo"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("新卡号")]), _vm._v(" "), _c('td', [_c('input-int', {
    staticClass: "input-s",
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "placeholder": "",
      "title": ""
    },
    model: {
      value: (_vm.cardReissueCharge.newCardNo),
      callback: function($$v) {
        _vm.$set(_vm.cardReissueCharge, "newCardNo", _vm._n($$v))
      },
      expression: "cardReissueCharge.newCardNo"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("备注")]), _vm._v(" "), _c('td', [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 5
    },
    model: {
      value: (_vm.cardReissueCharge.remark),
      callback: function($$v) {
        _vm.$set(_vm.cardReissueCharge, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "cardReissueCharge.remark"
    }
  })], 1)])]), _vm._v(" "), _c('div', {
    staticClass: "center form-submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.createCardReissueCharge
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.cardReissueChargeDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "会员头像修改日志",
      "width": "1050",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.memberHeadLogDlg),
      callback: function($$v) {
        _vm.memberHeadLogDlg = $$v
      },
      expression: "memberHeadLogDlg"
    }
  }, [_c('div', {
    staticClass: "mytbl member-photo-logs"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "140"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', [_vm._v("原头像")]), _vm._v(" "), _c('th', [_vm._v("新头像")])]), _vm._v(" "), _vm._l((_vm.memberAvatarChangeLogList), function(l) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [(l.oldImg) ? _vm._l((l.oldImg.split(',')), function(img) {
      return _c('a', {
        attrs: {
          "href": _vm.g.Util.getImgUrl(img),
          "target": "_blank"
        }
      }, [_c('img', {
        attrs: {
          "src": _vm.g.Util.getImgUrl(img, 400, 400, 'dddddd')
        }
      })])
    }) : _vm._e()], 2), _vm._v(" "), _c('td', [(l.newImg) ? _vm._l((l.newImg.split(',')), function(img) {
      return _c('a', {
        attrs: {
          "href": _vm.g.Util.getImgUrl(img),
          "target": "_blank"
        }
      }, [_c('img', {
        attrs: {
          "src": _vm.g.Util.getImgUrl(img, 400, 400, 'dddddd')
        }
      })])
    }) : _vm._e()], 2)])
  })], 2), _vm._v(" "), (_vm.memberAvatarChangeLogList && _vm.memberAvatarChangeLogList.length === 0) ? _c('p', {
    staticClass: "no-data"
  }, [_vm._v("\n        暂无头像修改日志 （系统从 2020-7-5 起记录修改日志）\n      ")]) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    staticClass: "long-btn",
    on: {
      "click": function($event) {
        _vm.memberHeadLogDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)])], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2222:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-test"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "tbl-header"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('div', {
    staticClass: "query-section"
  }, [_c('div', {
    staticClass: "item input-box",
    staticStyle: {
      "width": "150px"
    },
    on: {
      "click": function($event) {
        _vm.memberSelectDlgForQuery = true
      }
    }
  }, [(!_vm.memberTestQuery.memberId) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("点击选择会员")]) : _c('span', [_vm._v(_vm._s(_vm.memberTestQuery.memberName))])]), _vm._v(" "), _c('div', {
    staticClass: "item"
  }, [_c('i-button', {
    on: {
      "click": _vm.resetMemberTest
    }
  }, [_vm._v("重置")])], 1)])]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.editable) ? _c('i-button', {
    attrs: {
      "icon": "plus",
      "type": "primary"
    },
    on: {
      "click": _vm.selectMember
    }
  }, [_vm._v("添加会员测试")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.memberTestList), function(mt, idx) {
    return _c('tr', [_c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.openMemberBaseDlg(mt.memberId)
        }
      }
    }, [_vm._v(_vm._s(mt.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(mt.testDate)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(mt.testStaffName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(mt.createTime))]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.openEditMemberTestDlg(idx)
        }
      }
    }, [_vm._v("查看")])]), _vm._v(" "), _c('td', [(_vm.editable) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openMemberTestItemDlg(idx)
        }
      }
    }, [_vm._v("测试项目")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openEditMemberTestDlg(idx)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.delMemberTest(idx)
        }
      }
    }, [_vm._v("删除")])])]) : _vm._e()])])
  })], 2), _vm._v(" "), (_vm.memberTestCnt > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.memberTestCnt,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMemberTestList
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.memberTestList && _vm.memberTestList.length === 0) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e()])])], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员查询与选择",
      "width": "700",
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.memberSelectDlg),
      callback: function($$v) {
        _vm.memberSelectDlg = $$v
      },
      expression: "memberSelectDlg"
    }
  }, [(_vm.memberSelectDlg) ? _c('member-select', {
    attrs: {
      "after-select": _vm.afterSelectMember
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员查询与选择",
      "width": "700",
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.memberSelectDlgForQuery),
      callback: function($$v) {
        _vm.memberSelectDlgForQuery = $$v
      },
      expression: "memberSelectDlgForQuery"
    }
  }, [(_vm.memberSelectDlgForQuery) ? _c('member-select', {
    attrs: {
      "after-select": _vm.afterSelectMemberForQuery
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "会员测试编辑",
      "width": "850",
      "styles": {
        top: '10px'
      },
      "mask-closable": false
    },
    model: {
      value: (_vm.memberTestDlg),
      callback: function($$v) {
        _vm.memberTestDlg = $$v
      },
      expression: "memberTestDlg"
    }
  }, [_c('i-form', {
    ref: "memberTest",
    staticClass: "myform",
    staticStyle: {
      "width": "600px",
      "margin-top": "10px"
    },
    attrs: {
      "model": _vm.memberTest,
      "rules": _vm.memberTestFormRule,
      "label-width": 100
    }
  }, [_c('form-item', {
    attrs: {
      "label": "测试会员"
    }
  }, [_c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.memberTest.memberName))])]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "testDate",
      "label": "测试日期"
    }
  }, [_c('DatePicker', {
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "type": "date",
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.memberTest.testDate),
      callback: function($$v) {
        _vm.$set(_vm.memberTest, "testDate", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberTest.testDate"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "testStaffId",
      "label": "测试员工"
    }
  }, [_c('i-select', {
    staticClass: "input",
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "placeholder": "",
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.memberTest.testStaffId),
      callback: function($$v) {
        _vm.$set(_vm.memberTest, "testStaffId", _vm._n($$v))
      },
      expression: "memberTest.testStaffId"
    }
  }, _vm._l((_vm.dict.staffList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId,
        "label": s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "测试小结"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 15,
      "readonly": !_vm.editable,
      "placeholder": "请填写此次测试的备注或小结"
    },
    model: {
      value: (_vm.memberTest.remark),
      callback: function($$v) {
        _vm.$set(_vm.memberTest, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberTest.remark"
    }
  })], 1)], 1), _vm._v(" "), (_vm.editable) ? _c('div', {
    staticClass: "form-submit"
  }, [_c('i-button', {
    staticClass: "primary",
    staticStyle: {
      "margin-left": "100px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveMemberTest
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.memberTestDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "会员测试项目编辑",
      "width": "700",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.memberTestItemDlg),
      callback: function($$v) {
        _vm.memberTestItemDlg = $$v
      },
      expression: "memberTestItemDlg"
    }
  }, [(_vm.memberTestItemDlg) ? [_c('div', {
    staticClass: "mti-tit"
  }, [_vm._v("\n\t\t\t会员： "), _c('b', {
    staticClass: "orangered bigger"
  }, [_vm._v(_vm._s(_vm.memberTest.memberName))]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("/")]), _vm._v("\n\t\t\t测试日期： " + _vm._s(_vm.g.Util.formatDate(_vm.memberTest.testDate)) + " "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("/")]), _vm._v("\n\t\t\t测试人员： " + _vm._s(_vm.memberTest.testStaffName) + "\n\t\t")]), _vm._v(" "), _c('table', {
    staticClass: "tblform"
  }, _vm._l((_vm.memberTestItemList), function(t) {
    return _c('tr', [_c('th', [_vm._v(_vm._s(t.itemName))]), _vm._v(" "), _c('td', [_c('i-input', {
      staticClass: "input",
      attrs: {
        "type": "text"
      },
      model: {
        value: (t.itemValue),
        callback: function($$v) {
          _vm.$set(t, "itemValue", $$v)
        },
        expression: "t.itemValue"
      }
    })], 1), _vm._v(" "), _c('td', [_vm._v(_vm._s(t.unitName))])])
  }), 0), _vm._v(" "), _c('div', {
    staticClass: "form-submit"
  }, [(_vm.shopTestItemList && _vm.shopTestItemList.length > 0) ? _c('i-button', {
    staticClass: "primary",
    staticStyle: {
      "margin-left": "140px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveMemberTesItem
    }
  }, [_vm._v("提交")]) : _c('span', {
    staticClass: "red"
  }, [_vm._v("请先配置测试项目  ")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.memberTestItemDlg = false
      }
    }
  }, [_vm._v("关闭")]), _vm._v(" "), _c('span', {
    staticClass: "l15"
  }, [_c('a', {
    on: {
      "click": function($event) {
        return _vm.$router.push('/member-body-test-list/' + _vm.memberTest.memberId)
      }
    }
  }, [_vm._v("查看【" + _vm._s(_vm.memberTest.memberName) + "】的所有测试记录")])])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })] : _vm._e()], 2)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("测试日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("测试人员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("创建时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("测试小结")]), _vm._v(" "), _c('th', [_vm._v("操作")])])
}]}

/***/ }),

/***/ 2230:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_vm._v("\n\t总销售额： ￥"), _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.mcp.paymentAmount))]), _vm._v(" "), _c('span', {
    staticClass: "l15 orange"
  }, [_vm._v("\n\t\t（备注：销售人员总业绩不能超过总销售额）\n\t")]), _vm._v(" "), _c('div', {
    staticClass: "mytbl p15"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.salesAmountList), function(s, idx) {
    return _c('tr', [_c('td', [_c('i-select', {
      attrs: {
        "filterable": "",
        "placeholder": "选销售人员"
      },
      model: {
        value: (s.salesId),
        callback: function($$v) {
          _vm.$set(s, "salesId", _vm._n($$v))
        },
        expression: "s.salesId"
      }
    }, [_vm._l((_vm.salesList), function(s) {
      return _c('i-option', {
        key: s.staffId,
        attrs: {
          "value": s.staffId
        }
      }, [_vm._v(_vm._s(s.name))])
    }), _vm._v(" "), _c('i-option', {
      key: "0",
      attrs: {
        "value": ""
      }
    }, [_c('span', {
      staticClass: "gray"
    }, [_vm._v("无")])])], 2)], 1), _vm._v(" "), _c('td', [_c('input-num', {
      staticClass: "input",
      attrs: {
        "placeholder": "销售业绩"
      },
      on: {
        "blur": function($event) {
          return _vm.changeSalesAmount(idx)
        }
      },
      model: {
        value: (s.salesAmount),
        callback: function($$v) {
          _vm.$set(s, "salesAmount", _vm._n($$v))
        },
        expression: "s.salesAmount"
      }
    }), _vm._v(" 元\n\t\t\t\t")], 1), _vm._v(" "), _c('td', [(s.salesAmount && s.rate) ? [_vm._v(_vm._s(s.rate) + "%")] : _vm._e()], 2)])
  })], 2), _vm._v(" "), _c('div', {
    staticClass: "sum"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('i-button', {
    on: {
      "click": _vm.addConf
    }
  }, [_vm._v("+ 添加")])], 1), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_vm._v("\n\t\t\t\t合计业绩： " + _vm._s(_vm.sumAmount) + "元\n\t\t\t\t"), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n\t\t\t\t剩余分配："), _c('span', {
    class: {
      'red': _vm.sumAmount > _vm.mcp.paymentAmount
    }
  }, [_vm._v(_vm._s(_vm.mcp.paymentAmount - _vm.sumAmount) + " 元")])])])]), _vm._v(" "), _c('div', {
    staticClass: "form-submit center"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submit
    }
  }, [_vm._v("确定")])], 1)])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "180"
    }
  }, [_vm._v("销售人员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("销售业绩")]), _vm._v(" "), _c('th', [_vm._v("业绩占比")])])
}]}

/***/ }),

/***/ 2244:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-opt-log"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "mytbl",
    style: ('max-height: ' + _vm.logTblHeight + 'px;')
  }, [_c('table', {
    staticClass: "inner-tbl",
    staticStyle: {
      "min-width": "1500px"
    }
  }, [_vm._m(0), _vm._v(" "), _vm._l((_vm.cardChangeLog.data), function(l, idx) {
    return _c('tr', {
      class: {
        'borderspt': (idx > 0 && idx % 2 === 0)
      }
    }, [(idx % 2 === 0) ? _c('td', {
      attrs: {
        "rowspan": "2"
      }
    }, [_c('router-link', {
      staticClass: "block",
      attrs: {
        "to": '/member-card-list/' + l.memberId
      }
    }, [_vm._v(_vm._s(l.memberName.shorten(4)))])], 1) : _vm._e(), _vm._v(" "), _c('td', [(l.recordType === 1) ? _c('span', {
      staticClass: "orange"
    }, [_vm._v("修改后")]) : _vm._e(), (l.recordType === 0) ? _c('span', {
      staticClass: "green"
    }, [_vm._v("修改前")]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.cardName))]), _vm._v(" "), _c('td', {
      class: {
        'diff': (idx % 2 === 0 && l.usableAmount !== _vm.cardChangeLog.data[idx + 1].usableAmount)
      }
    }, [(!_vm.g.Util.isEmpty(l.usableAmount)) ? [_vm._v("￥" + _vm._s(l.usableAmount))] : _vm._e()], 2), _vm._v(" "), _c('td', {
      class: {
        'diff': (idx % 2 === 0 && l.paymentAmount !== _vm.cardChangeLog.data[idx + 1].paymentAmount)
      }
    }, [(!_vm.g.Util.isEmpty(l.paymentAmount)) ? [_vm._v("￥" + _vm._s(l.paymentAmount))] : _vm._e()], 2), _vm._v(" "), _c('td', [(l.cardType === 2) ? _c('span', {
      class: {
        'diff': (idx % 2 === 0 && l.usableTimes !== _vm.cardChangeLog.data[idx + 1].usableTimes)
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(l.usableTimes) + "次\n\t\t\t\t\t\t\t")]) : _vm._e()]), _vm._v(" "), _c('td', [(l.usableDays) ? _c('span', {
      class: {
        'diff': (idx % 2 === 0 && l.usableDays !== _vm.cardChangeLog.data[idx + 1].usableDays)
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(l.usableDays) + "天\n\t\t\t\t\t\t\t")]) : _vm._e()]), _vm._v(" "), _c('td', {
      class: {
        'diff': (idx % 2 === 0 && (l.beginDate !== _vm.cardChangeLog.data[idx + 1].beginDate))
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.formatDateForShort(l.beginDate)) + "\n\t\t\t\t\t\t")]), _vm._v(" "), _c('td', {
      class: {
        'diff': (idx % 2 === 0 && (l.limitBeginDate !== _vm.cardChangeLog.data[idx + 1].limitBeginDate))
      }
    }, [(l.limitBeginDate) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.formatDateForShort(l.limitBeginDate)) + "\n\t\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), _c('td', {
      class: {
        'diff': (idx % 2 === 0 && l.salesName !== _vm.cardChangeLog.data[idx + 1].salesName)
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(l.salesName) + "\n\t\t\t\t\t\t")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname.shorten(4)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.changeRemark))])])
  })], 2), _vm._v(" "), (_vm.cardChangeLog.count && _vm.cardChangeLog.count >= 1) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.cardChangeLog.count,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMemberCardChangeLog
    }
  })], 1) : _vm._e()]), _vm._v(" "), (_vm.cardChangeLog.data && _vm.cardChangeLog.data.length === 0) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("\n\t\t\t\t暂无数据\n\t\t\t")]) : _vm._e()])], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "60"
    }
  }, [_vm._v("操作")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("充值金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("实收金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("使用次数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("使用天数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("开始日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("最迟开卡日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("销售")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("修改时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("修改人")]), _vm._v(" "), _c('th', [_vm._v("备注")])])
}]}

/***/ }),

/***/ 2252:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -mp-list"
  }, [_c('page-header', {
    attrs: {
      "title": _vm.memberName,
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('ul', {
    staticClass: "query-cond-inline"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("积分日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "type": "date",
      "placeholder": "开始日期"
    },
    model: {
      value: (_vm.query.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "beginDate", $$v)
      },
      expression: "query.beginDate"
    }
  }), _vm._v("\n\t\t\t\t\t\t~\n            "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "type": "date",
      "placeholder": "结束日期"
    },
    model: {
      value: (_vm.query.endDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "endDate", $$v)
      },
      expression: "query.endDate"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.doQuery(null)
      }
    }
  }, [_vm._v("查询")])], 1), _vm._v(" "), (_vm.pointsEdiable) ? _c('li', {
    staticClass: "item r",
    staticStyle: {
      "padding-right": "0"
    }
  }, [_c('span', {
    staticStyle: {
      "margin-right": "20px"
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t剩余积分： " + _vm._s(_vm.member.points) + " "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("/")]), _vm._v("\n\t\t\t\t\t\t\t累计积分： " + _vm._s(_vm.member.pointsSum) + "\n\t\t\t\t\t\t")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.openCreateMemberPointsDlg
    }
  }, [_vm._v("更新积分")])], 1) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.mpList), function(m, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(m.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.PointsType[m.pointsType]))]), _vm._v(" "), _c('td', [(m.varPoints > 0) ? _c('span', [_vm._v("+ " + _vm._s(m.varPoints) + " 分")]) : _c('span', [_c('b', {
      staticClass: "red"
    }, [_vm._v("－ " + _vm._s(-m.varPoints))]), _vm._v(" 分")])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.curPoints))]), _vm._v(" "), _c('td', [(m.pointsType > 0) ? [(m.remark) ? _c('i', [_vm._v(_vm._s(m.remark))]) : _c('span', {
      staticClass: "gray"
    }, [_vm._v("系统自动生成")])] : [_vm._v(_vm._s(m.remark))]], 2)])
  })], 2), _vm._v(" "), (_vm.totalCount) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.totalCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.changePageNo
    }
  })], 1) : _vm._e(), _vm._v(" "), (!_vm.totalCount) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()])]), _vm._v(" "), _c('modal', {
    staticClass: "-mp-dlg",
    attrs: {
      "title": "更新会员积分",
      "width": "600"
    },
    model: {
      value: (_vm.memberPointsDlgView),
      callback: function($$v) {
        _vm.memberPointsDlgView = $$v
      },
      expression: "memberPointsDlgView"
    }
  }, [_c('table', {
    staticClass: "mp-tbl",
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("积分更新")]), _vm._v(" "), _c('td', [_c('input-num', {
    staticClass: "points-input",
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.memberPoints.varPoints),
      callback: function($$v) {
        _vm.$set(_vm.memberPoints, "varPoints", _vm._n($$v))
      },
      expression: "memberPoints.varPoints"
    }
  }), _vm._v("\n\t\t\t\t\t\t\t  分  "), _c('span', {
    staticClass: "gray"
  }, [_vm._v("（扣除积分请填写负数）")])], 1)]), _vm._v(" "), _c('tr', [_c('th'), _vm._v(" "), _c('td', [_c('div', {
    staticStyle: {
      "padding": "10px 0"
    }
  }, [_c('checkbox', {
    model: {
      value: (_vm.syncSumPoints),
      callback: function($$v) {
        _vm.syncSumPoints = $$v
      },
      expression: "syncSumPoints"
    }
  }, [_vm._v("是否同步更新【累计积分】")]), _vm._v(" "), _c('span', {
    staticClass: "gray"
  }, [_vm._v("（累计积分会影响到积分头衔）")])], 1)])]), _vm._v(" "), _c('tr', [_c('th', {
    attrs: {
      "valign": "top"
    }
  }, [_vm._v("积分备注")]), _vm._v(" "), _c('td', [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 4
    },
    model: {
      value: (_vm.memberPoints.remark),
      callback: function($$v) {
        _vm.$set(_vm.memberPoints, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberPoints.remark"
    }
  })], 1)])]), _vm._v(" "), _c('div', {
    staticClass: "submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.createMemberPoints
    }
  }, [_vm._v("提交")])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })])], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("积分时间 ↓")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("积分类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("获得积分")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("更新后积分")]), _vm._v(" "), _c('th', [_vm._v("备注")])])
}]}

/***/ }),

/***/ 2255:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('Tabs', {
    attrs: {
      "animated": false
    }
  }, [_c('TabPane', {
    attrs: {
      "label": "请假操作",
      "name": "opt"
    }
  }, [_c('section', [_c('div', {
    staticClass: "warning"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v("\n\t\t\t\t\t请假期间此卡不能使用。\n\t\t\t\t\t请假后，系统将自动延长结束日期或有效期，延长的天数为请假的天数。\n\t\t\t\t")]), _vm._v(" "), _c('i-form', {
    ref: "cardVacation",
    staticClass: "p10 myform",
    staticStyle: {
      "width": "450px"
    },
    attrs: {
      "model": _vm.cardVacation,
      "rules": _vm.cardVacationFormRule,
      "label-width": 115
    }
  }, [(_vm.selectCard.cardName) ? _c('form-item', {
    attrs: {
      "prop": "cardId",
      "label": "会员卡"
    }
  }, [_c('b', [_vm._v(_vm._s(_vm.selectCard.cardName))])]) : _vm._e(), _vm._v(" "), (_vm.isCancel) ? [_c('form-item', {
    attrs: {
      "label": "请假日期"
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.formatDate(_vm.selectCard.vacationBegin)) + " ~ " + _vm._s(_vm.g.Util.formatDate(_vm.selectCard.vacationEnd)) + "\n\t\t\t\t\t\t")])] : [_c('form-item', {
    attrs: {
      "prop": "vacationBegin",
      "label": "开始日期"
    }
  }, [_c('date-picker', {
    staticClass: "-date",
    attrs: {
      "type": "date"
    },
    model: {
      value: (_vm.cardVacation.vacationBegin),
      callback: function($$v) {
        _vm.$set(_vm.cardVacation, "vacationBegin", $$v)
      },
      expression: "cardVacation.vacationBegin"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "vacationEnd",
      "label": "结束日期"
    }
  }, [_c('date-picker', {
    staticClass: "-date",
    attrs: {
      "type": "date"
    },
    model: {
      value: (_vm.cardVacation.vacationEnd),
      callback: function($$v) {
        _vm.$set(_vm.cardVacation, "vacationEnd", $$v)
      },
      expression: "cardVacation.vacationEnd"
    }
  })], 1)], _vm._v(" "), (!_vm.isCancel) ? _c('form-item', {
    attrs: {
      "prop": "vacationFee",
      "label": "请假费用"
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "placeholder": "",
      "title": ""
    },
    model: {
      value: (_vm.cardVacation.vacationFee),
      callback: function($$v) {
        _vm.$set(_vm.cardVacation, "vacationFee", _vm._n($$v))
      },
      expression: "cardVacation.vacationFee"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "gray l10"
  }, [_vm._v("元")])], 1) : _vm._e(), _vm._v(" "), (!_vm.isCancel && !_vm.g.Util.isEmpty(_vm.cardVacation.vacationFee)) ? _c('form-item', {
    attrs: {
      "prop": "vacationFee",
      "label": "支付方式"
    }
  }, [_c('radio-group', {
    model: {
      value: (_vm.cardVacation.feeChannel),
      callback: function($$v) {
        _vm.$set(_vm.cardVacation, "feeChannel", $$v)
      },
      expression: "cardVacation.feeChannel"
    }
  }, _vm._l((_vm.g.Dict.CardPaymentChannel), function(name, key) {
    return _c('radio', {
      key: key,
      attrs: {
        "label": key
      }
    }, [_vm._v(_vm._s(name))])
  }), 1)], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "备注"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 5
    },
    model: {
      value: (_vm.cardVacation.remark),
      callback: function($$v) {
        _vm.$set(_vm.cardVacation, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "cardVacation.remark"
    }
  })], 1)], 2), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "115px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.handleSubmit()
      }
    }
  }, [_vm._v("提交")])], 1)], 1)]), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "请假记录",
      "name": "loglist"
    }
  }, [_c('member-card-vacation-query', {
    attrs: {
      "mc-id": _vm.selectCard.mcId
    }
  })], 1)], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2258:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-opt-log"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.logList), function(l) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(l.memberId)
        }
      }
    }, [_vm._v(_vm._s(l.memberName))])]), _vm._v(" "), _c('td', [(l.oldCardNo) ? [_vm._v(_vm._s(l.oldCardNo))] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("空")])], 2), _vm._v(" "), _c('td', [(l.newCardNo) ? [_vm._v(_vm._s(l.newCardNo))] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("空")])], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.MemberCardSrc[l.cardNoSrc]))])])
  })], 2)]), _vm._v(" "), (_vm.count && _vm.count >= 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.count,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryLog
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.logList && _vm.logList.length === 0) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n\t\t\t\t暂无数据\n\t\t\t")]) : _vm._e()])], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("原会员卡号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("新会员卡号")]), _vm._v(" "), _c('th', [_vm._v("卡号来源")])])
}]}

/***/ }),

/***/ 2260:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.logList), function(log, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s((30 * ((_vm.queryPage ? _vm.queryPage : 1) - 1) + idx + 1)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.printContent))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.printPayment) + " 次")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.mcCurrentTimes) + " 次")])])
  })], 2)]), _vm._v(" "), (_vm.count && _vm.count > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.count,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryLogList
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.queryLogList && !_vm.logList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "180"
    }
  }, [_vm._v("打印消费时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "180"
    }
  }, [_vm._v("打印课件名称")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("打印消费次数")]), _vm._v(" "), _c('th', [_vm._v("卡剩余次数")])])
}]}

/***/ }),

/***/ 2262:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('div', {
    staticClass: "opts"
  }, [_c('ul', [_c('li', [_vm._v("\n\t\t\t\t显示器尺寸："), _c('input-num', {
    staticStyle: {
      "width": "45px"
    },
    attrs: {
      "min": 10,
      "max": 100
    },
    on: {
      "blur": _vm.setPrintParam
    },
    model: {
      value: (_vm.screenSize),
      callback: function($$v) {
        _vm.screenSize = $$v
      },
      expression: "screenSize"
    }
  }), _vm._v("   寸\n\t\t\t")], 1), _vm._v(" "), _c('li', {
    staticClass: "gray"
  }, [_vm._v("|")]), _vm._v(" "), (_vm.hasContractConf) ? _c('li', [_vm._v("\n\t\t\t\t显示器宽高比：\n\t\t\t\t"), _c('input-int', {
    staticStyle: {
      "width": "40px"
    },
    attrs: {
      "min": 1,
      "max": 100
    },
    on: {
      "blur": _vm.setPrintParam
    },
    model: {
      value: (_vm.screenWidthRate),
      callback: function($$v) {
        _vm.screenWidthRate = $$v
      },
      expression: "screenWidthRate"
    }
  }), _vm._v("\n\t\t\t\t:\n\t\t\t\t"), _c('input-int', {
    staticStyle: {
      "width": "40px"
    },
    attrs: {
      "min": 1,
      "max": 100
    },
    on: {
      "blur": _vm.setPrintParam
    },
    model: {
      value: (_vm.screenHeightRate),
      callback: function($$v) {
        _vm.screenHeightRate = $$v
      },
      expression: "screenHeightRate"
    }
  })], 1) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "gray"
  }, [_vm._v("|")]), _vm._v(" "), _c('li', [_vm._v("\n\t\t\t\t打印字体大小：\n\t\t\t\t"), _c('input-int', {
    staticStyle: {
      "width": "40px"
    },
    attrs: {
      "min": 8,
      "max": 30
    },
    on: {
      "blur": _vm.setPrintParam
    },
    model: {
      value: (_vm.fontSize),
      callback: function($$v) {
        _vm.fontSize = $$v
      },
      expression: "fontSize"
    }
  }), _vm._v("\n\t\t\t\t像素\n\t\t\t")], 1), _vm._v(" "), (!_vm.hasContractConf) ? [_c('li', {
    staticClass: "gray"
  }, [_vm._v("|")]), _vm._v(" "), _c('li', [_vm._v("\n\t\t\t\t\t上边距\n\t\t\t\t\t"), _c('input-int', {
    staticStyle: {
      "width": "50px"
    },
    attrs: {
      "min": 1,
      "max": 1000
    },
    model: {
      value: (_vm.topPxWithNoConf),
      callback: function($$v) {
        _vm.topPxWithNoConf = $$v
      },
      expression: "topPxWithNoConf"
    }
  }), _vm._v("\n\t\t\t\t\t像素\n\t\t\t\t")], 1), _vm._v(" "), _c('li', {
    staticClass: "gray"
  }, [_vm._v("|")]), _vm._v(" "), _c('li', [_vm._v("\n\t\t\t\t\t左边距\n\t\t\t\t\t"), _c('input-int', {
    staticStyle: {
      "width": "50px"
    },
    attrs: {
      "min": 1,
      "max": 1000
    },
    model: {
      value: (_vm.leftPxWithNoConf),
      callback: function($$v) {
        _vm.leftPxWithNoConf = $$v
      },
      expression: "leftPxWithNoConf"
    }
  }), _vm._v("\n\t\t\t\t\t像素\n\t\t\t\t")], 1)] : _vm._e(), _vm._v(" "), _c('li', [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.print()
      }
    }
  }, [_vm._v("打印")])], 1)], 2)]), _vm._v(" "), _c('div', {
    ref: "print",
    style: ('padding: 0; background: #fff; color: #000; width: ' + _vm.pageW + 'px; height: ' + _vm.pageH + 'px;'),
    attrs: {
      "id": "print"
    }
  }, [_c('div', [(_vm.hasContractConf) ? _vm._l((_vm.contractSetList), function(item) {
    return _c('div', {
      staticClass: "print-item",
      style: ({
        'font-size': _vm.fontSize + 'px',
        'margin-left': +item.posX + 'px',
        'margin-top': item.posY + 'px'
      })
    }, [_vm._v(_vm._s(item.value) + "\n\t\t\t\t")])
  }) : [_c('div', {
    staticClass: "print-default",
    style: ({
      'font-size': _vm.fontSize + 'px',
      'margin-left': +_vm.leftPxWithNoConf + 'px',
      'margin-top': _vm.topPxWithNoConf + 'px'
    })
  }, [_c('div', {
    staticClass: "print-tit"
  }, [_vm._v("会员信息")]), _vm._v(" "), _c('div', {
    staticClass: "print-cont"
  }, [_c('ul', [_vm._l((_vm.printMemberSetDefault), function(p) {
    return [(p.inforDetail) ? _c('li', {
      class: {
        'tip': p.inforTit == 'remark'
      }
    }, [_c('div', {
      staticClass: "infor-name"
    }, [_vm._v(_vm._s(p.inforName) + "：")]), _vm._v(" "), _c('div', {
      staticClass: "infor-detail"
    }, [_vm._v(_vm._s(p.inforDetail))])]) : _vm._e()]
  })], 2)]), _vm._v(" "), _c('div', {
    staticClass: "print-tit"
  }, [_vm._v("会员卡充值信息")]), _vm._v(" "), _c('div', {
    staticClass: "print-cont"
  }, [_c('ul', [_vm._l((_vm.printMcpSetDefault), function(p) {
    return [(p.inforDetail) ? _c('li', {
      class: {
        'tip': p.inforTit == 'remark' || p.inforTit == 'shops'
      }
    }, [_c('div', {
      staticClass: "infor-name"
    }, [_vm._v(_vm._s(p.inforName) + "：")]), _vm._v(" "), _c('div', {
      staticClass: "infor-detail"
    }, [_vm._v(_vm._s(p.inforDetail))])]) : _vm._e()]
  })], 2)])])]], 2)])])
},staticRenderFns: []}

/***/ }),

/***/ 2263:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-test"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "tbl-header"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('div', {
    staticClass: "query-section"
  }, [_c('div', {
    staticClass: "item input-box",
    staticStyle: {
      "width": "150px"
    },
    on: {
      "click": function($event) {
        _vm.memberSelectDlgForQuery = true
      }
    }
  }, [(!_vm.memberTestQuery.memberId) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("点击选择会员")]) : _c('span', [_vm._v(_vm._s(_vm.memberTestQuery.memberName))])]), _vm._v(" "), _c('div', {
    staticClass: "item"
  }, [_c('i-button', {
    on: {
      "click": _vm.resetMemberTest
    }
  }, [_vm._v("重置")])], 1)])]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.editable) ? _c('i-button', {
    attrs: {
      "icon": "plus",
      "type": "primary"
    },
    on: {
      "click": _vm.addTest
    }
  }, [_vm._v("添加测试")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.memberTestList), function(item, idx) {
    return _c('tr', {
      key: idx
    }, [_c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.openMemberBaseDlg(item.memberId)
        }
      }
    }, [_vm._v(_vm._s(item.name))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(item.testDateTime.substring(0, 10)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(item.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(item.createTime))]), _vm._v(" "), _c('td', [(_vm.editable) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.editTest(item.memberId, item.mptId)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.deleteTestItem(item.mptId)
        }
      }
    }, [_vm._v("删除")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.createReport(item.mptId)
        }
      }
    }, [_vm._v(_vm._s(item.htmlUrl ? '重新' : '') + "生成报告")])]), _vm._v(" "), (item.htmlUrl) ? _c('li', [_c('a', {
      attrs: {
        "target": "_blank",
        "href": item.htmlUrl
      }
    }, [_vm._v("查看检测报告")])]) : _vm._e()]) : _vm._e()])])
  })], 2), _vm._v(" "), (_vm.memberTestCnt > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.memberTestCnt,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryTestList
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.memberTestList && _vm.memberTestList.length === 0) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e()])])], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "780",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员查询与选择",
      "width": "700",
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.memberSelectDlg),
      callback: function($$v) {
        _vm.memberSelectDlg = $$v
      },
      expression: "memberSelectDlg"
    }
  }, [(_vm.memberSelectDlg) ? _c('member-select', {
    attrs: {
      "after-select": _vm.afterSelectMember
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员查询与选择",
      "width": "700",
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.memberSelectDlgForQuery),
      callback: function($$v) {
        _vm.memberSelectDlgForQuery = $$v
      },
      expression: "memberSelectDlgForQuery"
    }
  }, [(_vm.memberSelectDlgForQuery) ? _c('member-select', {
    attrs: {
      "after-select": _vm.afterSelectMemberForQuery
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("会员姓名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("测试日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("测试人员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "180"
    }
  }, [_vm._v("创建时间")]), _vm._v(" "), _c('th', [_vm._v("操作")])])
}]}

/***/ }),

/***/ 2265:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-test"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("综合测试项目配置")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.editable) ? _c('i-button', {
    attrs: {
      "icon": "plus",
      "type": "primary"
    },
    on: {
      "click": _vm.openCreateTestItemDlg
    }
  }, [_vm._v("添加测试项目")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("项目名称")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("项目单位")]), _vm._v(" "), _c('th', [_vm._v("项目备注")]), _vm._v(" "), (_vm.editable) ? _c('th', {
    attrs: {
      "width": "108"
    }
  }, [_vm._v("操作")]) : _vm._e()]), _vm._v(" "), _vm._l((_vm.shopTestItemList), function(i, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(i.itemName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(i.unitName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(i.remark))]), _vm._v(" "), (_vm.editable) ? _c('td', [_c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openEditTestItemDlg(idx)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.delShopTestItem(idx)
        }
      }
    }, [_vm._v("删除")])])])]) : _vm._e()])
  })], 2), _vm._v(" "), (_vm.shopTestItemList && _vm.shopTestItemList.length === 0) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e()])]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("得分测试项目配置")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.editable) ? _c('i-button', {
    attrs: {
      "icon": "plus",
      "type": "primary"
    },
    on: {
      "click": _vm.openCreateScoreItemDlg
    }
  }, [_vm._v("添加测试项目")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("项目名称")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("项目单位")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("排序方式")]), _vm._v(" "), _c('th', [_vm._v("项目备注")]), _vm._v(" "), (_vm.editable) ? _c('th', {
    attrs: {
      "width": "108"
    }
  }, [_vm._v("操作")]) : _vm._e()]), _vm._v(" "), _vm._l((_vm.scoreTestItemList), function(i, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(i.itemName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(i.unitName))]), _vm._v(" "), _c('td', [(i.orderType === 0) ? [_vm._v("从大到小")] : (i.orderType === 1) ? [_vm._v("从小到大")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(i.remark))]), _vm._v(" "), (_vm.editable) ? _c('td', [_c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openEditScoreItemDlg(idx)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.delScoreTestItem(idx)
        }
      }
    }, [_vm._v("删除")])])])]) : _vm._e()])
  })], 2), _vm._v(" "), (_vm.scoreTestItemList && _vm.scoreTestItemList.length === 0) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e()])])], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "综合测试项编辑",
      "width": "700"
    },
    model: {
      value: (_vm.testItemDlg),
      callback: function($$v) {
        _vm.testItemDlg = $$v
      },
      expression: "testItemDlg"
    }
  }, [_c('i-form', {
    ref: "shopTestItem",
    staticClass: "myform",
    staticStyle: {
      "width": "450px",
      "margin-top": "10px"
    },
    attrs: {
      "model": _vm.shopTestItem,
      "rules": _vm.testItemFormRule,
      "label-width": 100
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "itemName",
      "label": "项目名称"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text"
    },
    model: {
      value: (_vm.shopTestItem.itemName),
      callback: function($$v) {
        _vm.$set(_vm.shopTestItem, "itemName", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "shopTestItem.itemName"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "unitName",
      "label": "项目单位"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text"
    },
    model: {
      value: (_vm.shopTestItem.unitName),
      callback: function($$v) {
        _vm.$set(_vm.shopTestItem, "unitName", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "shopTestItem.unitName"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "项目备注"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 3
    },
    model: {
      value: (_vm.shopTestItem.remark),
      callback: function($$v) {
        _vm.$set(_vm.shopTestItem, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "shopTestItem.remark"
    }
  })], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "form-submit"
  }, [_c('i-button', {
    staticClass: "primary",
    staticStyle: {
      "margin-left": "100px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveShopTestItem
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.testItemDlg = false
      }
    }
  }, [_vm._v("取消")])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "得分测试项编辑",
      "width": "700"
    },
    model: {
      value: (_vm.scoreItemDlg),
      callback: function($$v) {
        _vm.scoreItemDlg = $$v
      },
      expression: "scoreItemDlg"
    }
  }, [_c('i-form', {
    ref: "scoreTestItem",
    staticClass: "myform",
    staticStyle: {
      "width": "450px",
      "margin-top": "10px"
    },
    attrs: {
      "model": _vm.scoreTestItem,
      "rules": _vm.scoreItemFormRule,
      "label-width": 100
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "itemName",
      "label": "项目名称"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text"
    },
    model: {
      value: (_vm.scoreTestItem.itemName),
      callback: function($$v) {
        _vm.$set(_vm.scoreTestItem, "itemName", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "scoreTestItem.itemName"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "unitName",
      "label": "项目单位"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text"
    },
    model: {
      value: (_vm.scoreTestItem.unitName),
      callback: function($$v) {
        _vm.$set(_vm.scoreTestItem, "unitName", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "scoreTestItem.unitName"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "orderType",
      "label": "排序方式"
    }
  }, [_c('i-select', {
    model: {
      value: (_vm.scoreTestItem.orderType),
      callback: function($$v) {
        _vm.$set(_vm.scoreTestItem, "orderType", _vm._n($$v))
      },
      expression: "scoreTestItem.orderType"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 0
    }
  }, [_vm._v("从大到小")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("从小到大")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "项目备注"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 3
    },
    model: {
      value: (_vm.scoreTestItem.remark),
      callback: function($$v) {
        _vm.$set(_vm.scoreTestItem, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "scoreTestItem.remark"
    }
  })], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "form-submit"
  }, [_c('i-button', {
    staticClass: "primary",
    staticStyle: {
      "margin-left": "100px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveScoreTestItem
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.scoreItemDlg = false
      }
    }
  }, [_vm._v("取消")])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2270:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('page-header', {
    attrs: {
      "title": _vm.memberName,
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_vm._m(0), _vm._v(" "), (_vm.memberId) ? _c('member-test-items', {
    attrs: {
      "member-id": _vm.memberId
    }
  }) : _vm._e()], 1), _vm._v(" "), (_vm.editable) ? _c('div', {
    staticStyle: {
      "padding-bottom": "15px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary",
      "icon": "plus"
    },
    on: {
      "click": _vm.showCreateImgDlg
    }
  }, [_vm._v("添加测试图表")])], 1) : _vm._e(), _vm._v(" "), _vm._l((_vm.memberImgList), function(r, idx) {
    return _c('section', {
      staticClass: "memb-img"
    }, [_c('div', {
      staticClass: "hd"
    }, [_c('div', {
      staticClass: "l"
    }, [_vm._v("提交人：" + _vm._s(r.createUname))]), _vm._v(" "), _c('div', {
      staticClass: "r"
    }, [_vm._v("提交时间：" + _vm._s(r.createTime))])]), _vm._v(" "), _c('a', {
      attrs: {
        "href": _vm.g.Util.getImgUrl(r.imgPathname),
        "target": "_blank"
      }
    }, [_c('img', {
      attrs: {
        "src": _vm.g.Util.getImgUrl(r.imgPathname, 600)
      }
    })]), _vm._v(" "), (r.remark) ? _c('div', {
      staticClass: "remark"
    }, [_vm._v(_vm._s(r.remark))]) : _vm._e(), _vm._v(" "), (_vm.editable) ? _c('div', {
      staticClass: "opts"
    }, [_c('a', {
      on: {
        "click": function($event) {
          return _vm.updateMemberImg(idx)
        }
      }
    }, [_vm._v("修改备注")]), _vm._v(" "), _c('a', {
      on: {
        "click": function($event) {
          return _vm.delMemberImg(idx)
        }
      }
    }, [_vm._v("删除照片")])]) : _vm._e()])
  })], 2), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "添加测试表",
      "width": "550",
      "styles": {
        top: '10px'
      },
      "closable": true
    },
    model: {
      value: (_vm.showDlg),
      callback: function($$v) {
        _vm.showDlg = $$v
      },
      expression: "showDlg"
    }
  }, [_c('div', [_c('img-upload', {
    attrs: {
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "on-success": _vm.handleImgUploadSuccess,
      "max-size": _vm.imgUpload.maxSize,
      "default-file-list": _vm.imgUpload.defaultList
    }
  }, [_c('i-button', {
    attrs: {
      "type": "ghost",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("上传测试表")])], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "p10"
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 3,
      "placeholder": "备注"
    },
    model: {
      value: (_vm.memberImg.remark),
      callback: function($$v) {
        _vm.$set(_vm.memberImg, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberImg.remark"
    }
  })], 1), _vm._v(" "), _c('div', {
    staticClass: "p15 center"
  }, [(_vm.imgReady) ? _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.handleCreateImg
    }
  }, [_vm._v("提交")]) : _vm._e(), _vm._v("\n\t\t\t \n\t\t\t"), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.showDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员测试记录")])])
}]}

/***/ }),

/***/ 2286:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-test"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', {
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("添加测试")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        return _vm.$refs.guide.show()
      }
    }
  }, [_vm._v("测试报告样例")])], 1)]), _vm._v(" "), _c('i-form', {
    ref: "options",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.options,
      "label-width": 90
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "testDateTime",
      "label": "测试日期",
      "required": ""
    }
  }, [_c('DatePicker', {
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "type": "date",
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.options.testDateTime),
      callback: function($$v) {
        _vm.$set(_vm.options, "testDateTime", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.testDateTime"
    }
  })], 1), _vm._v(" "), (_vm.options.psId && _vm.options.memberId) ? _c('form-item', {
    attrs: {
      "label": "选择会员",
      "required": ""
    }
  }, [_c('a', {
    on: {
      "click": function($event) {
        return _vm.viewMemberInfo(_vm.options.memberId)
      }
    }
  }, [_vm._v(_vm._s(_vm.options.memberName))])]) : _c('form-item', {
    attrs: {
      "prop": "memberId",
      "label": "会员",
      "required": ""
    }
  }, [_c('div', {
    staticClass: "input-box"
  }, [_c('div', {
    staticClass: "l",
    staticStyle: {
      "width": "85%"
    },
    on: {
      "click": function($event) {
        _vm.memberSelectDlg = true
      }
    }
  }, [(_vm.member.name) ? _c('span', [_vm._v(_vm._s(_vm.member.name))]) : _vm._e(), _vm._v("  \n\t\t\t\t\t\t")]), _vm._v(" "), _c('div', {
    staticClass: "r",
    on: {
      "click": _vm.clearMember
    }
  }, [_c('Icon', {
    staticClass: "gray",
    attrs: {
      "type": "android-close",
      "size": "13"
    }
  })], 1)]), _vm._v(" "), (_vm.member.name) ? _c('span', {
    staticClass: "l5"
  }, [_c('a', {
    on: {
      "click": function($event) {
        return _vm.viewMemberInfo(_vm.member.memberId)
      }
    }
  }, [_vm._v("【查看会员信息】")])]) : _vm._e()]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "age",
      "label": "年龄",
      "required": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.options.age),
      callback: function($$v) {
        _vm.$set(_vm.options, "age", _vm._n($$v))
      },
      expression: "options.age"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("3")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3.5
    }
  }, [_vm._v("3.5")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 4
    }
  }, [_vm._v("4")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 4.5
    }
  }, [_vm._v("4.5")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 5
    }
  }, [_vm._v("5")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 5.5
    }
  }, [_vm._v("5.5")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 6
    }
  }, [_vm._v("6")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "score",
      "label": "体测总体分值",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.score),
      callback: function($$v) {
        _vm.$set(_vm.options, "score", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.score"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("分")]), _vm._v(" "), _c('div', {
    staticClass: "warn flex-center"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("请输入1~40的分值")])])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "summary",
      "label": "体测总结和评价",
      "required": ""
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.summary),
      callback: function($$v) {
        _vm.$set(_vm.options, "summary", $$v)
      },
      expression: "options.summary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.summary.length) + "/" + _vm._s(_vm.topWords))])], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "myform mrb",
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "tit",
    staticStyle: {
      "margin-bottom": "15px"
    }
  }, [_vm._v("身体形态")]), _vm._v(" "), _c('i-form', {
    ref: "options",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.options,
      "label-width": 90
    }
  }, [_c('form-item', {
    staticClass: "b-label",
    attrs: {
      "prop": "height",
      "label": "身高",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.height),
      callback: function($$v) {
        _vm.$set(_vm.options, "height", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.height"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("厘米")])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "heightSummary",
      "label": "评语"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.heightSummary),
      callback: function($$v) {
        _vm.$set(_vm.options, "heightSummary", $$v)
      },
      expression: "options.heightSummary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.heightSummary.length) + "/" + _vm._s(_vm.summaryWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "heightAnalysis",
      "label": "分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.heightAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "heightAnalysis", $$v)
      },
      expression: "options.heightAnalysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.heightAnalysis.length) + "/" + _vm._s(_vm.analysisWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "b-label",
    attrs: {
      "prop": "weight",
      "label": "体重",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.weight),
      callback: function($$v) {
        _vm.$set(_vm.options, "weight", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.weight"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("公斤")])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "weightSummary",
      "label": "评语"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.weightSummary),
      callback: function($$v) {
        _vm.$set(_vm.options, "weightSummary", $$v)
      },
      expression: "options.weightSummary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.weightSummary.length) + "/" + _vm._s(_vm.summaryWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "weightAnalysis",
      "label": "分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.weightAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "weightAnalysis", $$v)
      },
      expression: "options.weightAnalysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.weightAnalysis.length) + "/" + _vm._s(_vm.analysisWords))])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "bmi",
      "label": "BMI"
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "disabled": "",
      "min": 0
    },
    model: {
      value: (_vm.options.bmi),
      callback: function($$v) {
        _vm.$set(_vm.options, "bmi", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.bmi"
    }
  })], 1)], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "myform mrb",
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "tit",
    staticStyle: {
      "margin-bottom": "15px"
    }
  }, [_vm._v("运动能力")]), _vm._v(" "), _c('i-form', {
    ref: "options",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.options,
      "label-width": 90
    }
  }, [_c('form-item', {
    staticClass: "b-label",
    attrs: {
      "prop": "throwForDistance",
      "label": "网球掷远"
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.throwForDistance),
      callback: function($$v) {
        _vm.$set(_vm.options, "throwForDistance", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.throwForDistance"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("米")]), _vm._v(" "), _c('div', {
    staticClass: "warn flex-center"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("测试上肢力量")])])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "throwForDistanceSummary",
      "label": "评语"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.throwForDistanceSummary),
      callback: function($$v) {
        _vm.$set(_vm.options, "throwForDistanceSummary", $$v)
      },
      expression: "options.throwForDistanceSummary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.throwForDistanceSummary.length) + "/" + _vm._s(_vm.summaryWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "throwForDistanceAnalysis",
      "label": "分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.throwForDistanceAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "throwForDistanceAnalysis", $$v)
      },
      expression: "options.throwForDistanceAnalysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.throwForDistanceAnalysis.length) + "/" + _vm._s(_vm.analysisWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "b-label",
    attrs: {
      "prop": "longJump",
      "label": "立定跳远"
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.longJump),
      callback: function($$v) {
        _vm.$set(_vm.options, "longJump", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.longJump"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("厘米")]), _vm._v(" "), _c('div', {
    staticClass: "warn flex-center"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("测试下肢力量")])])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "longJumpSummary",
      "label": "评语"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.longJumpSummary),
      callback: function($$v) {
        _vm.$set(_vm.options, "longJumpSummary", $$v)
      },
      expression: "options.longJumpSummary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.longJumpSummary.length) + "/" + _vm._s(_vm.summaryWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "longJumpAnalysis",
      "label": "分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.longJumpAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "longJumpAnalysis", $$v)
      },
      expression: "options.longJumpAnalysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.longJumpAnalysis.length) + "/" + _vm._s(_vm.analysisWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "b-label",
    attrs: {
      "prop": "jumpWithBothFeet",
      "label": "双脚连续跳"
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.jumpWithBothFeet),
      callback: function($$v) {
        _vm.$set(_vm.options, "jumpWithBothFeet", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.jumpWithBothFeet"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("秒")]), _vm._v(" "), _c('div', {
    staticClass: "warn flex-center"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("测试协调性")])])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "jumpWithBothFeetSummary",
      "label": "评语"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.jumpWithBothFeetSummary),
      callback: function($$v) {
        _vm.$set(_vm.options, "jumpWithBothFeetSummary", $$v)
      },
      expression: "options.jumpWithBothFeetSummary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.jumpWithBothFeetSummary.length) + "/" + _vm._s(_vm.summaryWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "jumpWithBothFeetAnalysis",
      "label": "分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.jumpWithBothFeetAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "jumpWithBothFeetAnalysis", $$v)
      },
      expression: "options.jumpWithBothFeetAnalysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.jumpWithBothFeetAnalysis.length) + "/" + _vm._s(_vm.analysisWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "b-label",
    attrs: {
      "prop": "sitAndReach",
      "label": "坐位体前屈"
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.sitAndReach),
      callback: function($$v) {
        _vm.$set(_vm.options, "sitAndReach", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.sitAndReach"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("厘米")]), _vm._v(" "), _c('div', {
    staticClass: "warn flex-center"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("测试柔韧性")])])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "sitAndReachSummary",
      "label": "评语"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.sitAndReachSummary),
      callback: function($$v) {
        _vm.$set(_vm.options, "sitAndReachSummary", $$v)
      },
      expression: "options.sitAndReachSummary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.sitAndReachSummary.length) + "/" + _vm._s(_vm.summaryWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "sitAndReachAnalysis",
      "label": "分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.sitAndReachAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "sitAndReachAnalysis", $$v)
      },
      expression: "options.sitAndReachAnalysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.sitAndReachAnalysis.length) + "/" + _vm._s(_vm.analysisWords))])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "turnBackRun",
      "label": "10米折返跑"
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.turnBackRun),
      callback: function($$v) {
        _vm.$set(_vm.options, "turnBackRun", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.turnBackRun"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("秒")]), _vm._v(" "), _c('div', {
    staticClass: "warn flex-center"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("测试灵敏性")])])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "turnBackRunSummary",
      "label": "评语"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.turnBackRunSummary),
      callback: function($$v) {
        _vm.$set(_vm.options, "turnBackRunSummary", $$v)
      },
      expression: "options.turnBackRunSummary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.turnBackRunSummary.length) + "/" + _vm._s(_vm.summaryWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "turnBackRunAnalysis",
      "label": "分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.turnBackRunAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "turnBackRunAnalysis", $$v)
      },
      expression: "options.turnBackRunAnalysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.turnBackRunAnalysis.length) + "/" + _vm._s(_vm.analysisWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "b-label",
    attrs: {
      "prop": "balanceBeam",
      "label": "走平衡木"
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.balanceBeam),
      callback: function($$v) {
        _vm.$set(_vm.options, "balanceBeam", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.balanceBeam"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("秒")]), _vm._v(" "), _c('div', {
    staticClass: "warn flex-center"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("测试平衡力")])])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "balanceBeamSummary",
      "label": "评语"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.balanceBeamSummary),
      callback: function($$v) {
        _vm.$set(_vm.options, "balanceBeamSummary", $$v)
      },
      expression: "options.balanceBeamSummary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.balanceBeamSummary.length) + "/" + _vm._s(_vm.summaryWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "balanceBeamAnalysis",
      "label": "分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.balanceBeamAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "balanceBeamAnalysis", $$v)
      },
      expression: "options.balanceBeamAnalysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.balanceBeamAnalysis.length) + "/" + _vm._s(_vm.analysisWords))])], 1)], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "myform mrb",
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "tit",
    staticStyle: {
      "margin-bottom": "15px"
    }
  }, [_vm._v("建议分析")]), _vm._v(" "), _c('i-form', {
    ref: "options",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.options,
      "label-width": 90
    }
  }, [_c('form-item', {
    staticClass: "with-words b-label",
    attrs: {
      "prop": "analysis",
      "label": "弱项分析"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.analysis),
      callback: function($$v) {
        _vm.$set(_vm.options, "analysis", $$v)
      },
      expression: "options.analysis"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.analysis.length) + "/" + _vm._s(_vm.weeknessWords))])], 1), _vm._v(" "), _c('form-item', {
    staticClass: "with-words b-label",
    attrs: {
      "prop": "suggestions",
      "label": "提升建议"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.suggestions),
      callback: function($$v) {
        _vm.$set(_vm.options, "suggestions", $$v)
      },
      expression: "options.suggestions"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "words gray"
  }, [_vm._v(_vm._s(_vm.options.suggestions.length) + "/" + _vm._s(_vm.suggestWords))])], 1)], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "border": "none",
      "padding-left": "130px"
    }
  }, [_c('i-button', {
    staticClass: "primary",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.testSubmit
    }
  }, [_vm._v("提交")])], 1)], 1)], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员查询与选择",
      "width": "700",
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.memberSelectDlg),
      callback: function($$v) {
        _vm.memberSelectDlg = $$v
      },
      expression: "memberSelectDlg"
    }
  }, [(_vm.memberSelectDlg) ? _c('member-select', {
    attrs: {
      "after-select": _vm.afterSelectMember
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "780",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.selectMemberId
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('Guide', {
    ref: "guide"
  })], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2300:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-opt-log"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "tbl-header"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('date-picker', {
    staticStyle: {
      "width": "220px"
    },
    attrs: {
      "options": _vm.dateOptions1,
      "type": "daterange",
      "format": "yyyy-MM-dd",
      "placeholder": "请选择请假登记日期",
      "placement": "top-start"
    },
    on: {
      "on-change": function($event) {
        return _vm.queryMemberCardVacation()
      }
    },
    model: {
      value: (_vm.queryDates),
      callback: function($$v) {
        _vm.queryDates = $$v
      },
      expression: "queryDates"
    }
  })], 1), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.queryMemberCardVacation(null)
      }
    },
    model: {
      value: (_vm.isInVacation),
      callback: function($$v) {
        _vm.isInVacation = $$v
      },
      expression: "isInVacation"
    }
  }, [_vm._v("仅查询请假中的记录")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl mt15"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "60"
    }
  }, [_vm._v("操作")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("请假日期")]), _vm._v(" "), (_vm.isInVacation) ? _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("剩余天数")]) : _vm._e(), _vm._v(" "), _c('th', {
    attrs: {
      "width": "165"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "130"
    }
  }, [_vm._v("请假费 / 支付方式")]), _vm._v(" "), _c('th', [_vm._v("备注")])]), _vm._v(" "), _vm._l((_vm.cardVacation.data), function(l) {
    return _c('tr', [_c('td', [_c('router-link', {
      staticClass: "block",
      attrs: {
        "to": '/member-card-list/' + l.memberId
      }
    }, [_vm._v(_vm._s(l.memberName.shorten(10)))])], 1), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.cardName))]), _vm._v(" "), _c('td', [(l.status === 0) ? _c('span', [_vm._v("请假")]) : _c('span', {
      staticClass: "red"
    }, [_vm._v("撤销")])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(l.vacationBegin)) + " ~ " + _vm._s(_vm.g.Util.formatDate(l.vacationEnd)))]), _vm._v(" "), (_vm.isInVacation) ? _c('td', [_vm._v(_vm._s(_vm.g.Util.calcDateDiffDays(l.vacationEnd, Date.new())) + " 天")]) : _vm._e(), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [(!_vm.g.Util.isEmpty(l.vacationFee)) ? [_vm._v("￥" + _vm._s(l.vacationFee) + " / " + _vm._s(_vm.g.Dict.CardPaymentChannel[l.feeChannel]))] : _vm._e()], 2), _vm._v(" "), _c('td', [(l.remark) ? [_c('pre', [_vm._v(_vm._s(l.remark))])] : _vm._e()], 2)])
  })], 2), _vm._v(" "), (_vm.cardVacation.count && _vm.cardVacation.count >= 1) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.cardVacation.count,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMemberCardVacation
    }
  })], 1) : _vm._e()]), _vm._v(" "), (_vm.cardVacation.data && _vm.cardVacation.data.length === 0) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("\n\t\t\t\t暂无数据\n\t\t\t")]) : _vm._e()])], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2302:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('section', [_c('i-form', {
    ref: "cardPayment",
    staticClass: "myform",
    staticStyle: {
      "width": "520px"
    },
    attrs: {
      "model": _vm.cardPayment,
      "rules": _vm.cardPaymentFormRule,
      "label-width": 115
    }
  }, [(!_vm.memberCardPaymentDraftCreatePermit && _vm.editable) ? _c('form-item', {
    attrs: {
      "label": "操作类型"
    }
  }, [_c('RadioGroup', {
    attrs: {
      "type": "button"
    },
    model: {
      value: (_vm.creatPaymentType),
      callback: function($$v) {
        _vm.creatPaymentType = $$v
      },
      expression: "creatPaymentType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("续卡")]), _vm._v(" "), (_vm.cardMap && !_vm.cardMap.isOfflineSaleForPos) ? _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("退卡")]) : _vm._e()], 1), _vm._v(" "), (_vm.creatPaymentType == 2) ? _c('span', {
    staticClass: "l15"
  }, [_vm._v(" "), _c('a', {
    on: {
      "click": _vm.setMemberCardRefundData
    }
  }, [_vm._v("【退回所有余额计算】")])]) : _vm._e()], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "cardId",
      "label": "会员卡"
    }
  }, [(!_vm.showCardList) ? [_c('b', [_vm._v(_vm._s(_vm.selectCard.cardName))]), _vm._v(" "), (_vm.creatPaymentType === 1 && _vm.editable) ? _c('span', {
    staticClass: "l15"
  }, [_c('a', {
    on: {
      "click": function($event) {
        _vm.showCardList = true
      }
    }
  }, [_vm._v("【修改卡种】")])]) : _vm._e()] : _vm._e(), _vm._v(" "), (_vm.showCardList && _vm.cardList && _vm.selectCard) ? _c('i-select', {
    attrs: {
      "filterable": ""
    },
    on: {
      "on-change": _vm.handleCardSelect
    },
    model: {
      value: (_vm.cardPayment.cardId),
      callback: function($$v) {
        _vm.$set(_vm.cardPayment, "cardId", _vm._n($$v))
      },
      expression: "cardPayment.cardId"
    }
  }, _vm._l((_vm.cardList), function(c) {
    return (_vm.selectCard.cardType === c.cardType) ? _c('i-option', {
      key: c.cardId,
      attrs: {
        "value": c.cardId,
        "label": c.cardName
      }
    }, [_c('span', [_vm._v(_vm._s(c.cardName))])]) : _vm._e()
  }), 1) : _vm._e()], 2), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "usableAmount",
      "label": _vm.creatPaymentType === 1 ? '充值金额' : '退卡金额'
    }
  }, [_c('input-num', {
    attrs: {
      "title": "",
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.cardPayment.usableAmount),
      callback: function($$v) {
        _vm.$set(_vm.cardPayment, "usableAmount", $$v)
      },
      expression: "cardPayment.usableAmount"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "paymentAmount",
      "label": _vm.creatPaymentType === 1 ? '实收金额' : '退给会员金额'
    }
  }, [_c('input-num', {
    attrs: {
      "title": "",
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.cardPayment.paymentAmount),
      callback: function($$v) {
        _vm.$set(_vm.cardPayment, "paymentAmount", $$v)
      },
      expression: "cardPayment.paymentAmount"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1), _vm._v(" "), (_vm.selectCard.cardType === 2) ? _c('form-item', {
    attrs: {
      "prop": "usableTimes",
      "label": _vm.creatPaymentType == 1 ? '充值次数' : '退卡次数',
      "required": ""
    }
  }, [_c('input-num', {
    attrs: {
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.cardPayment.usableTimes),
      callback: function($$v) {
        _vm.$set(_vm.cardPayment, "usableTimes", _vm._n($$v))
      },
      expression: "cardPayment.usableTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次")])], 1) : _vm._e(), _vm._v(" "), (_vm.selectCard.cardType === 4) ? _c('form-item', {
    attrs: {
      "prop": "usableTimes",
      "label": "使用时间"
    }
  }, [_c('input-num', {
    attrs: {
      "title": "",
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.cardPayment.usableTimes),
      callback: function($$v) {
        _vm.$set(_vm.cardPayment, "usableTimes", $$v)
      },
      expression: "cardPayment.usableTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v(_vm._s(_vm.g.Dict.CardTimeTypes[_vm.selectCard.cardTimeType]))])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "usableDays",
      "label": _vm.creatPaymentType == 1 ? '使用天数' : '退卡天数'
    }
  }, [(_vm.dateEditType === 1) ? [_c('input-int', {
    attrs: {
      "min": -10000,
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.cardPayment.usableDays),
      callback: function($$v) {
        _vm.$set(_vm.cardPayment, "usableDays", $$v)
      },
      expression: "cardPayment.usableDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")])] : (_vm.cardPayment.beginDate && _vm.cardPayment.endDate) ? [_vm._v(_vm._s(_vm.g.Util.calcDateDiffDays(_vm.cardPayment.endDate, _vm.cardPayment.beginDate)) + " 天")] : _vm._e()], 2), _vm._v(" "), (_vm.dateEditType === 2) ? [_c('form-item', {
    attrs: {
      "prop": "beginDate",
      "label": "开始日期"
    }
  }, [_c('date-picker', {
    staticClass: "-date",
    attrs: {
      "type": "date",
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.cardPayment.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.cardPayment, "beginDate", $$v)
      },
      expression: "cardPayment.beginDate"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "endDate",
      "label": "到期日期"
    }
  }, [_c('date-picker', {
    staticClass: "-date",
    attrs: {
      "type": "date",
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.cardPayment.endDate),
      callback: function($$v) {
        _vm.$set(_vm.cardPayment, "endDate", $$v)
      },
      expression: "cardPayment.endDate"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "l15"
  }, [_c('a', {
    on: {
      "click": function($event) {
        _vm.dateEditType = 1
      }
    }
  }, [_vm._v("编辑使用天数")])])], 1)] : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "paymentChannel",
      "label": "支付方式"
    }
  }, [_c('radio-group', {
    model: {
      value: (_vm.cardPayment.paymentChannel),
      callback: function($$v) {
        _vm.$set(_vm.cardPayment, "paymentChannel", $$v)
      },
      expression: "cardPayment.paymentChannel"
    }
  }, [(_vm.cardMap && _vm.cardMap.isOfflineSaleForPos) ? [_c('radio', {
    attrs: {
      "label": 8
    }
  }, [_vm._v("POS机")])] : [_c('radio', {
    key: 0,
    attrs: {
      "label": 0
    }
  }, [_vm._v("储值卡")]), _vm._v(" "), (_vm.isPosArg && _vm.posPayRole && !_vm.memberCardPaymentDraftCreatePermit && +_vm.creatPaymentType !== 2) ? [_vm._l((_vm.g.Dict.CardPaymentChannel), function(name, key) {
    return [_c('radio', {
      key: +key,
      attrs: {
        "label": +key
      }
    }, [_vm._v(_vm._s(name))])]
  })] : [_vm._l((_vm.g.Dict.CardPaymentChannel), function(name, key) {
    return [(+key !== 8) ? _c('radio', {
      key: +key,
      attrs: {
        "label": +key
      }
    }, [_vm._v(_vm._s(name))]) : _vm._e()]
  })]]], 2), _vm._v(" "), (_vm.cardPayment.paymentChannel === 0 && _vm.cardPayment.cardType !== 3) ? _c('div', {
    staticClass: "value-cards"
  }, [(_vm.memberValueCardList && _vm.memberValueCardList.length) ? _c('radio-group', {
    attrs: {
      "vertical": ""
    },
    model: {
      value: (_vm.cardPayment.chargeFromMcId),
      callback: function($$v) {
        _vm.$set(_vm.cardPayment, "chargeFromMcId", $$v)
      },
      expression: "cardPayment.chargeFromMcId"
    }
  }, _vm._l((_vm.memberValueCardList), function(mc) {
    return _c('radio', {
      key: mc.mcId,
      attrs: {
        "disabled": !_vm.editable || (mc.status !== 0 && mc.currentAmount >= _vm.cardPayment.paymentAmount),
        "label": mc.mcId
      }
    }, [_vm._v("\n                " + _vm._s(mc.cardName) + "： 剩余 "), _c('b', [_vm._v(_vm._s(mc.currentAmount))]), _vm._v(" 元\n                "), (mc.status === 1) ? _c('span', {
      staticClass: "l5 red"
    }, [_vm._v("[已" + _vm._s(_vm.g.Dict.MemberCardStatus[mc.status]) + "]")]) : (mc.currentAmount < _vm.cardPayment.paymentAmount) ? _c('span', {
      staticClass: "l5 red"
    }, [_vm._v("[余额不足]")]) : _vm._e()])
  }), 1) : _c('div', {
    staticClass: "center big red"
  }, [_vm._v("\n              该会员无储值卡\n            ")])], 1) : _vm._e()], 1), _vm._v(" "), (_vm.salesList && _vm.salesList.length) ? _c('form-item', {
    attrs: {
      "prop": "salesId",
      "label": "销售人员"
    }
  }, [_c('i-select', {
    attrs: {
      "filterable": "",
      "clearable": "",
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.cardPayment.salesId),
      callback: function($$v) {
        _vm.$set(_vm.cardPayment, "salesId", $$v)
      },
      expression: "cardPayment.salesId"
    }
  }, _vm._l((_vm.salesList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1), _vm._v(" "), _c('div', {
    staticClass: "orange"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 用于销售人员的工资提成，请慎重选择")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "备注"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 4,
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.cardPayment.remark),
      callback: function($$v) {
        _vm.$set(_vm.cardPayment, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "cardPayment.remark"
    }
  })], 1), _vm._v(" "), (!_vm.memberCardPaymentDraftCreatePermit) ? _c('form-item', {
    attrs: {
      "label": "附件"
    }
  }, [_c('img-upload', {
    attrs: {
      "multiple": true,
      "removeable": true,
      "max-count": 5,
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "on-success": _vm.handleImgUploadSuccess,
      "on-remove": _vm.handleImgRemove,
      "max-size": _vm.imgUpload.maxSize,
      "default-file-list": _vm.imgUpload.defaultList
    }
  }, [(_vm.editable) ? _c('i-button', {
    attrs: {
      "type": "ghost",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("点击上传附件图片")]) : _vm._e(), _vm._v("\n              "), _c('span', {
    staticClass: "gray"
  }, [_vm._v("（最多可上传 "), _c('b', [_vm._v("5")]), _vm._v(" 张）")])], 1)], 1) : _vm._e(), _vm._v(" "), (_vm.editMplTimePermit && _vm.editable) ? [(!_vm.enableCreateTimeEdit) ? _c('form-item', {
    attrs: {
      "prop": "enableCreateTimeEdit",
      "label": ""
    }
  }, [_c('checkbox', {
    staticClass: "gray",
    on: {
      "on-change": _vm.editCreateTime
    },
    model: {
      value: (_vm.enableCreateTimeEdit),
      callback: function($$v) {
        _vm.enableCreateTimeEdit = $$v
      },
      expression: "enableCreateTimeEdit"
    }
  }, [_vm._v("编辑充值时间 （如不设置则为当前时间）")])], 1) : _vm._e(), _vm._v(" "), (_vm.enableCreateTimeEdit) ? _c('form-item', {
    attrs: {
      "prop": "createTime",
      "label": "充值时间"
    }
  }, [_c('date-picker', {
    attrs: {
      "type": "datetime",
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.cardPayment.createTime),
      callback: function($$v) {
        _vm.$set(_vm.cardPayment, "createTime", $$v)
      },
      expression: "cardPayment.createTime"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("（如设置为空，提交后自动为当前时间）")])], 1) : _vm._e()] : _vm._e(), _vm._v(" "), (_vm.memberCardPaymentDraftCreatePermit) ? _c('form-item', {
    attrs: {
      "prop": "salesId",
      "label": "审核人员"
    }
  }, [_c('i-select', {
    attrs: {
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.cardPayment.auditStaffId),
      callback: function($$v) {
        _vm.$set(_vm.cardPayment, "auditStaffId", $$v)
      },
      expression: "cardPayment.auditStaffId"
    }
  }, _vm._l((_vm.auditStaffList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": parseInt(s.staffId)
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1) : _vm._e()], 2), _vm._v(" "), (_vm.memberCardPaymentDraftCreatePermit) ? [(!_vm.cardPayment.status && _vm.cardPayment.createUid === _vm.g.data.user.uid) ? _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "115px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary",
      "loading": _vm.handleSubmit[0]
    },
    on: {
      "click": function($event) {
        return _vm.handleSubmit(0)
      }
    }
  }, [_vm._v("保存审核单")]), _vm._v(" "), _c('i-button', {
    attrs: {
      "type": "primary",
      "loading": _vm.handleSubmit[1]
    },
    on: {
      "click": function($event) {
        return _vm.handleSubmit(1)
      }
    }
  }, [_vm._v("保存并提交审核")])], 1) : _vm._e()] : (_vm.cardPayment.createUid === _vm.g.data.user.uid && !_vm.cardPayment.mcpdId) ? _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "115px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.handleSubmit()
      }
    }
  }, [_vm._v("提交")])], 1) : _vm._e()], 2), _vm._v(" "), _c('Modal', {
    attrs: {
      "mask-closable": false,
      "title": "订单支付（使用POS机扫描该二维码）",
      "footer-hide": "",
      "width": "375",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.posTradeNoShow),
      callback: function($$v) {
        _vm.posTradeNoShow = $$v
      },
      expression: "posTradeNoShow"
    }
  }, [_c('div', {
    staticClass: "qrcode-order"
  }, [(_vm.qrcodeTradeNoUrl) ? _c('div', {
    staticClass: "pos-qrcode-img center"
  }, [_c('qrcode-vue', {
    attrs: {
      "value": _vm.qrcodeTradeNoUrl,
      "size": 200,
      "level": "H"
    }
  })], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center"
  }, [_vm._v("需支付金额："), _c('span', {
    staticClass: "red"
  }, [_vm._v("￥ ")]), _c('span', {
    staticClass: "order-amount"
  }, [_vm._v(_vm._s(_vm.paymentAmount))])]), _vm._v(" "), _c('div', {
    staticClass: "center none"
  }, [_vm._v("注意：使用POS扫码之后该订单将无法被修改")])])])], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2304:
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-test"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', {
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("添加测试")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        _vm.demoType = 'guide';
        _vm.demoVisible = true;
      }
    }
  }, [_vm._v("测试报告样例")])], 1)]), _vm._v(" "), _c('i-form', {
    ref: "options",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.options,
      "label-width": 90
    }
  }, [(_vm.options.psId && _vm.options.memberId) ? _c('form-item', {
    attrs: {
      "label": "选择会员",
      "required": ""
    }
  }, [_c('a', {
    on: {
      "click": function($event) {
        return _vm.viewMemberInfo(_vm.options.memberId)
      }
    }
  }, [_vm._v(_vm._s(_vm.options.memberName))])]) : _c('form-item', {
    attrs: {
      "prop": "memberId",
      "label": "会员",
      "required": ""
    }
  }, [_c('div', {
    staticClass: "input-box"
  }, [_c('div', {
    staticClass: "l",
    staticStyle: {
      "width": "85%"
    },
    on: {
      "click": function($event) {
        _vm.memberSelectDlg = true
      }
    }
  }, [(_vm.member.name) ? _c('span', [_vm._v(_vm._s(_vm.member.name))]) : _vm._e(), _vm._v("  \n            ")]), _vm._v(" "), _c('div', {
    staticClass: "r",
    on: {
      "click": _vm.clearMember
    }
  }, [_c('Icon', {
    staticClass: "gray",
    attrs: {
      "type": "android-close",
      "size": "13"
    }
  })], 1)]), _vm._v(" "), (_vm.member.name) ? _c('span', {
    staticClass: "l5"
  }, [_c('a', {
    on: {
      "click": function($event) {
        return _vm.viewMemberInfo(_vm.member.memberId)
      }
    }
  }, [_vm._v("【查看会员信息】")])]) : _vm._e()]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "age",
      "label": "年龄",
      "required": ""
    }
  }, [_c('input-int', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.age),
      callback: function($$v) {
        _vm.$set(_vm.options, "age", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.age"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("岁")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "height",
      "label": "身高",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.height),
      callback: function($$v) {
        _vm.$set(_vm.options, "height", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.height"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("厘米")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "weight",
      "label": "体重",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "min": 0
    },
    model: {
      value: (_vm.options.weight),
      callback: function($$v) {
        _vm.$set(_vm.options, "weight", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.weight"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("公斤")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "bmi",
      "label": "BMI"
    }
  }, [_c('input-num', {
    staticClass: "int",
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "disabled": "",
      "min": 0
    },
    model: {
      value: (_vm.options.bmi),
      callback: function($$v) {
        _vm.$set(_vm.options, "bmi", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.bmi"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "testDateTime",
      "label": "测试日期",
      "required": ""
    }
  }, [_c('DatePicker', {
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "type": "date",
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.options.testDateTime),
      callback: function($$v) {
        _vm.$set(_vm.options, "testDateTime", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "options.testDateTime"
    }
  })], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "myform mrb",
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "tit",
    staticStyle: {
      "margin-bottom": "15px"
    }
  }, [_vm._v("正面视角")]), _vm._v(" "), _c('i-form', {
    ref: "options",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.options,
      "label-width": 90
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "height",
      "label": "正面视角照",
      "required": ""
    }
  }, [_c('img-upload', {
    attrs: {
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "default-file-list": _vm.imgUpload.defaultFront,
      "on-success": _vm.handleFrontUpload,
      "max-size": _vm.imgUpload.maxSize
    }
  }, [_c('i-button', {
    attrs: {
      "type": "ghost",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("上传正面视角照片")]), _vm._v(" "), _c('a', {
    staticStyle: {
      "margin-left": "9px",
      "padding": "10px"
    },
    on: {
      "click": function($event) {
        $event.stopPropagation();
        _vm.demoType = 'front';
        _vm.demoVisible = true;
      }
    }
  }, [_vm._v("正面视角示例图")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "height",
      "label": "",
      "required": ""
    }
  }, [(_vm.frontOptions) ? _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.resetPosture(1)
      }
    }
  }, [_vm._v("重新测试")]) : _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.testPosture(1)
      }
    }
  }, [_vm._v("开始测试")])], 1), _vm._v(" "), (_vm.frontOptions) ? _c('div', {
    staticClass: "success-box"
  }, [_c('div', [_c('form-item', {
    attrs: {
      "prop": "frontHeadAnalysis",
      "label": "头部"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.frontOptions.frontHeadAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.frontOptions, "frontHeadAnalysis", $$v)
      },
      expression: "frontOptions.frontHeadAnalysis"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "frontHeadLevel",
      "label": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.frontOptions.frontHeadLevel),
      callback: function($$v) {
        _vm.$set(_vm.frontOptions, "frontHeadLevel", _vm._n($$v))
      },
      expression: "frontOptions.frontHeadLevel"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("未见异常")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("低风险")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("高风险")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "frontShoulderAnalysis",
      "label": "肩部"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.frontOptions.frontShoulderAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.frontOptions, "frontShoulderAnalysis", $$v)
      },
      expression: "frontOptions.frontShoulderAnalysis"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "frontShoulderLevel",
      "label": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.frontOptions.frontShoulderLevel),
      callback: function($$v) {
        _vm.$set(_vm.frontOptions, "frontShoulderLevel", _vm._n($$v))
      },
      expression: "frontOptions.frontShoulderLevel"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("未见异常")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("低风险")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("高风险")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "frontHipAnalysis",
      "label": "髋部"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.frontOptions.frontHipAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.frontOptions, "frontHipAnalysis", $$v)
      },
      expression: "frontOptions.frontHipAnalysis"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "frontHipLevel",
      "label": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.frontOptions.frontHipLevel),
      callback: function($$v) {
        _vm.$set(_vm.frontOptions, "frontHipLevel", _vm._n($$v))
      },
      expression: "frontOptions.frontHipLevel"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("未见异常")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("低风险")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("高风险")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "frontLegAnalysis",
      "label": "腿部"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.frontOptions.frontLegAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.frontOptions, "frontLegAnalysis", $$v)
      },
      expression: "frontOptions.frontLegAnalysis"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "frontLegLevel",
      "label": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.frontOptions.frontLegLevel),
      callback: function($$v) {
        _vm.$set(_vm.frontOptions, "frontLegLevel", _vm._n($$v))
      },
      expression: "frontOptions.frontLegLevel"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("未见异常")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("低风险")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("高风险")])], 1)], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "demo-box"
  }, [_c('img', {
    attrs: {
      "src": _vm.frontOptions.frontViewImgUrl,
      "alt": ""
    }
  }), _vm._v(" "), _c('div', [_vm._v("测试图")])])]) : _vm._e()], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "myform mrb",
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "tit",
    staticStyle: {
      "margin-bottom": "15px"
    }
  }, [_vm._v("侧面视角")]), _vm._v(" "), _c('i-form', {
    ref: "options",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.options,
      "label-width": 90
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "height",
      "label": "侧面视角照",
      "required": ""
    }
  }, [_c('img-upload', {
    attrs: {
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "default-file-list": _vm.imgUpload.defaultSide,
      "on-success": _vm.handleSideUpload,
      "max-size": _vm.imgUpload.maxSize
    }
  }, [_c('i-button', {
    attrs: {
      "type": "ghost",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("上传侧面视角照片")]), _vm._v(" "), _c('a', {
    staticStyle: {
      "margin-left": "9px",
      "padding": "10px"
    },
    on: {
      "click": function($event) {
        $event.stopPropagation();
        _vm.demoType = 'side';
        _vm.demoVisible = true;
      }
    }
  }, [_vm._v("侧面视角示例图")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "height",
      "label": "",
      "required": ""
    }
  }, [(_vm.sideOptions) ? _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.resetPosture(2)
      }
    }
  }, [_vm._v("重新测试")]) : _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.testPosture(2)
      }
    }
  }, [_vm._v("开始测试")])], 1), _vm._v(" "), (_vm.sideOptions) ? _c('div', {
    staticClass: "success-box"
  }, [_c('div', [_c('form-item', {
    attrs: {
      "prop": "sideHeadAnalysis",
      "label": "头部"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.sideOptions.sideHeadAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.sideOptions, "sideHeadAnalysis", $$v)
      },
      expression: "sideOptions.sideHeadAnalysis"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sideHeadLevel",
      "label": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.sideOptions.sideHeadLevel),
      callback: function($$v) {
        _vm.$set(_vm.sideOptions, "sideHeadLevel", _vm._n($$v))
      },
      expression: "sideOptions.sideHeadLevel"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("未见异常")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("低风险")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("高风险")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sideShoulderAnalysis",
      "label": "肩部"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.sideOptions.sideShoulderAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.sideOptions, "sideShoulderAnalysis", $$v)
      },
      expression: "sideOptions.sideShoulderAnalysis"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sideShoulderLevel",
      "label": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.sideOptions.sideShoulderLevel),
      callback: function($$v) {
        _vm.$set(_vm.sideOptions, "sideShoulderLevel", _vm._n($$v))
      },
      expression: "sideOptions.sideShoulderLevel"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("未见异常")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("低风险")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("高风险")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sideHipAnalysis",
      "label": "髋部"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.sideOptions.sideHipAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.sideOptions, "sideHipAnalysis", $$v)
      },
      expression: "sideOptions.sideHipAnalysis"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sideHipLevel",
      "label": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.sideOptions.sideHipLevel),
      callback: function($$v) {
        _vm.$set(_vm.sideOptions, "sideHipLevel", _vm._n($$v))
      },
      expression: "sideOptions.sideHipLevel"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("未见异常")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("低风险")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("高风险")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sideLegAnalysis",
      "label": "腿部"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.sideOptions.sideLegAnalysis),
      callback: function($$v) {
        _vm.$set(_vm.sideOptions, "sideLegAnalysis", $$v)
      },
      expression: "sideOptions.sideLegAnalysis"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sideLegLevel",
      "label": ""
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px",
      "display": "inline-block"
    },
    model: {
      value: (_vm.sideOptions.sideLegLevel),
      callback: function($$v) {
        _vm.$set(_vm.sideOptions, "sideLegLevel", _vm._n($$v))
      },
      expression: "sideOptions.sideLegLevel"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("未见异常")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("低风险")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("高风险")])], 1)], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "demo-box"
  }, [_c('img', {
    attrs: {
      "src": _vm.sideOptions.sideViewImgUrl,
      "alt": ""
    }
  }), _vm._v(" "), _c('div', [_vm._v("测试图")])])]) : _vm._e()], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "myform mrb",
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "tit",
    staticStyle: {
      "margin-bottom": "15px"
    }
  }, [_vm._v("结论")]), _vm._v(" "), _c('i-form', {
    ref: "options",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.options,
      "label-width": 90
    }
  }, [_c('form-item', {
    staticClass: "with-words",
    attrs: {
      "prop": "summary",
      "label": "结论"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "330px",
      "display": "inline-block"
    },
    attrs: {
      "type": "textarea",
      "autosize": {
        minRows: 3,
        maxRows: 6
      }
    },
    model: {
      value: (_vm.options.summary),
      callback: function($$v) {
        _vm.$set(_vm.options, "summary", $$v)
      },
      expression: "options.summary"
    }
  })], 1)], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "border": "none"
    }
  }, [_c('i-button', {
    staticClass: "primary",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.testSubmit
    }
  }, [_vm._v("提交")])], 1)], 1)], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员查询与选择",
      "width": "700",
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.memberSelectDlg),
      callback: function($$v) {
        _vm.memberSelectDlg = $$v
      },
      expression: "memberSelectDlg"
    }
  }, [(_vm.memberSelectDlg) ? _c('member-select', {
    attrs: {
      "after-select": _vm.afterSelectMember
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "780",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.selectMemberId
    }
  }) : _vm._e()], 1), _vm._v(" "), (_vm.demoVisible) ? _c('div', {
    staticClass: "guide"
  }, [_c('div', {
    staticClass: "guide-main"
  }, [_c('div', {
    staticClass: "middle"
  }, [(_vm.demoType == 'guide') ? _c('img', {
    staticClass: "pic",
    attrs: {
      "src": __webpack_require__(1181),
      "alt": ""
    }
  }) : _vm._e(), _vm._v(" "), (_vm.demoType == 'front') ? _c('img', {
    staticClass: "front",
    attrs: {
      "src": __webpack_require__(1182),
      "alt": ""
    }
  }) : _vm._e(), _vm._v(" "), (_vm.demoType == 'side') ? _c('img', {
    staticClass: "front",
    attrs: {
      "src": __webpack_require__(1183),
      "alt": ""
    }
  }) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "close"
  }, [_c('img', {
    attrs: {
      "src": __webpack_require__(1163),
      "alt": ""
    },
    on: {
      "click": function($event) {
        _vm.demoVisible = false
      }
    }
  })])])]) : _vm._e()], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2307:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('page-header', {
    attrs: {
      "title": _vm.memberName,
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), (_vm.memberId) ? _c('member-follow-list', {
    attrs: {
      "memberId": _vm.memberId
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2310:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-draft-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -mp-list"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l tit"
  }, [_vm._v("会员审核单")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.g.data.user.isShopOwner) ? [_c('a', {
    on: {
      "click": function($event) {
        _vm.confDlg = true
      }
    }
  }, [_vm._v("设置")]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")])] : _vm._e(), _vm._v(" "), _c('a', {
    on: {
      "click": function($event) {
        return _vm.$router.push('/member-draft-create')
      }
    }
  }, [_vm._v("新建会员审核单 →")])], 2)]), _vm._v(" "), _c('section', [_c('ul', {
    staticClass: "query-cond-inline"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "85px"
    },
    attrs: {
      "placeholder": "状态"
    },
    model: {
      value: (_vm.query.status),
      callback: function($$v) {
        _vm.$set(_vm.query, "status", $$v)
      },
      expression: "query.status"
    }
  }, _vm._l((_vm.g.Dict.MemberDraftStatus), function(s, idx) {
    return _c('i-option', {
      key: idx,
      attrs: {
        "value": idx
      }
    }, [_vm._v("\n              " + _vm._s(s) + "\n            ")])
  }), 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "95px"
    },
    attrs: {
      "placeholder": "创建人"
    },
    model: {
      value: (_vm.query.createUid),
      callback: function($$v) {
        _vm.$set(_vm.query, "createUid", _vm._n($$v))
      },
      expression: "query.createUid"
    }
  }, [_c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_c('i', {
    staticClass: "gray"
  }, [_vm._v("不限")])]), _vm._v(" "), _vm._l((_vm.staffList), function(s, idx) {
    return _c('i-option', {
      key: s.uid,
      attrs: {
        "value": s.uid
      }
    }, [_vm._v("\n              " + _vm._s(s.name) + "\n            ")])
  })], 2)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "95px"
    },
    attrs: {
      "placeholder": "审核人",
      "filterable": ""
    },
    model: {
      value: (_vm.query.auditStaffId),
      callback: function($$v) {
        _vm.$set(_vm.query, "auditStaffId", $$v)
      },
      expression: "query.auditStaffId"
    }
  }, [_c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_c('i', {
    staticClass: "gray"
  }, [_vm._v("不限")])]), _vm._v(" "), _vm._l((_vm.staffList), function(s, idx) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v("\n              " + _vm._s(s.name) + "\n            ")])
  })], 2)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('date-picker', {
    staticClass: "date",
    attrs: {
      "type": "date",
      "placeholder": "开始日期"
    },
    model: {
      value: (_vm.query.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "beginDate", $$v)
      },
      expression: "query.beginDate"
    }
  }), _vm._v("\n          ~\n          "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "type": "date",
      "placeholder": "结束日期"
    },
    model: {
      value: (_vm.query.endDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "endDate", $$v)
      },
      expression: "query.endDate"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-input', {
    staticStyle: {
      "width": "80px"
    },
    attrs: {
      "type": "text",
      "placeholder": "会员姓名"
    },
    model: {
      value: (_vm.query.memberName),
      callback: function($$v) {
        _vm.$set(_vm.query, "memberName", $$v)
      },
      expression: "query.memberName"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-input', {
    staticStyle: {
      "width": "95px"
    },
    attrs: {
      "type": "text",
      "placeholder": "会员手机号"
    },
    model: {
      value: (_vm.query.memberPhone),
      callback: function($$v) {
        _vm.$set(_vm.query, "memberPhone", $$v)
      },
      expression: "query.memberPhone"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.queryMemberDraft(null)
      }
    }
  }, [_vm._v("查询")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.memberDraftList), function(m, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(m.name))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.phoneNo))]), _vm._v(" "), _c('td', [(m.status === 0) ? _c('span', {
      staticClass: "orange"
    }, [_vm._v("草稿")]) : (m.status === 1) ? _c('span', {
      staticClass: "orangered"
    }, [_vm._v("待审核")]) : (m.status === 2) ? _c('span', {
      staticClass: "green"
    }, [_vm._v("审核通过")]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.sourceName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.salesName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.memberCardDraft.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.cardNo))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.memberCardDraft.usableAmount))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.memberCardDraft.paymentAmount))]), _vm._v(" "), _c('td', [(m.memberCardDraft.cardType === 1) ? [_vm._v(_vm._s(m.memberCardDraft.usableDays) + " 天")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.auditStaffName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.remark))]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.$router.push('/member-draft-edit/' + m.mdId)
        }
      }
    }, [_vm._v("详情")])])])
  })], 2), _vm._v(" "), (_vm.memberDraftCount) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.memberDraftCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMemberDraft
    }
  })], 1) : _vm._e(), _vm._v(" "), (!_vm.memberDraftCount) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()])])]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员审核单设置",
      "width": "700",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.confDlg),
      callback: function($$v) {
        _vm.confDlg = $$v
      },
      expression: "confDlg"
    }
  }, [_c('ul', {
    staticClass: "conf"
  }, [_c('li', [_vm._v("\n        提交审核后： \n        "), _c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.g.Req.updateShopArg(2070, _vm.enableMemberDraftSbumitSms)
      }
    },
    model: {
      value: (_vm.enableMemberDraftSbumitSms),
      callback: function($$v) {
        _vm.enableMemberDraftSbumitSms = $$v
      },
      expression: "enableMemberDraftSbumitSms"
    }
  }, [_vm._v("发送短信通知给审核人员")]), _vm._v("\n         \n        "), _c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.g.Req.updateShopArg(2080, _vm.enableMemberDraftSbumitWx)
      }
    },
    model: {
      value: (_vm.enableMemberDraftSbumitWx),
      callback: function($$v) {
        _vm.enableMemberDraftSbumitWx = $$v
      },
      expression: "enableMemberDraftSbumitWx"
    }
  }, [_vm._v("发送微信通知给审核人员")])], 1), _vm._v(" "), _c('li', [_vm._v("\n        审核退回后： \n        "), _c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.g.Req.updateShopArg(2071, _vm.enableMemberDraftAuditSms)
      }
    },
    model: {
      value: (_vm.enableMemberDraftAuditSms),
      callback: function($$v) {
        _vm.enableMemberDraftAuditSms = $$v
      },
      expression: "enableMemberDraftAuditSms"
    }
  }, [_vm._v("发送短信通知给提交人员")]), _vm._v("\n         \n        "), _c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.g.Req.updateShopArg(2081, _vm.enableMemberDraftAuditWx)
      }
    },
    model: {
      value: (_vm.enableMemberDraftAuditWx),
      callback: function($$v) {
        _vm.enableMemberDraftAuditWx = $$v
      },
      expression: "enableMemberDraftAuditWx"
    }
  }, [_vm._v("发送微信通知给提交人员")])], 1)])])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "85"
    }
  }, [_vm._v("会员名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("手机号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("客户来源")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("销售")]), _vm._v(" "), _c('th', {
    staticStyle: {
      "min-width": "100px"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("会员卡号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("充值金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("实收金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("使用额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("创建人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("创建时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("审核人")]), _vm._v(" "), _c('th', {
    staticStyle: {
      "min-width": "100px"
    }
  }, [_vm._v("备注")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("操作")])])
}]}

/***/ }),

/***/ 2315:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "tblform"
  }, [_c('table', [_c('tr', [_c('th', [_vm._v("原金额")]), _c('td', [_c('input-num', {
    staticClass: "input",
    on: {
      "blur": _vm.calcNewAmount
    },
    model: {
      value: (_vm.oldAmount),
      callback: function($$v) {
        _vm.oldAmount = $$v
      },
      expression: "oldAmount"
    }
  }), _vm._v("  元")], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("折扣")]), _vm._v(" "), _c('td', [_c('input-num', {
    staticClass: "input",
    on: {
      "blur": _vm.calcNewAmount
    },
    model: {
      value: (_vm.feeRate),
      callback: function($$v) {
        _vm.feeRate = $$v
      },
      expression: "feeRate"
    }
  }), _vm._v("  折\n\t\t\t\t\t"), (_vm.favRates && _vm.favRates.length) ? _c('ul', {
    staticClass: "rates"
  }, _vm._l((_vm.favRates), function(r) {
    return _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.seletRate(r)
        }
      }
    }, [_vm._v(_vm._s(r) + "折")])])
  }), 0) : _vm._e()], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("新金额")]), _vm._v(" "), _c('td', [(_vm.newAmount) ? [_c('b', {
    staticClass: "biggest"
  }, [_vm._v(_vm._s(_vm.newAmount))]), _vm._v(" 元")] : _c('i', {
    staticClass: "gray"
  }, [_vm._v("无")])], 2)]), _vm._v(" "), _c('tr', [_c('th'), _vm._v(" "), _c('td', [_c('i-button', {
    staticClass: "confirm",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.confirm
    }
  }, [_vm._v("确定")])], 1)])])])
},staticRenderFns: []}

/***/ }),

/***/ 2318:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('table', {
    staticClass: "tblform"
  }, [_c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("转让给会员：")]), _vm._v(" "), _c('td', [_c('input-int', {
    staticClass: "input-s bigger",
    attrs: {
      "placeholder": "对方会员手机号"
    },
    on: {
      "blur": _vm.queryMemberByPhone
    },
    model: {
      value: (_vm.transferMember.phoneNo),
      callback: function($$v) {
        _vm.$set(_vm.transferMember, "phoneNo", $$v)
      },
      expression: "transferMember.phoneNo"
    }
  }), _vm._v(" "), (_vm.transferMember.memberId) ? _c('span', {
    staticClass: "orange l10"
  }, [(_vm.transferMember.memberId === _vm.memberCard.memberId) ? [_vm._v("自己")] : [_vm._v("老会员")]], 2) : _vm._e()], 1)]), _vm._v(" "), _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("会员姓名：")]), _vm._v(" "), _c('td', [_c('i-input', {
    staticClass: "input-s",
    attrs: {
      "disabled": _vm.transferMember.memberId !== null
    },
    model: {
      value: (_vm.transferMember.name),
      callback: function($$v) {
        _vm.$set(_vm.transferMember, "name", $$v)
      },
      expression: "transferMember.name"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("性别：")]), _vm._v(" "), _c('td', [_c('radio-group', {
    model: {
      value: (_vm.transferMember.sex),
      callback: function($$v) {
        _vm.$set(_vm.transferMember, "sex", $$v)
      },
      expression: "transferMember.sex"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1,
      "disabled": _vm.transferMember.memberId !== null
    }
  }, [_vm._v("男")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 0,
      "disabled": _vm.transferMember.memberId !== null
    }
  }, [_vm._v("女")])], 1)], 1)]), _vm._v(" "), (_vm.transferMember.memberId && _vm.transferMember.memberId !== _vm.memberCard.memberId) ? _c('tr', [_c('th', [_vm._v("是否创建新卡：")]), _vm._v(" "), _c('td', [_c('checkbox', {
    model: {
      value: (_vm.transferMember.transferAsNewCard),
      callback: function($$v) {
        _vm.$set(_vm.transferMember, "transferAsNewCard", $$v)
      },
      expression: "transferMember.transferAsNewCard"
    }
  }, [_vm._v("\n\t\t\t\t\t\t当对方（" + _vm._s(_vm.transferMember.name) + "）有相同卡种时，转卡时独立创建新卡\n\t\t\t\t\t")]), _vm._v(" "), _c('help', [_vm._v("\n\t\t\t\t\t\t如果不勾选此项，当对方有相同卡种时，转卡时自动将该卡的余额转到对方相同的卡上。\n\t\t\t\t\t")])], 1)]) : _vm._e(), _vm._v(" "), (_vm.transferMember.memberId === _vm.memberCard.memberId) ? _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("转给名下其它卡：")]), _vm._v(" "), _c('td', [(!_vm.g.Util.isEmptyArray(_vm.memberCardList)) ? _c('i-select', {
    model: {
      value: (_vm.transferMember.toMcId),
      callback: function($$v) {
        _vm.$set(_vm.transferMember, "toMcId", $$v)
      },
      expression: "transferMember.toMcId"
    }
  }, _vm._l((_vm.memberCardList), function(mc) {
    return _c('i-option', {
      key: mc.mcId,
      attrs: {
        "value": mc.mcId
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(mc.cardName) + "\n\t\t\t\t\t\t\t"), (mc.beginDate && mc.endDate) ? [_vm._v("/ " + _vm._s(_vm.g.Util.formatDate(mc.beginDate, false)) + " ~ " + _vm._s(_vm.g.Util.formatDate(mc.endDate, false)))] : _vm._e(), _vm._v(" "), (mc.cardType === 2) ? [_vm._v(" / 剩余" + _vm._s(mc.currentTimes) + "次")] : (mc.cardType === 3) ? [_vm._v(" / 剩余" + _vm._s(mc.currentAmount) + "元")] : _vm._e()], 2)
  }), 1) : _c('span', {
    staticClass: "orangered"
  }, [_vm._v("\n\t\t\t\t\t\t无其它同卡种的会员卡，提交后将新建一张会员卡\n\t\t\t\t\t")])], 1)]) : _vm._e(), _vm._v(" "), (!_vm.transferMember.memberId) ? [_c('tr', [_c('th', [_vm._v("会员卡号：")]), _vm._v(" "), _c('td', [_c('input-int', {
    staticClass: "input-s",
    attrs: {
      "placeholder": "请刷卡读出卡号",
      "disabled": _vm.transferMember.memberId !== null
    },
    model: {
      value: (_vm.transferMember.cardNo),
      callback: function($$v) {
        _vm.$set(_vm.transferMember, "cardNo", $$v)
      },
      expression: "transferMember.cardNo"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("客户来源：")]), _vm._v(" "), _c('td', [_c('i-select', {
    staticClass: "input-s",
    attrs: {
      "disabled": _vm.transferMember.memberId !== null
    },
    model: {
      value: (_vm.transferMember.source),
      callback: function($$v) {
        _vm.$set(_vm.transferMember, "source", $$v)
      },
      expression: "transferMember.source"
    }
  }, _vm._l((_vm.dict.custSourceList), function(s) {
    return _c('i-option', {
      key: s.sourceId,
      attrs: {
        "value": s.sourceId,
        "label": s.sourceName
      }
    }, [_c('span', [_vm._v(_vm._s(s.sourceName))])])
  }), 1)], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("教练：")]), _vm._v(" "), _c('td', [_c('i-select', {
    staticClass: "input-s",
    attrs: {
      "disabled": _vm.transferMember.memberId !== null
    },
    model: {
      value: (_vm.transferMember.coachId),
      callback: function($$v) {
        _vm.$set(_vm.transferMember, "coachId", $$v)
      },
      expression: "transferMember.coachId"
    }
  }, [_vm._l((_vm.dict.coachList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), _vm._v(" "), _c('i-option', {
    key: 0,
    attrs: {
      "value": ""
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("无")])])], 2)], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("会籍顾问：")]), _vm._v(" "), _c('td', [_c('i-select', {
    staticClass: "input-s",
    attrs: {
      "disabled": _vm.transferMember.memberId !== null
    },
    model: {
      value: (_vm.transferMember.advisorId),
      callback: function($$v) {
        _vm.$set(_vm.transferMember, "advisorId", $$v)
      },
      expression: "transferMember.advisorId"
    }
  }, [_vm._l((_vm.dict.advisorList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), _vm._v(" "), _c('i-option', {
    key: 0,
    attrs: {
      "value": ""
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("无")])])], 2)], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("会员备注：")]), _vm._v(" "), _c('td', [_c('i-input', {
    staticClass: "input-b",
    attrs: {
      "type": "textarea",
      "rows": 3,
      "disabled": _vm.transferMember.memberId !== null
    },
    model: {
      value: (_vm.transferMember.remark),
      callback: function($$v) {
        _vm.$set(_vm.transferMember, "remark", $$v)
      },
      expression: "transferMember.remark"
    }
  })], 1)])] : _vm._e(), _vm._v(" "), (!_vm.memberCard.beginDate && _vm.memberCard.cardType === 1) ? _c('tr', [_c('th', [_vm._v("转出后是否开卡：")]), _vm._v(" "), _c('td', [_c('radio-group', {
    model: {
      value: (_vm.transferMember.isAutoOpenCard),
      callback: function($$v) {
        _vm.$set(_vm.transferMember, "isAutoOpenCard", $$v)
      },
      expression: "transferMember.isAutoOpenCard"
    }
  }, [_c('radio', {
    attrs: {
      "label": true
    }
  }, [_vm._v("转出卡自动开卡")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": false
    }
  }, [_vm._v("转出卡保持尚未开卡")])], 1)], 1)]) : _vm._e(), _vm._v(" "), (_vm.transferMember.isAutoOpenCard) ? _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("\n\t\t\t\t\t会员卡转出：\n\t\t\t\t")]), _vm._v(" "), _c('td', [(!_vm.transferAll) ? [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "placeholder": "",
      "title": ""
    },
    model: {
      value: (_vm.transferMember.transferValue),
      callback: function($$v) {
        _vm.$set(_vm.transferMember, "transferValue", $$v)
      },
      expression: "transferMember.transferValue"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "gray l10"
  }, [(_vm.memberCard.cardType < 4) ? [_vm._v(_vm._s(_vm.g.Dict.CardUnitName[_vm.memberCard.cardType]))] : [_vm._v(_vm._s(_vm.g.Dict.CardTimeTypes[_vm.memberCard.cardTimeType]))]], 2), _vm._v(" "), _c('span', {
    staticClass: "spt l10"
  }, [_vm._v("|")]), _vm._v("  \n\t\t\t\t\t")] : _vm._e(), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.transferAll),
      callback: function($$v) {
        _vm.transferAll = $$v
      },
      expression: "transferAll"
    }
  }, [_vm._v("所有剩余")])], 2)]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("\n\t\t\t\t\t转让手续费：\n        ")]), _vm._v(" "), _c('td', [_c('input-num', {
    staticClass: "input-s",
    staticStyle: {
      "width": "200px"
    },
    attrs: {
      "placeholder": "",
      "title": ""
    },
    model: {
      value: (_vm.transferMember.transferFee),
      callback: function($$v) {
        _vm.$set(_vm.transferMember, "transferFee", $$v)
      },
      expression: "transferMember.transferFee"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "gray l10"
  }, [_vm._v("元")])], 1)]), _vm._v(" "), (_vm.transferMember.transferFee) ? _c('tr', [_c('th', [_vm._v("支付方式：")]), _vm._v(" "), _c('td', [_c('radio-group', {
    model: {
      value: (_vm.transferMember.transferFeePayChannel),
      callback: function($$v) {
        _vm.$set(_vm.transferMember, "transferFeePayChannel", $$v)
      },
      expression: "transferMember.transferFeePayChannel"
    }
  }, _vm._l((_vm.g.Dict.CardPaymentChannel), function(name, key) {
    return _c('radio', {
      key: key,
      attrs: {
        "label": key
      }
    }, [_vm._v(_vm._s(name))])
  }), 1)], 1)]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("转卡备注：")]), _vm._v(" "), _c('td', [_c('i-input', {
    staticClass: "input-b",
    attrs: {
      "type": "textarea",
      "rows": 3
    },
    model: {
      value: (_vm.transferMember.transferRemark),
      callback: function($$v) {
        _vm.$set(_vm.transferMember, "transferRemark", $$v)
      },
      expression: "transferMember.transferRemark"
    }
  })], 1)])], 2), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "120px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submitTransferCard
    }
  }, [_vm._v("提交")])], 1)])
},staticRenderFns: []}

/***/ }),

/***/ 2320:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-test"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "tbl-header"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('div', {
    staticClass: "query-section"
  }, [_c('div', {
    staticClass: "item input-box",
    staticStyle: {
      "width": "150px"
    },
    on: {
      "click": function($event) {
        _vm.memberSelectDlgForQuery = true
      }
    }
  }, [(!_vm.memberTestQuery.memberId) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("点击选择会员")]) : _c('span', [_vm._v(_vm._s(_vm.memberTestQuery.memberName))])]), _vm._v(" "), _c('div', {
    staticClass: "item"
  }, [_c('i-button', {
    on: {
      "click": _vm.resetMemberTest
    }
  }, [_vm._v("重置")])], 1)])]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.editable) ? _c('i-button', {
    attrs: {
      "icon": "plus",
      "type": "primary"
    },
    on: {
      "click": _vm.selectMember
    }
  }, [_vm._v("添加会员测试")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.memberTestList), function(mt, idx) {
    return _c('tr', [_c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.openMemberBaseDlg(mt.memberId)
        }
      }
    }, [_vm._v(_vm._s(mt.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(mt.testDate)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(mt.testStaffName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(mt.createTime))]), _vm._v(" "), _c('td', [(_vm.editable) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openEditMemberTestDlg(idx)
        }
      }
    }, [_vm._v("测试概要")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openMemberTestItemDlg(idx)
        }
      }
    }, [_vm._v("测试项目")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.delMemberTest(idx)
        }
      }
    }, [_vm._v("删除")])])]) : _vm._e()])])
  })], 2), _vm._v(" "), (_vm.memberTestCnt > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.memberTestCnt,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMemberScoreTestList
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.memberTestList && _vm.memberTestList.length === 0) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e()])]), _vm._v(" "), _vm._m(1)], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员查询与选择",
      "width": "700",
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.memberSelectDlg),
      callback: function($$v) {
        _vm.memberSelectDlg = $$v
      },
      expression: "memberSelectDlg"
    }
  }, [(_vm.memberSelectDlg) ? _c('member-select', {
    attrs: {
      "after-select": _vm.afterSelectMember
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员查询与选择",
      "width": "700",
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.memberSelectDlgForQuery),
      callback: function($$v) {
        _vm.memberSelectDlgForQuery = $$v
      },
      expression: "memberSelectDlgForQuery"
    }
  }, [(_vm.memberSelectDlgForQuery) ? _c('member-select', {
    attrs: {
      "after-select": _vm.afterSelectMemberForQuery
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "会员测试编辑",
      "width": "850",
      "styles": {
        top: '10px'
      },
      "mask-closable": false
    },
    model: {
      value: (_vm.memberTestDlg),
      callback: function($$v) {
        _vm.memberTestDlg = $$v
      },
      expression: "memberTestDlg"
    }
  }, [_c('i-form', {
    ref: "memberTest",
    staticClass: "myform",
    staticStyle: {
      "width": "600px",
      "margin-top": "10px"
    },
    attrs: {
      "model": _vm.memberTest,
      "rules": _vm.memberTestFormRule,
      "label-width": 100
    }
  }, [_c('form-item', {
    attrs: {
      "label": "测试会员"
    }
  }, [_c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.memberTest.memberName))])]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "testDate",
      "label": "测试日期"
    }
  }, [_c('DatePicker', {
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "type": "date",
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.memberTest.testDate),
      callback: function($$v) {
        _vm.$set(_vm.memberTest, "testDate", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberTest.testDate"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "testStaffId",
      "label": "测试员工"
    }
  }, [_c('i-select', {
    staticClass: "input",
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "placeholder": "",
      "disabled": !_vm.editable,
      "filterable": ""
    },
    model: {
      value: (_vm.memberTest.testStaffId),
      callback: function($$v) {
        _vm.$set(_vm.memberTest, "testStaffId", _vm._n($$v))
      },
      expression: "memberTest.testStaffId"
    }
  }, _vm._l((_vm.dict.staffList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId,
        "label": s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "测试小结"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 15,
      "readonly": !_vm.editable,
      "placeholder": "请填写此次测试的备注或小结"
    },
    model: {
      value: (_vm.memberTest.remark),
      callback: function($$v) {
        _vm.$set(_vm.memberTest, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberTest.remark"
    }
  })], 1)], 1), _vm._v(" "), (_vm.editable) ? _c('div', {
    staticClass: "form-submit"
  }, [_c('i-button', {
    staticClass: "primary",
    staticStyle: {
      "margin-left": "100px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveMemberScoreTest
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.memberTestDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": '会员测试项目编辑 - ' + _vm.memberTest.memberName,
      "width": "700",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.memberTestItemDlg),
      callback: function($$v) {
        _vm.memberTestItemDlg = $$v
      },
      expression: "memberTestItemDlg"
    }
  }, [(_vm.memberTestItemDlg) ? [(_vm.memberTest.mstId) ? _c('div', {
    staticClass: "mti-tit"
  }, [_vm._v("\n\t\t\t\t会员： "), _c('b', {
    staticClass: "orangered bigger"
  }, [_vm._v(_vm._s(_vm.memberTest.memberName))]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("/")]), _vm._v("\n\t\t\t\t测试日期： " + _vm._s(_vm.g.Util.formatDate(_vm.memberTest.testDate)) + " "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("/")]), _vm._v("\n\t\t\t\t测试人员： " + _vm._s(_vm.memberTest.testStaffName) + "\n\t\t\t")]) : _c('div', {
    staticClass: "mt-form"
  }, [_c('ul', [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("测试日期")]), _vm._v(" "), _c('DatePicker', {
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "type": "date",
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.memberTest.testDate),
      callback: function($$v) {
        _vm.$set(_vm.memberTest, "testDate", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberTest.testDate"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("测试员工")]), _vm._v(" "), _c('i-select', {
    staticClass: "input",
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "placeholder": "",
      "disabled": !_vm.editable,
      "filterable": ""
    },
    model: {
      value: (_vm.memberTest.testStaffId),
      callback: function($$v) {
        _vm.$set(_vm.memberTest, "testStaffId", _vm._n($$v))
      },
      expression: "memberTest.testStaffId"
    }
  }, _vm._l((_vm.dict.staffList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId,
        "label": s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1)]), _vm._v(" "), _c('div', {
    staticClass: "p5"
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 2,
      "readonly": !_vm.editable,
      "placeholder": "请填写此次测试的备注或小结"
    },
    model: {
      value: (_vm.memberTest.remark),
      callback: function($$v) {
        _vm.$set(_vm.memberTest, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberTest.remark"
    }
  })], 1)]), _vm._v(" "), _c('table', {
    staticClass: "tblform"
  }, _vm._l((_vm.memberTestItemList), function(t) {
    return _c('tr', [_c('th', [_vm._v(_vm._s(t.itemName))]), _vm._v(" "), _c('td', [_c('input-num', {
      staticClass: "input",
      model: {
        value: (t.score),
        callback: function($$v) {
          _vm.$set(t, "score", $$v)
        },
        expression: "t.score"
      }
    })], 1), _vm._v(" "), _c('td', [_vm._v(_vm._s(t.unitName))])])
  }), 0), _vm._v(" "), _c('div', {
    staticClass: "form-submit"
  }, [(_vm.scoreTestItemList && _vm.scoreTestItemList.length > 0) ? _c('i-button', {
    staticClass: "primary",
    staticStyle: {
      "margin-left": "140px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveMemberScoreTesItem
    }
  }, [_vm._v("提交")]) : _c('span', {
    staticClass: "red"
  }, [_vm._v("请先配置测试项目  ")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.memberTestItemDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })] : _vm._e()], 2), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": '会员测试项目编辑 - ' + _vm.memberTest.memberName,
      "width": "700",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.newMemberTestItemDlg),
      callback: function($$v) {
        _vm.newMemberTestItemDlg = $$v
      },
      expression: "newMemberTestItemDlg"
    }
  }, [(_vm.newMemberTestItemDlg) ? [_c('table', {
    staticClass: "tblform"
  }, [_c('tr', [_c('th', [_vm._v("测试日期")]), _vm._v(" "), _c('td', [_c('DatePicker', {
    staticStyle: {
      "width": "130px"
    },
    attrs: {
      "type": "date",
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.memberTest.testDate),
      callback: function($$v) {
        _vm.$set(_vm.memberTest, "testDate", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberTest.testDate"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("测试员工")]), _vm._v(" "), _c('td', [_c('i-select', {
    staticStyle: {
      "width": "130px"
    },
    attrs: {
      "placeholder": "",
      "disabled": !_vm.editable,
      "filterable": ""
    },
    model: {
      value: (_vm.memberTest.testStaffId),
      callback: function($$v) {
        _vm.$set(_vm.memberTest, "testStaffId", _vm._n($$v))
      },
      expression: "memberTest.testStaffId"
    }
  }, _vm._l((_vm.dict.staffList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId,
        "label": s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1)]), _vm._v(" "), _vm._l((_vm.memberTestItemList), function(t) {
    return _c('tr', [_c('th', [_vm._v(_vm._s(t.itemName))]), _vm._v(" "), _c('td', [_c('input-num', {
      staticClass: "input",
      model: {
        value: (t.score),
        callback: function($$v) {
          _vm.$set(t, "score", $$v)
        },
        expression: "t.score"
      }
    }), _vm._v("\n\t\t\t\t\t\t  " + _vm._s(t.unitName) + "\n\t\t\t\t\t")], 1)])
  }), _vm._v(" "), _c('tr', [_c('th', [_vm._v("测试小结")]), _vm._v(" "), _c('td', [_c('i-input', {
    staticStyle: {
      "width": "500px"
    },
    attrs: {
      "type": "textarea",
      "rows": 3,
      "readonly": !_vm.editable,
      "placeholder": "请填写此次测试的备注或小结"
    },
    model: {
      value: (_vm.memberTest.remark),
      callback: function($$v) {
        _vm.$set(_vm.memberTest, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberTest.remark"
    }
  })], 1)])], 2), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "margin-bottom": "-20px"
    }
  }, [(_vm.scoreTestItemList && _vm.scoreTestItemList.length > 0) ? _c('i-button', {
    staticClass: "primary",
    staticStyle: {
      "margin-left": "140px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.createMemberScoreTesItem
    }
  }, [_vm._v("提交")]) : _c('span', {
    staticClass: "red"
  }, [_vm._v("请先配置测试项目  ")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.newMemberTestItemDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })] : _vm._e()], 2)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("测试日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("测试人员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("创建时间")]), _vm._v(" "), _c('th', [_vm._v("操作")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "bottom-remark"
  }, [_c('b', [_vm._v("备注：")]), _vm._v("   会员得分测试与综合测试的区别是，得分测试的结果是分值（小数），综合测试的结果不限制；\n\t\t\t并且得分测试会加入会员测试排行榜（手机端展示）\n\t\t")])
}]}

/***/ }),

/***/ 2323:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-draft"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [(_vm.checkCard && _vm.checkCustSource) ? [(!_vm.dict.custSourceList.length || !_vm.dict.cardList.length) ? _c('section', {
    staticClass: "warning-box"
  }, [_c('ul', [(!_vm.dict.custSourceList.length) ? _c('li', [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v("尚未设置客户来源，"), _c('a', {
    attrs: {
      "href": "#/cust-source"
    }
  }, [_vm._v("去设置客户来源 →")])]) : _vm._e(), _vm._v(" "), (!_vm.dict.cardList.length) ? _c('li', [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v("尚未添加会员卡种类，"), _c('a', {
    on: {
      "click": function($event) {
        return _vm.$router.push('/shop-card-conf')
      }
    }
  }, [_vm._v("去设置会员卡 →")])]) : _vm._e()])]) : _vm._e()] : _vm._e(), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("\n\t\t\t\t\t会员审核单" + _vm._s(_vm.mdId ? '' : '创建') + "\n\t\t\t\t")]), _vm._v(" "), (_vm.mdId && _vm.member.status !== null) ? _c('div', {
    staticClass: "r orange"
  }, [_vm._v("\n\t\t\t\t\t状态：" + _vm._s(_vm.g.Dict.MemberDraftStatus[_vm.member.status]) + "\n\t\t\t\t")]) : _vm._e()]), _vm._v(" "), (_vm.memberDraftAuditList && _vm.memberDraftAuditList.length) ? _c('div', {
    staticClass: "mytbl",
    staticStyle: {
      "padding": "5px 0 25px 0"
    }
  }, [_c('table', {
    staticStyle: {
      "width": "800px"
    }
  }, [_vm._m(0), _vm._v(" "), _vm._l((_vm.memberDraftAuditList), function(m) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(m.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.auditStaffName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.auditResult ? '通过' : '不通过'))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.remark))])])
  })], 2)]) : _vm._e(), _vm._v(" "), _c('i-form', {
    ref: "member",
    staticClass: "myform",
    staticStyle: {
      "width": "550px"
    },
    attrs: {
      "model": _vm.member,
      "rules": _vm.memberFormRule,
      "label-width": 115
    }
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员基本信息")]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "phoneNo",
      "label": "手机号"
    }
  }, [_c('div', {
    staticClass: "big-phone"
  }, [_vm._v(_vm._s(_vm.g.Util.formatPhone(_vm.member.phoneNo)))]), _vm._v(" "), _c('i-input', {
    attrs: {
      "type": "text",
      "readonly": _vm.readonly,
      "placeholder": "请输入真实手机号，可用于系统登录"
    },
    on: {
      "on-blur": function($event) {
        return _vm.queryCustAndFillMember()
      }
    },
    model: {
      value: (_vm.member.phoneNo),
      callback: function($$v) {
        _vm.$set(_vm.member, "phoneNo", _vm._n($$v))
      },
      expression: "member.phoneNo"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "name",
      "label": "姓名"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "readonly": _vm.readonly,
      "placeholder": "请填写真实姓名"
    },
    model: {
      value: (_vm.member.name),
      callback: function($$v) {
        _vm.$set(_vm.member, "name", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.name"
    }
  }), _vm._v(" "), (_vm.memberTips) ? _c('div', {
    staticClass: "orange p5"
  }, [_vm._v(_vm._s(_vm.memberTips))]) : _vm._e()], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "idNo",
      "label": "身份证号"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "readonly": _vm.readonly,
      "placeholder": "会员身份证号（可选填）"
    },
    model: {
      value: (_vm.member.idNo),
      callback: function($$v) {
        _vm.$set(_vm.member, "idNo", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.idNo"
    }
  })], 1), _vm._v(" "), (_vm.member.phoneNo) ? _c('form-item', {
    attrs: {
      "prop": "password",
      "label": "初始登录密码"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "260px"
    },
    attrs: {
      "type": "text",
      "readonly": _vm.readonly,
      "placeholder": "会员登录系统的密码（可选填）"
    },
    model: {
      value: (_vm.member.password),
      callback: function($$v) {
        _vm.$set(_vm.member, "password", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.password"
    }
  }), _vm._v(" "), _c('help', [_vm._v("\n\t\t\t\t\t\t可设置会员登录系统时的密码，创建会员后，会员可使用手机号和密码登录健总管手机版。\n\t\t\t\t\t\t"), _c('p'), _vm._v("\n\t\t\t\t\t\t密码至少设置6位，建议使用会员身份证号后六位。\n\t\t\t\t\t")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sex",
      "label": "性别"
    }
  }, [(!_vm.member.idNo) ? _c('RadioGroup', {
    attrs: {
      "type": "button"
    },
    model: {
      value: (_vm.member.sex),
      callback: function($$v) {
        _vm.$set(_vm.member, "sex", _vm._n($$v))
      },
      expression: "member.sex"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 1,
      "disabled": _vm.readonly
    }
  }, [_vm._v("男")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 0,
      "disabled": _vm.readonly
    }
  }, [_vm._v("女")])], 1) : (_vm.member.sex !== null) ? _c('span', [_vm._v(_vm._s(_vm.g.Dict.Sex[_vm.member.sex === 1]) + " （" + _vm._s(_vm.g.Dict.SexDesc[_vm.member.sex === 1]) + "）")]) : _vm._e()], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "cardNo",
      "label": "会员卡号"
    }
  }, [_c('input-int', {
    staticClass: "card-no",
    attrs: {
      "placeholder": "请刷卡读出卡号",
      "readonly": _vm.readonly,
      "min": "0"
    },
    model: {
      value: (_vm.member.cardNo),
      callback: function($$v) {
        _vm.$set(_vm.member, "cardNo", $$v)
      },
      expression: "member.cardNo"
    }
  }), _vm._v(" "), _c('i-button', {
    staticStyle: {
      "position": "relative",
      "top": "-2px",
      "margin-left": "5px"
    },
    attrs: {
      "icon": "plus"
    },
    on: {
      "click": _vm.addMemberCardNoBox
    }
  }, [_vm._v("更多卡号")]), _vm._v(" "), _c('help', {
    attrs: {
      "title": "提示"
    }
  }, [_vm._v("\n\t\t\t\t\t\t健总管除了支持虚拟卡方式，也支持传统的绑定实物会员卡（一般用于入场签到刷卡）。\n\t\t\t\t\t\t将实物卡号录入此处，就表示绑定会员卡，一个会员名下可绑定多张实物卡。\n\t\t\t\t\t\t"), _c('p'), _c('b', {
    staticClass: "orange"
  }, [_vm._v("备注")]), _vm._v("： 此处千万不要输入卡表面的号码，要用读卡器读出卡内部编码（也称卡内号）\n\t\t\t\t\t")]), _vm._v(" "), _vm._l((_vm.memberCardNoList), function(c, idx) {
    return _c('div', [_c('input-int', {
      staticClass: "card-no more-card-no",
      model: {
        value: (_vm.memberCardNoList[idx]),
        callback: function($$v) {
          _vm.$set(_vm.memberCardNoList, idx, $$v)
        },
        expression: "memberCardNoList[idx]"
      }
    })], 1)
  })], 2), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "头像照"
    }
  }, [(!_vm.readonly) ? _c('i-button', {
    on: {
      "click": _vm.openPhotoDlg
    }
  }, [_vm._v("上传会员照")]) : _vm._e(), _vm._v(" "), (_vm.photo.imgUrl) ? _c('div', {
    staticClass: "member-photo"
  }, [_c('img', {
    attrs: {
      "src": _vm.photo.imgUrl
    }
  })]) : _vm._e()], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "birthday",
      "label": "生日"
    }
  }, [(!_vm.member.idNo) ? [_c('input-int', {
    staticClass: "-date-year",
    attrs: {
      "readonly": _vm.readonly,
      "min": "1900"
    },
    model: {
      value: (_vm.member.birthdayYear),
      callback: function($$v) {
        _vm.$set(_vm.member, "birthdayYear", $$v)
      },
      expression: "member.birthdayYear"
    }
  }), _vm._v(" 年  \n\t\t\t\t\t\t"), _c('input-int', {
    staticClass: "-date-month-day",
    attrs: {
      "readonly": _vm.readonly,
      "min": "1",
      "max": "12"
    },
    model: {
      value: (_vm.member.birthdayMonth),
      callback: function($$v) {
        _vm.$set(_vm.member, "birthdayMonth", $$v)
      },
      expression: "member.birthdayMonth"
    }
  }), _vm._v(" 月  \n\t\t\t\t\t\t"), _c('input-int', {
    staticClass: "-date-month-day",
    attrs: {
      "readonly": _vm.readonly,
      "min": "1",
      "max": "31"
    },
    model: {
      value: (_vm.member.birthdayDay),
      callback: function($$v) {
        _vm.$set(_vm.member, "birthdayDay", $$v)
      },
      expression: "member.birthdayDay"
    }
  }), _vm._v(" 日\n\t\t\t\t\t")] : _c('span', [_vm._v("\n\t\t\t\t\t\t" + _vm._s(_vm.member.birthdayYear) + "-" + _vm._s(_vm.member.birthdayMonth) + "-" + _vm._s(_vm.member.birthdayDay) + "\n\t\t\t\t\t")])], 2), _vm._v(" "), (_vm.g.data.shop.shopType === _vm.g.Dict.ShopType.FENCING) ? [_c('form-item', {
    attrs: {
      "prop": "fencingType",
      "label": "剑种"
    }
  }, [_c('i-select', {
    attrs: {
      "disabled": _vm.readonly,
      "filterable": ""
    },
    model: {
      value: (_vm.member.fencingType),
      callback: function($$v) {
        _vm.$set(_vm.member, "fencingType", $$v)
      },
      expression: "member.fencingType"
    }
  }, _vm._l((_vm.g.Dict.FencingType), function(v, k) {
    return _c('i-option', {
      key: v.value,
      attrs: {
        "value": v.value
      }
    }, [_vm._v(_vm._s(v.name))])
  }), 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "fencingLevel",
      "label": "组别",
      "filterable": ""
    }
  }, [_c('i-select', {
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.member.fencingLevel),
      callback: function($$v) {
        _vm.$set(_vm.member, "fencingLevel", $$v)
      },
      expression: "member.fencingLevel"
    }
  }, _vm._l((_vm.g.Dict.FencingLevel), function(v, k) {
    return _c('i-option', {
      key: v.value,
      attrs: {
        "value": v.value
      }
    }, [_vm._v(_vm._s(v.name))])
  }), 1)], 1)] : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "source",
      "label": "客户来源"
    }
  }, [_c('i-select', {
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.member.source),
      callback: function($$v) {
        _vm.$set(_vm.member, "source", $$v)
      },
      expression: "member.source"
    }
  }, _vm._l((_vm.dict.custSourceList), function(s) {
    return _c('i-option', {
      key: s.sourceId,
      attrs: {
        "value": s.sourceId,
        "label": s.sourceName
      }
    }, [_c('span', [_vm._v(_vm._s(s.sourceName))]), _vm._v(" "), (s.sourceDesc) ? _c('span', {
      staticClass: "r gray"
    }, [_vm._v("# " + _vm._s(s.sourceDesc.substr(0, 24)))]) : _vm._e()])
  }), 1), _vm._v(" "), (!_vm.dict.custSourceList || _vm.dict.custSourceList.length === 0) ? _c('div', {
    staticClass: "orange"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 尚未设置客户来源， "), _c('a', {
    attrs: {
      "href": "#/cust-source"
    }
  }, [_vm._v("去设置客户来源 →")])]) : _vm._e()], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "orgId",
      "label": "所在单位"
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "385px"
    },
    attrs: {
      "disabled": _vm.readonly,
      "placeholder": "请选择会员所在的单位（可选）"
    },
    model: {
      value: (_vm.member.orgId),
      callback: function($$v) {
        _vm.$set(_vm.member, "orgId", $$v)
      },
      expression: "member.orgId"
    }
  }, [_vm._l((_vm.memberOrgList), function(o) {
    return _c('i-option', {
      key: o.orgId,
      attrs: {
        "value": o.orgId
      }
    }, [_vm._v(_vm._s(o.orgName))])
  }), _vm._v(" "), _c('i-option', {
    key: 0,
    attrs: {
      "value": ""
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("无")])])], 2), _vm._v(" "), _c('i-button', {
    staticStyle: {
      "display": "inline-block",
      "width": "40px",
      "margin-left": "5px"
    },
    attrs: {
      "icon": "plus"
    },
    on: {
      "click": function($event) {
        _vm.orgDlgView = true
      }
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "salesId",
      "label": "销售"
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "160px"
    },
    attrs: {
      "disabled": _vm.readonly,
      "filterable": ""
    },
    model: {
      value: (_vm.member.salesId),
      callback: function($$v) {
        _vm.$set(_vm.member, "salesId", $$v)
      },
      expression: "member.salesId"
    }
  }, [_vm._l((_vm.dict.salesList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), _vm._v(" "), _c('i-option', {
    key: 0,
    attrs: {
      "value": ""
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("无")])])], 2), _vm._v(" "), _c('span', {
    staticClass: "orange"
  }, [_vm._v("  "), _c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 用于销售人员的工资提成，请慎重选择")])], 1), _vm._v(" "), (_vm.dict.coachList) ? _c('form-item', {
    attrs: {
      "prop": "coachId",
      "label": "教练"
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "328px"
    },
    attrs: {
      "disabled": _vm.readonly,
      "filterable": ""
    },
    model: {
      value: (_vm.member.coachId),
      callback: function($$v) {
        _vm.$set(_vm.member, "coachId", $$v)
      },
      expression: "member.coachId"
    }
  }, [_vm._l((_vm.dict.coachList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), _vm._v(" "), _c('i-option', {
    key: 0,
    attrs: {
      "value": ""
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("无")])])], 2), _vm._v(" "), (!_vm.readonly) ? _c('i-button', {
    staticStyle: {
      "margin-left": "5px"
    },
    attrs: {
      "icon": "plus"
    },
    on: {
      "click": _vm.clickAddMoreCoach
    }
  }, [_vm._v("更多教练")]) : _vm._e(), _vm._v(" "), _vm._l((_vm.memberCoachList), function(c, idx) {
    return _c('div', {
      staticClass: "p10"
    }, [_c('i-select', {
      staticStyle: {
        "width": "170px"
      },
      attrs: {
        "disabled": _vm.readonly,
        "placeholder": "选择教练类型"
      },
      model: {
        value: (c.coachType),
        callback: function($$v) {
          _vm.$set(c, "coachType", $$v)
        },
        expression: "c.coachType"
      }
    }, _vm._l((_vm.dict.coachTypeList), function(s) {
      return _c('i-option', {
        key: s.ctId,
        attrs: {
          "value": s.ctId
        }
      }, [_vm._v(_vm._s(s.typeName))])
    }), 1), _vm._v("\n\t\t\t\t\t\t \n\t\t\t\t\t\t"), _c('i-select', {
      staticStyle: {
        "width": "146px"
      },
      attrs: {
        "filterable": "",
        "placeholder": "选择教练"
      },
      model: {
        value: (c.coachId),
        callback: function($$v) {
          _vm.$set(c, "coachId", $$v)
        },
        expression: "c.coachId"
      }
    }, [_c('i-option', {
      key: 0,
      attrs: {
        "value": ""
      }
    }, [_c('span', {
      staticClass: "gray"
    }, [_vm._v("无")])]), _vm._v(" "), _vm._l((_vm.dict.coachList), function(s) {
      return _c('i-option', {
        key: s.staffId,
        attrs: {
          "value": s.staffId
        }
      }, [_vm._v(_vm._s(s.name))])
    })], 2)], 1)
  })], 2) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "advisorId",
      "label": "会籍顾问"
    }
  }, [_c('i-select', {
    attrs: {
      "disabled": _vm.readonly,
      "filterable": ""
    },
    model: {
      value: (_vm.member.advisorId),
      callback: function($$v) {
        _vm.$set(_vm.member, "advisorId", $$v)
      },
      expression: "member.advisorId"
    }
  }, [_vm._l((_vm.dict.advisorList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), _vm._v(" "), _c('i-option', {
    key: 0,
    attrs: {
      "value": ""
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("无")])])], 2)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "emergencyPhone",
      "label": "紧急手机号"
    }
  }, [_c('i-input', {
    attrs: {
      "readonly": _vm.readonly,
      "type": "text",
      "placeholder": "请输入此会员的紧急联系人手机号"
    },
    model: {
      value: (_vm.member.emergencyPhone),
      callback: function($$v) {
        _vm.$set(_vm.member, "emergencyPhone", _vm._n($$v))
      },
      expression: "member.emergencyPhone"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "会员地址"
    }
  }, [_c('row', {
    staticStyle: {
      "margin-bottom": "10px"
    },
    attrs: {
      "gutter": 10,
      "type": "flex",
      "justify": "space-between"
    }
  }, [_c('i-col', {
    attrs: {
      "span": "7"
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "addrProvince"
    }
  }, [_c('i-select', {
    attrs: {
      "disabled": _vm.readonly,
      "placeholder": "省（直辖市）",
      "filterable": ""
    },
    on: {
      "on-change": _vm.onChangeAddrL1
    },
    model: {
      value: (_vm.member.addrProvince),
      callback: function($$v) {
        _vm.$set(_vm.member, "addrProvince", $$v)
      },
      expression: "member.addrProvince"
    }
  }, _vm._l((_vm.addrList[0]), function(r) {
    return _c('i-option', {
      key: r.label,
      attrs: {
        "value": r.value
      }
    }, [_vm._v(_vm._s(r.label))])
  }), 1)], 1)], 1), _vm._v(" "), _c('i-col', {
    attrs: {
      "span": "10"
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "addrCity"
    }
  }, [_c('i-select', {
    attrs: {
      "disabled": _vm.readonly,
      "placeholder": "地级市",
      "filterable": ""
    },
    on: {
      "on-change": _vm.onChangeAddrL2
    },
    model: {
      value: (_vm.member.addrCity),
      callback: function($$v) {
        _vm.$set(_vm.member, "addrCity", $$v)
      },
      expression: "member.addrCity"
    }
  }, _vm._l((_vm.addrList[1]), function(r) {
    return _c('i-option', {
      key: r.label,
      attrs: {
        "value": r.value
      }
    }, [_vm._v(_vm._s(r.label))])
  }), 1)], 1)], 1), _vm._v(" "), _c('i-col', {
    attrs: {
      "span": "7"
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "addrDistrict"
    }
  }, [_c('i-select', {
    attrs: {
      "disabled": _vm.readonly,
      "placeholder": "县级市（区）",
      "filterable": ""
    },
    model: {
      value: (_vm.member.addrDistrict),
      callback: function($$v) {
        _vm.$set(_vm.member, "addrDistrict", $$v)
      },
      expression: "member.addrDistrict"
    }
  }, _vm._l((_vm.addrList[2]), function(r) {
    return _c('i-option', {
      key: r.label,
      attrs: {
        "value": r.value
      }
    }, [_vm._v(_vm._s(r.label))])
  }), 1)], 1)], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "addrDetail"
    }
  }, [_c('i-input', {
    attrs: {
      "readonly": _vm.readonly,
      "type": "textarea",
      "row": "3",
      "placeholder": "请输入街道和门牌号"
    },
    model: {
      value: (_vm.member.addrDetail),
      callback: function($$v) {
        _vm.$set(_vm.member, "addrDetail", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.addrDetail"
    }
  })], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "introducerPhone",
      "label": "推荐人"
    }
  }, [_c('i-input', {
    attrs: {
      "readonly": _vm.readonly,
      "type": "text",
      "placeholder": "请输入推荐人手机号"
    },
    model: {
      value: (_vm.member.introducerPhone),
      callback: function($$v) {
        _vm.$set(_vm.member, "introducerPhone", _vm._n($$v))
      },
      expression: "member.introducerPhone"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "contractNo",
      "label": "合同编号"
    }
  }, [_c('i-input', {
    attrs: {
      "readonly": _vm.readonly,
      "type": "text",
      "placeholder": ""
    },
    model: {
      value: (_vm.member.contractNo),
      callback: function($$v) {
        _vm.$set(_vm.member, "contractNo", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.contractNo"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "carNos",
      "label": "车牌号"
    }
  }, [_c('div', {
    staticClass: "car-nos"
  }, [_vm._l((_vm.carNoList), function(cn, idx) {
    return _c('tag', {
      key: idx,
      attrs: {
        "name": cn,
        "closable": ""
      },
      on: {
        "on-close": function($event) {
          return _vm.removeCarNo(cn)
        }
      }
    }, [_vm._v(_vm._s(cn))])
  }), _vm._v(" "), _c('i-button', {
    attrs: {
      "disabled": _vm.readonly,
      "icon": "ios-plus-empty",
      "type": "dashed",
      "size": "small"
    },
    on: {
      "click": _vm.appendCarNo
    }
  }, [_vm._v("添加")])], 2)]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "会员备注"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "readonly": _vm.readonly,
      "rows": 6
    },
    model: {
      value: (_vm.member.remark),
      callback: function($$v) {
        _vm.$set(_vm.member, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.remark"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "followContent",
      "label": "会员跟进"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "readonly": _vm.readonly,
      "rows": 8
    },
    model: {
      value: (_vm.member.followContent),
      callback: function($$v) {
        _vm.$set(_vm.member, "followContent", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.followContent"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "orange"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v("\n\t\t\t\t\t\t此内容将在审核通过创建会员后，自动生成会员跟进记录（不能修改和删除）\n\t\t\t\t\t")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "注册时间"
    }
  }, [_c('DatePicker', {
    attrs: {
      "readonly": _vm.readonly,
      "type": "datetime",
      "format": "yyyy-MM-dd HH:mm:ss",
      "placeholder": "请设置会员注册日期"
    },
    model: {
      value: (_vm.member.regDate),
      callback: function($$v) {
        _vm.$set(_vm.member, "regDate", $$v)
      },
      expression: "member.regDate"
    }
  }), _vm._v(" "), _c('help', {
    attrs: {
      "title": "提示"
    }
  }, [_vm._v("\n\t\t\t\t\t\t注册时间，是指会员在贵店首次注册或办卡的时间，默认为当前时间；如果会员是之前注册的，需要填写当时的实际时间；\n\t\t\t\t\t\t"), _c('p', [_vm._v("此时间也应该是会员首次购卡的时间。")])])], 1)], 2), _vm._v(" "), _c('i-form', {
    ref: "memberNewCard",
    staticClass: "myform",
    staticStyle: {
      "width": "550px"
    },
    attrs: {
      "model": _vm.memberNewCard,
      "rules": _vm.memberNewCardFormRule,
      "label-width": 115
    }
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("购买会员卡")]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "cardId",
      "label": "会员卡种类"
    }
  }, [_c('i-select', {
    attrs: {
      "disabled": _vm.readonly,
      "filterable": ""
    },
    on: {
      "on-change": _vm.handleCardSelect
    },
    model: {
      value: (_vm.memberNewCard.cardId),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "cardId", _vm._n($$v))
      },
      expression: "memberNewCard.cardId"
    }
  }, _vm._l((_vm.dict.cardList), function(c) {
    return _c('i-option', {
      key: c.cardId,
      attrs: {
        "value": c.cardId,
        "label": c.cardName
      }
    }, [_c('span', [_vm._v(_vm._s(c.cardName))]), _vm._v(" "), _c('span', {
      staticStyle: {
        "float": "right",
        "color": "#bbb"
      }
    }, [_vm._v(_vm._s(_vm.g.Dict.CardClass[c.cardClass]) + " / " + _vm._s(c.cardTypeName))])])
  }), 1), _vm._v(" "), (_vm.dict.cardList && _vm.dict.cardList.length === 0) ? _c('div', {
    staticClass: "orange"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 尚未添加会员卡种类，"), _c('a', {
    on: {
      "click": function($event) {
        return _vm.$router.push('/shop-card-conf')
      }
    }
  }, [_vm._v("去设置会员卡 →")])]) : _vm._e()], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "usableAmount",
      "label": "充值金额"
    }
  }, [_c('input-num', {
    attrs: {
      "readonly": _vm.readonly,
      "min": "0",
      "title": ""
    },
    model: {
      value: (_vm.memberNewCard.usableAmount),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "usableAmount", $$v)
      },
      expression: "memberNewCard.usableAmount"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1), _vm._v(" "), (_vm.memberNewCard.deposit) ? _c('form-item', {
    attrs: {
      "prop": "deposit",
      "label": "已交订金"
    }
  }, [_c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.memberNewCard.deposit))]), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])]) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "paymentAmount",
      "label": "实收金额"
    }
  }, [_c('input-num', {
    attrs: {
      "readonly": _vm.readonly,
      "min": "0",
      "title": ""
    },
    model: {
      value: (_vm.memberNewCard.paymentAmount),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "paymentAmount", _vm._n($$v))
      },
      expression: "memberNewCard.paymentAmount"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")]), _vm._v(" "), _c('span', {
    staticStyle: {
      "margin-left": "25px"
    }
  }, [_c('a', {
    on: {
      "click": _vm.openAmountDiscountCalcDlg
    }
  }, [_vm._v("折扣计算")]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v(" "), _c('a', {
    on: {
      "click": _vm.openAmountRateCalcDlg
    }
  }, [_vm._v("费率计算")]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v(" "), _c('a', {
    on: {
      "click": _vm.openNumDlg
    }
  }, [_vm._v("简易计算器")])])], 1), _vm._v(" "), (_vm.memberNewCard.cardType === 2) ? _c('form-item', {
    attrs: {
      "prop": "usableTimes",
      "label": "使用次数"
    }
  }, [_c('input-num', {
    attrs: {
      "readonly": _vm.readonly,
      "min": 1
    },
    model: {
      value: (_vm.memberNewCard.usableTimes),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "usableTimes", $$v)
      },
      expression: "memberNewCard.usableTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "usableDays",
      "label": "使用天数"
    }
  }, [_c('input-int', {
    attrs: {
      "readonly": _vm.readonly,
      "min": 1
    },
    model: {
      value: (_vm.memberNewCard.usableDays),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "usableDays", $$v)
      },
      expression: "memberNewCard.usableDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), (_vm.memberNewCard.cardType > 1) ? _c('span', {
    staticClass: "l10 tips"
  }, [_vm._v("（有效期天数）")]) : _vm._e()], 1), _vm._v(" "), (_vm.memberNewCard.cardType === 4) ? _c('form-item', {
    attrs: {
      "prop": "usableTimes",
      "label": "使用时间"
    }
  }, [_c('input-num', {
    attrs: {
      "readonly": _vm.readonly,
      "title": ""
    },
    model: {
      value: (_vm.memberNewCard.usableTimes),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "usableTimes", $$v)
      },
      expression: "memberNewCard.usableTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v(_vm._s(_vm.g.Dict.CardTimeTypes[_vm.memberNewCard.cardTimeType]))])], 1) : _vm._e(), _vm._v(" "), (_vm.memberNewCard.usableDays) ? [_c('form-item', {
    attrs: {
      "prop": "autoActiveCard",
      "label": "设定开卡日期"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly || _vm.memberNewCard.expDateDisable
    },
    model: {
      value: (_vm.memberNewCard.autoActiveCard),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "autoActiveCard", $$v)
      },
      expression: "memberNewCard.autoActiveCard"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), (!_vm.memberNewCard.autoActiveCard) ? _c('span', {
    staticClass: "orange l10"
  }, [_vm._v(" 【否】表示，开卡日期以会员第一次使用日期为准")]) : _vm._e(), _vm._v(" "), _c('help', {
    attrs: {
      "title": "帮助"
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t\t选择“否”，开卡日期以会员第一次使用日期为准；\n\t\t\t\t\t\t\t\t"), _c('br'), _vm._v("选择“是”，系统会根据您设定的【开卡日期】设置会员卡开始日期。\n\t\t\t\t\t\t")])], 1), _vm._v(" "), (_vm.memberNewCard.autoActiveCard) ? _c('form-item', {
    attrs: {
      "prop": "beginDate",
      "label": "开卡日期"
    }
  }, [_c('date-picker', {
    staticClass: "input-s",
    attrs: {
      "type": "date",
      "readonly": _vm.readonly || _vm.memberNewCard.expDateDisable
    },
    model: {
      value: (_vm.memberNewCard.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "beginDate", $$v)
      },
      expression: "memberNewCard.beginDate"
    }
  }), _vm._v(" "), (_vm.memberNewCard.usableDays && _vm.memberNewCard.beginDate) ? _c('span', {
    staticClass: "l10"
  }, [_vm._v("\n\t\t\t\t\t\t（到期日期： "), _c('b', [_vm._v(_vm._s(_vm.g.Util.formatDate(Date.new(_vm.memberNewCard.beginDate).addDays(_vm.memberNewCard.usableDays))))]), _vm._v("）\n\t\t\t\t\t\t")]) : _vm._e()], 1) : _vm._e(), _vm._v(" "), (!_vm.memberNewCard.autoActiveCard) ? _c('form-item', {
    attrs: {
      "prop": "limitBeginDate",
      "label": "最迟开卡日期"
    }
  }, [_c('date-picker', {
    staticClass: "input-s",
    attrs: {
      "readonly": _vm.readonly,
      "type": "date"
    },
    model: {
      value: (_vm.memberNewCard.limitBeginDate),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "limitBeginDate", $$v)
      },
      expression: "memberNewCard.limitBeginDate"
    }
  }), _vm._v(" "), _c('help', {
    attrs: {
      "title": "帮助"
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t如果会员在此日期之后才首次开卡（使用），那么系统自动从此最迟开卡日期起计算。\n\t\t\t\t\t\t\t"), _c('p'), _vm._v("\n\t\t\t\t\t\t\t例如：会员【2017-3-1】办卡，最迟开卡日期设置为【2017-5-1】，如果会员【2017-6-1】首次来馆锻炼（开卡），\n\t\t\t\t\t\t\t那么会员卡开卡日期会自动设置为【2017-5-1】。\n\t\t\t\t\t\t")])], 1) : _vm._e()] : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "paymentChannel",
      "label": "支付方式"
    }
  }, [_c('RadioGroup', {
    model: {
      value: (_vm.memberNewCard.paymentChannel),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "paymentChannel", $$v)
      },
      expression: "memberNewCard.paymentChannel"
    }
  }, _vm._l((_vm.g.Dict.CardPaymentChannel), function(name, key) {
    return _c('Radio', {
      key: key,
      attrs: {
        "disabled": _vm.readonly,
        "label": parseInt(key)
      }
    }, [_vm._v(_vm._s(name))])
  }), 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "充值备注"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "readonly": _vm.readonly,
      "rows": 3
    },
    model: {
      value: (_vm.memberNewCard.remark),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberNewCard.remark"
    }
  })], 1)], 2), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "115px"
    }
  }, [(!_vm.mdId || (_vm.member.status < 1 && _vm.member.createUid === _vm.g.data.user.uid)) ? _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.handleSubmit()
      }
    }
  }, [_vm._v("提交")]) : (_vm.mdId && _vm.member.status === 1 && (_vm.member.auditStaffId === _vm.g.data.user.staffId || _vm.g.data.user.isShopOwner)) ? _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.openAuditDlg
    }
  }, [_vm._v("审核")]) : _vm._e(), _vm._v(" "), (_vm.mdId && !_vm.readonly) ? _c('i-button', {
    on: {
      "click": _vm.deleteMemberDraftAudit
    }
  }, [_vm._v("删除")]) : _vm._e()], 1)], 1)], 2), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "设置会员所在单位",
      "width": "600"
    },
    model: {
      value: (_vm.orgDlgView),
      callback: function($$v) {
        _vm.orgDlgView = $$v
      },
      expression: "orgDlgView"
    }
  }, [(_vm.orgDlgView) ? [_c('member-org-conf', {
    attrs: {
      "after-submit": _vm.afterConfMemberOrg
    }
  })] : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 2), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "上传会员头像照",
      "width": "700",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.photo.photoDlgView),
      callback: function($$v) {
        _vm.$set(_vm.photo, "photoDlgView", $$v)
      },
      expression: "photo.photoDlgView"
    }
  }, [_c('div', {
    staticClass: "take-photo-type"
  }, [_c('RadioGroup', {
    on: {
      "on-change": _vm.changePhotoType
    },
    model: {
      value: (_vm.photo.takePhotoType),
      callback: function($$v) {
        _vm.$set(_vm.photo, "takePhotoType", _vm._n($$v))
      },
      expression: "photo.takePhotoType"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("从电脑上选择")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("用摄像头拍摄")])], 1)], 1), _vm._v(" "), (_vm.photo.takePhotoType === 1) ? _c('div', [_c('img-upload', {
    attrs: {
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "on-success": _vm.handleImgUploadSuccess,
      "max-size": _vm.imgUpload.maxSize
    }
  }, [_c('i-button', {
    attrs: {
      "type": "ghost",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("点击上传会员照")])], 1)], 1) : _vm._e(), _vm._v(" "), (_vm.photo.takePhotoType === 2) ? _c('div', {
    staticClass: "take-photo"
  }, [_c('table', {
    staticClass: "mytbl"
  }, [_c('tr', [_c('td', {
    staticClass: "center"
  }, [_c('video', {
    ref: "video",
    staticStyle: {
      "background": "#ddd"
    },
    attrs: {
      "width": "310",
      "height": "250",
      "autoplay": ""
    }
  }), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.takePhoto
    }
  }, [_vm._v("点击拍照")])], 1), _vm._v(" "), _c('td', {
    staticClass: "center"
  }, [_c('canvas', {
    ref: "canvas",
    staticStyle: {
      "background": "#ddd"
    },
    attrs: {
      "width": "310",
      "height": "250"
    }
  }), _vm._v(" "), (_vm.photo.hasTakePhoto) ? _c('i-button', {
    on: {
      "click": _vm.uploadPhotoImg
    }
  }, [_vm._v("上传照片")]) : _c('i-button', {
    attrs: {
      "disabled": true
    }
  }, [_vm._v("上传照片")])], 1)])])]) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "实收金额折扣计算",
      "width": "650"
    },
    model: {
      value: (_vm.amountDiscountCalcDlg),
      callback: function($$v) {
        _vm.amountDiscountCalcDlg = $$v
      },
      expression: "amountDiscountCalcDlg"
    }
  }, [_c('amount-discount-calc', {
    attrs: {
      "default-val": _vm.defaultValOfDlg,
      "after-confirm": _vm.afterCalcPaymentAmount
    }
  }), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "实收金额费率计算",
      "width": "650"
    },
    model: {
      value: (_vm.amountRateCalcDlg),
      callback: function($$v) {
        _vm.amountRateCalcDlg = $$v
      },
      expression: "amountRateCalcDlg"
    }
  }, [_c('amount-rate-calc', {
    attrs: {
      "default-val": _vm.defaultValOfDlg,
      "after-confirm": _vm.afterCalcPaymentAmount
    }
  }), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "简易计算器",
      "width": "650",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.numCalcDlg),
      callback: function($$v) {
        _vm.numCalcDlg = $$v
      },
      expression: "numCalcDlg"
    }
  }, [_c('num-calc'), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "会员审核单确认",
      "width": "650"
    },
    model: {
      value: (_vm.memberCreateConfirmDlg),
      callback: function($$v) {
        _vm.memberCreateConfirmDlg = $$v
      },
      expression: "memberCreateConfirmDlg"
    }
  }, [(_vm.memberCreateConfirmDlg) ? _c('div', {
    staticClass: "memb-confirm"
  }, [_vm._v("\n\t\t\t您正在保存会员审核单 "), _c('b', {
    staticClass: "bigger"
  }, [_vm._v(_vm._s(_vm.memberConfirm.name))]), _vm._v(" ，请核对以下重要信息：\n\t\t\t"), _c('div', {
    staticClass: "p10"
  }, [_c('table', [_c('tr', {
    attrs: {
      "width": "100"
    }
  }, [_c('th', [_vm._v("会员卡：")]), _c('td', [_c('b', {
    staticClass: "bigger red"
  }, [_vm._v(_vm._s(_vm.memberConfirm.cardName))])])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("充值金额：")]), _c('td', [_vm._v("￥" + _vm._s(_vm.memberConfirm.usableAmount))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("实收金额：")]), _c('td', [_vm._v("￥" + _vm._s(_vm.memberConfirm.paymentAmount))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("销售人员：")]), _c('td', [(_vm.memberConfirm.salesName) ? _c('b', [_vm._v(_vm._s(_vm.memberConfirm.salesName))]) : _c('i', {
    staticClass: "orangered"
  }, [_vm._v("未选择")])])]), _vm._v(" "), (_vm.auditStaffList) ? _c('tr', [_c('th', [_vm._v("审核人员：")]), _vm._v(" "), _c('td', [_c('RadioGroup', {
    model: {
      value: (_vm.member.auditStaffId),
      callback: function($$v) {
        _vm.$set(_vm.member, "auditStaffId", $$v)
      },
      expression: "member.auditStaffId"
    }
  }, _vm._l((_vm.auditStaffList), function(s) {
    return _c('Radio', {
      key: s.staffId,
      attrs: {
        "disabled": _vm.readonly,
        "label": parseInt(s.staffId)
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1)]) : _vm._e()])]), _vm._v(" "), _c('div', {
    staticClass: "form-submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary",
      "loading": _vm.submitLoading[0]
    },
    on: {
      "click": function($event) {
        return _vm.submitMemberDraft(0)
      }
    }
  }, [_vm._v("保存")]), _vm._v(" "), _c('i-button', {
    attrs: {
      "type": "primary",
      "loading": _vm.submitLoading[1]
    },
    on: {
      "click": function($event) {
        return _vm.submitMemberDraft(1)
      }
    }
  }, [_vm._v("保存并提交审核")]), _vm._v("\n\t\t\t\t  "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.memberCreateConfirmDlg = false
      }
    }
  }, [_vm._v("取消")])], 1)]) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }), _vm._v(" "), _c('Modal')], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "会员审核",
      "width": "650"
    },
    model: {
      value: (_vm.memberDraftAuditDlg),
      callback: function($$v) {
        _vm.memberDraftAuditDlg = $$v
      },
      expression: "memberDraftAuditDlg"
    }
  }, [_c('div', {
    staticClass: "tblform"
  }, [_c('table', {
    attrs: {
      "width": "95%"
    }
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("审核结果")]), _vm._v(" "), _c('td', [_c('RadioGroup', {
    model: {
      value: (_vm.memberDraftAudit.auditResult),
      callback: function($$v) {
        _vm.$set(_vm.memberDraftAudit, "auditResult", $$v)
      },
      expression: "memberDraftAudit.auditResult"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("通过")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("不通过")])], 1)], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("备注")]), _vm._v(" "), _c('td', [_c('i-input', {
    staticStyle: {
      "width": "100%"
    },
    attrs: {
      "type": "textarea",
      "rows": 6
    },
    model: {
      value: (_vm.memberDraftAudit.remark),
      callback: function($$v) {
        _vm.$set(_vm.memberDraftAudit, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberDraftAudit.remark"
    }
  }), _vm._v(" "), (_vm.memberDraftAudit.auditResult === 0) ? _c('div', {
    staticClass: "p10 orangered"
  }, [_vm._v("（审核不通过时，请在备注里填写具体原因）")]) : _vm._e()], 1)]), _vm._v(" "), _c('tr', [_c('th'), _vm._v(" "), _c('td', [_c('div', {
    staticClass: "p10 form-submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submitMemberDraftAudit
    }
  }, [_vm._v("提交")])], 1)])])])]), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }), _vm._v(" "), _c('Modal')], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("审核时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("审核人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("审核结果")]), _vm._v(" "), _c('th', [_vm._v("备注")])])
}]}

/***/ }),

/***/ 2325:
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return (_vm.visible) ? _c('div', {
    staticClass: "guide"
  }, [_c('div', {
    staticClass: "guide-main"
  }, [_c('div', {
    staticClass: "page"
  }, [_vm._v(_vm._s(_vm.index) + "/2")]), _vm._v(" "), _c('div', {
    staticClass: "middle"
  }, [_c('div', {
    staticClass: "left"
  }, [(_vm.index == 2) ? _c('img', {
    staticClass: "arrow",
    attrs: {
      "src": __webpack_require__(2050),
      "alt": ""
    },
    on: {
      "click": function($event) {
        _vm.index = 1
      }
    }
  }) : _vm._e(), _vm._v(" "), (_vm.index == 1) ? _c('img', {
    staticClass: "arrow",
    attrs: {
      "src": __webpack_require__(2049),
      "alt": ""
    }
  }) : _vm._e()]), _vm._v(" "), _c('a', {
    attrs: {
      "href": '../../../static/img/teenager-test/page0' + _vm.index + '.png',
      "target": "_blank"
    }
  }, [_c('img', {
    staticClass: "pic",
    attrs: {
      "src": '../../../static/img/teenager-test/page0' + _vm.index + '.png',
      "alt": ""
    }
  })]), _vm._v(" "), _c('div', {
    staticClass: "right"
  }, [(_vm.index == 1) ? _c('img', {
    staticClass: "arrow",
    attrs: {
      "src": __webpack_require__(2052),
      "alt": ""
    },
    on: {
      "click": function($event) {
        _vm.index = 2
      }
    }
  }) : _vm._e(), _vm._v(" "), (_vm.index == 2) ? _c('img', {
    staticClass: "arrow",
    attrs: {
      "src": __webpack_require__(2051),
      "alt": ""
    }
  }) : _vm._e()])]), _vm._v(" "), _c('div', {
    staticClass: "close"
  }, [_c('img', {
    attrs: {
      "src": __webpack_require__(1163),
      "alt": ""
    },
    on: {
      "click": function($event) {
        _vm.index = 1;
        _vm.visible = false
      }
    }
  })])])]) : _vm._e()
},staticRenderFns: []}

/***/ }),

/***/ 2327:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('div', {
    staticClass: "mytbl"
  }, [(_vm.hasLoadMemberTestItem) ? _c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "140"
    }
  }, [_vm._v("测试项目")]), _vm._v(" "), _vm._l((_vm.memberTestList), function(mt, idx) {
    return _c('th', {
      attrs: {
        "width": "90"
      }
    }, [_vm._v(_vm._s(_vm.g.Util.formatDate(mt.testDate, false)))])
  }), _vm._v(" "), _c('th')], 2), _vm._v(" "), _vm._l((_vm.shopTestItemList), function(i) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(i.itemName)), (i.unitName) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("（" + _vm._s(i.unitName) + "）")]) : _vm._e()]), _vm._v(" "), _vm._l((_vm.memberTestList), function(mt) {
      return _c('td', [_vm._v(_vm._s(_vm.testItemMap[mt.mtId + '-' + i.itemId]))])
    }), _vm._v(" "), _c('td')], 2)
  })], 2) : _vm._e(), _vm._v(" "), _vm._l((_vm.memberTestList), function(t) {
    return _c('ul', {
      staticClass: "mtests"
    }, [_c('li', [_c('div', {
      staticClass: "tit"
    }, [_vm._v("测试人： " + _vm._s(t.testStaffName) + " "), _c('span', {
      staticClass: "spt"
    }, [_vm._v("|")]), _vm._v("\n\t\t\t\t\t测试时间： " + _vm._s(_vm.g.Util.formatDate(t.testDate)))]), _vm._v(" "), _c('div', {
      staticClass: "cont"
    }, [(t.remark) ? _c('pre', [_vm._v(_vm._s(t.remark))]) : _c('u', [_vm._v("无测试小结")])])])])
  }), _vm._v(" "), (_vm.memberTestList && _vm.memberTestList.length === 0) ? _c('div', {
    staticClass: "none"
  }, [_vm._v("\n\t\t\t暂无数据\n\t\t")]) : _vm._e()], 2)])
},staticRenderFns: []}

/***/ }),

/***/ 2336:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-test"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "tbl-header"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('div', {
    staticClass: "query-section"
  }, [_c('div', {
    staticClass: "item input-box",
    staticStyle: {
      "width": "150px"
    },
    on: {
      "click": function($event) {
        _vm.memberSelectDlgForQuery = true
      }
    }
  }, [(!_vm.memberTestQuery.memberId) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("点击选择会员")]) : _c('span', [_vm._v(_vm._s(_vm.memberTestQuery.memberName))])]), _vm._v(" "), _c('div', {
    staticClass: "item"
  }, [_c('i-button', {
    on: {
      "click": _vm.resetMemberTest
    }
  }, [_vm._v("重置")])], 1)])]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.editable) ? _c('i-button', {
    attrs: {
      "icon": "plus",
      "type": "primary"
    },
    on: {
      "click": _vm.addTest
    }
  }, [_vm._v("添加测试")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.memberTestList), function(item, idx) {
    return _c('tr', {
      key: idx
    }, [_c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.openMemberBaseDlg(item.memberId)
        }
      }
    }, [_vm._v(_vm._s(item.name))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(item.testDateTime.substring(0, 10)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(item.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(item.createTime))]), _vm._v(" "), _c('td', [(_vm.editable) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.editTest(item.memberId, item.mptId)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.deleteTestItem(item.mptId)
        }
      }
    }, [_vm._v("删除")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.createReport(item.mptId)
        }
      }
    }, [_vm._v(_vm._s(item.htmlUrl ? '重新' : '') + "生成报告")])]), _vm._v(" "), (item.htmlUrl) ? _c('li', [_c('a', {
      attrs: {
        "target": "_blank",
        "href": item.htmlUrl
      }
    }, [_vm._v("查看检测报告")])]) : _vm._e()]) : _vm._e()])])
  })], 2), _vm._v(" "), (_vm.memberTestCnt > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.memberTestCnt,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryTestList
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.memberTestList && _vm.memberTestList.length === 0) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e()])])], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "780",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员查询与选择",
      "width": "700",
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.memberSelectDlg),
      callback: function($$v) {
        _vm.memberSelectDlg = $$v
      },
      expression: "memberSelectDlg"
    }
  }, [(_vm.memberSelectDlg) ? _c('member-select', {
    attrs: {
      "after-select": _vm.afterSelectMember
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员查询与选择",
      "width": "700",
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.memberSelectDlgForQuery),
      callback: function($$v) {
        _vm.memberSelectDlgForQuery = $$v
      },
      expression: "memberSelectDlgForQuery"
    }
  }, [(_vm.memberSelectDlgForQuery) ? _c('member-select', {
    attrs: {
      "after-select": _vm.afterSelectMemberForQuery
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("会员姓名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("测试日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("测试人员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "180"
    }
  }, [_vm._v("创建时间")]), _vm._v(" "), _c('th', [_vm._v("操作")])])
}]}

/***/ }),

/***/ 2338:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-opt-log"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.logList), function(l, idx) {
    return _c('tr', [_c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(l.fromMemberId)
        }
      }
    }, [_vm._v(_vm._s(l.fromMemberName))])]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(l.toMemberId)
        }
      }
    }, [_vm._v(_vm._s(l.toMemberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardType[l.cardType]))]), _vm._v(" "), _c('td', [(l.transferValue) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(l.transferValue) + " " + _vm._s(_vm.g.Dict.CardUnitName[l.cardType]) + "\n\t\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), _c('td', [(l.mcBeginDate && l.mcEndDate) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.formatDate(l.mcBeginDate)) + " ~ " + _vm._s(_vm.g.Util.formatDate(l.mcEndDate)) + "\n\t\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.remark))])])
  })], 2), _vm._v(" "), (_vm.totalCount) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.totalCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryLog
    }
  })], 1) : _vm._e()]), _vm._v(" "), (_vm.logList && !_vm.logList.length) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("\n\t\t\t\t暂无数据\n\t\t\t")]) : _vm._e()])], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [_c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  })], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("转卡会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("转卡给")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("卡类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("转出")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "180"
    }
  }, [_vm._v("原始卡使用期限")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("操作时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', [_vm._v("备注")])])
}]}

/***/ }),

/***/ 2340:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('page-header', {
    attrs: {
      "title": _vm.memberName,
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', [_c('ul', {
    staticClass: "query-cond-inline"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("使用日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "-date",
    attrs: {
      "type": "date",
      "placeholder": "开始日期"
    },
    model: {
      value: (_vm.query.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "beginDate", $$v)
      },
      expression: "query.beginDate"
    }
  }), _vm._v("\n\t\t\t\t\t\t\t\t\t~\n                  "), _c('date-picker', {
    staticClass: "-date",
    attrs: {
      "type": "date",
      "placeholder": "结束日期"
    },
    model: {
      value: (_vm.query.endDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "endDate", $$v)
      },
      expression: "query.endDate"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.queryVenueBookings(null)
      }
    }
  }, [_vm._v("查询")])], 1)])]), _vm._v(" "), _c('td', {
    attrs: {
      "align": "right",
      "valign": "middle"
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t查询到 "), _c('b', [_vm._v(_vm._s(_vm.totalCount))]), _vm._v(" 条记录\n\t\t\t\t\t\t")])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.vabList), function(b, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(b.bookingDate)) + "   " + _vm._s(b.beginTime) + " ~ " + _vm._s(b.endTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(b.venueName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(b.areaName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(b.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardType[b.cardType]))]), _vm._v(" "), _c('td', [(b.cardType === 1) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("期限卡不计费")]) : (!_vm.g.Util.isEmpty(b.cardPayment)) ? _c('span', [_vm._v(_vm._s(b.cardPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[b.cardType]))]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(b.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(b.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(b.checkinUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(b.checkinTime))])])
  })], 2), _vm._v(" "), (_vm.totalCount && _vm.totalCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.totalCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryVenueBookings
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.vabList && !_vm.vabList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()])]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("场地取消日志")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_vm._v("\n\t\t\t\t\t\t查询到 "), _c('b', [_vm._v(_vm._s(_vm.cancelLogCount))]), _vm._v(" 条记录\n\t\t\t\t\t")])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(1), _vm._v(" "), _vm._l((_vm.cancelLogList), function(log, idx) {
    return (_vm.cancelLogList) ? _c('tr', [_c('td', [_vm._v(_vm._s(log.venueName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.areaName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(log.bookingDate)) + "   " + _vm._s(log.bookingBeginTime) + " ~ " + _vm._s(log.bookingEndTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.bookingCreateTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.cardPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[log.cardType]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(log.createTime))]), _vm._v(" "), _c('td', [(log.cancelPayment) ? [_vm._v(_vm._s(log.cancelPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[log.cardType]))] : (log.returnFee) ? _c('a', {
      on: {
        "click": function($event) {
          return _vm.viewFeelReturnDetail(log)
        }
      }
    }, [_vm._v("扣费已退")]) : _c('i', {
      staticClass: "gray"
    }, [_vm._v("无")])], 2)]) : _vm._e()
  })], 2)]), _vm._v(" "), (_vm.cancelLogList && !_vm.cancelLogList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n\t\t\t\t\t暂无数据\n\t\t\t\t")]) : _vm._e(), _vm._v(" "), (_vm.cancelLogList && _vm.cancelLogList.length) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.cancelLogCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryVenueAreaBookingCancelLog
    }
  })], 1) : _vm._e()])], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "取消扣费退回记录",
      "width": "600",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭"
    },
    model: {
      value: (_vm.returnCancelFeeDetailDlg),
      callback: function($$v) {
        _vm.returnCancelFeeDetailDlg = $$v
      },
      expression: "returnCancelFeeDetailDlg"
    }
  }, [(_vm.selectedLog) ? _c('div', {
    staticClass: "tblform"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("退回时间：")]), _c('td', [_vm._v(_vm._s(_vm.selectedLog.returnTime))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("退回人：")]), _c('td', [_vm._v(_vm._s(_vm.selectedLog.returnStaffName))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("退回费用：")]), _c('td', [_vm._v(_vm._s(_vm.selectedLog.returnFee) + " " + _vm._s(_vm.g.Dict.CardUnitName[_vm.selectedLog.cardType]))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("退回备注：")]), _c('td', [_vm._v(_vm._s(_vm.selectedLog.returnRemark))])])])]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        _vm.returnCancelFeeDetailDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("使用时间 ↓")]), _vm._v(" "), _c('th', [_vm._v("场馆")]), _vm._v(" "), _c('th', [_vm._v("场地")]), _vm._v(" "), _c('th', [_vm._v("计费卡")]), _vm._v(" "), _c('th', [_vm._v("卡类型")]), _vm._v(" "), _c('th', [_vm._v("消费")]), _vm._v(" "), _c('th', [_vm._v("预约人")]), _vm._v(" "), _c('th', [_vm._v("预约时间")]), _vm._v(" "), _c('th', [_vm._v("签到人")]), _vm._v(" "), _c('th', [_vm._v("签到时间")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("场馆")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("场地")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "180"
    }
  }, [_vm._v("场地使用时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("预约操作时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("计费会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("预约计费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("取消人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("取消时间")]), _vm._v(" "), _c('th', [_vm._v("取消扣费")])])
}]}

/***/ }),

/***/ 2345:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-create"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [(_vm.memberCnts && _vm.memberCnts.buys < 10000 && _vm.memberCnts.buys > 0 && _vm.memberCnts.remnant < 10) ? _c('section', [_c('table', {
    staticClass: "memb-cnts"
  }, [_c('tr', [_c('td', [_c('ul', [_c('li', [_vm._v("已购买会员数"), _c('div', {
    staticClass: "green"
  }, [_vm._v(_vm._s(_vm.memberCnts.buys))])]), _vm._v(" "), _c('li', [_vm._v("已创建会员数"), _c('div', {
    staticClass: "darkred"
  }, [_vm._v(_vm._s(_vm.memberCnts.creates))])]), _vm._v(" "), _c('li', [_vm._v("还可创建会员数"), _c('div', {
    staticClass: "orangered"
  }, [_vm._v(_vm._s(_vm.memberCnts.remnant > 0 ? _vm.memberCnts.remnant : 0))])])])]), _vm._v(" "), _c('td', {
    attrs: {
      "align": "right"
    }
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        return _vm.$router.push('/recharge')
      }
    }
  }, [_vm._v("在线购买会员数 →")])], 1)])])]) : _vm._e(), _vm._v(" "), (_vm.checkCard && _vm.checkCustSource) ? [(!_vm.dict.custSourceList.length || !_vm.dict.cardList.length) ? _c('section', {
    staticClass: "warning-box"
  }, [_c('ul', [(!_vm.dict.custSourceList.length) ? _c('li', [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v("尚未设置客户来源，"), _c('a', {
    attrs: {
      "href": "#/cust-source"
    }
  }, [_vm._v("去设置客户来源 →")])]) : _vm._e(), _vm._v(" "), (!_vm.dict.cardList.length) ? _c('li', [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v("尚未添加会员卡种类，"), _c('a', {
    on: {
      "click": function($event) {
        return _vm.$router.push('/shop-card-conf')
      }
    }
  }, [_vm._v("去设置会员卡 →")])]) : _vm._e()])]) : _vm._e()] : _vm._e(), _vm._v(" "), _c('section', {
    staticClass: "myform",
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员基本信息")]), _vm._v(" "), _c('i-form', {
    ref: "member",
    staticStyle: {
      "width": "550px"
    },
    attrs: {
      "model": _vm.member,
      "rules": _vm.memberFormRule,
      "label-width": 115
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "phoneNo",
      "label": "手机号"
    }
  }, [_c('div', {
    staticClass: "big-phone"
  }, [_vm._v(_vm._s(_vm.g.Util.formatPhone(_vm.member.phoneNo)))]), _vm._v(" "), _c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "请输入真实手机号，可用于系统登录"
    },
    on: {
      "on-blur": function($event) {
        return _vm.queryCustAndFillMember()
      }
    },
    model: {
      value: (_vm.member.phoneNo),
      callback: function($$v) {
        _vm.$set(_vm.member, "phoneNo", _vm._n($$v))
      },
      expression: "member.phoneNo"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "name",
      "label": "姓名"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "请填写真实姓名"
    },
    model: {
      value: (_vm.member.name),
      callback: function($$v) {
        _vm.$set(_vm.member, "name", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.name"
    }
  }), _vm._v(" "), (_vm.memberTips) ? _c('div', {
    staticClass: "orange p5"
  }, [_vm._v(_vm._s(_vm.memberTips))]) : _vm._e()], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "idNo",
      "label": "身份证号"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "会员身份证号（可选填）"
    },
    model: {
      value: (_vm.member.idNo),
      callback: function($$v) {
        _vm.$set(_vm.member, "idNo", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.idNo"
    }
  })], 1), _vm._v(" "), (_vm.member.phoneNo) ? _c('form-item', {
    attrs: {
      "prop": "password",
      "label": "初始登录密码"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "260px"
    },
    attrs: {
      "type": "text",
      "placeholder": "会员登录系统的密码（可选填）"
    },
    model: {
      value: (_vm.member.password),
      callback: function($$v) {
        _vm.$set(_vm.member, "password", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.password"
    }
  }), _vm._v(" "), _c('help', [_vm._v("\n            可设置会员登录系统时的密码，创建会员后，会员可使用手机号和密码登录健总管手机版。\n            "), _c('p'), _vm._v("\n            密码至少设置6位，建议使用会员身份证号后六位。\n          ")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sex",
      "label": "性别"
    }
  }, [(!_vm.member.idNo) ? _c('radio-group', {
    model: {
      value: (_vm.member.sex),
      callback: function($$v) {
        _vm.$set(_vm.member, "sex", _vm._n($$v))
      },
      expression: "member.sex"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("男")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("女")])], 1) : (_vm.member.sex !== null) ? _c('span', [_vm._v(_vm._s(_vm.g.Dict.Sex[_vm.member.sex === 1]) + " （" + _vm._s(_vm.g.Dict.SexDesc[_vm.member.sex === 1]) + "）")]) : _vm._e()], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "cardNo",
      "label": "会员卡号"
    }
  }, [_c('input-int', {
    staticClass: "card-no",
    attrs: {
      "placeholder": "请刷卡读出卡号",
      "min": "0"
    },
    model: {
      value: (_vm.member.cardNo),
      callback: function($$v) {
        _vm.$set(_vm.member, "cardNo", $$v)
      },
      expression: "member.cardNo"
    }
  }), _vm._v(" "), _c('i-button', {
    staticStyle: {
      "position": "relative",
      "top": "-2px",
      "margin-left": "5px"
    },
    attrs: {
      "icon": "plus"
    },
    on: {
      "click": _vm.addMemberCardNoBox
    }
  }, [_vm._v("更多卡号")]), _vm._v(" "), _c('help', {
    attrs: {
      "title": "提示"
    }
  }, [_vm._v("\n            健总管除了支持虚拟卡方式，也支持传统的绑定实物会员卡（一般用于入场签到刷卡）。\n            将实物卡号录入此处，就表示绑定会员卡，一个会员名下可绑定多张实物卡。\n            "), _c('p'), _c('b', {
    staticClass: "orange"
  }, [_vm._v("备注")]), _vm._v("： 此处千万不要输入卡表面的号码，要用读卡器读出卡内部编码（也称卡内号）\n          ")]), _vm._v(" "), _vm._l((_vm.memberCardNoList), function(c, idx) {
    return _c('div', [_c('input-int', {
      staticClass: "card-no more-card-no",
      model: {
        value: (_vm.memberCardNoList[idx]),
        callback: function($$v) {
          _vm.$set(_vm.memberCardNoList, idx, $$v)
        },
        expression: "memberCardNoList[idx]"
      }
    })], 1)
  })], 2), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "头像照"
    }
  }, [_c('i-button', {
    on: {
      "click": _vm.openPhotoDlg
    }
  }, [_vm._v("上传会员照")]), _vm._v(" "), (_vm.photo.imgUrl) ? _c('div', {
    staticClass: "member-photo"
  }, [_c('img', {
    attrs: {
      "src": _vm.photo.imgUrl
    }
  })]) : _vm._e()], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "birthday",
      "label": "生日"
    }
  }, [(!_vm.member.idNo) ? [_c('input-int', {
    staticClass: "-date-year",
    attrs: {
      "min": "1900"
    },
    model: {
      value: (_vm.member.birthdayYear),
      callback: function($$v) {
        _vm.$set(_vm.member, "birthdayYear", _vm._n($$v))
      },
      expression: "member.birthdayYear"
    }
  }), _vm._v(" 年  \n            "), _c('input-int', {
    staticClass: "-date-month-day",
    attrs: {
      "min": "1",
      "max": "12"
    },
    model: {
      value: (_vm.member.birthdayMonth),
      callback: function($$v) {
        _vm.$set(_vm.member, "birthdayMonth", _vm._n($$v))
      },
      expression: "member.birthdayMonth"
    }
  }), _vm._v(" 月  \n            "), _c('input-int', {
    staticClass: "-date-month-day",
    attrs: {
      "min": "1",
      "max": "31"
    },
    model: {
      value: (_vm.member.birthdayDay),
      callback: function($$v) {
        _vm.$set(_vm.member, "birthdayDay", _vm._n($$v))
      },
      expression: "member.birthdayDay"
    }
  }), _vm._v(" 日\n          ")] : _c('span', [_vm._v("\n            " + _vm._s(_vm.member.birthdayYear) + "-" + _vm._s(_vm.member.birthdayMonth) + "-" + _vm._s(_vm.member.birthdayDay) + "\n          ")]), _vm._v(" "), (_vm.member.birthdayYear) ? _c('span', {
    staticClass: "l15 bold"
  }, [_vm._v("（" + _vm._s(new Date().getFullYear() - _vm.member.birthdayYear) + "岁）")]) : _vm._e()], 2), _vm._v(" "), (_vm.g.data.shop.shopType === _vm.g.Dict.ShopType.FENCING) ? [_c('form-item', {
    attrs: {
      "prop": "fencingType",
      "label": "剑种"
    }
  }, [_c('i-select', {
    attrs: {
      "filterable": ""
    },
    model: {
      value: (_vm.member.fencingType),
      callback: function($$v) {
        _vm.$set(_vm.member, "fencingType", $$v)
      },
      expression: "member.fencingType"
    }
  }, _vm._l((_vm.g.Dict.FencingType), function(v, k) {
    return _c('i-option', {
      key: v.value,
      attrs: {
        "value": v.value
      }
    }, [_vm._v(_vm._s(v.name))])
  }), 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "fencingLevel",
      "label": "组别",
      "filterable": ""
    }
  }, [_c('i-select', {
    model: {
      value: (_vm.member.fencingLevel),
      callback: function($$v) {
        _vm.$set(_vm.member, "fencingLevel", $$v)
      },
      expression: "member.fencingLevel"
    }
  }, _vm._l((_vm.g.Dict.FencingLevel), function(v, k) {
    return _c('i-option', {
      key: v.value,
      attrs: {
        "value": v.value
      }
    }, [_vm._v(_vm._s(v.name))])
  }), 1)], 1)] : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "source",
      "label": "客户来源"
    }
  }, [_c('i-select', {
    model: {
      value: (_vm.member.source),
      callback: function($$v) {
        _vm.$set(_vm.member, "source", $$v)
      },
      expression: "member.source"
    }
  }, _vm._l((_vm.dict.custSourceList), function(s) {
    return _c('i-option', {
      key: s.sourceId,
      attrs: {
        "value": s.sourceId,
        "label": s.sourceName
      }
    }, [_c('span', [_vm._v(_vm._s(s.sourceName))]), _vm._v(" "), (s.sourceDesc) ? _c('span', {
      staticClass: "r gray"
    }, [_vm._v("# " + _vm._s(s.sourceDesc.substr(0, 24)))]) : _vm._e()])
  }), 1), _vm._v(" "), (!_vm.dict.custSourceList || _vm.dict.custSourceList.length === 0) ? _c('div', {
    staticClass: "orange"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 尚未设置客户来源， "), _c('a', {
    attrs: {
      "href": "#/cust-source"
    }
  }, [_vm._v("去设置客户来源 →")])]) : _vm._e()], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "orgId",
      "label": "所在单位"
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "385px"
    },
    attrs: {
      "placeholder": "请选择会员所在的单位（可选）"
    },
    model: {
      value: (_vm.member.orgId),
      callback: function($$v) {
        _vm.$set(_vm.member, "orgId", $$v)
      },
      expression: "member.orgId"
    }
  }, [_vm._l((_vm.memberOrgList), function(o) {
    return _c('i-option', {
      key: o.orgId,
      attrs: {
        "value": o.orgId
      }
    }, [_vm._v(_vm._s(o.orgName))])
  }), _vm._v(" "), _c('i-option', {
    key: 0,
    attrs: {
      "value": ""
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("无")])])], 2), _vm._v(" "), _c('i-button', {
    staticStyle: {
      "display": "inline-block",
      "width": "40px",
      "margin-left": "5px"
    },
    attrs: {
      "icon": "plus"
    },
    on: {
      "click": function($event) {
        _vm.orgDlgView = true
      }
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "salesId",
      "label": "销售"
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "160px"
    },
    attrs: {
      "filterable": ""
    },
    model: {
      value: (_vm.member.salesId),
      callback: function($$v) {
        _vm.$set(_vm.member, "salesId", $$v)
      },
      expression: "member.salesId"
    }
  }, [_vm._l((_vm.dict.salesList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), _vm._v(" "), _c('i-option', {
    key: 0,
    attrs: {
      "value": ""
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("无")])])], 2), _vm._v(" "), _c('span', {
    staticClass: "orange"
  }, [_vm._v("  "), _c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 用于销售人员的工资提成，请慎重选择")])], 1), _vm._v(" "), (_vm.dict.coachList) ? _c('form-item', {
    attrs: {
      "prop": "coachId",
      "label": "教练"
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "328px"
    },
    attrs: {
      "filterable": ""
    },
    model: {
      value: (_vm.member.coachId),
      callback: function($$v) {
        _vm.$set(_vm.member, "coachId", $$v)
      },
      expression: "member.coachId"
    }
  }, [_vm._l((_vm.dict.coachList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), _vm._v(" "), _c('i-option', {
    key: 0,
    attrs: {
      "value": ""
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("无")])])], 2), _vm._v(" "), _c('i-button', {
    staticStyle: {
      "margin-left": "5px"
    },
    attrs: {
      "icon": "plus"
    },
    on: {
      "click": _vm.clickAddMoreCoach
    }
  }, [_vm._v("更多教练")]), _vm._v(" "), _vm._l((_vm.memberCoachList), function(c, idx) {
    return _c('div', {
      staticClass: "p10"
    }, [_c('i-select', {
      staticStyle: {
        "width": "170px"
      },
      attrs: {
        "placeholder": "选择教练类型"
      },
      model: {
        value: (c.coachType),
        callback: function($$v) {
          _vm.$set(c, "coachType", $$v)
        },
        expression: "c.coachType"
      }
    }, _vm._l((_vm.dict.coachTypeList), function(s) {
      return _c('i-option', {
        key: s.ctId,
        attrs: {
          "value": s.ctId
        }
      }, [_vm._v(_vm._s(s.typeName))])
    }), 1), _vm._v("\n             \n            "), _c('i-select', {
      staticStyle: {
        "width": "146px"
      },
      attrs: {
        "filterable": "",
        "placeholder": "选择教练"
      },
      model: {
        value: (c.coachId),
        callback: function($$v) {
          _vm.$set(c, "coachId", $$v)
        },
        expression: "c.coachId"
      }
    }, [_c('i-option', {
      key: 0,
      attrs: {
        "value": ""
      }
    }, [_c('span', {
      staticClass: "gray"
    }, [_vm._v("无")])]), _vm._v(" "), _vm._l((_vm.dict.coachList), function(s) {
      return _c('i-option', {
        key: s.staffId,
        attrs: {
          "value": s.staffId
        }
      }, [_vm._v(_vm._s(s.name))])
    })], 2)], 1)
  })], 2) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "advisorId",
      "label": "会籍顾问"
    }
  }, [_c('i-select', {
    attrs: {
      "filterable": ""
    },
    model: {
      value: (_vm.member.advisorId),
      callback: function($$v) {
        _vm.$set(_vm.member, "advisorId", $$v)
      },
      expression: "member.advisorId"
    }
  }, [_vm._l((_vm.dict.advisorList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), _vm._v(" "), _c('i-option', {
    key: 0,
    attrs: {
      "value": ""
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("无")])])], 2)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "wxNo",
      "label": "微信号"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "请输入此会员的微信号"
    },
    model: {
      value: (_vm.member.wxNo),
      callback: function($$v) {
        _vm.$set(_vm.member, "wxNo", _vm._n($$v))
      },
      expression: "member.wxNo"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "emergencyPhone",
      "label": "紧急手机号"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "请输入此会员的紧急联系人手机号"
    },
    model: {
      value: (_vm.member.emergencyPhone),
      callback: function($$v) {
        _vm.$set(_vm.member, "emergencyPhone", _vm._n($$v))
      },
      expression: "member.emergencyPhone"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "会员地址"
    }
  }, [_c('row', {
    staticStyle: {
      "margin-bottom": "10px"
    },
    attrs: {
      "gutter": 10,
      "type": "flex",
      "justify": "space-between"
    }
  }, [_c('i-col', {
    attrs: {
      "span": "7"
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "addrProvince"
    }
  }, [_c('i-select', {
    attrs: {
      "placeholder": "省（直辖市）",
      "filterable": ""
    },
    on: {
      "on-change": _vm.onChangeAddrL1
    },
    model: {
      value: (_vm.member.addrProvince),
      callback: function($$v) {
        _vm.$set(_vm.member, "addrProvince", $$v)
      },
      expression: "member.addrProvince"
    }
  }, _vm._l((_vm.addrList[0]), function(r) {
    return _c('i-option', {
      key: r.label,
      attrs: {
        "value": r.value
      }
    }, [_vm._v(_vm._s(r.label))])
  }), 1)], 1)], 1), _vm._v(" "), _c('i-col', {
    attrs: {
      "span": "10"
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "addrCity"
    }
  }, [_c('i-select', {
    attrs: {
      "placeholder": "地级市",
      "filterable": ""
    },
    on: {
      "on-change": _vm.onChangeAddrL2
    },
    model: {
      value: (_vm.member.addrCity),
      callback: function($$v) {
        _vm.$set(_vm.member, "addrCity", $$v)
      },
      expression: "member.addrCity"
    }
  }, _vm._l((_vm.addrList[1]), function(r) {
    return _c('i-option', {
      key: r.label,
      attrs: {
        "value": r.value
      }
    }, [_vm._v(_vm._s(r.label))])
  }), 1)], 1)], 1), _vm._v(" "), _c('i-col', {
    attrs: {
      "span": "7"
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "addrDistrict"
    }
  }, [_c('i-select', {
    attrs: {
      "placeholder": "县级市（区）",
      "filterable": ""
    },
    model: {
      value: (_vm.member.addrDistrict),
      callback: function($$v) {
        _vm.$set(_vm.member, "addrDistrict", $$v)
      },
      expression: "member.addrDistrict"
    }
  }, _vm._l((_vm.addrList[2]), function(r) {
    return _c('i-option', {
      key: r.label,
      attrs: {
        "value": r.value
      }
    }, [_vm._v(_vm._s(r.label))])
  }), 1)], 1)], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "addrDetail"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "row": "3",
      "placeholder": "请输入街道和门牌号"
    },
    model: {
      value: (_vm.member.addrDetail),
      callback: function($$v) {
        _vm.$set(_vm.member, "addrDetail", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.addrDetail"
    }
  })], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "introducerPhone",
      "label": "推荐人"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "请输入推荐人手机号"
    },
    model: {
      value: (_vm.member.introducerPhone),
      callback: function($$v) {
        _vm.$set(_vm.member, "introducerPhone", _vm._n($$v))
      },
      expression: "member.introducerPhone"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "contractNo",
      "label": "合同编号"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": ""
    },
    model: {
      value: (_vm.member.contractNo),
      callback: function($$v) {
        _vm.$set(_vm.member, "contractNo", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.contractNo"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "carNos",
      "label": "车牌号"
    }
  }, [_c('div', {
    staticClass: "car-nos"
  }, [_vm._l((_vm.carNoList), function(cn, idx) {
    return _c('tag', {
      key: idx,
      attrs: {
        "name": cn,
        "closable": ""
      },
      on: {
        "on-close": function($event) {
          return _vm.removeCarNo(cn)
        }
      }
    }, [_vm._v(_vm._s(cn))])
  }), _vm._v(" "), _c('i-button', {
    attrs: {
      "icon": "ios-plus-empty",
      "type": "dashed",
      "size": "small"
    },
    on: {
      "click": _vm.appendCarNo
    }
  }, [_vm._v("添加")])], 2)]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "会员备注"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "680px"
    },
    attrs: {
      "type": "textarea",
      "rows": 8
    },
    model: {
      value: (_vm.member.remark),
      callback: function($$v) {
        _vm.$set(_vm.member, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "member.remark"
    }
  })], 1), _vm._v(" "), (_vm.editMplTimePermit) ? _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "注册时间"
    }
  }, [_c('DatePicker', {
    attrs: {
      "type": "datetime",
      "format": "yyyy-MM-dd HH:mm:ss",
      "placeholder": "请设置会员注册日期"
    },
    model: {
      value: (_vm.member.regDate),
      callback: function($$v) {
        _vm.$set(_vm.member, "regDate", $$v)
      },
      expression: "member.regDate"
    }
  }), _vm._v(" "), _c('help', {
    attrs: {
      "title": "提示"
    }
  }, [_vm._v("\n            注册时间，是指会员在贵店首次注册或办卡的时间，默认为当前时间；如果会员是之前注册的，需要填写当时的实际时间；\n            "), _c('p', [_vm._v("此时间也是会员首次购卡的时间。")])])], 1) : _vm._e()], 2), _vm._v(" "), _c('div', {
    staticClass: "tit"
  }, [_vm._v("购买会员卡")]), _vm._v(" "), _c('i-form', {
    ref: "memberNewCard",
    staticStyle: {
      "width": "550px"
    },
    attrs: {
      "model": _vm.memberNewCard,
      "rules": _vm.memberNewCardFormRule,
      "label-width": 115
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "cardId",
      "label": "会员卡种类"
    }
  }, [_c('i-select', {
    attrs: {
      "filterable": ""
    },
    on: {
      "on-change": _vm.handleCardSelect
    },
    model: {
      value: (_vm.memberNewCard.cardId),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "cardId", _vm._n($$v))
      },
      expression: "memberNewCard.cardId"
    }
  }, _vm._l((_vm.dict.cardList), function(c) {
    return _c('i-option', {
      key: c.cardId,
      attrs: {
        "value": c.cardId,
        "label": c.cardName
      }
    }, [_c('span', [_vm._v(_vm._s(c.cardName))]), _vm._v(" "), _c('span', {
      staticStyle: {
        "float": "right",
        "color": "#bbb"
      }
    }, [_vm._v(_vm._s(_vm.g.Dict.CardClass[c.cardClass]) + " / " + _vm._s(c.cardTypeName))])])
  }), 1), _vm._v(" "), (_vm.dict.cardList && _vm.dict.cardList.length === 0) ? _c('div', {
    staticClass: "orange"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 尚未添加会员卡种类，"), _c('a', {
    on: {
      "click": function($event) {
        return _vm.$router.push('/shop-card-conf')
      }
    }
  }, [_vm._v("去设置会员卡 →")])]) : _vm._e()], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "usableAmount",
      "label": "充值金额"
    }
  }, [_c('input-num', {
    attrs: {
      "min": "0",
      "title": ""
    },
    model: {
      value: (_vm.memberNewCard.usableAmount),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "usableAmount", $$v)
      },
      expression: "memberNewCard.usableAmount"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1), _vm._v(" "), (_vm.memberNewCard.deposit) ? _c('form-item', {
    attrs: {
      "prop": "deposit",
      "label": "已交订金"
    }
  }, [_c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.memberNewCard.deposit))]), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])]) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "paymentAmount",
      "label": "实收金额"
    }
  }, [_c('input-num', {
    attrs: {
      "min": "0",
      "title": ""
    },
    model: {
      value: (_vm.memberNewCard.paymentAmount),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "paymentAmount", _vm._n($$v))
      },
      expression: "memberNewCard.paymentAmount"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")]), _vm._v(" "), _c('span', {
    staticStyle: {
      "margin-left": "25px"
    }
  }, [_c('a', {
    on: {
      "click": _vm.openAmountDiscountCalcDlg
    }
  }, [_vm._v("折扣计算")]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v(" "), _c('a', {
    on: {
      "click": _vm.openAmountRateCalcDlg
    }
  }, [_vm._v("费率计算")]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v(" "), _c('a', {
    on: {
      "click": _vm.openNumDlg
    }
  }, [_vm._v("简易计算器")])])], 1), _vm._v(" "), (_vm.memberNewCard.cardType === 2) ? _c('form-item', {
    attrs: {
      "prop": "usableTimes",
      "label": "使用次数"
    }
  }, [_c('input-num', {
    attrs: {
      "min": 1
    },
    model: {
      value: (_vm.memberNewCard.usableTimes),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "usableTimes", $$v)
      },
      expression: "memberNewCard.usableTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次")])], 1) : _vm._e(), _vm._v(" "), (!_vm.memberNewCard.autoActiveCard) ? _c('form-item', {
    attrs: {
      "prop": "usableDays",
      "label": "使用天数"
    }
  }, [_c('input-int', {
    attrs: {
      "min": 1
    },
    on: {
      "blur": _vm.calcCardEndDate
    },
    model: {
      value: (_vm.memberNewCard.usableDays),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "usableDays", $$v)
      },
      expression: "memberNewCard.usableDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), (_vm.memberNewCard.cardType > 1) ? _c('span', {
    staticClass: "l10 tips"
  }, [_vm._v("（有效期天数）")]) : _vm._e()], 1) : _vm._e(), _vm._v(" "), (_vm.memberNewCard.cardType === 4) ? _c('form-item', {
    attrs: {
      "prop": "usableTimes",
      "label": "使用时间"
    }
  }, [_c('input-num', {
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.memberNewCard.usableTimes),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "usableTimes", $$v)
      },
      expression: "memberNewCard.usableTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v(_vm._s(_vm.g.Dict.CardTimeTypes[_vm.memberNewCard.cardTimeType]))])], 1) : _vm._e(), _vm._v(" "), [_c('form-item', {
    attrs: {
      "prop": "autoActiveCard",
      "label": "设定开卡日期"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.memberNewCard.expDateDisable
    },
    model: {
      value: (_vm.memberNewCard.autoActiveCard),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "autoActiveCard", $$v)
      },
      expression: "memberNewCard.autoActiveCard"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), (!_vm.memberNewCard.autoActiveCard) ? _c('span', {
    staticClass: "orange l10"
  }, [_vm._v(" 【否】表示，开卡日期以会员第一次使用日期为准")]) : _vm._e(), _vm._v(" "), _c('help', {
    attrs: {
      "title": "帮助"
    }
  }, [_vm._v("\n              选择“否”，开卡日期以会员第一次使用日期为准；\n              "), _c('br'), _vm._v("选择“是”，系统会根据您设定的【开卡日期】设置会员卡开始日期。\n            ")])], 1), _vm._v(" "), (_vm.memberNewCard.autoActiveCard) ? _c('form-item', {
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "prop": "beginDate",
      "label": "开卡日期"
    }
  }, [_c('date-picker', {
    staticClass: "input-s",
    attrs: {
      "type": "date",
      "readonly": _vm.memberNewCard.expDateDisable
    },
    on: {
      "on-change": _vm.calcCardEndDate
    },
    model: {
      value: (_vm.memberNewCard.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "beginDate", $$v)
      },
      expression: "memberNewCard.beginDate"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "l15"
  }, [_c('i-select', {
    staticStyle: {
      "width": "85px"
    },
    model: {
      value: (_vm.cardEndDateEditType),
      callback: function($$v) {
        _vm.cardEndDateEditType = $$v
      },
      expression: "cardEndDateEditType"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("使用天数")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("到期日期")])], 1), _vm._v(" "), (_vm.cardEndDateEditType === 1) ? [_c('input-int', {
    staticClass: "card-days1",
    attrs: {
      "min": 1
    },
    on: {
      "blur": _vm.calcCardEndDate
    },
    model: {
      value: (_vm.memberNewCard.usableDays),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "usableDays", $$v)
      },
      expression: "memberNewCard.usableDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), (_vm.memberNewCard.endDate) ? _c('b', {
    staticClass: "l5"
  }, [_vm._v("（到期日期：" + _vm._s(_vm.g.Util.formatDate(_vm.memberNewCard.endDate)) + "）")]) : _vm._e()] : [_c('date-picker', {
    staticClass: "input-s",
    attrs: {
      "type": "date",
      "readonly": _vm.memberNewCard.expDateDisable
    },
    on: {
      "on-change": _vm.calcCardUsableDays
    },
    model: {
      value: (_vm.memberNewCard.endDate),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "endDate", $$v)
      },
      expression: "memberNewCard.endDate"
    }
  }), _vm._v(" "), (_vm.memberNewCard.usableDays) ? _c('b', {
    staticClass: "l5"
  }, [_vm._v("（使用天数：" + _vm._s(_vm.memberNewCard.usableDays) + "天）")]) : _vm._e()]], 2)], 1) : _vm._e(), _vm._v(" "), (!_vm.memberNewCard.autoActiveCard) ? _c('form-item', {
    attrs: {
      "prop": "limitBeginDate",
      "label": "最迟开卡日期"
    }
  }, [_c('date-picker', {
    staticClass: "input-s",
    attrs: {
      "type": "date"
    },
    model: {
      value: (_vm.memberNewCard.limitBeginDate),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "limitBeginDate", $$v)
      },
      expression: "memberNewCard.limitBeginDate"
    }
  }), _vm._v(" "), _c('help', {
    attrs: {
      "title": "帮助"
    }
  }, [_vm._v("\n              如果会员在此日期之后才首次开卡（使用），那么系统自动从此最迟开卡日期起计算。\n              "), _c('p'), _vm._v("\n              例如：会员【2017-3-1】办卡，最迟开卡日期设置为【2017-5-1】，如果会员【2017-6-1】首次来馆锻炼（开卡），\n              那么会员卡开卡日期会自动设置为【2017-5-1】。\n            ")])], 1) : _vm._e()], _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "paymentChannel",
      "label": "支付方式",
      "required": ""
    }
  }, [_c('radio-group', {
    model: {
      value: (_vm.memberNewCard.paymentChannel),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "paymentChannel", $$v)
      },
      expression: "memberNewCard.paymentChannel"
    }
  }, [(_vm.cardMap && _vm.cardMap.isOfflineSaleForPos) ? [_c('radio', {
    attrs: {
      "label": 8
    }
  }, [_vm._v("POS机")])] : [(_vm.isPosArg && _vm.posPayRole && !_vm.memberDraftCreatePermit) ? [_vm._l((_vm.g.Dict.CardPaymentChannel), function(name, key) {
    return [_c('radio', {
      key: +key,
      attrs: {
        "label": +key
      }
    }, [_vm._v(_vm._s(name))])]
  })] : [_vm._l((_vm.g.Dict.CardPaymentChannel), function(name, key) {
    return [(+key !== 8) ? _c('radio', {
      key: +key,
      attrs: {
        "label": +key
      }
    }, [_vm._v(_vm._s(name))]) : _vm._e()]
  })]]], 2)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "充值备注"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 3
    },
    model: {
      value: (_vm.memberNewCard.remark),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberNewCard.remark"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "附件"
    }
  }, [_c('img-upload', {
    attrs: {
      "multiple": true,
      "removeable": true,
      "max-count": 5,
      "action": _vm.mcpImgUpload.action,
      "img-max-width": _vm.mcpImgUpload.imgMaxWidth,
      "on-success": _vm.handleMcpImgUploadSuccess,
      "on-remove": _vm.handleMcpImgRemove,
      "max-size": _vm.mcpImgUpload.maxSize,
      "default-file-list": _vm.mcpImgUpload.defaultList
    }
  }, [_c('i-button', {
    attrs: {
      "type": "ghost",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("点击上传附件图片")]), _vm._v("\n              "), _c('span', {
    staticClass: "gray"
  }, [_vm._v("（最多可上传 "), _c('b', [_vm._v("5")]), _vm._v(" 张）")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": ""
    }
  }, [_c('div', {
    staticClass: "card-num-conf"
  }, [_c('checkbox', {
    model: {
      value: (_vm.needCreateMoreCards),
      callback: function($$v) {
        _vm.needCreateMoreCards = $$v
      },
      expression: "needCreateMoreCards"
    }
  }, [_c('span', {
    class: {
      gray: !_vm.needCreateMoreCards
    }
  }, [_vm._v("批量创建会员卡")])]), _vm._v(" "), (_vm.needCreateMoreCards) ? [_c('input-int', {
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.memberNewCardCount),
      callback: function($$v) {
        _vm.memberNewCardCount = $$v
      },
      expression: "memberNewCardCount"
    }
  }), _c('span', {
    staticClass: "l10"
  }, [_vm._v("张")]), _vm._v(" "), _c('help', [_vm._v("\n                如果设置了批量创建会员卡，提交后将创建若干份相同的会员卡信息，同时会自动生成多份会员卡账单。\n              ")])] : _vm._e()], 2)])], 2), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "115px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.handleSubmit()
      }
    }
  }, [_vm._v("提交")])], 1)], 1)], 2), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "设置会员所在单位",
      "width": "600"
    },
    model: {
      value: (_vm.orgDlgView),
      callback: function($$v) {
        _vm.orgDlgView = $$v
      },
      expression: "orgDlgView"
    }
  }, [(_vm.orgDlgView) ? [_c('member-org-conf', {
    attrs: {
      "after-submit": _vm.afterConfMemberOrg
    }
  })] : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 2), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "上传会员头像照",
      "width": "700",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.photo.photoDlgView),
      callback: function($$v) {
        _vm.$set(_vm.photo, "photoDlgView", $$v)
      },
      expression: "photo.photoDlgView"
    }
  }, [_c('div', {
    staticClass: "take-photo-type"
  }, [_c('RadioGroup', {
    on: {
      "on-change": _vm.changePhotoType
    },
    model: {
      value: (_vm.photo.takePhotoType),
      callback: function($$v) {
        _vm.$set(_vm.photo, "takePhotoType", _vm._n($$v))
      },
      expression: "photo.takePhotoType"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("从电脑上选择")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("用摄像头拍摄")])], 1)], 1), _vm._v(" "), (_vm.photo.takePhotoType === 1) ? _c('div', [_c('img-upload', {
    attrs: {
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "on-success": _vm.handleImgUploadSuccess,
      "max-size": _vm.imgUpload.maxSize
    }
  }, [_c('i-button', {
    attrs: {
      "type": "ghost",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("点击上传会员照")])], 1)], 1) : _vm._e(), _vm._v(" "), (_vm.photo.takePhotoType === 2) ? _c('div', {
    staticClass: "take-photo"
  }, [_c('table', {
    staticClass: "mytbl"
  }, [_c('tr', [_c('td', {
    staticClass: "center"
  }, [_c('video', {
    ref: "video",
    staticStyle: {
      "background": "#ddd"
    },
    attrs: {
      "width": "310",
      "height": "250",
      "autoplay": ""
    }
  }), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.takePhoto
    }
  }, [_vm._v("点击拍照")])], 1), _vm._v(" "), _c('td', {
    staticClass: "center"
  }, [_c('canvas', {
    ref: "canvas",
    staticStyle: {
      "background": "#ddd"
    },
    attrs: {
      "width": "310",
      "height": "250"
    }
  }), _vm._v(" "), (_vm.photo.hasTakePhoto) ? _c('i-button', {
    on: {
      "click": _vm.uploadPhotoImg
    }
  }, [_vm._v("上传照片")]) : _c('i-button', {
    attrs: {
      "disabled": true
    }
  }, [_vm._v("上传照片")])], 1)])])]) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "实收金额折扣计算",
      "width": "650"
    },
    model: {
      value: (_vm.amountDiscountCalcDlg),
      callback: function($$v) {
        _vm.amountDiscountCalcDlg = $$v
      },
      expression: "amountDiscountCalcDlg"
    }
  }, [_c('amount-discount-calc', {
    attrs: {
      "default-val": _vm.defaultValOfDlg,
      "after-confirm": _vm.afterCalcPaymentAmount
    }
  }), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "实收金额费率计算",
      "width": "650"
    },
    model: {
      value: (_vm.amountRateCalcDlg),
      callback: function($$v) {
        _vm.amountRateCalcDlg = $$v
      },
      expression: "amountRateCalcDlg"
    }
  }, [_c('amount-rate-calc', {
    attrs: {
      "default-val": _vm.defaultValOfDlg,
      "after-confirm": _vm.afterCalcPaymentAmount
    }
  }), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "简易计算器",
      "width": "650",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.numCalcDlg),
      callback: function($$v) {
        _vm.numCalcDlg = $$v
      },
      expression: "numCalcDlg"
    }
  }, [_c('num-calc'), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "会员创建确认",
      "width": "650"
    },
    model: {
      value: (_vm.memberCreateConfirmDlg),
      callback: function($$v) {
        _vm.memberCreateConfirmDlg = $$v
      },
      expression: "memberCreateConfirmDlg"
    }
  }, [(_vm.memberCreateConfirmDlg) ? _c('div', {
    staticClass: "memb-confirm"
  }, [_vm._v("\n      您正在创建会员账户 "), _c('b', {
    staticClass: "bigger"
  }, [_vm._v(_vm._s(_vm.memberConfirm.name))]), _vm._v(" ，请核对以下重要信息后再提交。\n      "), _c('div', {
    staticClass: "p10"
  }, [_c('table', [_c('tr', {
    attrs: {
      "width": "100"
    }
  }, [_c('th', [_vm._v("会员卡：")]), _vm._v(" "), _c('td', [_c('b', {
    staticClass: "bigger red"
  }, [_vm._v(_vm._s(_vm.memberConfirm.cardName))])])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("充值金额：")]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.memberConfirm.usableAmount))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("实收金额：")]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.memberConfirm.paymentAmount))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("销售人员：")]), _vm._v(" "), _c('td', [(_vm.memberConfirm.salesName) ? _c('b', [_vm._v(_vm._s(_vm.memberConfirm.salesName))]) : _c('i', {
    staticClass: "orangered"
  }, [_vm._v("未选择")])])])])]), _vm._v(" "), _c('div', {
    staticClass: "form-submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary",
      "loading": _vm.submitLoading
    },
    on: {
      "click": _vm.submitMemberCreate
    }
  }, [_vm._v("确定提交")]), _vm._v("\n          "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.memberCreateConfirmDlg = false
      }
    }
  }, [_vm._v("取消")])], 1)]) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }), _vm._v(" "), _c('Modal')], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "会员手机号验证",
      "width": "650",
      "closable": false,
      "mask-closable": false
    },
    model: {
      value: (_vm.phoneInOtherTenantCheckDlg),
      callback: function($$v) {
        _vm.phoneInOtherTenantCheckDlg = $$v
      },
      expression: "phoneInOtherTenantCheckDlg"
    }
  }, [(_vm.phoneInOtherTenantCheckDlg) ? _c('div', {
    staticClass: "big center"
  }, [_c('b', {
    staticClass: "orange"
  }, [_vm._v(_vm._s(_vm.member.phoneNo))]), _vm._v(" 已在健总管其他商户中存在，请选择其它手机号。\n      "), _c('p'), _vm._v("如果确实需要使用此手机号，请通过短信验证码验证（需计费短信数）。\n      "), _c('div', {
    staticClass: "p15"
  }, [_c('input-int', {
    attrs: {
      "placeholder": "请输入短信验证码"
    },
    model: {
      value: (_vm.phoneAuthcode),
      callback: function($$v) {
        _vm.phoneAuthcode = $$v
      },
      expression: "phoneAuthcode"
    }
  }), _vm._v(" "), _c('span', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.authcodeDisabled),
      expression: "authcodeDisabled"
    }],
    staticClass: "l10 small green"
  }, [_vm._v(_vm._s(_vm.authcodeLabel))]), _vm._v(" "), _c('a', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (!_vm.authcodeDisabled),
      expression: "!authcodeDisabled"
    }],
    staticClass: "l10 small",
    on: {
      "click": _vm.onClickSmsAuthcodeBtn
    }
  }, [_vm._v("获取短信验证码")])], 1), _vm._v(" "), _c('div', {
    staticClass: "form-submit center"
  }, [_c('i-button', {
    on: {
      "click": _vm.checkPhoneAuthcode
    }
  }, [_vm._v("检查短信验证码")]), _vm._v("\n         \n        "), _c('i-button', {
    on: {
      "click": _vm.closephoneInOtherTenantCheckDlg
    }
  }, [_vm._v("重新填写手机号")])], 1)]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('Modal', {
    attrs: {
      "mask-closable": false,
      "title": "订单支付（使用POS机扫描该二维码）",
      "footer-hide": "",
      "width": "375",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.posTradeNoShow),
      callback: function($$v) {
        _vm.posTradeNoShow = $$v
      },
      expression: "posTradeNoShow"
    }
  }, [_c('div', {
    staticClass: "qrcode-order"
  }, [(_vm.qrcodeTradeNoUrl) ? _c('div', {
    staticClass: "pos-qrcode-img center"
  }, [_c('qrcode-vue', {
    attrs: {
      "value": _vm.qrcodeTradeNoUrl,
      "size": 200,
      "level": "H"
    }
  })], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center"
  }, [_vm._v("需支付金额："), _c('span', {
    staticClass: "red"
  }, [_vm._v("￥ ")]), _c('span', {
    staticClass: "order-amount"
  }, [_vm._v(_vm._s(_vm.paymentAmount))])]), _vm._v(" "), _c('div', {
    staticClass: "center none"
  }, [_vm._v("注意：使用POS扫码之后该订单将无法被修改")])])])], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2347:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-opt-log"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    staticClass: "inner-tbl"
  }, [_vm._m(0), _vm._v(" "), _vm._l((_vm.cardStatusLog.data), function(l) {
    return _c('tr', [_c('td', [_c('router-link', {
      staticClass: "block",
      attrs: {
        "to": '/member-card-list/' + l.memberId
      }
    }, [_vm._v(_vm._s(l.memberName.shorten(4)))])], 1), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.MemberCardStatus[l.status]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [(l.remark) ? [_vm._v(_vm._s(l.remark))] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("恢复正常")])], 2)])
  })], 2), _vm._v(" "), (_vm.cardStatusLog.count && _vm.cardStatusLog.count >= 1) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.cardStatusLog.count,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMemberCardStatusLog
    }
  })], 1) : _vm._e()]), _vm._v(" "), (_vm.cardStatusLog.data && _vm.cardStatusLog.data.length === 0) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("\n\t\t\t\t暂无数据\n\t\t\t")]) : _vm._e()])], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("会员")]), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("会员卡")]), _c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "170"
    }
  }, [_vm._v("操作时间")]), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("操作人")]), _c('th', [_vm._v("备注")])])
}]}

/***/ }),

/***/ 2355:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [(_vm.mc) ? _c('table', {
    staticClass: "stat"
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "60"
    }
  }), _vm._v(" "), _c('td', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("总充值：")]), _vm._v(" "), _c('td', [(_vm.mc.cardType === 2) ? [_c('b', {
    staticClass: "green"
  }, [_vm._v(_vm._s(_vm.mc.cardTotalTimes || 0))]), _vm._v(" 次")] : (_vm.mc.cardType === 3) ? [_c('b', {
    staticClass: "green"
  }, [_vm._v(_vm._s(_vm.mc.cardTotalAmount || 0))]), _vm._v(" 元")] : _vm._e()], 2)]), _vm._v(" "), (_vm.consumeStat.costSum) ? _c('tr', [_vm._m(0), _vm._v(" "), _c('td', [_vm._v("总消费：")]), _vm._v(" "), _c('td', [_c('b', {
    staticClass: "red"
  }, [_vm._v(_vm._s(_vm.consumeStat.costSum))]), _vm._v(" " + _vm._s(_vm.cardUnitName))])]) : _vm._e(), _vm._v(" "), (_vm.transFromValue) ? _c('tr', [_vm._m(1), _vm._v(" "), _c('td', [_vm._v("转卡转入：")]), _vm._v(" "), _c('td', [_c('b', {
    staticClass: "green"
  }, [_vm._v(_vm._s(_vm.transFromValue))]), _vm._v(" " + _vm._s(_vm.cardUnitName))])]) : _vm._e(), _vm._v(" "), (_vm.transToValue) ? _c('tr', [_vm._m(2), _vm._v(" "), _c('td', [_vm._v("转卡转出：")]), _vm._v(" "), _c('td', [_c('b', {
    staticClass: "red"
  }, [_vm._v(_vm._s(_vm.transToValue))]), _vm._v(" " + _vm._s(_vm.cardUnitName))])]) : _vm._e(), _vm._v(" "), _c('tr', [_vm._m(3), _vm._v(" "), _c('td', [_vm._v("剩余值：")]), _vm._v(" "), _c('td', [_c('b', {
    staticClass: "green"
  }, [_vm._v(_vm._s(_vm.calcCurrentValue))]), _vm._v(" " + _vm._s(_vm.cardUnitName) + "\n\t\t\t\t"), (_vm.calcCurrentValue === _vm.mcCurrentValue) ? _c('span', {
    staticClass: "l10"
  }, [_c('i', {
    staticClass: "iconfont icon-check2 green biggest"
  })]) : _c('div', {
    staticClass: "diff"
  }, [_vm._v("\n\t\t\t\t\t与会员卡显示剩余值"), _c('b', [_vm._v(_vm._s(_vm.mcCurrentValue))]), _vm._v("不一致（相差 " + _vm._s(_vm.g.Util.round(_vm.mcCurrentValue - _vm.calcCurrentValue)) + "），\n\t\t\t\t\t"), (_vm.calcCurrentValue >= 0) ? _c('a', {
    on: {
      "click": _vm.correctMemberCardCurrentValue
    }
  }, [_vm._v("点击自动纠正")]) : [_vm._v("很可能是导入会员时无充值记录所致")]], 2)])])]) : _vm._e()])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('th', [_c('span', [_vm._v("－")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('th', [_c('span', [_vm._v("+")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('th', [_c('span', [_vm._v("－")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('th', [_c('span', [_vm._v("＝")])])
}]}

/***/ }),

/***/ 2361:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [(!_vm.createPcScheduleUrl) ? _c('section', [_c('i-form', {
    ref: "memberNewCard",
    staticClass: "myform",
    staticStyle: {
      "width": "520px"
    },
    attrs: {
      "model": _vm.memberNewCard,
      "rules": _vm.memberNewCardFormRule,
      "label-width": 115
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "cardId",
      "label": "会员卡种类"
    }
  }, [_c('i-select', {
    attrs: {
      "filterable": ""
    },
    on: {
      "on-change": _vm.handleCardSelect
    },
    model: {
      value: (_vm.memberNewCard.cardId),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "cardId", _vm._n($$v))
      },
      expression: "memberNewCard.cardId"
    }
  }, _vm._l((_vm.dict.cardList), function(c) {
    return _c('i-option', {
      key: c.cardId,
      attrs: {
        "value": c.cardId,
        "label": c.cardName + ' 【' + c.cardTypeName + '】'
      }
    }, [_c('span', [_vm._v(_vm._s(c.cardName))]), _vm._v(" "), _c('span', {
      staticStyle: {
        "float": "right",
        "color": "#bbb"
      }
    }, [_vm._v(_vm._s(_vm.g.Dict.CardClass[c.cardClass]) + " / " + _vm._s(c.cardTypeName))])])
  }), 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "usableAmount",
      "label": "充值金额"
    }
  }, [_c('input-num', {
    attrs: {
      "title": ""
    },
    on: {
      "mousewheel": function($event) {
        $event.preventDefault();
      }
    },
    model: {
      value: (_vm.memberNewCard.usableAmount),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "usableAmount", $$v)
      },
      expression: "memberNewCard.usableAmount"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "paymentAmount",
      "label": "实收金额"
    }
  }, [_c('input-num', {
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.memberNewCard.paymentAmount),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "paymentAmount", $$v)
      },
      expression: "memberNewCard.paymentAmount"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1), _vm._v(" "), (_vm.memberNewCard.cardType === 2) ? _c('form-item', {
    attrs: {
      "prop": "usableTimes",
      "label": "使用次数"
    }
  }, [_c('input-num', {
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.memberNewCard.usableTimes),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "usableTimes", $$v)
      },
      expression: "memberNewCard.usableTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次")])], 1) : _vm._e(), _vm._v(" "), (!_vm.memberNewCard.autoActiveCard) ? _c('form-item', {
    attrs: {
      "prop": "usableDays",
      "label": "使用天数"
    }
  }, [_c('input-int', {
    model: {
      value: (_vm.memberNewCard.usableDays),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "usableDays", $$v)
      },
      expression: "memberNewCard.usableDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")])], 1) : _vm._e(), _vm._v(" "), (_vm.memberNewCard.cardType === 4) ? _c('form-item', {
    attrs: {
      "prop": "usableTimes",
      "label": "使用时间"
    }
  }, [_c('input-num', {
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.memberNewCard.usableTimes),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "usableTimes", $$v)
      },
      expression: "memberNewCard.usableTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v(_vm._s(_vm.g.Dict.CardTimeTypes[_vm.memberNewCard.cardTimeType]))])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "autoActiveCard",
      "label": "设定开卡日期"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.memberNewCard.expDateDisable
    },
    model: {
      value: (_vm.memberNewCard.autoActiveCard),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "autoActiveCard", $$v)
      },
      expression: "memberNewCard.autoActiveCard"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('help', {
    attrs: {
      "title": "帮助"
    }
  }, [_vm._v("\n          选择“否”，开卡日期以会员第一次使用日期为准；\n          "), _c('br'), _vm._v("选择“是”，系统会根据您设定的【开卡日期】设置会员卡开始日期。\n        ")])], 1), _vm._v(" "), (_vm.memberNewCard.autoActiveCard) ? _c('form-item', {
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "prop": "beginDate",
      "label": "开卡日期"
    }
  }, [_c('date-picker', {
    staticClass: "-date",
    attrs: {
      "type": "date",
      "readonly": _vm.memberNewCard.expDateDisable
    },
    on: {
      "on-change": _vm.calcCardEndDate
    },
    model: {
      value: (_vm.memberNewCard.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "beginDate", $$v)
      },
      expression: "memberNewCard.beginDate"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "l15"
  }, [_c('i-select', {
    staticStyle: {
      "width": "85px"
    },
    model: {
      value: (_vm.cardEndDateEditType),
      callback: function($$v) {
        _vm.cardEndDateEditType = $$v
      },
      expression: "cardEndDateEditType"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("使用天数")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("到期日期")])], 1), _vm._v(" "), (_vm.cardEndDateEditType === 1) ? [_c('input-int', {
    staticClass: "card-days1",
    attrs: {
      "min": 1
    },
    on: {
      "blur": _vm.calcCardEndDate
    },
    model: {
      value: (_vm.memberNewCard.usableDays),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "usableDays", $$v)
      },
      expression: "memberNewCard.usableDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), (_vm.memberNewCard.endDate) ? _c('b', {
    staticClass: "l5"
  }, [_vm._v("（到期日期：" + _vm._s(_vm.g.Util.formatDate(_vm.memberNewCard.endDate)) + "）")]) : _vm._e()] : [_c('date-picker', {
    staticClass: "input-s",
    attrs: {
      "type": "date",
      "readonly": _vm.memberNewCard.expDateDisable
    },
    on: {
      "on-change": _vm.calcCardUsableDays
    },
    model: {
      value: (_vm.memberNewCard.endDate),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "endDate", $$v)
      },
      expression: "memberNewCard.endDate"
    }
  }), _vm._v(" "), (_vm.memberNewCard.usableDays) ? _c('b', {
    staticClass: "l5"
  }, [_vm._v("（使用天数：" + _vm._s(_vm.memberNewCard.usableDays) + "天）")]) : _vm._e()]], 2)], 1) : _vm._e(), _vm._v(" "), (!_vm.memberNewCard.autoActiveCard) ? _c('form-item', {
    attrs: {
      "prop": "limitBeginDate",
      "label": "最迟开卡日期"
    }
  }, [_c('date-picker', {
    staticClass: "input-s",
    attrs: {
      "type": "date"
    },
    model: {
      value: (_vm.memberNewCard.limitBeginDate),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "limitBeginDate", $$v)
      },
      expression: "memberNewCard.limitBeginDate"
    }
  }), _vm._v(" "), _c('help', {
    attrs: {
      "title": "帮助"
    }
  }, [_vm._v("\n          如果会员在此日期之后才首次开卡（使用），那么系统自动从此最迟开卡日期起计算。\n          "), _c('p'), _vm._v("\n          例如：会员【2017-3-1】办卡，最迟开卡日期设置为【2017-5-1】，如果会员【2017-6-1】首次来馆锻炼（开卡），\n          那么会员卡开卡日期会自动设置为【2017-5-1】。\n        ")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "paymentChannel",
      "label": "支付方式"
    }
  }, [_c('radio-group', {
    model: {
      value: (_vm.memberNewCard.paymentChannel),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "paymentChannel", $$v)
      },
      expression: "memberNewCard.paymentChannel"
    }
  }, [(_vm.cardMap && _vm.cardMap.isOfflineSaleForPos) ? [_c('radio', {
    attrs: {
      "label": 8
    }
  }, [_vm._v("POS机")])] : [_c('radio', {
    key: 0,
    attrs: {
      "label": 0
    }
  }, [_vm._v("储值卡")]), _vm._v(" "), (_vm.isPosArg && _vm.posPayRole && !_vm.memberCardDraftCreatePermit) ? [_vm._l((_vm.g.Dict.CardPaymentChannel), function(name, key) {
    return [_c('radio', {
      key: +key,
      attrs: {
        "label": +key
      }
    }, [_vm._v(_vm._s(name))])]
  })] : [_vm._l((_vm.g.Dict.CardPaymentChannel), function(name, key) {
    return [(+key !== 8) ? _c('radio', {
      key: +key,
      attrs: {
        "label": +key
      }
    }, [_vm._v(_vm._s(name))]) : _vm._e()]
  })]]], 2), _vm._v(" "), (_vm.memberNewCard.paymentChannel === 0 && _vm.memberNewCard.cardType !== 3) ? _c('div', {
    staticClass: "value-cards"
  }, [(_vm.memberValueCardList && _vm.memberValueCardList.length) ? _c('radio-group', {
    attrs: {
      "vertical": ""
    },
    model: {
      value: (_vm.memberNewCard.chargeFromMcId),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "chargeFromMcId", $$v)
      },
      expression: "memberNewCard.chargeFromMcId"
    }
  }, _vm._l((_vm.memberValueCardList), function(mc) {
    return _c('radio', {
      key: mc.mcId,
      attrs: {
        "disabled": mc.status !== 0 && mc.currentAmount >= _vm.memberNewCard.paymentAmount,
        "label": mc.mcId
      }
    }, [_vm._v("\n              " + _vm._s(mc.cardName) + "： 剩余 "), _c('b', [_vm._v(_vm._s(mc.currentAmount))]), _vm._v(" 元\n              "), (mc.status >= 1) ? _c('span', {
      staticClass: "l5 red"
    }, [_vm._v("[已" + _vm._s(_vm.g.Dict.MemberCardStatus[mc.status]) + "]")]) : (mc.currentAmount < _vm.memberNewCard.paymentAmount) ? _c('span', {
      staticClass: "l5 red"
    }, [_vm._v("[余额不足]")]) : _vm._e()])
  }), 1) : _c('div', {
    staticClass: "center big red"
  }, [_vm._v("\n            该会员无储值卡\n          ")])], 1) : _vm._e()], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "salesId",
      "label": "销售人员"
    }
  }, [_c('i-select', {
    attrs: {
      "filterable": ""
    },
    model: {
      value: (_vm.memberNewCard.salesId),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "salesId", $$v)
      },
      expression: "memberNewCard.salesId"
    }
  }, _vm._l((_vm.dict.salesList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1), _vm._v(" "), _c('div', {
    staticClass: "orange"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 用于销售人员的工资提成，请慎重选择")])], 1), _vm._v(" "), (_vm.memberCardDraftCreatePermit) ? _c('form-item', {
    attrs: {
      "prop": "salesId",
      "label": "审核人员"
    }
  }, [_c('i-select', {
    model: {
      value: (_vm.memberNewCard.auditStaffId),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "auditStaffId", $$v)
      },
      expression: "memberNewCard.auditStaffId"
    }
  }, _vm._l((_vm.auditStaffList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": parseInt(s.staffId)
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1) : (_vm.memberNewCard.cardClass !== 0) ? _c('form-item', {
    attrs: {
      "prop": "coachId",
      "label": "会员教练"
    }
  }, [(!_vm.g.Util.isEmptyArray(_vm.dict.coachTypeList)) ? [_c('i-select', {
    staticStyle: {
      "width": "120px"
    },
    attrs: {
      "placeholder": "选择教练类型",
      "clearable": ""
    },
    model: {
      value: (_vm.memberCoachType),
      callback: function($$v) {
        _vm.memberCoachType = $$v
      },
      expression: "memberCoachType"
    }
  }, _vm._l((_vm.dict.coachTypeList), function(s) {
    return _c('i-option', {
      key: s.ctId,
      attrs: {
        "value": s.ctId
      }
    }, [_vm._v(_vm._s(s.typeName))])
  }), 1), _vm._v("\n           \n        ")] : _vm._e(), _vm._v(" "), _c('i-select', {
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "placeholder": "选择教练",
      "filterable": "",
      "clearable": ""
    },
    model: {
      value: (_vm.memberCoachId),
      callback: function($$v) {
        _vm.memberCoachId = $$v
      },
      expression: "memberCoachId"
    }
  }, _vm._l((_vm.dict.coachList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1), _vm._v(" "), _c('help', [_vm._v("\n          提交后会自动更新会员信息中的教练\n        ")])], 2) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "充值备注"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 3
    },
    model: {
      value: (_vm.memberNewCard.remark),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberNewCard.remark"
    }
  })], 1), _vm._v(" "), (!_vm.memberCardDraftCreatePermit) ? _c('form-item', {
    attrs: {
      "label": "附件"
    }
  }, [_c('img-upload', {
    attrs: {
      "multiple": true,
      "removeable": true,
      "max-count": 5,
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "on-success": _vm.handleImgUploadSuccess,
      "on-remove": _vm.handleImgRemove,
      "max-size": _vm.imgUpload.maxSize,
      "default-file-list": _vm.imgUpload.defaultList
    }
  }, [_c('i-button', {
    attrs: {
      "type": "ghost",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("点击上传附件图片")]), _vm._v("\n            "), _c('span', {
    staticClass: "gray"
  }, [_vm._v("（最多可上传 "), _c('b', [_vm._v("5")]), _vm._v(" 张）")])], 1)], 1) : _vm._e(), _vm._v(" "), (_vm.editMplTimePermit) ? [(!_vm.enableCreateTimeEdit) ? _c('form-item', {
    attrs: {
      "prop": "enableCreateTimeEdit",
      "label": ""
    }
  }, [_c('checkbox', {
    staticClass: "gray",
    on: {
      "on-change": _vm.editCreateTime
    },
    model: {
      value: (_vm.enableCreateTimeEdit),
      callback: function($$v) {
        _vm.enableCreateTimeEdit = $$v
      },
      expression: "enableCreateTimeEdit"
    }
  }, [_vm._v("编辑充值时间 （如不设置则为当前时间）")])], 1) : _vm._e(), _vm._v(" "), (_vm.enableCreateTimeEdit) ? _c('form-item', {
    attrs: {
      "prop": "createTime",
      "label": "充值时间"
    }
  }, [_c('date-picker', {
    attrs: {
      "type": "datetime"
    },
    model: {
      value: (_vm.memberNewCard.createTime),
      callback: function($$v) {
        _vm.$set(_vm.memberNewCard, "createTime", $$v)
      },
      expression: "memberNewCard.createTime"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("（如设置为空，提交后自动为当前时间）")])], 1) : _vm._e()] : _vm._e()], 2), _vm._v(" "), (_vm.memberCardDraftCreatePermit) ? [(!_vm.memberNewCard.status && _vm.memberNewCard.createUid === _vm.g.data.user.uid) ? _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "115px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary",
      "loading": _vm.handleSubmit[0]
    },
    on: {
      "click": function($event) {
        return _vm.handleSubmit(0)
      }
    }
  }, [_vm._v("保存审核单")]), _vm._v(" "), _c('i-button', {
    attrs: {
      "type": "primary",
      "loading": _vm.handleSubmit[1]
    },
    on: {
      "click": function($event) {
        return _vm.handleSubmit(1)
      }
    }
  }, [_vm._v("保存并提交审核")])], 1) : _vm._e()] : (_vm.memberNewCard.createUid === _vm.g.data.user.uid && !_vm.memberNewCard.mcdId) ? _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "115px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.handleSubmit()
      }
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('span', {
    staticClass: "card-num-conf"
  }, [_c('checkbox', {
    model: {
      value: (_vm.needCreateMoreCards),
      callback: function($$v) {
        _vm.needCreateMoreCards = $$v
      },
      expression: "needCreateMoreCards"
    }
  }, [_c('span', {
    class: {
      gray: !_vm.needCreateMoreCards
    }
  }, [_vm._v("批量创建会员卡")])]), _vm._v(" "), (_vm.needCreateMoreCards) ? [_c('input-int', {
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.memberNewCardCount),
      callback: function($$v) {
        _vm.memberNewCardCount = $$v
      },
      expression: "memberNewCardCount"
    }
  }), _c('span', {
    staticClass: "l10"
  }, [_vm._v("张")]), _vm._v(" "), _c('help', [_vm._v("\n            如果设置了批量创建会员卡，提交后将创建若干份相同的会员卡信息，同时会自动生成多份会员卡账单。\n          ")])] : _vm._e()], 2)], 1) : _vm._e()], 2) : [_vm._m(0), _vm._v(" "), _c('div', {
    staticClass: "form-submit center"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.closeThisDlg()
      }
    }
  }, [_vm._v("确定")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        return _vm.$router.push(_vm.createPcScheduleUrl)
      }
    }
  }, [_vm._v("确定并排课")]), _vm._v(" "), _c('help', [_vm._v("使用该卡给该会员排私教课")])], 1)], _vm._v(" "), _c('Modal', {
    attrs: {
      "mask-closable": false,
      "title": "订单支付（使用POS机扫描该二维码）",
      "footer-hide": "",
      "width": "375",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.posTradeNoShow),
      callback: function($$v) {
        _vm.posTradeNoShow = $$v
      },
      expression: "posTradeNoShow"
    }
  }, [_c('div', {
    staticClass: "qrcode-order"
  }, [(_vm.qrcodeTradeNoUrl) ? _c('div', {
    staticClass: "pos-qrcode-img center"
  }, [_c('qrcode-vue', {
    attrs: {
      "value": _vm.qrcodeTradeNoUrl,
      "size": 200,
      "level": "H"
    }
  })], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center"
  }, [_vm._v("需支付金额："), _c('span', {
    staticClass: "red"
  }, [_vm._v("￥ ")]), _c('span', {
    staticClass: "order-amount"
  }, [_vm._v(_vm._s(_vm.paymentAmount))])]), _vm._v(" "), _c('div', {
    staticClass: "center none"
  }, [_vm._v("注意：使用POS扫码之后该订单将无法被修改")])])])], 2)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "center mt20"
  }, [_c('h2', [_vm._v("已成功添加会员卡 ！")])])
}]}

/***/ }),

/***/ 2367:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-action-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', {
    staticClass: "query"
  }, [_c('div', {
    staticClass: "act-types"
  }, [_c('ButtonGroup', [_c('i-button', {
    class: {
      on: _vm.query.actType === 1
    },
    on: {
      "click": function($event) {
        return _vm.changeActType(1)
      }
    }
  }, [_vm._v("入场签到")]), _vm._v(" "), _c('i-button', {
    class: {
      on: _vm.query.actType === 2
    },
    on: {
      "click": function($event) {
        return _vm.changeActType(2)
      }
    }
  }, [_vm._v("上团课")]), _vm._v(" "), _c('i-button', {
    class: {
      on: _vm.query.actType === 3
    },
    on: {
      "click": function($event) {
        return _vm.changeActType(3)
      }
    }
  }, [_vm._v("上私教")])], 1)], 1), _vm._v(" "), _c('ul', [(!_vm.salesViewMembDisable) ? _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "input",
    attrs: {
      "filterable": "",
      "placeholder": "请选择销售",
      "clearable": ""
    },
    model: {
      value: (_vm.query.salesId),
      callback: function($$v) {
        _vm.$set(_vm.query, "salesId", _vm._n($$v))
      },
      expression: "query.salesId"
    }
  }, _vm._l((_vm.dict.salesList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId,
        "label": '销售：' + s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "input",
    attrs: {
      "filterable": "",
      "placeholder": "请选择教练",
      "clearable": ""
    },
    model: {
      value: (_vm.query.coachId),
      callback: function($$v) {
        _vm.$set(_vm.query, "coachId", $$v)
      },
      expression: "query.coachId"
    }
  }, _vm._l((_vm.dict.coachList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId,
        "label": '教练：' + s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "input",
    attrs: {
      "filterable": "",
      "placeholder": "请选择会籍顾问",
      "clearable": ""
    },
    model: {
      value: (_vm.query.advisorId),
      callback: function($$v) {
        _vm.$set(_vm.query, "advisorId", _vm._n($$v))
      },
      expression: "query.advisorId"
    }
  }, _vm._l((_vm.dict.advisorList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId,
        "label": '会籍：' + s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1), _vm._v(" "), (_vm.canQueryAll) ? _c('li', {
    staticClass: "item"
  }, [_c('date-picker', {
    staticClass: "input",
    attrs: {
      "format": "yyyy/MM/dd",
      "placeholder": "请选择锻炼日期范围",
      "confirm": "",
      "options": _vm.createDateOption,
      "type": "daterange",
      "placement": "bottom-start"
    },
    model: {
      value: (_vm.query.createDateRange),
      callback: function($$v) {
        _vm.$set(_vm.query, "createDateRange", $$v)
      },
      expression: "query.createDateRange"
    }
  })], 1) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('div', {
    staticClass: "query-by-times"
  }, [_c('span', {
    staticStyle: {
      "padding-right": "8px"
    }
  }, [_vm._v("锻炼次数")]), _vm._v(" "), _c('input-num', {
    staticClass: "input-num",
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.query.actCntBegin),
      callback: function($$v) {
        _vm.$set(_vm.query, "actCntBegin", $$v)
      },
      expression: "query.actCntBegin"
    }
  }), _vm._v("\n\t\t\t\t\t\t\t\t\t~ "), _c('input-num', {
    staticClass: "input-num",
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.query.actCntEnd),
      callback: function($$v) {
        _vm.$set(_vm.query, "actCntEnd", $$v)
      },
      expression: "query.actCntEnd"
    }
  })], 1)]), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('RadioGroup', {
    staticClass: "radio-list",
    attrs: {
      "vertical": ""
    },
    on: {
      "on-change": _vm.altActDays
    },
    model: {
      value: (_vm.query.actDays),
      callback: function($$v) {
        _vm.$set(_vm.query, "actDays", $$v)
      },
      expression: "query.actDays"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 7
    }
  }, [_vm._v("一周未" + _vm._s(_vm.actionNames[_vm.query.actType]))]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 15
    }
  }, [_vm._v("15天未" + _vm._s(_vm.actionNames[_vm.query.actType]))]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 30
    }
  }, [_vm._v("30天未" + _vm._s(_vm.actionNames[_vm.query.actType]))]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 60
    }
  }, [_vm._v("60天未" + _vm._s(_vm.actionNames[_vm.query.actType]))]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 180
    }
  }, [_vm._v("半年未" + _vm._s(_vm.actionNames[_vm.query.actType]))]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": -1
    }
  }, [_vm._v("从未" + _vm._s(_vm.actionNames[_vm.query.actType]) + "过")])], 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('checkbox', {
    model: {
      value: (_vm.query.ignoreInvalidMember),
      callback: function($$v) {
        _vm.$set(_vm.query, "ignoreInvalidMember", $$v)
      },
      expression: "query.ignoreInvalidMember"
    }
  }, [_vm._v("忽略无效会员")]), _vm._v("\n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t"), _c('checkbox', {
    model: {
      value: (_vm.query.isPcCardMember),
      callback: function($$v) {
        _vm.$set(_vm.query, "isPcCardMember", $$v)
      },
      expression: "query.isPcCardMember"
    }
  }, [_vm._v("私教会员")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.queryMemberAction(true)
      }
    }
  }, [_vm._v("查询")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.resetQuery
    }
  }, [_vm._v("重置")])], 1)]), _vm._v(" "), _c('td', {
    attrs: {
      "width": "15"
    }
  }, [_vm._v(" ")]), _vm._v(" "), _c('td', {
    staticClass: "ret"
  }, [_c('section', [_c('div', {
    staticClass: "tbl-header"
  }, [_c('ul', {
    staticClass: "opt-bar l"
  }, [(_vm.setMemberAdvisorPermit && (_vm.dict.advisorList && _vm.dict.advisorList.length)) ? _c('li', {
    staticClass: "item"
  }, [_c('Dropdown', {
    attrs: {
      "placement": "bottom-start",
      "trigger": "click"
    },
    on: {
      "on-click": _vm.batchUpdateMemberAdvisor
    }
  }, [_c('i-button', [_vm._v("\n\t\t\t\t\t\t\t\t\t\t\t\t批量分配会籍 "), _c('Icon', {
    attrs: {
      "type": "arrow-down-b"
    }
  })], 1), _vm._v(" "), _c('DropdownMenu', {
    attrs: {
      "slot": "list"
    },
    slot: "list"
  }, _vm._l((_vm.dict.advisorList), function(s) {
    return _c('DropdownItem', {
      key: s.staffId,
      attrs: {
        "name": s.staffId + '\t' + s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1)], 1) : _vm._e(), _vm._v(" "), (_vm.setMemberCoachPermit && (_vm.dict.coachList && _vm.dict.coachList.length)) ? _c('li', {
    staticClass: "item"
  }, [
    [(_vm.dict.coachTypeList && _vm.dict.coachTypeList.length) ? _c('i-button', {
      on: {
        "click": _vm.openAssignCoachDlg
      }
    }, [_vm._v("批量分配教练")]) : _c('Dropdown', {
      attrs: {
        "placement": "bottom-start",
        "trigger": "click"
      },
      on: {
        "on-click": _vm.batchUpdateMemberCoach
      }
    }, [_c('i-button', [_vm._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t批量分配教练 "), _c('Icon', {
      attrs: {
        "type": "arrow-down-b"
      }
    })], 1), _vm._v(" "), _c('DropdownMenu', {
      attrs: {
        "slot": "list"
      },
      slot: "list"
    }, _vm._l((_vm.dict.coachList), function(s) {
      return _c('DropdownItem', {
        key: s.staffId,
        attrs: {
          "name": s.staffId + '\t' + s.name
        }
      }, [_vm._v(_vm._s(s.name))])
    }), 1)], 1)]
  ], 2) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('span', {
    staticClass: "query-count"
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t查询到"), _c('span', {
    staticClass: "cnt"
  }, [_vm._v(_vm._s(_vm.totalCount))]), _vm._v("个会员\n\t\t\t\t\t\t\t\t\t")]), _vm._v(" "), _c('i-button', {
    staticStyle: {
      "margin-right": "0"
    },
    attrs: {
      "icon": "ios-cloud-download-outline"
    },
    on: {
      "click": _vm.exportToXls
    }
  }, [_vm._v("导出")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl",
    attrs: {
      "id": "memberActionMemberListWrap"
    }
  }, [_c('table', {
    attrs: {
      "id": "memberActionMemberList"
    }
  }, [_c('tr', [(_vm.selectMemberPermit) ? _c('th', {
    staticClass: "ckbox",
    attrs: {
      "width": "40"
    },
    on: {
      "click": _vm.selectAll
    }
  }, [(_vm.isSelectAll) ? _c('i', {
    staticClass: "iconfont icon-checkbox-checked ckbox-1"
  }) : _c('i', {
    staticClass: "iconfont icon-checkbox-empty ckbox-0"
  })]) : _vm._e(), _vm._v(" "), _c('th', {
    attrs: {
      "width": "85"
    }
  }, [_vm._v("姓名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("手机号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "45"
    }
  }, [_vm._v("性别")]), _vm._v(" "), (_vm.query.actCntBegin !== 0 && _vm.query.actCntEnd !== 0) ? _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_c('span', {
    staticClass: "order-field",
    on: {
      "click": function($event) {
        return _vm.changeSort('cnt')
      }
    }
  }, [(_vm.query.actType === 1) ? [_vm._v("锻炼次数")] : [_vm._v("上课次数")], _vm._v(" "), (_vm.query.orderBy === 'cnt') ? _c('span', [(_vm.query.sortType === 'asc') ? _c('Icon', {
    attrs: {
      "type": "arrow-up-b"
    }
  }) : _vm._e(), _vm._v(" "), (_vm.query.sortType === 'desc') ? _c('Icon', {
    attrs: {
      "type": "arrow-down-b"
    }
  }) : _vm._e()], 1) : _vm._e()], 2)]) : _vm._e(), _vm._v(" "), (_vm.query.actCntBegin !== 0 && _vm.query.actCntEnd !== 0) ? _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_c('span', {
    staticClass: "order-field",
    on: {
      "click": function($event) {
        return _vm.changeSort('time')
      }
    }
  }, [(_vm.query.actType === 1) ? [_vm._v("最近入场时间")] : [_vm._v("最近上课日期")], _vm._v(" "), (_vm.query.orderBy === 'time') ? _c('span', [(_vm.query.sortType === 'asc') ? _c('Icon', {
    attrs: {
      "type": "arrow-up-b"
    }
  }) : _vm._e(), _vm._v(" "), (_vm.query.sortType === 'desc') ? _c('Icon', {
    attrs: {
      "type": "arrow-down-b"
    }
  }) : _vm._e()], 1) : _vm._e()], 2)]) : _vm._e(), _vm._v(" "), (_vm.query.actCntBegin !== 0 && _vm.query.actCntEnd !== 0) ? _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("距今天数")]) : _vm._e(), _vm._v(" "), _c('th', {
    attrs: {
      "width": "72"
    }
  }, [_vm._v("销售")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "72"
    }
  }, [_vm._v("教练")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "72"
    }
  }, [_vm._v("会籍顾问")]), _vm._v(" "), _c('th', [_vm._v("注册日期")])]), _vm._v(" "), _vm._l((_vm.memberActionList), function(m, idx) {
    return _c('tr', [(_vm.selectMemberPermit) ? _c('td', {
      staticClass: "ckbox",
      on: {
        "click": function($event) {
          return _vm.selectMember(idx)
        }
      }
    }, [(!_vm.memberCkList[idx]) ? _c('i', {
      staticClass: "iconfont icon-checkbox-empty ckbox-0"
    }) : _c('i', {
      staticClass: "iconfont icon-checkbox-checked ckbox-1"
    })]) : _vm._e(), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(m.memberId)
        }
      }
    }, [_vm._v(_vm._s(m.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.phoneNo))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.Sex[m.memberSex]))]), _vm._v(" "), (_vm.query.actCntBegin !== 0 && _vm.query.actCntEnd !== 0) ? _c('td', {
      staticClass: "orangered"
    }, [_vm._v(_vm._s(m.actCnt) + " "), _c('span', {
      staticClass: "gray"
    }, [_vm._v("次")])]) : _vm._e(), _vm._v(" "), (_vm.query.actCntBegin !== 0 && _vm.query.actCntEnd !== 0) ? _c('td', [(_vm.query.actType === 1) ? [_vm._v(_vm._s(m.lastActTime))] : [_vm._v(_vm._s(_vm.g.Util.formatDate(m.lastActTime)))]], 2) : _vm._e(), _vm._v(" "), (_vm.query.actCntBegin !== 0 && _vm.query.actCntEnd !== 0) ? _c('td', {
      staticClass: "green"
    }, [_vm._v(_vm._s(m.lastDays) + " "), _c('span', {
      staticClass: "gray"
    }, [_vm._v("天")])]) : _vm._e(), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.salesName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.coachName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.advisorName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(m.memberRegDate)))])])
  })], 2)]), _vm._v(" "), (_vm.totalCount && _vm.totalCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.totalCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.changePageNo
    }
  })], 1) : (!_vm.totalCount) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("\n\t\t\t\t\t\t\t\t暂无数据\n              ")]) : _vm._e()])])])])]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "导出文件下载",
      "width": "500",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.exportDlg),
      callback: function($$v) {
        _vm.exportDlg = $$v
      },
      expression: "exportDlg"
    }
  }, [_c('div', {
    staticClass: "export-xls"
  }, [(_vm.exportFileUrl) ? [(_vm.exportFileUrl) ? _c('a', {
    attrs: {
      "href": _vm.exportFileUrl,
      "target": "_blank"
    }
  }, [_vm._v("下载导出文件（xls）")]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "remark"
  }, [_c('b', {
    staticClass: "red"
  }, [_vm._v("提示")]), _vm._v("：每次最多导出 600 条记录 "), _c('br'), _vm._v("如要导出下一个600条，请将当前页数增加20页后再导出")])] : _c('span', [_vm._v("正在查询并导出，请稍候...")])], 2)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "分配教练",
      "width": "550",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.assignCoachDlg),
      callback: function($$v) {
        _vm.assignCoachDlg = $$v
      },
      expression: "assignCoachDlg"
    }
  }, [(_vm.assignCoachDlg) ? _c('div', {
    staticStyle: {
      "margin": "0 auto",
      "width": "350px"
    }
  }, [_vm._l((_vm.assignMemberCoachList), function(c, idx) {
    return _c('div', {
      staticClass: "p10"
    }, [_c('i-select', {
      staticStyle: {
        "width": "170px"
      },
      attrs: {
        "placeholder": "选择教练类型"
      },
      model: {
        value: (c.coachType),
        callback: function($$v) {
          _vm.$set(c, "coachType", $$v)
        },
        expression: "c.coachType"
      }
    }, [_c('i-option', {
      key: 0,
      attrs: {
        "value": ""
      }
    }, [_c('span', {
      staticClass: "gray"
    }, [_vm._v("无")])]), _vm._v(" "), _vm._l((_vm.dict.coachTypeList), function(s) {
      return _c('i-option', {
        key: s.ctId,
        attrs: {
          "value": s.ctId
        }
      }, [_vm._v(_vm._s(s.typeName))])
    })], 2), _vm._v("\n\t\t\t\t\t \n\t\t\t\t\t"), _c('i-select', {
      staticStyle: {
        "width": "150px"
      },
      attrs: {
        "filterable": "",
        "placeholder": "选择教练"
      },
      model: {
        value: (c.coachId),
        callback: function($$v) {
          _vm.$set(c, "coachId", $$v)
        },
        expression: "c.coachId"
      }
    }, [_c('i-option', {
      key: 0,
      attrs: {
        "value": ""
      }
    }, [_c('span', {
      staticClass: "gray"
    }, [_vm._v("无")])]), _vm._v(" "), _vm._l((_vm.dict.coachList), function(s) {
      return _c('i-option', {
        key: s.staffId,
        attrs: {
          "value": s.staffId
        }
      }, [_vm._v(_vm._s(s.name))])
    })], 2)], 1)
  }), _vm._v(" "), _c('div', {
    staticClass: "p20"
  }, [_vm._v("\n\t\t\t\t\t分配方式：\n\t\t\t\t\t"), _c('RadioGroup', {
    model: {
      value: (_vm.assignCoachMethod),
      callback: function($$v) {
        _vm.assignCoachMethod = _vm._n($$v)
      },
      expression: "assignCoachMethod"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t更新会员教练\n\t\t\t\t\t\t")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t新增会员教练\n\t\t\t\t\t\t")])], 1)], 1)], 2) : _vm._e(), _vm._v(" "), _c('div', {
    staticStyle: {
      "margin-top": "-20px"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('div', {
    staticClass: "form-submit center"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submiAssignCoach
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.assignCoachDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)])])], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2378:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-draft-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -mp-list"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l tit"
  }, [_vm._v("会员卡审核单")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.g.data.user.isShopOwner) ? [_c('a', {
    on: {
      "click": function($event) {
        _vm.confDlg = true
      }
    }
  }, [_vm._v("设置")]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")])] : _vm._e(), _vm._v(" "), _c('a', {
    on: {
      "click": function($event) {
        return _vm.$router.push('/member-card-payment-draft-query')
      }
    }
  }, [_vm._v("会员卡充值审核单 →")])], 2)]), _vm._v(" "), _c('section', [_c('ul', {
    staticClass: "query-cond-inline"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "85px"
    },
    attrs: {
      "placeholder": "状态",
      "clearable": ""
    },
    model: {
      value: (_vm.query.status),
      callback: function($$v) {
        _vm.$set(_vm.query, "status", $$v)
      },
      expression: "query.status"
    }
  }, _vm._l((_vm.g.Dict.MemberDraftStatus), function(s, idx) {
    return _c('i-option', {
      key: idx,
      attrs: {
        "value": idx
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(s) + "\n\t\t\t\t\t\t")])
  }), 1)], 1), _vm._v(" "), (_vm.staffList && _vm.staffList.length && _vm.memberCardDraftCreatePermit) ? _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "95px"
    },
    attrs: {
      "placeholder": "创建人",
      "clearable": ""
    },
    model: {
      value: (_vm.query.createUid),
      callback: function($$v) {
        _vm.$set(_vm.query, "createUid", $$v)
      },
      expression: "query.createUid"
    }
  }, _vm._l((_vm.staffList), function(s, idx) {
    return _c('i-option', {
      key: s.uid,
      attrs: {
        "value": s.uid
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(s.name) + "\n\t\t\t\t\t\t")])
  }), 1)], 1) : _vm._e(), _vm._v(" "), (_vm.staffList && _vm.staffList.length && _vm.memberCardDraftAuditPermit) ? _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "95px"
    },
    attrs: {
      "placeholder": "审核人",
      "clearable": ""
    },
    model: {
      value: (_vm.query.auditStaffId),
      callback: function($$v) {
        _vm.$set(_vm.query, "auditStaffId", $$v)
      },
      expression: "query.auditStaffId"
    }
  }, _vm._l((_vm.staffList), function(s, idx) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(s.name) + "\n\t\t\t\t\t\t")])
  }), 1)], 1) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('date-picker', {
    staticClass: "date",
    attrs: {
      "type": "date",
      "placeholder": "开始日期"
    },
    model: {
      value: (_vm.query.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "beginDate", $$v)
      },
      expression: "query.beginDate"
    }
  }), _vm._v("\n\t\t\t\t\t~\n\t\t\t\t\t"), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "type": "date",
      "placeholder": "结束日期"
    },
    model: {
      value: (_vm.query.endDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "endDate", $$v)
      },
      expression: "query.endDate"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('div', {
    staticClass: "query-section"
  }, [_c('div', {
    staticClass: "item input-box",
    staticStyle: {
      "width": "150px",
      "position": "relative",
      "top": "3px"
    },
    on: {
      "click": function($event) {
        _vm.memberSelectDlgForQuery = true
      }
    }
  }, [(!_vm.query.memberId) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("点击选择会员")]) : _c('span', [_vm._v(_vm._s(_vm.query.memberName))])])])]), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.queryMemberCardDraft(null)
      }
    }
  }, [_vm._v("查询")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.memberCardDraftList), function(m, idx) {
    return _c('tr', [_c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMemberBase(m.memberId)
        }
      }
    }, [_vm._v(_vm._s(m.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.cardName))]), _vm._v(" "), _c('td', [(m.status === 0) ? _c('span', {
      staticClass: "orange"
    }, [_vm._v("草稿")]) : (m.status === 1) ? _c('span', {
      staticClass: "orangered"
    }, [_vm._v("待审核")]) : (m.status === 2) ? _c('span', {
      staticClass: "green"
    }, [_vm._v("审核通过")]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(m.usableAmount))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(m.paymentAmount))]), _vm._v(" "), _c('td', [(m.usableDays) ? [_vm._v(_vm._s(m.usableDays) + " 天")] : _vm._e()], 2), _vm._v(" "), _c('td', [(m.cardType === 2) ? [_vm._v(_vm._s(m.usableTimes) + " 次")] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("无")])], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardPaymentChannel[m.paymentChannel]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.salesName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.auditStaffName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.remark))]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMemberCardDraftDetail(m)
        }
      }
    }, [_vm._v("详情")])])])
  })], 2), _vm._v(" "), (_vm.memberDraftCount) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.memberDraftCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMemberCardDraft
    }
  })], 1) : _vm._e(), _vm._v(" "), (!_vm.memberDraftCount) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()])])]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡审核单详情",
      "width": "750",
      "styles": {
        top: '10px'
      },
      "mask-closable": false
    },
    model: {
      value: (_vm.dlgView.mcdDetail),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "mcdDetail", $$v)
      },
      expression: "dlgView.mcdDetail"
    }
  }, [(_vm.dlgView.mcdDetail) ? [_c('section', [(_vm.memberCardDraftAuditList && _vm.memberCardDraftAuditList.length) ? _c('div', {
    staticClass: "mytbl",
    staticStyle: {
      "padding": "5px 0 25px 0"
    }
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "140"
    }
  }, [_vm._v("审核时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("审核人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("审核结果")]), _vm._v(" "), _c('th', [_vm._v("备注")])]), _vm._v(" "), _vm._l((_vm.memberCardDraftAuditList), function(m) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(m.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.auditStaffName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.auditResult ? '通过' : '不通过'))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.remark))])])
  })], 2)]) : _vm._e()]), _vm._v(" "), (_vm.memberCard.status === 1 && (_vm.memberCard.auditStaffId === _vm.g.data.user.staffId || _vm.g.data.user.isShopOwner)) ? _c('section', {
    staticClass: "audit"
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("审核结果")]), _vm._v(" "), _c('td', [_c('RadioGroup', {
    model: {
      value: (_vm.memberCardDraftAudit.auditResult),
      callback: function($$v) {
        _vm.$set(_vm.memberCardDraftAudit, "auditResult", $$v)
      },
      expression: "memberCardDraftAudit.auditResult"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("通过")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("不通过")])], 1)], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("审核备注")]), _vm._v(" "), _c('td', [(_vm.memberCardDraftAudit.auditResult === 0) ? _c('div', {
    staticClass: "orangered"
  }, [_vm._v("审核不通过时，请在备注里填写具体原因"), _c('p')]) : _vm._e(), _vm._v(" "), _c('i-input', {
    staticStyle: {
      "width": "100%"
    },
    attrs: {
      "type": "textarea",
      "rows": 6
    },
    model: {
      value: (_vm.memberCardDraftAudit.remark),
      callback: function($$v) {
        _vm.$set(_vm.memberCardDraftAudit, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberCardDraftAudit.remark"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('th'), _vm._v(" "), _c('td', [_c('div', [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submitMemberCardDraftAudit
    }
  }, [_vm._v("提交")])], 1)])])])])]) : _vm._e(), _vm._v(" "), _c('section', {
    staticStyle: {
      "border": "1px solid #E3E8EE",
      "padding": "15px"
    }
  }, [_c('member-card-create', {
    attrs: {
      "mcd-id": _vm.memberCard.mcdId,
      "member-id": _vm.memberCard.memberId,
      "on-submit": _vm.afterCreateCard,
      "member-card": _vm.memberCard
    }
  })], 1), _vm._v(" "), (_vm.memberCard.status === 0 && (_vm.memberCard.createUid === _vm.g.data.user.uid || _vm.g.data.user.isShopOwner)) ? _c('div', {
    staticClass: "right mt20"
  }, [_c('i-button', {
    on: {
      "click": _vm.deleteMemberCardDraft
    }
  }, [_vm._v("删除审核单")])], 1) : _vm._e()] : _vm._e(), _vm._v(" "), _c('div', {
    staticStyle: {
      "display": "none"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 2), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员查询与选择",
      "width": "700",
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.memberSelectDlgForQuery),
      callback: function($$v) {
        _vm.memberSelectDlgForQuery = $$v
      },
      expression: "memberSelectDlgForQuery"
    }
  }, [(_vm.memberSelectDlgForQuery) ? _c('member-select', {
    attrs: {
      "after-select": _vm.afterSelectMemberForQuery
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡审核单设置",
      "width": "700",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.confDlg),
      callback: function($$v) {
        _vm.confDlg = $$v
      },
      expression: "confDlg"
    }
  }, [_c('ul', {
    staticClass: "conf"
  }, [_c('li', [_vm._v("\n\t\t\t\t提交审核后： \n\t\t\t\t"), _c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.g.Req.updateShopArg(2072, _vm.enableMemberCardDraftSbumitSms)
      }
    },
    model: {
      value: (_vm.enableMemberCardDraftSbumitSms),
      callback: function($$v) {
        _vm.enableMemberCardDraftSbumitSms = $$v
      },
      expression: "enableMemberCardDraftSbumitSms"
    }
  }, [_vm._v("发送短信通知给审核人员")]), _vm._v("\n\t\t\t\t \n\t\t\t\t"), _c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.g.Req.updateShopArg(2082, _vm.enableMemberCardDraftSbumitWx)
      }
    },
    model: {
      value: (_vm.enableMemberCardDraftSbumitWx),
      callback: function($$v) {
        _vm.enableMemberCardDraftSbumitWx = $$v
      },
      expression: "enableMemberCardDraftSbumitWx"
    }
  }, [_vm._v("发送微信通知给审核人员")])], 1), _vm._v(" "), _c('li', [_vm._v("\n\t\t\t\t审核退回后： \n\t\t\t\t"), _c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.g.Req.updateShopArg(2073, _vm.enableMemberCardDraftAuditSms)
      }
    },
    model: {
      value: (_vm.enableMemberCardDraftAuditSms),
      callback: function($$v) {
        _vm.enableMemberCardDraftAuditSms = $$v
      },
      expression: "enableMemberCardDraftAuditSms"
    }
  }, [_vm._v("发送短信通知给提交人员")]), _vm._v("\n\t\t\t\t \n\t\t\t\t"), _c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.g.Req.updateShopArg(2083, _vm.enableMemberCardDraftAuditWx)
      }
    },
    model: {
      value: (_vm.enableMemberCardDraftAuditWx),
      callback: function($$v) {
        _vm.enableMemberCardDraftAuditWx = $$v
      },
      expression: "enableMemberCardDraftAuditWx"
    }
  }, [_vm._v("发送微信通知给提交人员")])], 1)])]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "85"
    }
  }, [_vm._v("会员名")]), _vm._v(" "), _c('th', {
    staticStyle: {
      "min-width": "100px"
    }
  }, [_vm._v("会员卡名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("充值金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("实收金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("充值天数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("充值次数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("支付方式")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("销售")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("创建人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "140"
    }
  }, [_vm._v("创建时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("审核人")]), _vm._v(" "), _c('th', {
    staticStyle: {
      "min-width": "100px"
    }
  }, [_vm._v("充值备注")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("详情")])])
}]}

/***/ }),

/***/ 2380:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-card-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [(_vm.cardQueryViewType === 1) ? [_c('td', {
    staticClass: "card-list not-print",
    attrs: {
      "valign": "top"
    }
  }, [_c('a', {
    staticClass: "view-type view-type-1",
    on: {
      "click": function($event) {
        _vm.cardQueryViewType = 2
      }
    }
  }, [_c('i', {
    staticClass: "iconfont icon-arrow-l-2"
  })]), _vm._v(" "), _c('div', {
    staticClass: "card-types"
  }, [_c('ButtonGroup', [_c('i-button', {
    class: {
      on: _vm.query.cardType === 1
    },
    on: {
      "click": function($event) {
        return _vm.handleChangeCardType(1)
      }
    }
  }, [_vm._v("期限卡")]), _vm._v(" "), _c('i-button', {
    class: {
      on: _vm.query.cardType === 2
    },
    on: {
      "click": function($event) {
        return _vm.handleChangeCardType(2)
      }
    }
  }, [_vm._v("次数卡")]), _vm._v(" "), _c('i-button', {
    class: {
      on: _vm.query.cardType === 3
    },
    on: {
      "click": function($event) {
        return _vm.handleChangeCardType(3)
      }
    }
  }, [_vm._v("储值卡")]), _vm._v(" "), _c('i-button', {
    class: {
      on: _vm.query.cardType === 4
    },
    on: {
      "click": function($event) {
        return _vm.handleChangeCardType(4)
      }
    }
  }, [_vm._v("计时卡")])], 1)], 1), _vm._v(" "), _c('ul', _vm._l((_vm.cardList), function(c) {
    return _c('li', {
      class: {
        on: _vm.query.cardId === c.cardId
      },
      on: {
        "click": function($event) {
          return _vm.handleChangeCardId(c.cardId)
        }
      }
    }, [_vm._v(_vm._s(c.cardName))])
  }), 0)]), _vm._v(" "), _c('td', {
    staticClass: "not-print",
    attrs: {
      "width": "15",
      "valign": "top"
    }
  }, [_vm._v(" ")])] : _vm._e(), _vm._v(" "), _c('td', {
    attrs: {
      "valign": "top"
    }
  }, [(_vm.cardQueryViewType === 2) ? _c('section', {
    staticClass: "not-print"
  }, [_c('a', {
    staticClass: "view-type view-type-2",
    on: {
      "click": function($event) {
        _vm.cardQueryViewType = 1
      }
    }
  }, [_c('i', {
    staticClass: "iconfont icon-arrow-r-1"
  })]), _vm._v(" "), _c('div', {
    staticClass: "card-cond"
  }, [_c('ButtonGroup', [_c('i-button', {
    class: {
      on: _vm.query.cardType === 1
    },
    on: {
      "click": function($event) {
        return _vm.handleChangeCardType(1)
      }
    }
  }, [_vm._v("期限卡")]), _vm._v(" "), _c('i-button', {
    class: {
      on: _vm.query.cardType === 2
    },
    on: {
      "click": function($event) {
        return _vm.handleChangeCardType(2)
      }
    }
  }, [_vm._v("次数卡")]), _vm._v(" "), _c('i-button', {
    class: {
      on: _vm.query.cardType === 3
    },
    on: {
      "click": function($event) {
        return _vm.handleChangeCardType(3)
      }
    }
  }, [_vm._v("储值卡")]), _vm._v(" "), _c('i-button', {
    class: {
      on: _vm.query.cardType === 4
    },
    on: {
      "click": function($event) {
        return _vm.handleChangeCardType(4)
      }
    }
  }, [_vm._v("计时卡")])], 1), _vm._v("\n               \n              "), (!_vm.allowSelectMoreCardIds) ? [_c('i-select', {
    staticStyle: {
      "width": "300px"
    },
    attrs: {
      "placeholder": "请选择会员卡",
      "filterable": ""
    },
    on: {
      "on-change": _vm.handleChangeCardId
    },
    model: {
      value: (_vm.query.cardId),
      callback: function($$v) {
        _vm.$set(_vm.query, "cardId", $$v)
      },
      expression: "query.cardId"
    }
  }, _vm._l((_vm.cardList), function(c) {
    return _c('i-option', {
      key: c.cardId,
      attrs: {
        "value": c.cardId
      }
    }, [_vm._v(_vm._s(c.cardName))])
  }), 1)] : _vm._e(), _vm._v("\n               \n              "), _c('i-button', {
    on: {
      "click": _vm.resetCardSelect
    }
  }, [_vm._v("重置")]), _vm._v("\n               \n              "), _c('checkbox', {
    model: {
      value: (_vm.allowSelectMoreCardIds),
      callback: function($$v) {
        _vm.allowSelectMoreCardIds = $$v
      },
      expression: "allowSelectMoreCardIds"
    }
  }, [_vm._v("会员卡多选")])], 2), _vm._v(" "), (_vm.allowSelectMoreCardIds) ? _c('div', {
    staticClass: "p10"
  }, [_c('i-select', {
    staticStyle: {
      "width": "100%"
    },
    attrs: {
      "placeholder": "请选择会员卡（可多选）",
      "filterable": "",
      "multiple": true
    },
    model: {
      value: (_vm.query.cardIdList),
      callback: function($$v) {
        _vm.$set(_vm.query, "cardIdList", $$v)
      },
      expression: "query.cardIdList"
    }
  }, _vm._l((_vm.cardList), function(c) {
    return _c('i-option', {
      key: c.cardId,
      attrs: {
        "value": c.cardId
      }
    }, [_vm._v(_vm._s(c.cardName))])
  }), 1)], 1) : _vm._e()]) : _vm._e(), _vm._v(" "), _c('section', {
    staticClass: "query-section not-print"
  }, [_c('ul', {
    staticClass: "query-cond-inline -more-query"
  }, [(!_vm.salesViewMembDisable) ? _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "-staff",
    attrs: {
      "clearable": "",
      "placeholder": "销售"
    },
    model: {
      value: (_vm.query.salesId),
      callback: function($$v) {
        _vm.$set(_vm.query, "salesId", _vm._n($$v))
      },
      expression: "query.salesId"
    }
  }, _vm._l((_vm.dict.salesList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId,
        "label": '销售：' + s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "-staff",
    attrs: {
      "clearable": "",
      "placeholder": "会员教练"
    },
    model: {
      value: (_vm.query.coachId),
      callback: function($$v) {
        _vm.$set(_vm.query, "coachId", $$v)
      },
      expression: "query.coachId"
    }
  }, _vm._l((_vm.dict.coachList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId,
        "label": '教练：' + s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "-staff",
    attrs: {
      "clearable": "",
      "placeholder": "会籍顾问"
    },
    model: {
      value: (_vm.query.advisorId),
      callback: function($$v) {
        _vm.$set(_vm.query, "advisorId", _vm._n($$v))
      },
      expression: "query.advisorId"
    }
  }, _vm._l((_vm.dict.advisorList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId,
        "label": '会籍：' + s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticClass: "-staff",
    attrs: {
      "clearable": "",
      "placeholder": "私教排课教练"
    },
    model: {
      value: (_vm.query.psCoachId),
      callback: function($$v) {
        _vm.$set(_vm.query, "psCoachId", $$v)
      },
      expression: "query.psCoachId"
    }
  }, _vm._l((_vm.dict.coachList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId,
        "label": '私教：' + s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "90px"
    },
    model: {
      value: (_vm.query.dateType),
      callback: function($$v) {
        _vm.$set(_vm.query, "dateType", $$v)
      },
      expression: "query.dateType"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("注册日期")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("购卡日期")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("开卡日期")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 4
    }
  }, [_vm._v("到期日期")])], 1), _vm._v(" "), _c('date-picker', {
    staticClass: "-date",
    attrs: {
      "format": "yyyy/MM/dd",
      "confirm": "",
      "options": _vm.createDateOption,
      "type": "daterange",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.query.createDateRange),
      callback: function($$v) {
        _vm.$set(_vm.query, "createDateRange", $$v)
      },
      expression: "query.createDateRange"
    }
  })], 1)]), _vm._v(" "), _c('ul', {
    staticClass: "query-cond-inline -more-query"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("剩余")]), _vm._v(" "), _c('input-num', {
    staticClass: "balance-input",
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.query.balanceBegin),
      callback: function($$v) {
        _vm.$set(_vm.query, "balanceBegin", $$v)
      },
      expression: "query.balanceBegin"
    }
  }), _vm._v("\n                ~\n                "), _c('input-num', {
    staticClass: "balance-input",
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.query.balanceEnd),
      callback: function($$v) {
        _vm.$set(_vm.query, "balanceEnd", $$v)
      },
      expression: "query.balanceEnd"
    }
  }), _vm._v(" "), (_vm.query.cardType > 1) ? _c('radio-group', {
    staticClass: "l15 radio-groups",
    model: {
      value: (_vm.query.balanceType),
      callback: function($$v) {
        _vm.$set(_vm.query, "balanceType", $$v)
      },
      expression: "query.balanceType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("天")]), _vm._v(" "), _c('radio', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.query.cardType === 2),
      expression: "query.cardType === 2"
    }],
    attrs: {
      "label": 2
    }
  }, [_vm._v("次")]), _vm._v(" "), _c('radio', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.query.cardType === 3),
      expression: "query.cardType === 3"
    }],
    attrs: {
      "label": 3
    }
  }, [_vm._v("元")]), _vm._v(" "), _c('radio', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.query.cardType === 4),
      expression: "query.cardType === 4"
    }],
    attrs: {
      "label": 4
    }
  }, [_vm._v("分钟")])], 1) : _c('span', {
    staticClass: "l10"
  }, [_vm._v("天")])], 1), _vm._v(" "), (_vm.shopCountInTenant > 1) ? _c('li', {
    staticClass: "item"
  }, [_c('checkbox', {
    staticClass: "input-box",
    model: {
      value: (_vm.query.ignoreCrossMember),
      callback: function($$v) {
        _vm.$set(_vm.query, "ignoreCrossMember", $$v)
      },
      expression: "query.ignoreCrossMember"
    }
  }, [_vm._v("忽略跨店会员")])], 1) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('checkbox', {
    staticClass: "input-box",
    model: {
      value: (_vm.isShowMemberPhoneNo),
      callback: function($$v) {
        _vm.isShowMemberPhoneNo = $$v
      },
      expression: "isShowMemberPhoneNo"
    }
  }, [_vm._v("显示会员手机号")])], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    attrs: {
      "placeholder": "卡状态",
      "multiple": ""
    },
    model: {
      value: (_vm.query.mcStatusList),
      callback: function($$v) {
        _vm.$set(_vm.query, "mcStatusList", $$v)
      },
      expression: "query.mcStatusList"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 0
    }
  }, [_vm._v("正常卡")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("作废卡")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("暂停卡")])], 1)], 1)]), _vm._v(" "), _c('ul', {
    staticClass: "query-cond-inline"
  }, [_c('li', {
    staticClass: "item submit"
  }, [_c('i-button', {
    staticClass: "long-btn",
    attrs: {
      "type": "primary",
      "icon": "ios-search"
    },
    on: {
      "click": function($event) {
        return _vm.handleQuerySubmit()
      }
    }
  }, [_vm._v("查询")]), _vm._v(" "), (_vm.query.cardType === 1) ? [_c('i-button', {
    attrs: {
      "icon": "ios-star-half"
    },
    on: {
      "click": _vm.queryValidCards
    }
  }, [_vm._v("查询未过期卡")]), _vm._v(" "), _c('i-button', {
    attrs: {
      "icon": "ios-star-outline"
    },
    on: {
      "click": _vm.queryInvalidCards
    }
  }, [_vm._v("查询已过期卡")]), _vm._v(" "), _c('i-button', {
    attrs: {
      "icon": "ios-star"
    },
    on: {
      "click": _vm.queryUnUsedCards
    }
  }, [_vm._v("查询未开卡")])] : [_c('i-button', {
    attrs: {
      "icon": "ios-star-half"
    },
    on: {
      "click": _vm.queryValidCards
    }
  }, [_vm._v("查询有效卡")]), _vm._v(" "), _c('i-button', {
    attrs: {
      "icon": "android-notifications-none"
    },
    on: {
      "click": _vm.queryEmptyCards
    }
  }, [_vm._v("查询已用完卡")]), _vm._v(" "), _c('i-button', {
    attrs: {
      "icon": "ios-star-outline"
    },
    on: {
      "click": _vm.queryOutdateCards
    }
  }, [_vm._v("查询已过期卡")])], _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.resetQuery
    }
  }, [_vm._v("重置")]), _vm._v(" "), _c('i-button', {
    attrs: {
      "icon": "ios-cloud-download-outline"
    },
    on: {
      "click": _vm.exportToXls
    }
  }, [_vm._v("导出")])], 2)])]), _vm._v(" "), (false) ? _c('section', [(_vm.totalCount && _vm.totalCount > 50) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.totalCount,
      "page-size": 50,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.changePageNo
    }
  })], 1) : _vm._e(), _vm._v(" "), _c('p', {
    attrs: {
      "align": "center"
    }
  }, [_c('i-button', {
    on: {
      "click": _vm.testFunc
    }
  }, [_vm._v("testFunc")])], 1)]) : _vm._e(), _vm._v(" "), _c('section', {
    staticStyle: {
      "margin-bottom": "0"
    }
  }, [_c('div', {
    staticClass: "tbl-header"
  }, [_c('ul', {
    staticClass: "opt-bar l"
  }, [(_vm.setMemberAdvisorPermit && (_vm.dict.advisorList && _vm.dict.advisorList.length)) ? _c('li', {
    staticClass: "item"
  }, [_c('Dropdown', {
    attrs: {
      "placement": "bottom-start",
      "trigger": "click"
    },
    on: {
      "on-click": _vm.batchUpdateMemberAdvisor
    }
  }, [_c('i-button', [_vm._v("\n                      批量分配会籍 "), _c('Icon', {
    attrs: {
      "type": "arrow-down-b"
    }
  })], 1), _vm._v(" "), _c('DropdownMenu', {
    attrs: {
      "slot": "list"
    },
    slot: "list"
  }, _vm._l((_vm.dict.advisorList), function(s) {
    return _c('DropdownItem', {
      key: s.staffId,
      attrs: {
        "name": s.staffId + '\t' + s.name
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1)], 1) : _vm._e(), _vm._v(" "), (_vm.setMemberCoachPermit && (_vm.dict.coachList && _vm.dict.coachList.length)) ? _c('li', {
    staticClass: "item"
  }, [
    [(_vm.dict.coachTypeList && _vm.dict.coachTypeList.length) ? _c('i-button', {
      on: {
        "click": _vm.openAssignCoachDlg
      }
    }, [_vm._v("批量分配教练")]) : _c('Dropdown', {
      attrs: {
        "placement": "bottom-start",
        "trigger": "click"
      },
      on: {
        "on-click": _vm.batchUpdateMemberCoach
      }
    }, [_c('i-button', [_vm._v("\n                        批量分配教练 "), _c('Icon', {
      attrs: {
        "type": "arrow-down-b"
      }
    })], 1), _vm._v(" "), _c('DropdownMenu', {
      attrs: {
        "slot": "list"
      },
      slot: "list"
    }, _vm._l((_vm.dict.coachList), function(s) {
      return _c('DropdownItem', {
        key: s.staffId,
        attrs: {
          "name": s.staffId + '\t' + s.name
        }
      }, [_vm._v(_vm._s(s.name))])
    }), 1)], 1)]
  ], 2) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "query-cnt r"
  }, [(_vm.query.unUsed) ? [_vm._v("未开卡，")] : _vm._e(), _vm._v("\n                共查到 "), _c('b', [_vm._v(_vm._s(_vm.totalCount))]), _vm._v(" 条记录\n              ")], 2), _vm._v(" "), _c('div', {
    staticClass: "query-cnt r"
  }, [(_vm.query.cardType == 2) ? [(_vm.sumOfCurrentTimes) ? [_vm._v("共剩余"), _c('span', {
    staticClass: "cnt cnt-1"
  }, [_vm._v(_vm._s(_vm.sumOfCurrentTimes))]), _vm._v("次\n                    "), (_vm.sumOfCurrentAmount) ? [_vm._v("（"), _c('span', {
    staticClass: "cnt cnt-2"
  }, [_vm._v(_vm._s(_vm.sumOfCurrentAmount))]), _vm._v("元）")] : _vm._e()] : _vm._e()] : _vm._e(), _vm._v(" "), (_vm.query.cardType == 3) ? [(_vm.sumOfCurrentAmount) ? [_vm._v("充值金额剩余："), _c('span', {
    staticClass: "cnt cnt-2"
  }, [_vm._v(_vm._s(_vm.sumOfCurrentAmount))]), _vm._v("元")] : _vm._e(), _vm._v(" "), (_vm.sumOfPaymentAmount) ? [_vm._v("，实收金额剩余："), _c('span', {
    staticClass: "cnt cnt-4"
  }, [_vm._v(_vm._s(_vm.sumOfPaymentAmount))]), _vm._v("元")] : _vm._e()] : _vm._e(), _vm._v(" "), (_vm.query.cardType == 4) ? [(_vm.sumOfCurrentTimes) ? [_vm._v("共剩余"), _c('span', {
    staticClass: "cnt cnt-3"
  }, [_vm._v(_vm._s(_vm.sumOfCurrentTimes))]), _vm._v("分钟")] : _vm._e()] : _vm._e()], 2)]), _vm._v(" "), (_vm.selectPhoneNo) ? _c('div', {
    staticClass: "format-phone"
  }, [_vm._v(_vm._s(_vm.g.Util.formatPhone(_vm.selectPhoneNo)))]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "mytbl",
    attrs: {
      "id": "memberCardQuery"
    }
  }, [_c('table', {
    staticClass: "inner-tbl",
    attrs: {
      "id": "memberCardInfolList"
    }
  }, [_c('tr', [(_vm.selectMemberPermit) ? _c('th', {
    staticClass: "ckbox",
    attrs: {
      "width": "40"
    },
    on: {
      "click": _vm.selectAll
    }
  }, [(_vm.isSelectAll) ? _c('i', {
    staticClass: "iconfont icon-checkbox-checked ckbox-1"
  }) : _c('i', {
    staticClass: "iconfont icon-checkbox-empty ckbox-0"
  })]) : _vm._e(), _vm._v(" "), _c('th', {
    attrs: {
      "width": "105"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    staticStyle: {
      "min-width": "80px"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "85"
    }
  }, [_vm._v("剩余 ↑ ")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("销售")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("教练")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("会籍顾问")]), _vm._v(" "), _c('th', {
    staticStyle: {
      "min-width": "110px"
    }
  }, [_vm._v("有效期")]), _vm._v(" "), (_vm.query.dateType === 1 || _vm.query.dateType === 2) ? _c('th', [(_vm.query.dateType === 1) ? [_vm._v("注册日期")] : (_vm.query.dateType === 2) ? [_vm._v("购卡日期")] : _vm._e()], 2) : _vm._e(), _vm._v(" "), _c('th', [_vm._v("最近充值")]), _vm._v(" "), (_vm.query.cardType === 2) ? _c('th', [_vm._v("单次均价")]) : _vm._e(), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("团课签到")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("入场签到")])]), _vm._v(" "), _vm._l((_vm.memberCardList), function(m, idx) {
    return _c('tr', [(_vm.selectMemberPermit) ? _c('td', {
      staticClass: "ckbox",
      on: {
        "click": function($event) {
          return _vm.selectMember(idx)
        }
      }
    }, [(!_vm.memberCkList[idx]) ? _c('i', {
      staticClass: "iconfont icon-checkbox-empty ckbox-0"
    }) : _c('i', {
      staticClass: "iconfont icon-checkbox-checked ckbox-1"
    })]) : _vm._e(), _vm._v(" "), _c('td', [_c('a', {
      staticStyle: {
        "display": "block"
      },
      on: {
        "click": function($event) {
          return _vm.viewMember(m.memberId)
        }
      }
    }, [_vm._v(_vm._s(m.memberName))]), _vm._v(" "), (_vm.isShowMemberPhoneNo) ? _c('div', {
      staticClass: "p5",
      on: {
        "mousemove": function($event) {
          _vm.selectPhoneNo = m.memberPhoneNo
        },
        "mouseleave": function($event) {
          _vm.selectPhoneNo = null
        }
      }
    }, [_vm._v(_vm._s(m.memberPhoneNo))]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v("\n                    " + _vm._s(m.cardName) + "\n                    "), (m.status == 1) ? _c('span', {
      staticClass: "red"
    }, [_vm._v("[已作废]")]) : (m.status == 2) ? _c('span', {
      staticClass: "orange"
    }, [_vm._v("[已暂停]")]) : _vm._e()]), _vm._v(" "), _c('td', [(m.cardType === 1) ? [(m.remanentDays || m.remanentDays === 0) ? _c('span', {
      class: 'mc-balance-l' + m.balanceLevel
    }, [_vm._v(_vm._s(m.remanentDays) + " 天")]) : _vm._e()] : (m.cardType === 2) ? [_c('span', {
      class: 'mc-balance-l' + m.balanceLevel
    }, [_vm._v(_vm._s(m.currentTimes) + "次")])] : (m.cardType === 3) ? [_c('span', {
      class: 'mc-balance-l' + m.balanceLevel
    }, [_vm._v(_vm._s(m.currentAmount) + "元")])] : (m.cardType === 4) ? [_c('span', {
      class: 'mc-balance-l' + m.balanceLevel
    }, [_vm._v(_vm._s(m.currentTimes) + "分钟")])] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.salesName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.coachName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.advisorName))]), _vm._v(" "), _c('td', [(m.beginDate) ? [_vm._v("\n                      " + _vm._s(_vm.g.Util.formatDate(m.beginDate)) + " ~ "), _c('span', {
      class: {
        'red': Date.new(m.endDate).compareDatePart(_vm.today) < 0
      }
    }, [_vm._v(_vm._s(_vm.g.Util.formatDate(m.endDate)))])] : _vm._e()], 2), _vm._v(" "), (_vm.query.dateType === 1 || _vm.query.dateType === 2) ? _c('td', [(_vm.query.dateType === 1) ? [_vm._v(_vm._s(_vm.g.Util.formatDate(m.memberRegDate)))] : (_vm.query.dateType === 2) ? [_vm._v(_vm._s(_vm.g.Util.formatDate(m.memberCardCreateTime)))] : _vm._e()], 2) : _vm._e(), _vm._v(" "), _c('td', [(!_vm.g.Util.isEmpty(m.lastChargeAmount)) ? [_vm._v("\n                      ￥" + _vm._s(m.lastChargeAmount) + "\n                      "), (m.cardType < 3) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("/")]) : _vm._e(), _vm._v(" "), (m.cardType === 1 && m.lastChargeDays) ? [_vm._v(_vm._s(m.lastChargeDays) + " 天")] : (m.cardType === 2 && m.lastChargeTimes) ? [_vm._v(_vm._s(m.lastChargeTimes) + " 次")] : _vm._e()] : _vm._e()], 2), _vm._v(" "), (_vm.query.cardType === 2) ? _c('td', [_vm._v("\n                    " + _vm._s(_vm.g.Util.isNotEmpty(m.unitPrice) ? '￥' + _vm.g.Util.round(m.unitPrice.toFixed(2)) : null) + "\n                  ")]) : _vm._e(), _vm._v(" "), _c('td', [(m.glCheckins) ? [_vm._v(_vm._s(m.glCheckins) + " 节")] : _vm._e()], 2), _vm._v(" "), _c('td', [(m.entryCheckins) ? [_vm._v(_vm._s(m.entryCheckins) + " 次")] : _vm._e()], 2)])
  })], 2)]), _vm._v(" "), (_vm.memberCardList && !_vm.memberCardList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e(), _vm._v(" "), (_vm.totalCount && _vm.totalCount > 50) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.totalCount,
      "page-size": 50,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.changePageNo
    }
  })], 1) : _vm._e()])])], 2)])]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "导出文件下载",
      "width": "500",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.exportDlg),
      callback: function($$v) {
        _vm.exportDlg = $$v
      },
      expression: "exportDlg"
    }
  }, [_c('div', {
    staticClass: "export-xls"
  }, [(_vm.exportFileUrl) ? [(_vm.exportFileUrl) ? _c('a', {
    attrs: {
      "href": _vm.exportFileUrl,
      "target": "_blank"
    }
  }, [_vm._v("下载导出文件（xls）")]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "remark"
  }, [_c('b', {
    staticClass: "red"
  }, [_vm._v("提示")]), _vm._v("：每次最多导出 1000 条记录 "), _c('br'), _vm._v("如要导出下一个1000条，请将当前页数增加20页后再导出")])] : _c('span', [_vm._v("正在查询并导出，请稍候...")])], 2)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "分配教练",
      "width": "550",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.assignCoachDlg),
      callback: function($$v) {
        _vm.assignCoachDlg = $$v
      },
      expression: "assignCoachDlg"
    }
  }, [(_vm.assignCoachDlg) ? _c('div', {
    staticStyle: {
      "margin": "0 auto",
      "width": "350px"
    }
  }, [_vm._l((_vm.assignMemberCoachList), function(c, idx) {
    return _c('div', {
      staticClass: "p10"
    }, [_c('i-select', {
      staticStyle: {
        "width": "170px"
      },
      attrs: {
        "placeholder": "选择教练类型"
      },
      model: {
        value: (c.coachType),
        callback: function($$v) {
          _vm.$set(c, "coachType", $$v)
        },
        expression: "c.coachType"
      }
    }, [_c('i-option', {
      key: 0,
      attrs: {
        "value": ""
      }
    }, [_c('span', {
      staticClass: "gray"
    }, [_vm._v("无")])]), _vm._v(" "), _vm._l((_vm.dict.coachTypeList), function(s) {
      return _c('i-option', {
        key: s.ctId,
        attrs: {
          "value": s.ctId
        }
      }, [_vm._v(_vm._s(s.typeName))])
    })], 2), _vm._v("\n         \n        "), _c('i-select', {
      staticStyle: {
        "width": "150px"
      },
      attrs: {
        "filterable": "",
        "placeholder": "选择教练"
      },
      model: {
        value: (c.coachId),
        callback: function($$v) {
          _vm.$set(c, "coachId", $$v)
        },
        expression: "c.coachId"
      }
    }, [_c('i-option', {
      key: 0,
      attrs: {
        "value": ""
      }
    }, [_c('span', {
      staticClass: "gray"
    }, [_vm._v("无")])]), _vm._v(" "), _vm._l((_vm.dict.coachList), function(s) {
      return _c('i-option', {
        key: s.staffId,
        attrs: {
          "value": s.staffId
        }
      }, [_vm._v(_vm._s(s.name))])
    })], 2)], 1)
  }), _vm._v(" "), _c('div', {
    staticClass: "p20"
  }, [_vm._v("\n        分配方式：\n        "), _c('RadioGroup', {
    model: {
      value: (_vm.assignCoachMethod),
      callback: function($$v) {
        _vm.assignCoachMethod = _vm._n($$v)
      },
      expression: "assignCoachMethod"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("\n            更新会员教练\n          ")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("\n            新增会员教练\n          ")])], 1)], 1)], 2) : _vm._e(), _vm._v(" "), _c('div', {
    staticStyle: {
      "margin-top": "-20px"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('div', {
    staticClass: "form-submit center"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submiAssignCoach
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.assignCoachDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)])]), _vm._v(" "), _c('modal')], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2381:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-opt-log"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.logList), function(l) {
    return _c('tr', [_c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(l.memberId)
        }
      }
    }, [_vm._v(_vm._s(l.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.cardName))]), _vm._v(" "), _c('td', [(l.currentAmount) ? [_vm._v("￥" + _vm._s(l.currentAmount))] : _vm._e()], 2), _vm._v(" "), _c('td', [(l.paymentAmount) ? [_vm._v("￥" + _vm._s(l.paymentAmount))] : _vm._e()], 2), _vm._v(" "), _c('td', [(l.cardType === 1 && l.usableDays) ? _c('span', [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(l.usableDays) + " 天\n\t\t\t\t\t\t\t")]) : _vm._e(), _vm._v(" "), (l.cardType === 2 && l.currentTimes) ? _c('span', [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(l.currentTimes) + " 次\n\t\t\t\t\t\t\t")]) : _vm._e()]), _vm._v(" "), _c('td', [(l.beginDate) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.formatDateForShort(l.beginDate)) + " ~ " + _vm._s(_vm.g.Util.formatDateForShort(l.endDate)) + "\n\t\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.delRemark))])])
  })], 2)]), _vm._v(" "), (_vm.count && _vm.count >= 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.count,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryLog
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.logList && _vm.logList.length === 0) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n\t\t\t\t暂无数据\n\t\t\t")]) : _vm._e()])], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("充值金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("实收金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("使用额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "175"
    }
  }, [_vm._v("使用期限")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("删除人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("删除时间")]), _vm._v(" "), _c('th', [_vm._v("备注")])])
}]}

/***/ }),

/***/ 2386:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "member-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('page-header', {
    attrs: {
      "title": _vm.memberName,
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), (_vm.editable) ? _c('section', [_c('i-button', {
    attrs: {
      "type": "primary",
      "icon": "plus"
    },
    on: {
      "click": _vm.showCreateImgDlg
    }
  }, [_vm._v("添加")])], 1) : _vm._e(), _vm._v(" "), _c('section', {
    staticClass: "item-list"
  }, [(_vm.tagArr.length !== 0) ? _c('div', {
    staticClass: "tag-area"
  }, [_vm._l((_vm.tagArr), function(r, idx) {
    return [_c('span', {
      key: idx,
      class: ['norm-tag', _vm.filterId == r.milId ? 'active' : ''],
      on: {
        "click": function($event) {
          return _vm.changeLabel(r.milId)
        }
      }
    }, [_vm._v(_vm._s(r.labelName))])]
  })], 2) : _vm._e(), _vm._v(" "), _c('ul', _vm._l((_vm.memberImgList), function(r, idx) {
    return _c('li', {
      key: idx,
      staticClass: "li"
    }, [_c('div', {
      staticClass: "-hd"
    }, [_vm._v(_vm._s(r.createUname) + " " + _vm._s(r.createTime) + " 提交")]), _vm._v(" "), _c('div', {
      staticClass: "img"
    }, [_c('a', {
      attrs: {
        "href": _vm.g.Util.getImgUrl(r.imgPathname),
        "target": "_blank"
      }
    }, [_c('img', {
      attrs: {
        "src": _vm.g.Util.getImgUrl(r.imgPathname, 500, 500, 'EEEEEE')
      }
    })])]), _vm._v(" "), _c('div', {
      staticClass: "remark"
    }, [_c('i-input', {
      staticStyle: {
        "border": "none"
      },
      attrs: {
        "type": "textarea",
        "rows": 3,
        "readonly": ""
      },
      model: {
        value: (r.remark),
        callback: function($$v) {
          _vm.$set(r, "remark", $$v)
        },
        expression: "r.remark"
      }
    })], 1), _vm._v(" "), (r.status && r.status == 1) ? _c('div', {
      staticClass: "s-tags"
    }, [_vm._l((r.labelNamesArr), function(r, idx) {
      return [_c('span', {
        key: idx
      }, [_vm._v(_vm._s(r))])]
    })], 2) : _c('div', {
      staticClass: "tag-sel",
      staticStyle: {
        "margin-top": "10px"
      }
    }, [_c('i-select', {
      staticStyle: {
        "width": "400px",
        "text-align": "left"
      },
      attrs: {
        "multiple": true,
        "placeholder": "请选择标签（可多选）",
        "filterable": ""
      },
      model: {
        value: (r.milList),
        callback: function($$v) {
          _vm.$set(r, "milList", $$v)
        },
        expression: "r.milList"
      }
    }, _vm._l((_vm.tagArr), function(c) {
      return _c('i-option', {
        key: c.milId,
        attrs: {
          "value": c.milId
        }
      }, [_vm._v(_vm._s(c.labelName))])
    }), 1)], 1), _vm._v(" "), (_vm.editable) ? _c('div', {
      staticClass: "opts"
    }, [(r.status == 0) ? _c('a', {
      on: {
        "click": function($event) {
          return _vm.saveImgLabel(r)
        }
      }
    }, [_vm._v("保存")]) : _vm._e(), _vm._v(" "), (r.status == 1) ? _c('a', {
      on: {
        "click": function($event) {
          return _vm.modifyLabel(idx)
        }
      }
    }, [_vm._v("修改标签")]) : _vm._e(), _vm._v(" "), _c('a', {
      on: {
        "click": function($event) {
          return _vm.updateMemberImg(idx)
        }
      }
    }, [_vm._v("修改备注")]), _vm._v(" "), _c('a', {
      on: {
        "click": function($event) {
          return _vm.delMemberImg(idx)
        }
      }
    }, [_vm._v("删除照片")])]) : _vm._e()])
  }), 0), _vm._v(" "), (!_vm.memberImgList || _vm.memberImgList.length === 0) ? _c('div', [_vm._m(0)]) : _vm._e()])], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "添加会员健身照",
      "width": "550",
      "styles": {
        top: '10px'
      },
      "closable": true
    },
    model: {
      value: (_vm.createDlgView),
      callback: function($$v) {
        _vm.createDlgView = $$v
      },
      expression: "createDlgView"
    }
  }, [_c('div', [_c('img-upload', {
    attrs: {
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "on-success": _vm.handleImgUploadSuccess,
      "max-size": _vm.imgUpload.maxSize,
      "default-file-list": _vm.imgUpload.defaultList
    }
  }, [_c('i-button', {
    attrs: {
      "type": "ghost",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("上传会员照片")])], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "p10"
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 3,
      "placeholder": "备注"
    },
    model: {
      value: (_vm.memberImg.remark),
      callback: function($$v) {
        _vm.$set(_vm.memberImg, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "memberImg.remark"
    }
  })], 1), _vm._v(" "), _c('div', {
    staticClass: "p15 center"
  }, [(_vm.imgReady) ? _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.handleCreateImg
    }
  }, [_vm._v("提交")]) : _vm._e(), _vm._v("\n\t\t\t \n\t\t\t"), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.createDlgView = false
      }
    }
  }, [_vm._v("关闭")])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('p', {
    staticClass: "center"
  }, [_c('i', {
    staticClass: "gray"
  }, [_vm._v("尚无照片")])])
}]}

/***/ }),

/***/ 864:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1112)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1108),
  /* template */
  __webpack_require__(1114),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-23c13726",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 945:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2019)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1301),
  /* template */
  __webpack_require__(2367),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-d75e6be6",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 946:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1795)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1302),
  /* template */
  __webpack_require__(2139),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-17ac3134",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 947:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1925)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1303),
  /* template */
  __webpack_require__(2270),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-5d870aaa",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 948:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1772)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1304),
  /* template */
  __webpack_require__(2114),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-07e73ba7",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 949:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2028)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1305),
  /* template */
  __webpack_require__(2378),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-f47e960a",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 950:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1770)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1306),
  /* template */
  __webpack_require__(2112),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-05e64162",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 951:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1871)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1307),
  /* template */
  __webpack_require__(2217),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-42b73798",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 952:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2030)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1308),
  /* template */
  __webpack_require__(2380),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-f71ae132",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 953:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1783)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1309),
  /* template */
  __webpack_require__(2126),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-1103875a",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 954:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1916)
  __webpack_require__(1917)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1310),
  /* template */
  __webpack_require__(2262),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-575b484e",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 955:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1998)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1311),
  /* template */
  __webpack_require__(2345),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-a50e13d0",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 956:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1976)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1312),
  /* template */
  __webpack_require__(2323),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-7f96f8d2",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 957:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1964)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1313),
  /* template */
  __webpack_require__(2310),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-796ee030",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 958:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1961)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1314),
  /* template */
  __webpack_require__(2307),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-7609f4ce",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 959:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1828)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1315),
  /* template */
  __webpack_require__(2174),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-2b1829c8",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 960:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1872)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1316),
  /* template */
  __webpack_require__(2218),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-43b43c6c",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 961:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1855)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1317),
  /* template */
  __webpack_require__(2201),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-393f69b2",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 962:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1782)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1318),
  /* template */
  __webpack_require__(2125),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-10349df4",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 963:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1843)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1319),
  /* template */
  __webpack_require__(2189),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-35269c55",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 964:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1803)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1320),
  /* template */
  __webpack_require__(2148),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-1c0f656a",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 965:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1898)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1321),
  /* template */
  __webpack_require__(2244),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-4ef2ec7e",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 966:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2031)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1322),
  /* template */
  __webpack_require__(2381),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-f76f52a6",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 967:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2000)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1323),
  /* template */
  __webpack_require__(2347),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-a7c88af2",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 968:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1954)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1324),
  /* template */
  __webpack_require__(2300),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-715830aa",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 969:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1912)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1325),
  /* template */
  __webpack_require__(2258),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-555f1ec0",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 970:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1826)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1326),
  /* template */
  __webpack_require__(2172),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-29cd1220",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 971:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1870)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1327),
  /* template */
  __webpack_require__(2216),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-420b4883",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 972:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1805)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1328),
  /* template */
  __webpack_require__(2150),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-1cf230ff",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 973:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1991)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1329),
  /* template */
  __webpack_require__(2338),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-9afb633a",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 974:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1793)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1330),
  /* template */
  __webpack_require__(2136),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-16f1d2be",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 975:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2036)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1331),
  /* template */
  __webpack_require__(2386),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-ff40c016",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 976:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1905)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1332),
  /* template */
  __webpack_require__(2252),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-53c80bdc",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 977:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1958)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1333),
  /* template */
  __webpack_require__(2304),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-72a22f86",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 978:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1833)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1334),
  /* template */
  __webpack_require__(2179),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-2cee148b",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 979:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1918)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1335),
  /* template */
  __webpack_require__(2263),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-5852f148",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 980:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1841)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1336),
  /* template */
  __webpack_require__(2187),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-341a865c",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 981:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1801)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1337),
  /* template */
  __webpack_require__(2145),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-1b6394a0",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 982:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1940)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1338),
  /* template */
  __webpack_require__(2286),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-6948fc78",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 983:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1844)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1339),
  /* template */
  __webpack_require__(2190),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-353163d2",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 984:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1989)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1340),
  /* template */
  __webpack_require__(2336),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-961af096",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 985:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1876)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1341),
  /* template */
  __webpack_require__(2222),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-45c6191a",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 986:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1920)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1342),
  /* template */
  __webpack_require__(2265),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-592ff393",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 987:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1869)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1343),
  /* template */
  __webpack_require__(2215),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-413ad836",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 988:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1974)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1344),
  /* template */
  __webpack_require__(2320),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-7ece0f33",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 989:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1993)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1345),
  /* template */
  __webpack_require__(2340),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-9ce8a818",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ })

});