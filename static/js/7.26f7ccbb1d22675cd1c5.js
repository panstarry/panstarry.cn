webpackJsonp([7],{

/***/ 1049:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2112)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1461),
  /* template */
  __webpack_require__(2526),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-cb34e34c",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1050:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1903)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1462),
  /* template */
  __webpack_require__(2314),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-22e26a9f",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1051:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1881)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1463),
  /* template */
  __webpack_require__(2291),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-18f572ee",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1052:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2037)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1464),
  /* template */
  __webpack_require__(2449),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-6d565ac2",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1053:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2103)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1465),
  /* template */
  __webpack_require__(2516),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-b5149f20",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1054:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1872)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1466),
  /* template */
  __webpack_require__(2281),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-13266716",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1055:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2044)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1468),
  /* template */
  __webpack_require__(2456),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-7030402a",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1056:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1941)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1469),
  /* template */
  __webpack_require__(2353),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-38f003af",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1057:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2052)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1470),
  /* template */
  __webpack_require__(2464),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-73716a22",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1058:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1891)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1471),
  /* template */
  __webpack_require__(2302),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-1e9bfd9e",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1059:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2063)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1472),
  /* template */
  __webpack_require__(2475),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-7a80fc1d",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1060:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1998)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1473),
  /* template */
  __webpack_require__(2411),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-540a78e4",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1061:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2064)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1474),
  /* template */
  __webpack_require__(2476),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-7aad01e8",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1062:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2128)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1475),
  /* template */
  __webpack_require__(2543),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-f555283c",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1112:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1117)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1115),
  /* template */
  __webpack_require__(1118),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-30ba68e5",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1115:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	props: {
		title: {
			type: String,
			required: false
		},
		menuList: {
			type: Array,
			default() {
				return [];
			}
		}
	},

	data() {
		return {};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1116:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".-sub-tit[data-v-30ba68e5]{display:inline-block}.-sub-tit .-icon[data-v-30ba68e5]{font-weight:400;padding:0 7px;color:#aaa}.-sub-tit .-name[data-v-30ba68e5]{color:#e20;padding-left:25px}.back[data-v-30ba68e5]{display:inline-block;color:gray}.back[data-v-30ba68e5]:hover{color:red}", ""]);

// exports


/***/ }),

/***/ 1117:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1116);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("0b308ec4", content, true, {});

/***/ }),

/***/ 1118:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "page-header"
  }, [_c('ul', {
    staticClass: "menus"
  }, [_vm._m(0), _vm._v(" "), (_vm.title) ? _c('li', {
    staticClass: "tit"
  }, [_vm._v(_vm._s(_vm.title) + " "), _c('i', {
    staticClass: "iconfont icon-arrow-r"
  })]) : _vm._e(), _vm._v(" "), _vm._l((_vm.menuList), function(m, index) {
    return _c('li', {
      class: {
        'on': m.active
      }
    }, [_c('a', {
      key: index,
      on: {
        "click": function($event) {
          return _vm.$router.push('/' + m.path)
        }
      }
    }, [_vm._v(_vm._s(m.name))])])
  }), _vm._v(" "), _c('li', [_vm._t("default")], 2)], 2)])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('li', [_c('a', {
    staticClass: "back",
    attrs: {
      "href": "javascript: history.go(-1);",
      "title": "返回"
    }
  }, [_c('i', {
    staticClass: "iconfont icon-arrow-l-1"
  })])])
}]}

/***/ }),

/***/ 1218:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1940)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1459),
  /* template */
  __webpack_require__(2352),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-38e364c7",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1458:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_cropperjs__ = __webpack_require__(410);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_cropperjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_cropperjs__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { ImgUpload: __WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue___default.a },
	props: {
		staffId: {
			type: Number,
			required: true
		},

		photoType: {
			type: Number,
			required: false,
			default: 0
		},
		afterUpload: {
			type: Function,
			default() {
				return {};
			}
		}
	},

	data() {
		return {
			g: window.$,
			imgUpload: {
				action: $.Conf.IMG_UPLOAD_URL,
				imgMaxWidth: 600,
				defaultList: []
			},
			photo: {
				takePhotoType: 1,
				hasTakePhoto: false,
				imgUrl: null
			},

			cropper: null,
			cropperDlg: false,
			optionValue: {
				viewMode: 1, // 视图模式
				dragMode: "move", // 拖动模式
				initialAspectRatio: 310 / 232.5, // 初始纵横比例
				// autoCropArea: 0.7, // 自动裁剪区域大小
				preview: null,
				cropBoxMovable: false,
				cropBoxResizable: false, // 禁止拖动剪切框
				toggleDragModeOnDblclick: false // 启用以在 "crop" 和 "move" 之间切换拖动模式
			},
			canvasOption: {
				// 输出图片像素
				minWidth: 310,
				minHeight: 232.5,
				imageSmoothingQuality: "high", // 设置图像平滑的质量，“低”（默认）、“中”或“高”之一。
				fillColor: "transparent" //填充色为透明色
			},
			imgUrl: null,
			canvasWidth: 310,
			canvasHeight: 232.5,
			canvasOldHeight: 232.5,
			times: 4 // 控制上传图片的像素大小
		};
	},

	created() {
		this.initCropper();
	},

	methods: {
		changePhotoType(val) {
			if (this.photo.takePhotoType === 2) {
				this.getVideo();
			}
		},

		takePhoto() {
			this.canvasHeight = 232.5;
			this.canvasOldHeight = 232.5;
			this.$nextTick(() => {
				let context = this.$refs.canvas.getContext("2d");
				let oldContext = this.$refs.oldCanvasRefs.getContext("2d");
				let newContext = this.$refs.newCanvasRefs.getContext("2d");
				let video = this.$refs.video;
				context.clearRect(0, 0, this.canvasWidth, this.canvasHeight);
				context.drawImage(video, 0, 0, this.canvasWidth, this.canvasHeight);
				oldContext.clearRect(0, 0, this.canvasWidth * this.times, this.canvasHeight * this.times);
				oldContext.drawImage(video, 0, 0, this.canvasWidth * this.times, this.canvasHeight * this.times);
				newContext.clearRect(0, 0, this.canvasWidth * this.times, this.canvasHeight * this.times);
				newContext.drawImage(video, 0, 0, this.canvasWidth * this.times, this.canvasHeight * this.times);
				this.photo.hasTakePhoto = true;
			});
		},

		uploadPhotoImg() {
			if (this.photo.hasTakePhoto) {
				$.Util.uploadImgFromCanvas(this.$refs.newCanvasRefs, res => {
					this.updateStaffPhoto(res.data.url, res.data.name);
				}, err => {
					alert('上传失败，请稍后重试');
				});
			}
		},

		updateStaffPhoto(imgUrl, imgName) {
			if (this.staffId > 0) {
				let svName = null;
				let args = { staffId: this.staffId };
				if (this.photoType === 0) {
					args.avatarPath = imgName;
					svName = $.SvName.STAFF_AVATAR_UPDATE;
				} else {
					args.facePath = imgName;
					svName = $.SvName.STAFF_FACE_UPDATE;
				}
				$.Req.service(svName, args, ret => {
					this.imgUpload.defaultList = [];
					imgUrl = $.Util.getImgUrl(imgName);
					this.afterUpload(imgUrl, imgName);
					$.Msg.success($.Lang.UPDATE_PHOTO_SUCCESS);
				}, true);
			} else {
				this.afterUpload(imgUrl, imgName);
			}
		},

		beforeUpload(files) {
			if (!files[0]) return;
			let context = this.$refs.canvas.getContext("2d");
			let oldContext = this.$refs.oldCanvasRefs.getContext("2d");
			let newContext = this.$refs.newCanvasRefs.getContext("2d");
			let img = new Image();
			img.src = URL.createObjectURL(files[0]);
			img.onload = () => {
				let width = this.canvasWidth;
				let height = img.height * (this.canvasWidth / img.width);
				this.canvasHeight = height;
				this.canvasOldHeight = height;
				this.$nextTick(() => {
					context.clearRect(0, 0, width, height);
					context.drawImage(img, 0, 0, width, height);
					oldContext.clearRect(0, 0, width * this.times, height * this.times);
					oldContext.drawImage(img, 0, 0, width * this.times, height * this.times);
					newContext.clearRect(0, 0, width * this.times, height * this.times);
					newContext.drawImage(img, 0, 0, width * this.times, height * this.times);
				});
				this.photo.hasTakePhoto = true;
			};
		},

		getVideo() {
			if (location.href.startsWith('http:') && location.href.indexOf('127') < 0) {
				alert('调用摄像头需要使用加密协议（https），即将带你使用加密协议');
				let newUrl = 'https:' + location.href.substr(5);
				location.href = newUrl;
				return;
			}

			$.Msg.info('正在调用摄像头，请稍等...');
			this.$nextTick(() => {
				let video = this.$refs.video;
				let videoObj = { "video": true };
				navigator.mediaDevices.getUserMedia(videoObj).then(function (mediaStream) {
					video.srcObject = mediaStream;
					video.play();
				}).catch(function (error) {
					console.log(error);
				});
			});
		},

		editPhotoImg() {
			this.cropperDlg = true;
			this.imgUrl = this.$refs.oldCanvasRefs.toDataURL("image/jpeg");
			this.createCropper();
		},

		createCropper() {
			if (this.cropper) {
				this.cropper.destroy();
			}
			this.cropper = new __WEBPACK_IMPORTED_MODULE_1_cropperjs___default.a(this.$refs.cropperRefs, this.optionValue);
			this.cropper.replace(this.imgUrl);
		},

		submitFunc() {
			this.canvasHeight = 232.5;
			let val = this.cropper.getCroppedCanvas(this.canvasOption).toDataURL("image/jpeg");

			this.$nextTick(() => {
				var ctx = this.$refs.canvas.getContext("2d");
				var newCtx = this.$refs.newCanvasRefs.getContext("2d");
				var img = new Image();
				img.src = val;
				img.onload = () => {
					ctx.clearRect(0, 0, this.canvasWidth, this.canvasHeight);
					ctx.drawImage(img, 0, 0, this.canvasWidth, this.canvasHeight);
					newCtx.clearRect(0, 0, this.canvasWidth * this.times, this.canvasHeight * this.times);
					newCtx.drawImage(img, 0, 0, this.canvasWidth * this.times, this.canvasHeight * this.times);
					this.cropperDlg = false;
					this.photo.hasTakePhoto = true;
				};
			});
		},

		closeFunc() {
			this.cropperDlg = false;
		},

		initCropper() {
			this.canvasOption.minWidth = this.canvasWidth * this.times;
			this.canvasOption.minHeight = this.canvasHeight * this.times;
		}

	}
});

/***/ }),

/***/ 1459:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



let pcSalaryConf = {};
/* harmony default export */ __webpack_exports__["default"] = ({
	components: { MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default.a },
	props: {
		staffId: {
			type: Number,
			required: true
		},
		beginDate: {
			type: Date,
			required: true
		},
		endDate: {
			type: Date,
			required: true
		}
	},
	data() {
		return {
			g: window.$,
			staff: {},
			menuList: [],
			staffSalary: null,
			pcStatList: [],
			pcSalaryConf: {},
			dateShortcuts: [],
			selectIdx: 0,
			privateLessonCnt: 0,
			privateLessonFeeSum: 0,
			groupLessonCnt: 0,
			staffList: [],
			startDay: 1,
			groupLessonCntForViceCoach: 0,
			dlg: {
				privateLessonList: null,
				pcLessonView: false,
				groupLessonList: null,
				gcLessonView: false,
				memberView: false
			},
			enablePrivateCoachScore: false,
			queryStatus: -1,
			coachType: 1, // 1-主教练，2-助教
			selectMemberId: null,
			memberPlStatList: null,
			isEndStatus: null,
			viewMemberId: null
		};
	},

	watch: {
		staffId(newValue, oldValue) {
			this.calcStaffSalary();
		},

		beginDate(newValue, oldValue) {
			this.calcStaffSalary();
		}
	},

	created() {
		this.calcStaffSalary();
		this.queryPrivateCoachScorePermit();
	},

	methods: {
		calcStaffSalary() {
			let args = {
				staffId: this.staffId,
				beginDate: this.beginDate,
				endDate: this.endDate
			};
			$.Req.service($.SvName.STAFF_SALARY_CALC, args, ret => {
				this.staffSalary = ret.staffSalary;
				this.pcSalaryConf = ret.pcSalaryConf;
				pcSalaryConf = this.pcSalaryConf;

				let plCnt = 0,
				    plFeeSum = 0.0;
				if (this.staffSalary.pcStatList) {
					for (let c of this.staffSalary.pcStatList) {
						plCnt += c.lessonCnt;
						plFeeSum += c.coachLessonFee * c.lessonCnt;
					}
				}
				this.privateLessonCnt = plCnt;
				this.privateLessonFeeSum = plFeeSum.toFixed(2);

				plCnt = 0;
				if (this.staffSalary.gcStatList) {
					for (let c of this.staffSalary.gcStatList) {
						plCnt += c.lessonCnt;
					}
				}
				this.groupLessonCnt = plCnt;

				plCnt = 0;
				if (this.staffSalary.gcStatListForViceCoach) {
					for (let c of this.staffSalary.gcStatListForViceCoach) {
						plCnt += c.lessonCnt;
					}
				}
				this.groupLessonCntForViceCoach = plCnt;
			}, true);
		},

		viewPrivateLesson() {
			this.dlg.pcLessonView = true;
			this.queryPrivateLesson();
		},

		queryPrivateLesson() {
			let args = {
				coachId: this.staffId,
				beginDate: this.beginDate,
				endDate: this.endDate,
				needStatMemberLessonCount: true,
				needMemberCardInfo: true,
				needPaging: false
			};
			if (this.selectMemberId) {
				args.memberId = this.selectMemberId;
			}
			if (this.isEndStatus) {
				args.status = 9;
			}
			$.Req.service($.SvName.PC_LESSON_QUERY, args, ret => {
				this.memberPlStatList = ret.memberPlStatList;
				for (let l of ret.pcLessonList) {
					l.lessonDate = $.Util.formatDate(l.lessonDate);
					l.lessonTimeDesc = "{0}~{1}".format($.Util.formatTime(l.beginTime), $.Util.formatTime(l.endTime));
				}
				this.dlg.privateLessonList = ret.pcLessonList;
			}, true);
		},

		queryPrivateCoachScorePermit() {
			let args = { typeId: $.Dict.ShopArg.PRIVATE_COACH_LESSON_SALARY_TYPE };
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
				if (ret.value) {
					this.enablePrivateCoachScore = ret.value === '4' || ret.value.indexOf('4,') === 0;
				}
			});
		},

		viewGroupLesson() {
			this.coachType = 1;
			this.dlg.gcLessonView = true;
			this.queryGroupLesson();
		},

		queryGroupLesson() {
			let args = {
				coachId: this.staffId,
				beginDate: this.beginDate,
				endDate: this.endDate,
				needPaging: false
			};
			if (this.queryStatus > -1) {
				args.status = this.queryStatus;
			}
			$.Req.service($.SvName.LESSON_QUERY, args, ret => {
				for (let l of ret.lessonList) {
					l.lessonDate = $.Util.formatDate(l.lessonDate);
					l.lessonTimeDesc = "{0}~{1}".format($.Util.formatTime(l.beginTime), $.Util.formatTime(l.endTime));
				}
				this.dlg.groupLessonList = ret.lessonList;
			}, true);
		},

		viewGroupLessonForViceCoach() {
			this.coachType = 2;
			this.dlg.gcLessonView = true;
			this.queryGroupLessonForViceCoach();
		},

		queryGroupLessonForViceCoach() {
			let args = {
				viceCoachId: this.staffId,
				beginDate: this.beginDate,
				endDate: this.endDate,
				needPaging: false
			};
			if (this.queryStatus > -1) {
				args.status = this.queryStatus;
			}
			$.Req.service($.SvName.LESSON_QUERY, args, ret => {
				for (let l of ret.lessonList) {
					l.lessonDate = $.Util.formatDate(l.lessonDate);
					l.lessonTimeDesc = "{0}~{1}".format($.Util.formatTime(l.beginTime), $.Util.formatTime(l.endTime));
				}
				this.dlg.groupLessonList = ret.lessonList;
			}, true);
		},

		queryLesson(coachType) {
			if (coachType === 1) {
				this.queryGroupLesson();
			} else if (coachType === 2) {
				this.queryGroupLessonForViceCoach();
			}
		},

		queryMemberPlStatByMemberId(memberId) {
			if (memberId === this.selectMemberId) {
				this.selectMemberId = null;
			} else {
				this.selectMemberId = memberId;
			}
			this.queryPrivateLesson();
		},

		viewMemberInfo(memberId) {
			this.viewMemberId = memberId;
			this.dlg.memberView = true;
		}
	}
});

/***/ }),

/***/ 1460:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	props: ['staffId'],
	data() {
		return {
			roles: [],
			staff: {},
			coach: null,
			isInVacation: false
		};
	},

	created() {
		if (this.staffId) {
			this.loadData();
		}
	},

	watch: {
		staffId(val, oldVal) {
			this.loadData();
		}
	},

	methods: {
		loadData() {
			const args = { staffId: this.staffId };
			$.Req.service($.SvName.STAFF_QUERY, args, ret => {
				if (ret && ret.staffList && ret.staffList[0]) {
					const s = ret.staffList[0];
					s.sexName = $.Dict.Sex[s.sex];
					s.statusName = $.Dict.StaffStatus[s.status];
					s.roleNames = s.roleNameList.join(' ， ');
					s.vacationBegin = s.vacationBegin ? Date.new(s.vacationBegin).format("yyyy-MM-dd") : '';
					s.vacationEnd = s.vacationEnd ? Date.new(s.vacationEnd).format("yyyy-MM-dd") : '';
					this.staff = s;
					this.isInVacation = s.vacationEnd && Date.new(s.vacationEnd).format('yyyyMMdd') >= new Date().format('yyyyMMdd');

					if (ret.coach) this.coach = ret.coach;else this.coach = null;
				}
			});
		}

	}
});

/***/ }),

/***/ 1461:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ __webpack_exports__["default"] = ({
	components: {},
	data() {
		return {
			editable: $.Util.hasRoleFunc($.Dict.RoleFunc.COACH_TYPE_EDIT.value),
			coachTypeList: null,
			coachType: { ctId: null, typeName: null, remark: null },
			dlgShow: false
		};
	},

	created() {
		this.loadData();
	},

	methods: {
		loadData() {
			$.Req.service($.SvName.COACH_TYPE_QUERY, {}, ret => {
				this.coachTypeList = ret.coachTypeList;
			});
		},

		create() {
			this.coachType.ctId = null;
			this.coachType.typeName = null;
			this.coachType.remark = null;
			this.dlgShow = true;
		},

		update(idx) {
			this.coachType.ctId = this.coachTypeList[idx].ctId;
			this.coachType.typeName = this.coachTypeList[idx].typeName;
			this.coachType.remark = this.coachTypeList[idx].remark;
			this.dlgShow = true;
		},

		submit() {
			if (!this.coachType.typeName) {
				$.Dlg.error('请输入教练类型');
				return;
			}
			if (this.coachType.typeName.length > 50) {
				$.Dlg.error('教练类型名称不能超过50字');
				return;
			}

			let args = {
				actionType: this.coachType.ctId ? 'U' : 'I',
				coachType: this.coachType
			};
			$.Req.service($.SvName.COACH_TYPE_SAVE, args, ret => {
				this.loadData();
				this.dlgShow = false;
			});
		},

		delCoachType(idx) {
			let msg = '确定要删除【{0}】吗？'.format(this.coachTypeList[idx].typeName);
			$.Dlg.confirm(msg, yes => {
				let args = {
					actionType: 'D',
					deleteId: this.coachTypeList[idx].ctId
				};
				$.Req.service($.SvName.COACH_TYPE_SAVE, args, ret => {
					this.loadData();
				});
			});
		}
	}
});

/***/ }),

/***/ 1462:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ __webpack_exports__["default"] = ({
	components: {},
	data() {
		return {
			editable: $.Util.hasRoleFunc($.Dict.RoleFunc.SHOP_DEPT_EDIT.value),
			departmentList: null,
			department: { sdId: null, deptName: null, remark: null },
			ownerStaffIdList: [],
			dlgShow: false,
			staffList: [],
			staffNameMap: {}
		};
	},

	created() {
		this.queryStaffList(() => {
			this.queryShopDepartmentList();
		});
	},

	methods: {
		queryShopDepartmentList() {
			$.Req.service($.SvName.SHOP_DEPARTMENT_QUERY, {}, ret => {
				this.departmentList = ret.departmentList;
			});
		},

		queryStaffList(callback = null) {
			let args = { status: 0, needBaseInfo: true };
			$.Req.service($.SvName.STAFF_QUERY, args, ret => {
				this.staffList = ret.staffList;
				for (let s of ret.staffList) {
					this.staffNameMap[s.staffId] = s.name;
				}
				if (callback) callback();
			});
		},

		create() {
			this.department.sdId = null;
			this.department.deptName = null;
			this.department.remark = null;
			this.ownerStaffIdList = [];
			this.dlgShow = true;
		},

		update(idx) {
			this.department.sdId = this.departmentList[idx].sdId;
			this.department.deptName = this.departmentList[idx].deptName;
			this.department.remark = this.departmentList[idx].remark;
			this.ownerStaffIdList = [];
			if (this.departmentList[idx].ownerStaffIds) {
				for (let val of this.departmentList[idx].ownerStaffIds.split(',')) {
					this.ownerStaffIdList.push(parseInt(val));
				}
			}
			this.dlgShow = true;
		},

		submit() {
			if (!this.department.deptName) {
				$.Dlg.error('请输入部门名称');
				return;
			}
			if (this.department.deptName.length > 50) {
				$.Dlg.error('部门名称不能超过50字');
				return;
			}
			this.department.ownerStaffIds = $.Util.isEmptyArray(this.ownerStaffIdList) ? null : this.ownerStaffIdList.join(',');

			let args = {
				actionType: this.department.sdId ? 'U' : 'I',
				department: this.department
			};
			$.Req.service($.SvName.SHOP_DEPARTMENT_SAVE, args, ret => {
				this.queryShopDepartmentList();
				this.dlgShow = false;
			});
		},

		delDepartment(idx) {
			let msg = '确定要删除【{0}】吗？'.format(this.departmentList[idx].deptName);
			$.Dlg.confirm(msg, yes => {
				let args = {
					actionType: 'D',
					deleteId: this.departmentList[idx].sdId
				};
				$.Req.service($.SvName.SHOP_DEPARTMENT_SAVE, args, ret => {
					this.queryShopDepartmentList();
				});
			});
		}
	}
});

/***/ }),

/***/ 1463:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help__ = __webpack_require__(404);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_help__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { Help: __WEBPACK_IMPORTED_MODULE_0__components_help___default.a },
	data() {
		return {
			g: $,
			editable: $.data.user.isShopOwner,
			roleFuncDict: $.Dict.RoleFunc,
			roleIndex: '',
			roles: [],
			roleList: null,
			funcNameMap: {},
			roleEditDlg: {
				title: '', roleId: '', show: false, roleName: '', funcList: []
			},
			RoleGroups: {
				SYS: '基础权限', MEMBER: '会员权限', CUST: '客户权限', COURSE: '课程权限', STAFF: '员工权限', ACC: '记账权限', MALL: '商城权限',
				MARKET: '营销权限', STAT: '统计权限', MACH: '设备权限', VENUE: '场地权限', OTHER: '其它权限'
			},
			showCheckAll: false
		};
	},

	created() {
		for (let k in $.Dict.RoleFunc) {
			this.funcNameMap[$.Dict.RoleFunc[k].value] = $.Dict.RoleFunc[k].name;
		}

		this.loadData();
	},

	methods: {
		loadData() {
			$.Req.service($.SvName.ROLE_QUERY, {}, ret => {
				this.roleList = ret.roleList;

				this.roles = [{ roleName: '店长', funcNames: ['全部'] }];
				for (let [idx, r] of ret.roleList.entries()) {
					let record = {
						roleName: r.roleName,
						funcNames: this.getFuncNames(r.funcListStr),
						sysRid: r.sysRid
					};
					this.roles.push(record);
				}
			});
		},

		getFuncNames(funcListStr) {
			let names = [];
			let funcList = funcListStr.split(',');
			for (let i = 0, len = funcList.length; i < len; i++) {
				names.push(this.funcNameMap[funcList[i]]);
			}
			return names;
			//return names.join('<u>|</u>');
		},

		openEditRoleDlg(index) {
			this.roleIndex = index;
			if (index >= 0) {
				const r = this.roleList[index];
				this.roleEditDlg.title = '角色编辑';
				this.roleEditDlg.roleId = r.roleId;
				this.roleEditDlg.roleName = r.roleName;
				const funcList = r.funcListStr.split(',');
				this.roleEditDlg.funcList = [];
				for (let i = 0, len = funcList.length; i < len; i++) {
					this.roleEditDlg.funcList.push(parseInt(funcList[i]));
				}
			} else {
				this.roleEditDlg.title = '添加角色';
				this.roleEditDlg.roleId = null;
				this.roleEditDlg.roleName = '';
				this.roleEditDlg.funcList = [];
			}
			this.roleEditDlg.show = true;
		},

		saveRole() {
			if (!this.roleEditDlg.roleName) {
				$.Dlg.error('请输入角色名称。');
				return;
			}
			if (this.roleEditDlg.funcList.length === 0) {
				$.Dlg.error('请指示选择一项角色功能。');
				return;
			}

			const msg = '确定要保存【<b class="red">{0}</b>】角色吗？'.format(this.roleEditDlg.roleName);
			$.Dlg.confirm(msg, yes => {
				const actionType = this.roleEditDlg.roleId ? 'U' : 'I';
				this.roleEditDlg.funcList.sort(function (a, b) {
					return parseInt(a) - parseInt(b);
				});
				const savedRole = {
					roleId: this.roleEditDlg.roleId,
					roleName: this.roleEditDlg.roleName,
					funcListStr: this.roleEditDlg.funcList.join(',')
				};
				$.Req.service($.SvName.ROLE_SAVE, { actionType: actionType, role: savedRole }, ret => {
					if (actionType === 'I') {
						savedRole.roleId = ret.roleId;
						this.roles.push({
							roleName: savedRole.roleName,
							funcNames: this.getFuncNames(savedRole.funcListStr)
						});
						this.roleList.push(savedRole);
					} else if (actionType === 'U') {
						this.roles[this.roleIndex + 1].roleName = savedRole.roleName;
						this.roles[this.roleIndex + 1].funcNames = this.getFuncNames(savedRole.funcListStr);
						this.roleList[this.roleIndex] = savedRole;
					}
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.roleEditDlg.show = false;
				});
			});
		},

		deleteRole(index) {
			const r = this.roleList[index];
			const msg = '确定要删除【<b class="red">{0}</b>】角色吗？ '.format(r.roleName);
			$.Dlg.confirm(msg, yes => {
				$.Req.service($.SvName.ROLE_SAVE, { actionType: 'D', deleteId: r.roleId }, ret => {
					this.loadData();
				}, true);
			});
		},

		checkAllFuncs(groupKey) {
			for (let key of $.Dict.RoleFuncGroup[groupKey]) {
				this.roleEditDlg.funcList.push(parseInt($.Dict.RoleFunc[key].value));
			}
		},

		uncheckAllFuncs(groupKey) {
			for (let key of $.Dict.RoleFuncGroup[groupKey]) {
				this.roleEditDlg.funcList.removeValue(parseInt($.Dict.RoleFunc[key].value));
			}
		}
	}
});

/***/ }),

/***/ 1464:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	components: {},
	data() {
		return {
			statItems: {
				10: '总营收', 11: '会籍卡收入', 12: '团课卡收入', 13: '私教卡收入', 14: '记账收入', 15: '转卡费', 16: '租柜费', 17: '客户定金',
				20: '新增会员数', 21: '总会员数', 22: '总有效会员数', 23: '私教会员数', 24: '有效私教会员数',
				30: '入场签到数', 31: '团课预约数和签到数', 32: '私教课预约数和签到数'
			},
			statTitles: ['日报表', '周报表', '月报表'],
			statItemTypeIds: [2060, 2061, 2062],
			reportStaffs: [[{}, {}], [{}, {}], [{}, {}]],
			reportStatItems: [[], [], []],
			staffList: null
		};
	},

	created() {
		this.queryStaffList();
	},

	methods: {
		queryStaffList() {
			let args = { status: 0 };
			$.Req.service($.SvName.STAFF_QUERY, args, ret => {
				this.staffList = ret.staffList;

				this.queryShopArgs();
			});
		},

		queryShopArgs() {
			let args = {
				typeIdList: this.statItemTypeIds
			};
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
				for (let r of ret.argList) {
					if (!r.typeValue) continue;
					let idx = -1;
					if (r.typeId === 2060) idx = 0;else if (r.typeId === 2061) idx = 1;else if (r.typeId === 2062) idx = 2;
					if (idx >= 0) {
						this.parseReportConf(idx, r.typeValue);
					}
				}
			});
		},

		parseReportConf(idx, typeValue) {
			let confList = typeValue.split('|');
			let staffs = [],
			    statItems = [];
			for (let statItem of confList[0].split(',')) {
				statItems.push(statItem);
			}
			for (let staffItem of confList[1].split(',')) {
				let confs = staffItem.split(':');
				let msgTypes = confs[1] ? confs[1].split(';') : [];
				staffs.push({
					staffId: parseInt(confs[0]),
					hasSms: msgTypes.contains('0'),
					hasWx: msgTypes.contains('1')
				});
			}
			this.$set(this.reportStaffs, idx, staffs);
			this.$set(this.reportStatItems, idx, statItems);
		},

		appendMsgReceiver(staffs) {
			staffs.push({});
		},

		findStaffName(staffId) {
			for (let s of this.staffList) {
				if (s.staffId == staffId) return s.name;
			}

			return null;
		},

		saveConf(idx) {
			let statItemArr = this.reportStatItems[idx];
			let reportStaffArr = this.reportStaffs[idx];

			let staffConfs = [];
			let staffIds = [];
			for (let s of reportStaffArr) {
				if (!s.staffId) continue;

				if (s.staffId && !s.hasSms && !s.hasWx) {
					$.Dlg.error('请为【{0}】至少选择一个消息通知方式'.format(this.findStaffName(s.staffId)));
					return;
				}
				if (staffIds.contains(s.staffId)) {
					$.Dlg.warning('不能重复设置消息接收人员【{0}】'.format(this.findStaffName(s.staffId)));
					return;
				} else {
					staffIds.push(s.staffId);
				}
				let msgTypes = [];
				if (s.hasSms) msgTypes.push(0);
				if (s.hasWx) msgTypes.push(1);
				staffConfs.push(s.staffId + ':' + msgTypes.join(';'));
			}
			let conf = statItemArr.join(',') + '|' + staffConfs.join(',');
			let args = {
				typeId: this.statItemTypeIds[idx],
				typeValue: conf
			};
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
		}
	}
});

/***/ }),

/***/ 1465:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1112);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
	data() {
		return {
			g: window.$,
			staffId: this.$route.params.staffId,
			staff: {},
			coach: {},
			menuList: [],
			privateLessonList: [],
			groupLessonList: [],
			groupLessonQuery: {
				status: '9',
				beginDate: null,
				endDate: null,
				page: null
			},
			groupLessonTotal: null,
			privateLessonQuery: {
				status: '9',
				beginDate: null,
				endDate: null,
				page: null
			},
			privateLessonTotal: null,
			groupCourseList: [],
			staffList: [],
			groupLessonQueryForViceCoach: {
				status: 9,
				beginDate: null,
				endDate: null
			},
			groupLessonTotalForViceCoach: null,
			groupLessonListForViceCoach: null,
			sumOfLessonTimes: null
		};
	},

	created() {
		if (!this.$route.params.staffId) {
			this.$router.push('/staff-query');
			return;
		}
		this.initQuery();
		this.queryStaff();

		let args = { status: 0, needBaseInfo: true };
		$.Req.service($.SvName.STAFF_QUERY, args, ret => {
			this.staffList = ret.staffList;
		});
	},

	methods: {
		queryStaff() {
			const args = { staffId: this.staffId };
			$.Req.service($.SvName.STAFF_QUERY, args, ret => {
				if (ret && ret.staffList && ret.staffList[0]) {
					this.staff = ret.staffList[0];
					this.coach = ret.coach;
					this.menuList = $.PageMenus.staff(this.staff, 'staff-coach');

					if (this.coach) {
						if (this.coach.isGroupCoach) {
							this.queryGroupLesson();
							this.queryGroupLessonForViceCoach();
						}
						if (this.coach.isPrivateCoach) {
							this.queryPrivateLesson();
						}
					}
				}
			});
		},

		initQuery() {
			let endDate = new Date();
			let beginDate = new Date();
			beginDate.setDate(1);
			this.groupLessonQuery.beginDate = beginDate;
			this.groupLessonQuery.endDate = endDate;
			this.privateLessonQuery.beginDate = beginDate;
			this.privateLessonQuery.endDate = endDate;
			this.groupLessonQueryForViceCoach.beginDate = beginDate;
			this.groupLessonQueryForViceCoach.endDate = endDate;
		},

		queryGroupLesson(page = null) {
			if (!page) this.groupLessonTotal = null;
			this.groupLessonQuery.page = page;
			let args = {
				coachId: this.staff.staffId,
				status: this.groupLessonQuery.status,
				beginDate: this.groupLessonQuery.beginDate,
				endDate: this.groupLessonQuery.endDate,
				page: page,
				needPaging: true,
				needSumLessonTimes: true
			};
			$.Req.service($.SvName.LESSON_QUERY, args, ret => {
				this.groupLessonList = ret.lessonList;
				for (let l of this.groupLessonList) {
					l.lessonDate = $.Util.formatDate(l.lessonDate);
					l.lessonTimeDesc = "{0}~{1}".format($.Util.formatTime(l.beginTime), $.Util.formatTime(l.endTime));
				}
				if (!page) {
					this.groupLessonTotal = ret.count;
					this.sumOfLessonTimes = ret.sumMinsOfLessonTimes;
				}
			}, true);
		},

		changePageNoForGroupLesson(page) {
			this.queryGroupLesson(page);
		},

		queryPrivateLesson(page = null) {
			if (!page) this.privateLessonTotal = null;
			this.privateLessonQuery.page = page;
			let args = {
				coachId: this.staff.staffId,
				status: this.privateLessonQuery.status,
				beginDate: this.privateLessonQuery.beginDate,
				endDate: this.privateLessonQuery.endDate,
				page: page,
				needPaging: true
			};
			$.Req.service($.SvName.PC_LESSON_QUERY, args, ret => {
				this.privateLessonList = ret.pcLessonList;
				for (let l of this.privateLessonList) {
					l.lessonDate = $.Util.formatDate(l.lessonDate);
					l.lessonTimeDesc = "{0}~{1}".format($.Util.formatTime(l.beginTime), $.Util.formatTime(l.endTime));
				}
				if (!page) {
					this.privateLessonTotal = ret.count;
				}
			}, true);
		},

		changePageNoForPrivateLesson(page) {
			this.queryPrivateLesson(page);
		},

		changeStaff() {
			if (!this.staffId) return;

			this.$router.push('/staff-coach/' + this.staffId);
			this.queryStaff();
		},

		queryGroupLessonForViceCoach(page = null) {
			if (!page) this.groupLessonTotalForViceCoach = null;
			let args = {
				viceCoachId: this.staff.staffId,
				beginDate: this.groupLessonQueryForViceCoach.beginDate,
				endDate: this.groupLessonQueryForViceCoach.endDate,
				page: page,
				needPaging: true
			};
			if (this.groupLessonQueryForViceCoach.status === 9) args.status = 9;else args.notStatus = 9;
			$.Req.service($.SvName.LESSON_QUERY, args, ret => {
				this.groupLessonListForViceCoach = ret.lessonList;
				for (let l of this.groupLessonListForViceCoach) {
					l.lessonDate = $.Util.formatDate(l.lessonDate);
					l.lessonTimeDesc = "{0}~{1}".format($.Util.formatTime(l.beginTime), $.Util.formatTime(l.endTime));
				}
				if (!page) {
					this.groupLessonTotalForViceCoach = ret.count;
				}
			}, true);
		}
	}
});

/***/ }),

/***/ 1466:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__staff_edit_vue__ = __webpack_require__(879);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__staff_edit_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__staff_edit_vue__);
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { StaffCreate: __WEBPACK_IMPORTED_MODULE_0__staff_edit_vue___default.a },
	data() {
		return {};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1467:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1112);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_staff_staff_avatar_conf_vue__ = __webpack_require__(2237);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_staff_staff_avatar_conf_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_staff_staff_avatar_conf_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_help__ = __webpack_require__(404);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_help___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_help__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ __webpack_exports__["default"] = ({
  components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, StaffAvatarConf: __WEBPACK_IMPORTED_MODULE_1__pages_staff_staff_avatar_conf_vue___default.a, Help: __WEBPACK_IMPORTED_MODULE_2__components_help___default.a },
  data() {
    const validatePhoneNo = (rule, value, callback) => {
      if (!$.Util.validatePhoneNo(value)) {
        callback(new Error($.Lang.PHONE_NO_ERR));
      } else {
        callback();
      }
    };

    return {
      g: $,
      staffEditable: $.Util.hasRoleFunc($.Dict.RoleFunc.STAFF_EDIT.value),
      menuList: [],
      roles: null,
      staffId: this.$route.params.staffId,
      staffRoleList: [],
      staff: {
        uid: null,
        staffId: null,
        phoneNo: null,
        name: "",
        sex: "",
        roleListStr: "",
        isCoach: false,
        isShopOwner: false,
        birthday: null,
        joinDate: null,
        orderNo: null,
        salaryTmptId: null,
        isHidePhone: null
      },
      coach: {
        types: null,
        isGroupCoach: false,
        isPrivateCoach: false,
        isPublic: true,
        isShowPhoneInMsite: null
      },
      coachRoleId: null,
      requiredFields: {
        staff: ["phoneNo", "name", "sex", "isCoach"]
      },
      formRule: {
        staff: {
          phoneNo: [{ validator: validatePhoneNo, trigger: "blur" }]
        },
        coach: {}
      },
      imgUpload: {
        action: $.Conf.IMG_UPLOAD_URL,
        imgMaxWidth: 512,
        defaultList: []
      },
      updateStaffPhoneView: false,
      newPhoneNo: null,
      updateStaffPhoneErr: null,
      dict: {
        staffList: null
      },
      subStaffIdList: [],
      departmentList: [],
      staffDeptIdList: [],
      photo: {
        staffId: 0,
        photoDlgView: false,
        imgUrl: null
      },
      face: {
        staffId: 0,
        photoDlgView: false,
        imgUrl: null
      },
      salaryTemplateList: null,
      enableFaceReg: false,
      coachTypeList: null,
      coachTypeIdList: []
    };
  },

  created() {
    this.queryFaceRegConf();

    // query staff
    $.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
      this.dict.staffList = ret.staffList;
    });
    this.queryDepartment();
    this.loadData();
    if (this.requiredFields) {
      $.Util.addRequiredFieldsRules(this.formRule.staff, this.requiredFields.staff);
    }
    this.querySalaryTemplate();
    this.queryCoachTypeList();
  },

  methods: {
    loadData() {
      if (this.$route.params.staffId) {
        // edit
        this.staff.staffId = parseInt(this.$route.params.staffId);

        this.queryRole(this.queryStaff);
        this.photo.staffId = this.staff.staffId;
        this.face.staffId = this.staff.staffId;
      } else {
        this.queryRole();
      }
    },

    queryRole(callback) {
      $.Req.service($.SvName.ROLE_QUERY, {}, ret => {
        this.roles = ret.roleList;
        for (let [idx, r] of ret.roleList.entries()) {
          if (r.sysRid === $.Dict.SysRole.COACH) {
            this.coachRoleId = r.roleId;
          }
        }
        if (callback) callback();
      });
    },

    queryStaff() {
      // query staff
      const args = { staffId: this.staff.staffId };
      $.Req.service($.SvName.STAFF_QUERY, args, ret => {
        if (ret && ret.staffList && ret.staffList[0]) {
          if (ret.staffList[0].sex >= 0) {
            ret.staffList[0].sex = ret.staffList[0].sex ? 1 : 0;
          }
          if (ret.staffList[0].isCoach === undefined || ret.staffList[0].isCoach === null) {
            ret.staffList[0].isCoach = false;
          }
          this.staff = ret.staffList[0];
          this.menuList = $.PageMenus.staff(this.staff, "staff-edit");
          this.staffRoleList.splice(0, this.staffRoleList.length);
          if (this.staff.roleListStr) {
            for (let rid of this.staff.roleListStr.split(",")) {
              rid = parseInt(rid);
              for (let role of this.roles) {
                if (role.roleId === rid) {
                  this.staffRoleList.push(rid);
                  break;
                }
              }
            }
          }
          this.subStaffIdList = [];
          if (this.staff.subStaffIds) {
            for (let staffId of this.staff.subStaffIds.split(",")) {
              this.subStaffIdList.push(parseInt(staffId));
            }
          }
          if (ret.coach) {
            this.coach = ret.coach;
            if (this.coach.coachTypeIds) {
              this.coachTypeIdList = [];
              for (let val of this.coach.coachTypeIds.split(",")) {
                this.coachTypeIdList.push(parseInt(val));
              }
            }
          }
          if (this.staff.avatarPathname) {
            this.photo.imgUrl = $.Util.getImgUrl(this.staff.avatarPathname);
          }
          if (this.staff.facePathname) {
            this.face.imgUrl = $.Util.getImgUrl(this.staff.facePathname);
          }
          if (this.staff.deptIds) {
            for (let deptId of this.staff.deptIds.split(",")) {
              this.staffDeptIdList.push(parseInt(deptId));
            }
          }
        } else {
          this.$router.push("/staff-query");
        }
      });
    },

    changeRole() {
      this.staff.isCoach = this.staffRoleList.contains(this.coachRoleId);
    },

    onClickSubmitBtn() {
      this.$refs.staff.validate(valid1 => {
        if (!valid1) return false;
        if (!this.staff.isShopOwner && this.staffRoleList.length === 0) {
          $.Dlg.error($.Lang.REQUIRE_ROLE);
          return false;
        }

        if (this.staff.isCoach) {
          this.$refs.coach.validate(valid2 => {
            if (!valid2) return false;
            this.saveStaff();
          });
        } else {
          this.saveStaff();
        }
      });
    },

    saveStaff() {
      if (this.staff.isCoach) {
        if (!this.coach.isGroupCoach && !this.coach.isPrivateCoach) {
          $.Dlg.warning("您已选择了该员工的角色为【教练】，请进一步选择【教练类别】");
          return;
        }
      }

      const actionType = this.staff.staffId ? "U" : "I";
      this.staff.roleListStr = this.staffRoleList ? this.staffRoleList.join(",") : "";
      this.staff.subStaffIds = this.subStaffIdList ? this.subStaffIdList.join(",") : "";
      this.staff.deptIds = this.staffDeptIdList ? this.staffDeptIdList.join(",") : "";
      this.coach.coachTypeIds = this.coachTypeIdList ? this.coachTypeIdList.join(",") : null;
      let args = {
        actionType: actionType,
        staff: this.staff,
        coach: this.coach
      };
      $.Req.service($.SvName.STAFF_SAVE, args, ret => {
        $.Msg.info($.Lang.OPT_SUCCESS);
        if (actionType === "I") this.$router.push("/staff-query");
      });
    },

    openUpdateStaffPhoneDlg() {
      this.newPhoneNo = "";
      this.updateStaffPhoneErr = null;
      this.updateStaffPhoneView = true;
    },

    updateStaffPhone() {
      if (!this.newPhoneNo) {
        $.Dlg.error("请输入手机号");
        return;
      }
      if (!$.Util.validatePhoneNo(this.newPhoneNo)) {
        $.Dlg.error("手机号格式不正确");
        return;
      }

      if (!confirm("确定要更新该员工的手机号吗？")) return;

      this.updateStaffPhoneErr = null;
      let args = {
        uid: this.staff.uid,
        phoneNo: this.newPhoneNo,
        userType: "staff"
      };
      $.Req.service($.SvName.USER_PHONE_UPDATE, args, ret => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.staff.phoneNo = this.newPhoneNo;
        this.updateStaffPhoneView = false;
      }, false, err => {
        this.updateStaffPhoneErr = err;
      });
    },

    queryDepartment() {
      let args = { isBaseInfo: true };
      $.Req.service($.SvName.SHOP_DEPARTMENT_QUERY, args, ret => {
        this.departmentList = ret.departmentList;
      });
    },

    afterUploadStaffAvatar(imgUrl, imgName) {
      this.photo.photoDlgView = false;
      this.photo.imgUrl = imgUrl;
      this.staff.avatarPathname = imgName;
    },

    afterUploadStaffFace(imgUrl, imgName) {
      this.face.photoDlgView = false;
      this.face.imgUrl = imgUrl;
      this.staff.facePathname = imgName;
    },

    querySalaryTemplate() {
      $.Req.service($.SvName.SALARY_TEMPLATE_QUERY, {}, ret => {
        this.salaryTemplateList = ret.salaryTemplateList;
      });
    },

    queryFaceRegConf() {
      //   let args = { typeId: $.Dict.ShopArg.ENABLE_ZHIQI_ENTRY_MACH };
      //   $.Req.service($.SvName.SHOP_ARG_QUERY, args, (ret) => {
      //     this.enableFaceReg = ret.value === "true";
      //   });

      // 新增魔点
      let args = {};
      $.Req.service($.SvName.FACE_MACH_CONF_QUERY, args, ret => {
        this.enableFaceReg = ret.isEnable;
      });
    },

    queryCoachTypeList() {
      $.Req.service($.SvName.COACH_TYPE_QUERY, {}, ret => {
        this.coachTypeList = ret.coachTypeList;
      });
    },

    delStaffAvatar(type) {
      if (!confirm($.Lang.DEL_CONFIRM.format("照片"))) {
        return;
      }

      let args = {
        staffId: this.staffId
      };
      if (type === 1) args.isAvatar = true;else if (type === 2) args.isFace = true;
      $.Req.service($.SvName.STAFF_AVATAR_PHOTO_DELETE, args, ret => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        if (type === 1) this.photo.imgUrl = null;else if (type === 2) this.face.imgUrl = null;
      }, true);
    }
  }
});

/***/ }),

/***/ 1468:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ __webpack_exports__["default"] = ({
  components: {},
  data() {
    return {
      g: $,
      sysMenus: $.Dict.SysMenus,
      checkedMenus: []
    };
  },

  created() {
    if ($.data.user.staffFavMenus) {
      let ids = $.data.user.staffFavMenus.split(',');
      for (let id of ids) {
        this.checkedMenus.push(parseInt(id));
      }
    }
  },

  methods: {
    saveSysMenus() {
      if (this.checkedMenus.length === 0) {
        $.Dlg.warning('请选择菜单后再保存');
        return;
      }

      this.checkedMenus.sort();
      let args = {
        menuIds: this.checkedMenus.join(',')
      };
      $.Req.service($.SvName.STAFF_FAV_MENU_SAVE, args, ret => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        $.data.user.staffFavMenus = args.menuIds;
      });
    }
  }
});

/***/ }),

/***/ 1469:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1112);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__staff_salary_vue__ = __webpack_require__(1218);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__staff_salary_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__staff_salary_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, StaffSalary: __WEBPACK_IMPORTED_MODULE_1__staff_salary_vue___default.a },
	data() {
		return {
			g: window.$,
			staffId: null,
			permit: $.Util.hasRoleFunc($.Dict.RoleFunc.STAFF_LIST_SALARY.value),
			menuList: [],
			dateShortcuts: [],
			query: {
				beginDate: null,
				endDate: null
			},
			selectIdx: 0,
			staffList: [],
			startDay: 1,
			staffIdList: [],
			staffSalaryList: [],
			salarySum: 0,
			selectStaffId: null,
			selectStaffName: null,
			staffSalaryDlg: false
		};
	},

	created() {
		this.startDay = parseInt($.Util.cookie.get($.Conf.CookieKeys.STAFF_SALARY_START_DAY));
		if (!this.startDay) this.startDay = 1;

		if (this.permit) {
			this.initDateShortCuts();
			this.queryStaffList();
		}
	},

	methods: {
		queryStaffList() {
			let args = { status: 0, needBaseInfo: true };
			$.Req.service($.SvName.STAFF_QUERY, args, ret => {
				this.staffList = ret.staffList;

				if (this.staffList && this.staffList.length <= 15) {
					this.checkAllStaff();
					this.statByDateShortcuts(0);
				}
			});
		},

		checkAllStaff() {
			this.staffIdList = [];
			for (let s of this.staffList) {
				this.staffIdList.push(s.staffId);
			}
		},

		uncheckAllStaff() {
			this.staffIdList = [];
		},

		initDateShortCuts() {
			const MONTH_CNT = 24;
			let date = new Date();
			date.setDate(1);
			let year, month, beginDate, endDate;
			this.dateShortcuts = [];
			for (let i = 0; i < MONTH_CNT; i++) {
				year = date.getFullYear();
				month = date.getMonth();
				beginDate = new Date(date.getFullYear(), month, this.startDay);
				endDate = new Date(date.getFullYear(), month + 1, this.startDay === 1 ? 0 : this.startDay);

				this.dateShortcuts.push({
					name: '{0}年{1}月'.format(date.getFullYear(), month + 1),
					beginDate: beginDate,
					endDate: endDate
				});

				date.setMonth(month - 1);
			}

			this.selectIdx = 0;
			let d = this.dateShortcuts[0];
			this.query.beginDate = Date.new(d.beginDate);
			this.query.endDate = Date.new(d.endDate);
		},

		statByDateShortcuts(idx) {
			this.selectIdx = idx;
			let d = this.dateShortcuts[idx];
			this.query.beginDate = Date.new(d.beginDate);
			this.query.endDate = Date.new(d.endDate);

			this.calcStaffListSalary();
		},

		changeStartDay() {
			if (this.startDay <= 0 || this.startDay > 30) {
				$.Dlg.error('请填写1~30的数');
				return;
			}
			$.Util.cookie.set($.Conf.CookieKeys.STAFF_SALARY_START_DAY, parseInt(this.startDay), 365);
			this.initDateShortCuts();
			this.statByDateShortcuts(this.selectIdx);
		},

		calcStaffListSalary() {
			if ($.Util.isEmptyArray(this.staffIdList)) {
				$.Msg.warning('请选择员工');
				return;
			}

			let args = {
				staffIdList: this.staffIdList,
				beginDate: this.query.beginDate,
				endDate: this.query.endDate
			};
			$.Req.service($.SvName.STAFF_LIST_SALARY_CALC, args, ret => {
				this.staffSalaryList = ret.staffSalaryList;
				let salarySum = 0;
				for (let s of ret.staffSalaryList) {
					salarySum += s.salary;
				}
				this.salarySum = $.Util.round(salarySum);
			}, true);
		},

		viewStaffSalary(staffId, staffName) {
			this.selectStaffId = parseInt(staffId);
			this.selectStaffName = staffName;
			this.staffSalaryDlg = true;
		}
	}
});

/***/ }),

/***/ 1470:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ __webpack_exports__["default"] = ({
	components: {},
	data() {
		return {
			g: $,
			staffLoginConfList: []
		};
	},

	created() {
		this.loadData();
	},

	methods: {
		loadData() {
			$.Req.service($.SvName.STAFF_LOGIN_CONF_QUERY, {}, ret => {
				for (let s of ret.staffList) {
					let confArr = s.loginConf ? s.loginConf.split(',') : [false, false, null];
					if (confArr[0] === '1') confArr[0] = true;else confArr[0] = false;
					if (confArr[1] === '1') confArr[1] = true;else confArr[1] = false;
					this.staffLoginConfList.push({ staffId: s.staffId, name: s.name, conf: confArr });
				}
			});
		},

		updateLoginConf(staff) {
			if (staff.conf[0] || staff.conf[1]) {
				if (!staff.conf[2] || staff.conf[2] < 1) {
					$.Dlg.warning('请设置有效的短信验证码时效（小时）');
					return;
				}
			}
			let args = {
				staffId: staff.staffId,
				enablePc: staff.conf[0],
				enableMobile: staff.conf[1],
				validHours: parseInt(staff.conf[2])
			};
			if (args.enablePc || args.enableMobile) {
				if (!confirm('登录用的验证码短信是计费的，使用完后，需要您购买短信。您确实需要设置吗？')) {
					return;
				}
			}
			$.Req.service($.SvName.STAFF_LOGIN_CONF_UPDATE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
			}, true);
		}
	}
});

/***/ }),

/***/ 1471:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__staff_view_vue__ = __webpack_require__(2238);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__staff_view_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__staff_view_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
  components: { StaffView: __WEBPACK_IMPORTED_MODULE_0__staff_view_vue___default.a },
  data() {
    return {
      g: $,
      staffEditable: $.Util.hasRoleFunc($.Dict.RoleFunc.STAFF_EDIT.value),
      query: {
        name: null,
        status: 0,
        roleId: null
      },
      staffStatusDict: $.Dict.StaffStatus,
      staffs: [],
      shopRoles: [],
      staffViewShow: false,
      queryStaffId: null,
      staffDlgTitle: '',
      staffVacation: {
        show: false,
        staffId: null,
        vacationDates: null
      },
      tenantOwnerPhone: null,
      altTenantOwnerDlg: false,
      newTenantOwnerUid: null,
      newTenantOwnerSmsCode: null,
      authcodeLabel: null,
      authcodeDisabled: false,
      lastSendSmsTime: null,
      displayType: 1, // 1: 块状，2：列表
      departmentList: null

    };
  },

  mounted() {
    if ($.Util.cookie.get($.Conf.CookieKeys.PRODUCT_SALE_DISPLAY_TYPE)) {
      this.displayType = $.Util.cookie.get($.Conf.CookieKeys.PRODUCT_SALE_DISPLAY_TYPE);
    }
    this.loadData();
    this.queryDepartments();
  },

  methods: {
    loadData() {
      this.queryStaff();
      $.Req.service($.SvName.ROLE_QUERY, {}, ret => {
        this.shopRoles = ret.roleList;
      });
    },

    queryStaff(byName = false) {
      let args = {};
      if (byName === true) {
        if (!this.query.name) {
          $.Msg.warning('请输入员工姓名');
          return;
        }
        args = { name: this.query.name };
      } else {
        args = { status: this.query.status, roleId: this.query.roleId, deptId: this.query.deptId };
      }

      this.staffs = [];
      let today = new Date();
      $.Req.service($.SvName.STAFF_QUERY, args, ret => {
        for (let i = 0, len = ret.staffList.length; i < len; i++) {
          let staff = ret.staffList[i];
          staff.sexName = $.Dict.Sex[staff.sex];
          staff.statusName = $.Dict.StaffStatus[staff.status];
          let ownerNames = [];
          if (staff.isTenantOwner) {
            this.tenantOwnerPhone = staff.phoneNo;
          }
          if (staff.roleNameList && staff.roleNameList.length > 0) {
            staff.roleNames = ownerNames.concat(staff.roleNameList).join('、');
          } else {
            staff.roleNames = ownerNames.join('、');
          }
          staff.vacationList = this.getVacationList(staff);
          this.staffs.push(staff);
        }
      }, true);
    },

    resetQuery() {
      this.query.status = 0;
      this.query.roleId = '';
      this.query.deptId = '';
    },

    editStaff(staffId) {
      if (this.staffEditable || staffId === this.g.data.user.staffId) {
        this.$router.push('/staff-edit/' + staffId);
      }
    },

    askForLeave(staffId) {
      $.Dlg.confirm('您确定要设置请假吗？', yes => {
        this.staffVacation.staffId = staffId;
        this.staffVacation.show = true;
      });
    },

    setStaffVacation() {
      if (this.staffVacation.vacationDates && this.staffVacation.vacationDates.length === 2) {
        if (!this.staffVacation.vacationDates[0] || !this.staffVacation.vacationDates[1]) {
          $.Dlg.warning('请选择请假日期范围');
          return;
        }
        if (this.staffVacation.vacationDates[1].format('yyyyMMdd') < new Date().format('yyyyMMdd')) {
          $.Dlg.warning('请假结束日期不能小于今天。');
          return;
        }
        this.staffVacation.show = false;
        this.updateStaffVacation(this.staffVacation.staffId, this.staffVacation.vacationDates[0], this.staffVacation.vacationDates[1]);
      }
    },

    quitStaff(staffId, staffName) {
      $.Dlg.confirm('您确定设置【{0}】离职吗？'.format(staffName), yes => {
        this.updateStaffStatus(staffId, 9);
      });
    },

    deleteStaff(staffId, staffName) {
      $.Dlg.confirm('您确定删除【{0}】吗？'.format(staffName), yes => {
        this.updateStaffStatus(staffId, 99);
      });
    },

    restoreStaff(staffId) {
      $.Dlg.confirm('您确定要恢复该员工吗？', yes => {
        this.updateStaffStatus(staffId, 0);
      });
    },

    updateStaffStatus(staffId, status) {
      let args = { staffId: staffId, status: status };
      $.Req.service($.SvName.STAFF_STATUS_UPDATE, args, ret => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.query.status = status;
        this.query.roleId = '';
        this.loadData();
      });
    },

    updateStaffVacation(staffId, vacationBegin, vacationEnd) {
      let args = { staffId: staffId, vacationBegin: vacationBegin, vacationEnd: vacationEnd };
      $.Req.service($.SvName.STAFF_VACATION_UPDATE, args, ret => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.loadData();
      });
    },

    viewStaff(staffId, staffName) {
      this.staffDlgTitle = '员工信息 - ' + staffName;
      this.queryStaffId = staffId;
      this.staffViewShow = true;
    },

    openChangeTenantOwnerDlg() {
      this.newTenantOwnerUid = null;
      this.newTenantOwnerSmsCode = null;
      this.altTenantOwnerDlg = true;
    },

    changeTenantOwner() {
      if (!this.newTenantOwnerUid) {
        $.Msg.error('请选择新的超级管理员');
        return;
      }
      if (this.newTenantOwnerUid === $.data.user.uid) {
        $.Msg.error('新的超级管理员不能是自己');
        return;
      }
      if (!this.newTenantOwnerSmsCode) {
        $.Msg.error('请输入短信验证码');
        return;
      }

      let args = { newTenantOwnerUid: this.newTenantOwnerUid, smsCode: this.newTenantOwnerSmsCode };
      $.Req.service($.SvName.TENANT_OWNER_CHANGE, args, ret => {
        alert('成功：超级管理员已更换，确定后页面将刷新，您将失去超级管理员权限。');
        location.reload();
      });
    },

    onClickSmsAuthcodeBtn() {
      let nowTime = new Date().getTime();
      if (this.lastSendSmsTime && nowTime - this.lastSendSmsTime < 3000) {
        $.Msg.info($.Lang.CLICK_FREQUENTLY);
        return;
      }
      this.lastSendSmsTime = nowTime;

      let args = {
        phoneNo: this.tenantOwnerPhone,
        authcodeType: 4
      };
      $.Req.service($.SvName.SMS_AUTHCODE_SEND, args, ret => {
        if (ret.sendStatus === 0) {
          $.Msg.info($.Lang.AUTHCODE_SENT);
        } else {
          $.Dlg.error($.Lang.AUTHCODE_SEND_ERR);
        }
      });

      let count = 60;
      let resend = setInterval(() => {
        count--;
        if (count > 0) {
          this.authcodeDisabled = true;
          this.authcodeLabel = count + "秒后可重新获取";
        } else {
          clearInterval(resend);
          this.authcodeDisabled = false;
        }
      }, 1000);
    },

    updateOrderNo(staffId, staffName) {
      let val = prompt('请输入【{0}】的展示序号：'.format(staffName));
      if ($.Util.isEmpty(val) || !$.Util.isInteger(val)) {
        $.Msg.error('未输入正确的序号');
        return;
      }
      let orderNo = parseInt(val);
      let args = { instanceId: staffId, orderNo: orderNo, entity: "staff" };
      $.Req.service($.SvName.ORDER_NO_UPDATE, args, ret => {
        this.queryStaff();
      });
    },

    setDisplayType(val) {
      this.displayType = val;
      $.Util.cookie.set($.Conf.CookieKeys.PRODUCT_SALE_DISPLAY_TYPE, val, 0);
    },

    queryDepartments() {
      let args = { isBaseInfo: true };
      $.Req.service($.SvName.SHOP_DEPARTMENT_QUERY, args, ret => {
        this.departmentList = ret.departmentList;
      });
    },

    getVacationList(staff) {
      let vacationList = [];
      if (staff.vacationBegin && staff.vacationEnd) {
        let vac = {
          beginDate: staff.vacationBegin,
          endDate: staff.vacationEnd
        };
        if (staff.vacationBeginTime && staff.vacationEndTime) {
          vac.beginTime = $.Util.formatTime(staff.vacationBeginTime);
          vac.endTime = $.Util.formatTime(staff.vacationEndTime);
        }
        vacationList.push(vac);
      }

      if (staff.vacations) {
        for (let itemStr of staff.vacations.split(';')) {
          let items = itemStr.split(',');
          if (items.length < 2) continue;

          let vac = {};
          vac.beginDate = items[0];
          vac.endDate = items[1];
          if (items.length > 2) {
            vac.beginTime = items[2];
            vac.endTime = items[3];
          }
          vacationList.push(vac);
        }
      }

      return vacationList;
    }
  }
});

/***/ }),

/***/ 1472:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help__ = __webpack_require__(404);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_help__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { Help: __WEBPACK_IMPORTED_MODULE_0__components_help___default.a },
	data() {
		return {
			g: window.$,
			salaryConfEditable: $.data.user.isShopOwner,
			staff: {},
			pcSalaryConf: {},
			salesSalaryConfList: [],
			salesSalaryConf: {},
			pcSalaryRewardConf: {},
			pcSalary: {
				confType: 1,
				confListBasedSales: [],
				baseSalary: null,
				salesConfList: [],
				confListBasedLesson: [],
				baseSalaryType: 1,
				confListBasedLessonReward: []
			},
			dlgView: {
				pcSalaryConf: false,
				salesSalaryConf: false,
				salesConfForPcSalary: false,
				lessonConfForPcSalary: false,
				pcSalaryRewardConf: false,
				salaryTmptList: false,
				salaryTmpt: false
			},
			formRule: {
				pcSalaryConf: {},
				salesSalaryConf: {},
				pcSalaryRewardConf: {}
			},
			enableSalesSalaryCalcType1: false,
			salaryTmpt: {
				tmptId: null,
				salaryType: null,
				tmptName: null
			},
			salaryTemplateList: null,
			selectSalesTmptId: null,
			selectPcTmptId: null
		};
	},

	created() {
		this.querySalaryTemplate();
		this.querySalesSalaryConf();
		this.queryPcSalaryConf();
	},

	methods: {
		querySalesSalaryConf() {
			$.Req.service($.SvName.SALES_SALARY_CONF_QUERY, { tmptId: this.selectSalesTmptId, a: 1 }, ret => {
				this.salesSalaryConfList = ret.confList;
				this.enableSalesSalaryCalcType1 = ret.salesSalaryCalcType === 1;
			});
		},

		updateTmptForSalesSalaryConf(val) {
			if (val === undefined) return;

			this.selectSalesTmptId = val;
			this.querySalesSalaryConf();
		},

		queryPcSalaryConf() {
			$.Req.service($.SvName.PRIVATE_COACH_SALARY_CONF_QUERY, { tmptId: this.selectPcTmptId }, ret => {
				this.pcSalary.confType = ret.confType;
				this.pcSalary.baseSalary = ret.baseSalary;
				this.pcSalary.confListBasedSales = ret.confListBasedSales;
				this.pcSalary.salesConfList = ret.salesConfList;
				this.pcSalary.confListBasedLesson = ret.confListBasedLesson;
				this.pcSalary.confListBasedLessonReward = ret.confListBasedLessonReward;
				this.pcSalary.baseSalaryType = ret.baseSalaryType;
			});
		},

		findTmptPcSalaryConfType(val, selectTmptId) {
			val = val + '';
			let confList = val.split(',');
			for (let conf of confList) {
				conf = conf + '';
				console.log(conf);
				let items = conf.split(':');
				let confType = items[0];
				let tmptId = items.length > 1 ? items[1] : null;
				if (selectTmptId == tmptId) {
					return parseInt(confType);
				}
			}

			return 1;
		},

		updateTmptForPcSalaryConf(val) {
			if (val === undefined) return;

			this.selectPcTmptId = val;
			this.queryPcSalaryConf();
		},

		createPcSalaryConf() {
			this.pcSalaryConf = { lessonFeeType: 1, salesFeeType: 1, commissionType: 1 };
			this.dlgView.pcSalaryConf = true;
		},

		createPcSalaryLessonConf(confType) {
			this.pcSalaryConf = { lessonFeeType: 1, confType: confType, commissionType: 1 };
			this.dlgView.lessonConfForPcSalary = true;
		},

		createSalesSalaryConf(confType) {
			this.salesSalaryConf = { confType: confType, commissionType: 1 };
			if (confType === 1) {
				this.dlgView.salesSalaryConf = true;
			} else if (confType === 2) {
				this.dlgView.salesConfForPcSalary = true;
			}
		},

		editPcSalaryConf(idx) {
			this.pcSalaryConf = { lessonFeeType: 1, commissionType: 1 };
			$.Util.copyAttributes(this.pcSalary.confListBasedSales[idx], this.pcSalaryConf);
			if (this.pcSalaryConf.commissionType === 1) {
				this.pcSalaryConf.commissionVal = (this.pcSalaryConf.commissionVal * 100).toFixed(2) * 100 / 100;
			}
			this.pcSalaryConf.maxCommission += 1;
			if (this.pcSalaryConf.lessonFeeType === 1) {
				this.pcSalaryConf.lessonFeeVal = (this.pcSalaryConf.lessonFeeVal * 100).toFixed(2) * 100 / 100;
			}
			this.dlgView.pcSalaryConf = true;
		},

		editPcSalaryLessonConf(idx) {
			this.pcSalaryConf = { lessonFeeType: 1, confType: this.pcSalary.confType };
			$.Util.copyAttributes(this.pcSalary.confListBasedLesson[idx], this.pcSalaryConf);
			this.pcSalaryConf.maxVal += 1;
			if (this.pcSalaryConf.lessonFeeType === 1) {
				this.pcSalaryConf.lessonFeeVal = (this.pcSalaryConf.lessonFeeVal * 100).toFixed(2) * 100 / 100;
			}
			this.dlgView.lessonConfForPcSalary = true;
		},

		editSalesSalaryConf(idx, confType) {
			this.salesSalaryConf = { commissionType: 1 };
			if (confType === 1) {
				$.Util.copyAttributes(this.salesSalaryConfList[idx], this.salesSalaryConf);
				this.dlgView.salesSalaryConf = true;
			} else if (confType === 2) {
				$.Util.copyAttributes(this.pcSalary.salesConfList[idx], this.salesSalaryConf);
				this.dlgView.salesConfForPcSalary = true;
			}
			if (this.salesSalaryConf.commissionType === 1) {
				this.salesSalaryConf.commissionVal = (this.salesSalaryConf.commissionVal * 100).toFixed(2) * 100 / 100;
			}
			this.salesSalaryConf.maxCommission += 1;
		},

		onSavePcSalaryConf() {
			// check data
			let sconf = this.pcSalaryConf;
			if ($.Util.isEmpty(sconf.minCommission) || !sconf.maxCommission) {
				$.Dlg.error('请输入完整的销售额范围');
				return;
			}
			if ($.Util.isEmpty(sconf.commissionVal)) {
				$.Dlg.error('请输入提成比例');
				return;
			}
			if (this.pcSalary.baseSalaryType === 3 && !sconf.baseSalary) {
				$.Dlg.error('请输入基本工资');
				return;
			}
			if (!sconf.lessonFeeVal) {
				$.Dlg.error('请输入课时费');
				return;
			}

			let args = {
				actionType: this.pcSalaryConf.confId ? 'U' : 'I',
				conf: {
					minCommission: this.pcSalaryConf.minCommission,
					maxCommission: this.pcSalaryConf.maxCommission - 1,
					baseSalary: this.pcSalaryConf.baseSalary,
					commissionType: this.pcSalaryConf.commissionType,
					commissionVal: this.pcSalaryConf.commissionType === 1 ? this.pcSalaryConf.commissionVal / 100 : this.pcSalaryConf.commissionVal,
					lessonFeeType: this.pcSalaryConf.lessonFeeType,
					lessonFeeVal: this.pcSalaryConf.lessonFeeType === 1 ? this.pcSalaryConf.lessonFeeVal / 100 : this.pcSalaryConf.lessonFeeVal,
					remark: this.pcSalaryConf.remark,
					tmptId: this.selectPcTmptId
				}
			};
			if (args.actionType === 'U') args.conf.confId = this.pcSalaryConf.confId;
			$.Req.service($.SvName.PRIVATE_COACH_SALARY_CONF_SAVE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.queryPcSalaryConf();
				this.dlgView.pcSalaryConf = false;
			});
		},

		savSalesSalaryConf(confType) {
			// check data
			let sconf = this.salesSalaryConf;
			if ($.Util.isEmpty(sconf.minCommission) || !sconf.maxCommission) {
				$.Dlg.error('请输入完整的销售额范围');
				return;
			}
			if ($.Util.isEmpty(sconf.commissionVal)) {
				$.Dlg.error('请输入销售提成');
				return;
			}
			if (this.pcSalary.baseSalaryType === 2 && !sconf.baseSalary) {
				$.Dlg.error('请输入基本工资');
				return;
			}
			let args = {
				actionType: this.salesSalaryConf.confId ? 'U' : 'I',
				conf: {
					confType: confType,
					minCommission: this.salesSalaryConf.minCommission,
					maxCommission: this.salesSalaryConf.maxCommission - 1,
					commissionType: this.salesSalaryConf.commissionType,
					commissionVal: this.salesSalaryConf.commissionType === 1 ? this.salesSalaryConf.commissionVal / 100 : this.salesSalaryConf.commissionVal,
					baseSalary: this.salesSalaryConf.baseSalary,
					remark: this.salesSalaryConf.remark,
					tmptId: confType === 1 ? this.selectSalesTmptId : this.selectPcTmptId
				}
			};
			if (args.actionType === 'U') args.conf.confId = this.salesSalaryConf.confId;
			$.Req.service($.SvName.SALES_SALARY_CONF_SAVE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				if (confType === 1) {
					this.querySalesSalaryConf();
					this.dlgView.salesSalaryConf = false;
				} else if (confType === 2) {
					this.queryPcSalaryConf();
					this.dlgView.salesConfForPcSalary = false;
				}
			});
		},

		delPcSalaryConf(idx) {
			$.Dlg.confirm('确定要删除此项设置吗？', yes => {
				let args = {
					actionType: 'D', deleteId: this.pcSalary.confListBasedSales[idx].confId
				};
				$.Req.service($.SvName.PRIVATE_COACH_SALARY_CONF_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.pcSalary.confListBasedSales.splice(idx, 1);
				});
			});
		},

		delPcSalaryLessonConf(idx) {
			$.Dlg.confirm('确定要删除此项设置吗？', yes => {
				let args = {
					actionType: 'D', deleteId: this.pcSalary.confListBasedLesson[idx].confId
				};
				$.Req.service($.SvName.PRIVATE_COACH_SALARY_LESSON_CONF_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.pcSalary.confListBasedLesson.splice(idx, 1);
				});
			});
		},

		delSalesSalaryConf(idx) {
			$.Dlg.confirm('确定要删除此项设置吗？', yes => {
				let args = {
					actionType: 'D', deleteId: this.salesSalaryConfList[idx].confId
				};
				$.Req.service($.SvName.SALES_SALARY_CONF_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.salesSalaryConfList.splice(idx, 1);
				});
			});
		},

		delPrivateCoachSalesConf(idx) {
			$.Dlg.confirm('确定要删除此项设置吗？', yes => {
				let args = {
					actionType: 'D', deleteId: this.pcSalary.salesConfList[idx].confId
				};
				$.Req.service($.SvName.SALES_SALARY_CONF_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.pcSalary.salesConfList.splice(idx, 1);
				});
			});
		},

		changePcSalaryConfType(val) {
			this.pcSalary.confType = parseInt(val);
			let args = {
				confType: parseInt(val)
			};
			if (this.selectPcTmptId) {
				args.tmptId = this.selectPcTmptId;
			}
			$.Req.service($.SvName.PRIVATE_COACH_LESSON_SALARY_TYPE_SAVE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
				this.queryPcSalaryConf();
			});
		},

		savePrivateCoachBaseSalary() {
			let args = {
				tmptId: this.selectPcTmptId,
				baseSalary: this.pcSalary.baseSalary
			};
			$.Req.service($.SvName.PRIVATE_COACH_BASE_SALARY_SAVE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
		},

		onSavePcSalaryLessonConf() {
			// check data
			let sconf = this.pcSalaryConf;
			if (sconf.minVal === null || !sconf.maxVal) {
				$.Dlg.error('请输入完整的范围值');
				return;
			}
			if (this.pcSalary.baseSalaryType === 3 && !sconf.baseSalary) {
				$.Dlg.error('请输入基本工资');
				return;
			}
			if (!sconf.lessonFeeVal) {
				$.Dlg.error('请输入课时费');
				return;
			}

			let args = {
				actionType: this.pcSalaryConf.confId ? 'U' : 'I',
				conf: {
					confType: this.pcSalary.confType,
					minVal: this.pcSalaryConf.minVal,
					maxVal: this.pcSalaryConf.maxVal - 1,
					lessonFeeType: this.pcSalaryConf.lessonFeeType,
					lessonFeeVal: this.pcSalaryConf.lessonFeeType === 1 ? this.pcSalaryConf.lessonFeeVal / 100 : this.pcSalaryConf.lessonFeeVal,
					remark: this.pcSalaryConf.remark,
					baseSalary: sconf.baseSalary,
					tmptId: this.selectPcTmptId
				}
			};

			if (args.actionType === 'U') args.conf.confId = this.pcSalaryConf.confId;
			$.Req.service($.SvName.PRIVATE_COACH_SALARY_LESSON_CONF_SAVE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.queryPcSalaryConf();
				this.dlgView.lessonConfForPcSalary = false;
			});
		},

		saveSalesSalaryCalcType(val) {
			let args = { typeId: 2004, typeValue: this.enableSalesSalaryCalcType1 ? 1 : 0 };
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
		},

		savePrivateCoachBaseSalaryType(val) {
			let args = { typeId: $.Dict.ShopArg.PRIVATE_COACH_BASE_SALARY_TYPE, typeValue: val };
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
		},

		createPcSalaryRewardConf() {
			this.pcSalaryRewardConf = { lessonFeeType: 1 };
			this.dlgView.pcSalaryRewardConf = true;
		},

		savSalesSalaryRewardConf() {
			let sconf = this.pcSalaryRewardConf;
			if ($.Util.isEmpty(sconf.minCommission) || !sconf.maxCommission) {
				$.Dlg.error('请输入完整的销售额范围');
				return;
			}
			if (!sconf.lessonFeeVal) {
				$.Dlg.error('请输入课时费奖励');
				return;
			}

			let args = {
				actionType: sconf.confId ? 'U' : 'I',
				conf: {
					minCommission: sconf.minCommission,
					maxCommission: sconf.maxCommission - 1,
					lessonFeeType: sconf.lessonFeeType,
					lessonFeeVal: sconf.lessonFeeType === 1 ? sconf.lessonFeeVal / 100 : sconf.lessonFeeVal,
					remark: sconf.remark,
					tmptId: this.selectPcTmptId
				}
			};
			if (args.actionType === 'U') args.conf.confId = sconf.confId;
			$.Req.service($.SvName.PRIVATE_COACH_SALARY_LESSON_REWARD_CONF_SAVE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.queryPcSalaryConf();
				this.dlgView.pcSalaryRewardConf = false;
			});
		},

		editPcSalaryLessonRewardConf(idx) {
			this.pcSalaryRewardConf = { lessonFeeType: 1 };
			$.Util.copyAttributes(this.pcSalary.confListBasedLessonReward[idx], this.pcSalaryRewardConf);
			this.pcSalaryRewardConf.maxCommission += 1;
			if (this.pcSalaryRewardConf.lessonFeeType === 1) {
				this.pcSalaryRewardConf.lessonFeeVal = (this.pcSalaryRewardConf.lessonFeeVal * 100).toFixed(2) * 100 / 100;
			}
			this.dlgView.pcSalaryRewardConf = true;
		},

		delPcSalaryLessonRewardConf(idx) {
			$.Dlg.confirm('确定要删除此项设置吗？', yes => {
				let args = {
					actionType: 'D', deleteId: this.pcSalary.confListBasedLessonReward[idx].confId
				};
				$.Req.service($.SvName.PRIVATE_COACH_SALARY_LESSON_REWARD_CONF_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.pcSalary.confListBasedLessonReward.splice(idx, 1);
				});
			});
		},

		openNewSalaryTmptDlg() {
			this.salaryTmpt = { salaryType: 0 };
			this.dlgView.salaryTmpt = true;
		},

		openSalaryTmptDlg(idx) {
			$.Util.copyAttributes(this.salaryTemplateList[idx], this.salaryTmpt);
			this.dlgView.salaryTmpt = true;
		},

		querySalaryTemplate() {
			$.Req.service($.SvName.SALARY_TEMPLATE_QUERY, {}, ret => {
				this.salaryTemplateList = ret.salaryTemplateList;
			});
		},

		saveSalaryTemplate() {
			if (!this.salaryTmpt.tmptName) {
				$.Msg.warning('请输入模板名');
				return;
			}

			let args = {
				actionType: this.salaryTmpt.tmptId ? 'U' : 'I',
				salaryTemplate: this.salaryTmpt
			};
			$.Req.service($.SvName.SALARY_TEMPLATE_SAVE, args, ret => {
				this.querySalaryTemplate();
				this.dlgView.salaryTmpt = false;
			}, true);
		},

		deleteSalaryTemplate(idx) {
			let tmpt = this.salaryTemplateList[idx];
			let msg = '确定删除模板【{0}】吗？'.format(tmpt.tmptName);
			if (!confirm(msg)) return;

			let args = {
				actionType: 'D',
				deleteId: tmpt.tmptId
			};
			$.Req.service($.SvName.SALARY_TEMPLATE_SAVE, args, ret => {
				this.querySalaryTemplate();
			}, true);
		}
	}
});

/***/ }),

/***/ 1473:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1112);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__staff_salary_vue__ = __webpack_require__(1218);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__staff_salary_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__staff_salary_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, StaffSalary: __WEBPACK_IMPORTED_MODULE_1__staff_salary_vue___default.a },
	data() {
		return {
			g: window.$,
			staffId: null,
			permit: false,
			staff: {},
			menuList: [],
			dateShortcuts: [],
			query: {
				beginDate: null,
				endDate: null
			},
			selectIdx: 0,
			staffList: [],
			startDay: 1
		};
	},

	created() {
		if (!this.$route.params.staffId) {
			this.$router.push('/staff-query');
			return;
		}
		this.staffId = parseInt(this.$route.params.staffId);
		if (this.staffId == $.data.user.staffId || $.data.user.isShopOwner) {
			this.permit = true;
		}
		this.startDay = parseInt($.Util.cookie.get($.Conf.CookieKeys.STAFF_SALARY_START_DAY));
		if (!this.startDay) this.startDay = 1;

		this.initDateShortCuts();
		this.statByDateShortcuts(0);

		this.queryStaff();
		if ($.data.user.isShopOwner) {
			let args = { status: 0, needBaseInfo: true };
			$.Req.service($.SvName.STAFF_QUERY, args, ret => {
				this.staffList = ret.staffList;
			});
		}
	},

	methods: {
		initDateShortCuts() {
			const MONTH_CNT = 24;
			let date = new Date();
			date.setDate(1);
			let year, month, beginDate, endDate;
			this.dateShortcuts = [];
			for (let i = 0; i < MONTH_CNT; i++) {
				year = date.getFullYear();
				month = date.getMonth();
				beginDate = new Date(date.getFullYear(), month, this.startDay);
				endDate = new Date(date.getFullYear(), month + 1, this.startDay === 1 ? 0 : this.startDay);

				this.dateShortcuts.push({
					name: '{0}年{1}月'.format(date.getFullYear(), month + 1),
					beginDate: beginDate,
					endDate: endDate
				});

				date.setMonth(month - 1);
			}
		},

		queryStaff() {
			const args = { staffId: this.staffId };
			$.Req.service($.SvName.STAFF_QUERY, args, ret => {
				if (ret && ret.staffList && ret.staffList[0]) {
					this.staff = ret.staffList[0];
					this.menuList = $.PageMenus.staff(this.staff, 'staff-salary');
				}
			});
		},

		statByDateShortcuts(idx) {
			this.selectIdx = idx;
			let d = this.dateShortcuts[idx];
			this.query.beginDate = Date.new(d.beginDate);
			this.query.endDate = Date.new(d.endDate);
		},

		changeStaff() {
			if (!this.staffId) return;

			this.$router.push('/staff-salary/' + this.staffId);
			this.queryStaff();
		},

		changeStartDay() {
			if (this.startDay <= 0 || this.startDay > 30) {
				$.Dlg.error('请填写1~30的数');
				return;
			}
			$.Util.cookie.set($.Conf.CookieKeys.STAFF_SALARY_START_DAY, parseInt(this.startDay), 365);
			this.initDateShortCuts();
			this.statByDateShortcuts(this.selectIdx);
		}
	}
});

/***/ }),

/***/ 1474:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
  data() {
    return {
      queryDate: "",
      year: "",
      month: "",
      shopName: "",
      shopDstId: "",
      shopTarget: "",
      editable: $.Util.hasRoleFunc($.Dict.RoleFunc.SALES_TARGET_CONF.value),
      messageConf: {
        isSmsNotice: null,
        isWxNotice: null,
        targetPercent: null,
        sendDaysArr: [null, null, null]
      },
      deptTargetList: [],
      staffTargetList: []
    };
  },
  created() {
    this.queryDate = new Date();
    this.year = this.queryDate.getFullYear();
    this.month = this.queryDate.getMonth() + 1;
    this.loadSettingData();
    this.loadTargetData();
  },
  methods: {
    saveSalesTarget(type) {
      // 0场馆 1部门 2员工
      let args = {
        year: this.year,
        month: this.month,
        shopDstId: type == 0 ? this.shopDstId : "",
        shopTarget: type == 0 ? this.shopTarget : "",
        deptTargetList: type == 1 ? this.deptTargetList : [],
        staffTargetList: type == 2 ? this.staffTargetList : []
      };
      $.Req.service($.SvName.SALES_TARGET_SAVE, args, res => {
        $.Msg.success("操作成功");
        this.loadTargetData();
      }, true);
    },

    dateChange(e) {
      this.queryDate = e;
      let arr = e.split("-");
      this.year = Number(arr[0]);
      this.month = Number(arr[1]);
      this.loadTargetData();
    },

    saveSettings() {
      let conf = this.messageConf;
      let str = conf.sendDaysArr.filter(m => !!m).join();
      // let daysStr = str.endsWith(',') ? str.substr(0,str.length-1) :str;
      // 验证
      if (!conf.targetPercent) {
        $.Msg.warning("请设置低于目标百分比");
        return;
      }
      if (conf.targetPercent > 100 || conf.targetPercent < 0) {
        $.Msg.warning("销售目标须在0-100%之间");
        return;
      }
      if (!conf.isWxNotice && !conf.isSmsNotice) {
        $.Msg.warning("请设置通知方式");
        return;
      }
      if (!str) {
        $.Msg.warning("请设置通知日期");
        return;
      }
      if (conf.sendDaysArr.some(v => Number(v) > 31)) {
        $.Msg.warning("通知日期有误");
        return;
      }
      let args = {
        targetRate: conf.targetPercent / 100,
        isWxNotice: conf.isWxNotice,
        isSmsNotice: conf.isSmsNotice,
        sendDays: str
      };
      $.Req.service($.SvName.SALES_TARGET_NOTICE_CONF_SAVE, args, res => {
        $.Msg.success("操作成功");
        this.loadSettingData();
      }, true);
    },

    // 销售目标查询
    loadTargetData() {
      let args = {
        year: this.year,
        month: this.month
      };
      $.Req.service($.SvName.SALES_TARGET_QUERY, args, res => {
        this.shopName = res.shopName;
        this.shopDstId = res.shopDstId || "";
        this.shopTarget = res.shopTarget || "";
        this.deptTargetList = res.deptTargetList;
        this.staffTargetList = res.staffTargetList;
      }, true);
    },

    // 消息提醒查询
    loadSettingData() {
      $.Req.service($.SvName.SALES_TARGET_NOTICE_CONF_QUERY, {}, res => {
        this.messageConf = res;
        if (res.targetRate && res.targetRate > 0) {
          this.messageConf.targetPercent = res.targetRate * 100;
        }
        if (res.sendDays) {
          let sendDaysArr = res.sendDays.split(",").sort((a, b) => a - b);
          this.messageConf.sendDaysArr = [sendDaysArr[0], sendDaysArr[1] || "", sendDaysArr[2] || ""];
        } else {
          this.messageConf.sendDaysArr = [null, null, null];
        }
      }, true);
    }
  }
});

/***/ }),

/***/ 1475:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1112);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
	data() {
		return {
			g: window.$,
			staffId: this.$route.params.staffId,
			staff: {},
			menuList: [],
			mcpTotalCount: 0,
			mcpPaymentAmountSum: 0,
			sumSalesAmount: null,
			mcpList: [],
			mcpQuery: {
				beginDate: null,
				endDate: null
			},
			staffList: [],
			permit: null
		};
	},

	created() {
		if (!this.$route.params.staffId) {
			this.$router.push('/staff-query');
			return;
		}
		this.initQuery();
		this.queryStaff();
		this.queryMemberCardPayments(null);

		if ($.data.user.isShopOwner) {
			let args = { status: 0, needBaseInfo: true };
			$.Req.service($.SvName.STAFF_QUERY, args, ret => {
				this.staffList = ret.staffList;
			});
		}
	},

	methods: {
		queryStaff() {
			const args = { staffId: this.staffId };
			$.Req.service($.SvName.STAFF_QUERY, args, ret => {
				if (ret && ret.staffList && ret.staffList[0]) {
					this.staff = ret.staffList[0];
					this.menuList = $.PageMenus.staff(this.staff, 'staff-sales');

					if (this.staffId == $.data.user.staffId || $.data.user.isShopOwner) {
						this.permit = true;
					} else {
						this.permit = false;
					}
				}
			});
		},

		initQuery() {
			let endDate = new Date();
			this.mcpQuery.beginDate = new Date(endDate.getTime() - 31 * 3600 * 24 * 1000);
			this.mcpQuery.endDate = endDate;
		},

		queryMemberCardPayments(page = null) {
			let args = {
				beginDate: this.mcpQuery.beginDate,
				endDate: this.mcpQuery.endDate,
				page: page,
				salesId: this.$route.params.staffId
			};
			if (!page) {
				args.needSalesAmount = true;
			}
			$.Req.service($.SvName.MEMBER_CARD_PAYMENT_QUERY, args, ret => {
				this.mcpList = ret.memberCardPaymentList;
				if (!page) {
					this.mcpTotalCount = ret.count;
					this.mcpPaymentAmountSum = ret.sumPaymentAmount;
					this.sumSalesAmount = ret.sumSalesAmount;
				} else {
					this.mcpTotalCount = 0;
					this.mcpPaymentAmountSum = 0;
				}
			}, true);
		},

		changePageNoForQueryMemberCardPayments(page) {
			this.queryMemberCardPayments(page);
		},

		viewMember(memberId) {
			this.$router.push('/member-info/' + memberId);
		},

		changeStaff() {
			if (!this.staffId) return;

			this.$router.push('/staff-sales/' + this.staffId);
			this.queryStaff();
			this.queryMemberCardPayments(null);
		}
	}
});

/***/ }),

/***/ 1571:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1580:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".checkall a[data-v-18f572ee]{font-size:12px;color:#bbb;word-break:keep-all;padding:0 2px}.checkall a[data-v-18f572ee]:hover{color:red}.roles .funcs[data-v-18f572ee]{padding:10px 10px 5px;line-height:28px}.roles .funcs li[data-v-18f572ee]{display:inline}.roles .funcs li[data-v-18f572ee]:after{content:\"|\";color:#aaa;padding:0 9px}.roles .funcs li[data-v-18f572ee]:last-child:after{content:\"\"}.roles .add-role[data-v-18f572ee]{margin-top:15px;text-align:center}.role-dlg .role-conf .mytbl[data-v-18f572ee]{margin-top:15px}.role-dlg .role-conf .mytbl th[data-v-18f572ee]{text-align:center}.role-dlg .role-conf .hd[data-v-18f572ee]{height:30px;line-height:30px}.role-dlg td[data-v-18f572ee],.role-dlg th[data-v-18f572ee]{padding:7px 0;line-height:1.8}.role-dlg td[data-v-18f572ee]{padding:5px 10px}.role-dlg th[data-v-18f572ee]{background:#f5f5f5;font-weight:400;font-size:12px}.role-dlg ul[data-v-18f572ee]{padding-left:15px;margin:5px 0}.role-dlg ul:hover li[data-v-18f572ee]{color:#222}.role-dlg li[data-v-18f572ee]{list-style:disc;color:#777}.role-dlg .ckbox[data-v-18f572ee]{display:inline-block;padding:5px;word-break:keep-all}.role-dlg .remark[data-v-18f572ee]{padding:0 15px;margin:0}.role-dlg .remark label[data-v-18f572ee]{font-weight:700;padding-right:5px}.role-dlg .remark ol[data-v-18f572ee]{padding:0;margin:0 0 0 20px}.role-dlg .remark ol li[data-v-18f572ee]{padding:15px 5px 15px 10px;list-style-type:decimal;margin:0;line-height:1;color:#555;border-bottom:1px dotted #ddd}.role-dlg .remark ol li[data-v-18f572ee]:hover{background:#f5f5f5}.role-dlg .funcs i.iconfont[data-v-18f572ee]{color:#aaa;padding-left:2px;font-size:16px;position:relative;top:1px}", ""]);

// exports


/***/ }),

/***/ 1590:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".admin[data-v-1e9bfd9e]{background:orange}.admin[data-v-1e9bfd9e],.shop-owner[data-v-1e9bfd9e]{padding:2px 6px;border-radius:3px;color:#fff;margin-right:5px}.shop-owner[data-v-1e9bfd9e]{background:#0fa036}.view-icons li[data-v-1e9bfd9e]{display:inline;padding:0 3px;cursor:pointer;color:#bbb;margin:0 1px}.view-icons li[data-v-1e9bfd9e]:last-child{margin-right:0}.view-icons li[data-v-1e9bfd9e]:hover{color:orange}.view-icons li.on[data-v-1e9bfd9e]{color:#222}.staff-head-photo ul[data-v-1e9bfd9e]{margin:5px -25px -25px 5px}.staff-head-photo li[data-v-1e9bfd9e]{display:inline-block;position:relative;width:190px;margin:0 30px 30px 0;text-align:center;cursor:pointer}.staff-head-photo img[data-v-1e9bfd9e]{position:absolute;top:0;left:45px;width:100px;height:100px;display:inline-block;border-radius:100%}.staff-head-photo .staff-infor[data-v-1e9bfd9e]{box-shadow:5px 5px 15px rgba(18,56,97,.1),-5px -3px 15px rgba(18,56,97,.1);margin-top:45px;padding-top:55px;padding-bottom:18px;font-size:14px}.staff-head-photo .staff-infor .staff-duty[data-v-1e9bfd9e],.staff-head-photo .staff-infor .staff-name[data-v-1e9bfd9e]{margin:0 auto;max-width:160px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.staff-head-photo .staff-infor .staff-name[data-v-1e9bfd9e]{padding-top:10px}.staff-head-photo .staff-infor .staff-duty[data-v-1e9bfd9e]{font-size:12px;padding-top:8px}.staff-head-photo .staff-infor .staff-duty .admin[data-v-1e9bfd9e],.staff-head-photo .staff-infor .staff-duty .shop-owner[data-v-1e9bfd9e]{padding:1px 5px}.vacs ul[data-v-1e9bfd9e]{list-style:disc}.vacs li[data-v-1e9bfd9e]{display:block;padding:2px 0;list-style-type:circle}.vacs li[data-v-1e9bfd9e]:before{content:\"\\2022\"}", ""]);

// exports


/***/ }),

/***/ 1602:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".staff-names li[data-v-22e26a9f]{display:inline-block;border-right:1px solid #ddd;padding:0 10px}.staff-names li[data-v-22e26a9f]:last-child{border-right:0}", ""]);

// exports


/***/ }),

/***/ 1639:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".g-main[data-v-38e364c7]{margin-left:0;padding:0}.-style- section[data-v-38e364c7]{border:1px solid #eeefef}.-style- .amount[data-v-38e364c7]{font-weight:700;font-size:15px}.-style- .salary-hd .sum .amount[data-v-38e364c7]{margin-left:10px;font-size:13px}.-style- .salary-hd .sum .desc[data-v-38e364c7]{padding-left:10px;color:#666}.-style- .salary-hd .sum .desc i[data-v-38e364c7]{padding:0 5px}.-style- .salary-hd .sum .desc b[data-v-38e364c7]{padding-left:3px;font-size:14px;color:orange}.-style- .spt[data-v-38e364c7]{margin:0 12px;color:#ccc}.-style- .start-day[data-v-38e364c7]{border:0;border-bottom:1px solid #ddd;width:40px;height:20px;outline:none;text-align:center;font-weight:700;font-size:13px}.-style- .mytbl .tbl-sum td[data-v-38e364c7]{font-size:14px;font-weight:700}.lesson-status[data-v-38e364c7]{padding:5px 0}.memb-pl-stat[data-v-38e364c7]{border:1px solid #e4e4e4;padding:0 10px;margin:0 0 15px}.memb-pl-stat ul li[data-v-38e364c7]{display:inline-block;padding:0 7px 0 12px;line-height:24px;margin:4px;background:#eee;cursor:pointer;color:#2d8cf0;word-break:keep-all}.memb-pl-stat ul li[data-v-38e364c7]:hover{background:#ddd}.memb-pl-stat ul li.on[data-v-38e364c7]{background:#2e90f7;color:#fff}.memb-pl-stat td[data-v-38e364c7]{border-bottom:1px dashed #ddd;padding:8px 0}.memb-pl-stat tr:last-child td[data-v-38e364c7]{border-bottom:0}", ""]);

// exports


/***/ }),

/***/ 1640:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".-style- .salary-hd ul[data-v-38f003af]{display:inline;margin-left:10px}.-style- .salary-hd li.item[data-v-38f003af]{display:inline}.-style- .salary-hd li.item[data-v-38f003af]:after{content:\"|\";color:#ddd;padding:0 15px}.-style- .salary-hd li.item[data-v-38f003af]:last-child:after{content:\"\"}.-style- .salary-hd .sel[data-v-38f003af]{display:inline-block;width:110px}.-style- .salary-hd .on[data-v-38f003af]{color:#444;font-size:14px;font-weight:700}.-style- .salary-hd .staff-list[data-v-38f003af]{margin-top:18px;padding-top:15px;border-top:1px dashed #eee}.-style- .salary-hd .staff-list .tit[data-v-38f003af]{display:inline-block;width:70px}.-style- .salary-hd .staff-list .submit[data-v-38f003af]{padding:20px 0 0 75px}.-style- .start-day[data-v-38f003af]{border:0;border-bottom:1px solid #ddd;width:40px;height:20px;outline:none;text-align:center;font-weight:700;font-size:13px}.-style- .no-permit[data-v-38f003af]{text-align:center;color:red;padding:20px 0;background:#e0e0e0}.ivu-modal-body[data-v-38f003af]{background:#eeefef}.staff-checks label[data-v-38f003af]{padding:4px}", ""]);

// exports


/***/ }),

/***/ 1697:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".-style- .amount[data-v-540a78e4]{font-weight:700;font-size:15px}.-style- .salary-hd ul[data-v-540a78e4]{display:inline;margin-left:10px}.-style- .salary-hd li.item[data-v-540a78e4]{display:inline}.-style- .salary-hd li.item[data-v-540a78e4]:after{content:\"|\";color:#ddd;padding:0 15px}.-style- .salary-hd li.item[data-v-540a78e4]:last-child:after{content:\"\"}.-style- .salary-hd .sel[data-v-540a78e4]{display:inline-block;width:110px}.-style- .salary-hd .on[data-v-540a78e4]{color:#444;font-size:14px;font-weight:700}.-style- .spt[data-v-540a78e4]{margin:0 12px;color:#ccc}.-style- .start-day[data-v-540a78e4]{border:0;border-bottom:1px solid #ddd;width:40px;height:20px;outline:none;text-align:center;font-weight:700;font-size:13px}.-style- .mytbl .tbl-sum td[data-v-540a78e4]{font-size:14px;font-weight:700}", ""]);

// exports


/***/ }),

/***/ 1712:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".take-photo-type[data-v-59ff1f6b]{padding:0 0 10px;border-bottom:1px dashed #eee;margin-bottom:15px}.take-photo .mytbl button[data-v-59ff1f6b]{width:100px;margin:10px 0}.take-photo .mytbl .center[data-v-59ff1f6b]{width:310px}.qd-cropper-dlg img[data-v-59ff1f6b]{height:500px}.qd-cropper-dlg .footer-btns[data-v-59ff1f6b]{margin-top:16px;text-align:center}", ""]);

// exports


/***/ }),

/***/ 1717:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".-coach-types span[data-v-5f5c0562]{padding-right:10px}", ""]);

// exports


/***/ }),

/***/ 1736:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".remark[data-v-6d565ac2]{padding:10px 0;color:#777}.ivu-checkbox-group label[data-v-6d565ac2]{padding:6px}.ckbox[data-v-6d565ac2]{padding:6px 10px;background:#f0f0f0;margin:0 6px}.conf-tit[data-v-6d565ac2]{margin-bottom:20px}.stat-items[data-v-6d565ac2]{padding:10px;border:1px solid #e4e4e4}.staffs li.item[data-v-6d565ac2]{margin-bottom:10px}", ""]);

// exports


/***/ }),

/***/ 1743:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".ckbox[data-v-7030402a]{display:inline-block;width:160px;font-size:12px;margin:8px;background:#f5f5f5;padding:10px}", ""]);

// exports


/***/ }),

/***/ 1751:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".conf-list[data-v-73716a22]{width:520px;margin:0 10px}.conf-list tr[data-v-73716a22]:hover{background:#f5f5f5}.conf-list td[data-v-73716a22]{padding:10px;border-bottom:1px solid #eee;vertical-align:middle}.conf-list .ck[data-v-73716a22]{margin-right:30px}.conf-list .in[data-v-73716a22]{width:80px;height:27px;text-align:center;margin-right:5px;position:relative;top:1px}.conf-list .submit[data-v-73716a22]{height:27px;margin-left:25px}.remark[data-v-73716a22]{margin-top:10px;margin-left:35px}.remark ol[data-v-73716a22]{margin-top:10px;padding-right:10px}.remark ol li[data-v-73716a22]{font-size:13px;padding-bottom:6px;color:#666;line-height:1.8}", ""]);

// exports


/***/ }),

/***/ 1762:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".myform .input-s[data-v-7a80fc1d]{width:90px}", ""]);

// exports


/***/ }),

/***/ 1763:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".sec-box[data-v-7aad01e8]{margin-top:-12px;display:flex;flex-wrap:wrap}.sec-box .sec-item[data-v-7aad01e8]{width:20%;margin-top:20px}.shop-setting .sec-item[data-v-7aad01e8]{width:100%;width:auto;flex-direction:row;align-items:center}.shop-setting .sec-item span[data-v-7aad01e8]{width:auto;margin-bottom:0}.sec-item[data-v-7aad01e8]{display:flex;flex-direction:column;align-items:flex-start;overflow:hidden}.sec-item span[data-v-7aad01e8]{display:inline-block;width:100%;padding-right:20px;margin-bottom:10px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sec-item button[data-v-7aad01e8]{margin-left:20px}.sec-item[data-v-7aad01e8] .ivu-input-wrapper{width:120px}.sec-item[data-v-7aad01e8] .ivu-date-picker-editor{width:200px}ol[data-v-7aad01e8],ul[data-v-7aad01e8]{padding-left:5px}li[data-v-7aad01e8]{padding:10px 5px 10px 12px;border-bottom:1px dashed #eee;width:900px}li .tips[data-v-7aad01e8]{padding-left:15px;color:#999;font-size:12px}li:hover input[data-v-7aad01e8],li[data-v-7aad01e8]:hover{background:#f9f9f9}li:hover .tips[data-v-7aad01e8]{color:#ff4500}li .tit[data-v-7aad01e8]{display:inline-block;width:120px}li label[data-v-7aad01e8]{margin-right:15px;font-size:13px}.settings input[type=number][data-v-7aad01e8]{border:0;border-bottom:1px solid #ddd;width:80px;text-align:center;height:24px;border-radius:0;display:inline-block;margin:0 5px;font-size:15px;font-weight:700;outline:none}.remark[data-v-7aad01e8]{margin-top:15px;font-size:12px;color:#ff4500}.query-btn[data-v-7aad01e8]{width:75px;height:24px;padding:0}", ""]);

// exports


/***/ }),

/***/ 1775:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".staff-photo[data-v-828d14b8]{margin-top:10px}.staff-photo img[data-v-828d14b8]{max-width:220px;background:#eee;padding:4px}", ""]);

// exports


/***/ }),

/***/ 1802:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".-sc- .query[data-v-b5149f20]{display:inline-block}.-sc- .query li.item[data-v-b5149f20]{display:inline-block;margin-left:10px}.-sc- .query .status[data-v-b5149f20]{display:inline-block;width:100px}.-sc- .query label[data-v-b5149f20]{color:#bbb;padding-right:5px;position:relative;top:2px}.-sc- .date[data-v-b5149f20]{display:inline-block;width:115px}.-sc- .query-btn[data-v-b5149f20]{height:24px;margin-left:15px;padding:0;width:60px}.-sc- .query-count[data-v-b5149f20]{color:#bbb;font-weight:400;margin-left:15px;font-size:12px}.-sc- .query-count b[data-v-b5149f20]{font-size:13px;color:#555;padding:0 5px}.-sc- .query-count .spt[data-v-b5149f20]{padding-right:15px;color:#ccc}", ""]);

// exports


/***/ }),

/***/ 1811:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1827:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".-sc- .query[data-v-f555283c]{display:inline-block}.-sc- .query li.item[data-v-f555283c]{display:inline-block;margin-left:10px}.-sc- .query .status[data-v-f555283c]{display:inline-block;width:100px}.-sc- .query label[data-v-f555283c]{color:#bbb;padding-right:5px;position:relative;top:2px}.-sc- .date[data-v-f555283c]{display:inline-block;width:115px}.-sc- .query-btn[data-v-f555283c]{height:24px;line-height:24px;margin-left:15px;padding:0;width:60px}.-sc- .query-count[data-v-f555283c]{color:#999;font-weight:400;margin-left:15px;font-size:12px}.-sc- .query-count b[data-v-f555283c]{font-size:13px;color:#555;padding:0 5px}.-sc- .query-count .spt[data-v-f555283c]{padding-right:15px;color:#ccc}", ""]);

// exports


/***/ }),

/***/ 1872:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1571);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("1ed2fe78", content, true, {});

/***/ }),

/***/ 1881:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1580);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("0cb0ac4e", content, true, {});

/***/ }),

/***/ 1891:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1590);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("7f58b5b9", content, true, {});

/***/ }),

/***/ 1903:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1602);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("e39e68a6", content, true, {});

/***/ }),

/***/ 1940:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1639);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("35f3c429", content, true, {});

/***/ }),

/***/ 1941:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1640);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("60ded48b", content, true, {});

/***/ }),

/***/ 1998:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1697);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("2d615bf0", content, true, {});

/***/ }),

/***/ 2013:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1712);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("34db15ed", content, true, {});

/***/ }),

/***/ 2018:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1717);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("5c28f58c", content, true, {});

/***/ }),

/***/ 2037:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1736);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("3bd95012", content, true, {});

/***/ }),

/***/ 2044:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1743);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("79873469", content, true, {});

/***/ }),

/***/ 2052:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1751);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("c7ad8e6e", content, true, {});

/***/ }),

/***/ 2063:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1762);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("d89c413c", content, true, {});

/***/ }),

/***/ 2064:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1763);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("53a53cee", content, true, {});

/***/ }),

/***/ 2076:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1775);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("2d16bb72", content, true, {});

/***/ }),

/***/ 2103:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1802);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("5d132312", content, true, {});

/***/ }),

/***/ 2112:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1811);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("71a37549", content, true, {});

/***/ }),

/***/ 2128:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1827);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("7e782942", content, true, {});

/***/ }),

/***/ 2237:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2013)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1458),
  /* template */
  __webpack_require__(2424),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-59ff1f6b",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2238:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2018)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1460),
  /* template */
  __webpack_require__(2430),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-5f5c0562",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2281:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('staff-create')], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2291:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "staff"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "staff",
      "page": "role-permission"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main roles"
  }, [_vm._m(0), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(1), _vm._v(" "), _vm._l((_vm.roles), function(r, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(r.roleName))]), _vm._v(" "), _c('td', {
      staticClass: "funcs"
    }, [_c('ul', _vm._l((r.funcNames), function(fn) {
      return _c('li', [_vm._v(_vm._s(fn))])
    }), 0)]), _vm._v(" "), _c('td', [(_vm.g.data.user.isShopOwner && idx > 0) ? [(r.sysRid) ? _c('a', {
      on: {
        "click": function($event) {
          return _vm.openEditRoleDlg(idx - 1)
        }
      }
    }, [_vm._v("编辑")]) : [_c('a', {
      staticClass: "bar-s",
      on: {
        "click": function($event) {
          return _vm.openEditRoleDlg(idx - 1)
        }
      }
    }, [_vm._v("编辑")]), _vm._v(" "), _c('a', {
      on: {
        "click": function($event) {
          return _vm.deleteRole(idx - 1)
        }
      }
    }, [_vm._v("删除")])]] : _vm._e()], 2)])
  })], 2)]), _vm._v(" "), (_vm.editable) ? _c('div', {
    staticClass: "add-role"
  }, [_c('i-button', {
    attrs: {
      "icon": "md-add",
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.openEditRoleDlg(-1)
      }
    }
  }, [_vm._v("添加角色")])], 1) : _vm._e()]), _vm._v(" "), _vm._m(2), _vm._v(" "), _c('modal', {
    attrs: {
      "styles": {
        top: '10px'
      },
      "closable": true,
      "width": "1000",
      "title": _vm.roleEditDlg.title,
      "mask-closable": false,
      "class-name": "role-dlg"
    },
    model: {
      value: (_vm.roleEditDlg.show),
      callback: function($$v) {
        _vm.$set(_vm.roleEditDlg, "show", $$v)
      },
      expression: "roleEditDlg.show"
    }
  }, [_c('Tabs', {
    attrs: {
      "animated": false
    }
  }, [_c('TabPane', {
    attrs: {
      "label": "权限选择"
    }
  }, [_c('div', {
    staticClass: "role-conf"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('i-input', {
    staticStyle: {
      "width": "200px"
    },
    attrs: {
      "type": "text",
      "placeholder": "请输入角色名称"
    },
    model: {
      value: (_vm.roleEditDlg.roleName),
      callback: function($$v) {
        _vm.$set(_vm.roleEditDlg, "roleName", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "roleEditDlg.roleName"
    }
  })], 1), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('checkbox', {
    on: {
      "click": function($event) {
        _vm.showCheckAll = !_vm.showCheckAll
      }
    },
    model: {
      value: (_vm.showCheckAll),
      callback: function($$v) {
        _vm.showCheckAll = $$v
      },
      expression: "showCheckAll"
    }
  }, [_vm._v("显示全选")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', _vm._l((_vm.RoleGroups), function(groupName, groupKey) {
    return _c('tr', [_c('th', {
      attrs: {
        "width": "80"
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t" + _vm._s(groupName) + "\n\t\t\t\t\t\t\t\t\t")]), _vm._v(" "), _c('td', [_c('div', {
      staticClass: "funcs"
    }, [_c('checkbox-group', {
      model: {
        value: (_vm.roleEditDlg.funcList),
        callback: function($$v) {
          _vm.$set(_vm.roleEditDlg, "funcList", $$v)
        },
        expression: "roleEditDlg.funcList"
      }
    }, [_vm._l((_vm.g.Dict.RoleFuncGroup[groupKey]), function(key, idx) {
      return (!_vm.g.Dict.RoleFunc[key].hidden) ? _c('checkbox', {
        key: _vm.g.Dict.RoleFunc[key].value,
        staticClass: "ckbox",
        attrs: {
          "label": _vm.g.Dict.RoleFunc[key].value
        }
      }, [(_vm.g.Dict.RoleFunc[key].remark) ? _c('span', {
        attrs: {
          "title": _vm.g.Dict.RoleFunc[key].remark
        }
      }, [_vm._v(_vm._s(_vm.g.Dict.RoleFunc[key].name)), _c('i', {
        staticClass: "iconfont icon-help2"
      })]) : [_vm._v(_vm._s(_vm.g.Dict.RoleFunc[key].name))]], 2) : _vm._e()
    }), _vm._v(" "), (_vm.showCheckAll) ? _c('span', {
      staticClass: "l5 checkall"
    }, [_c('a', {
      on: {
        "click": function($event) {
          return _vm.checkAllFuncs(groupKey)
        }
      }
    }, [_vm._v("全选")]), _vm._v(" "), _c('a', [_vm._v(" | ")]), _vm._v(" "), _c('a', {
      on: {
        "click": function($event) {
          return _vm.uncheckAllFuncs(groupKey)
        }
      }
    }, [_vm._v("全不选")])]) : _vm._e()], 2)], 1)])])
  }), 0)])]), _vm._v(" "), _c('div', {
    staticClass: "center form-submit",
    staticStyle: {
      "border-top": "0",
      "margin-top": "10px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveRole
    }
  }, [_vm._v("保存")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.roleEditDlg.show = false
      }
    }
  }, [_vm._v("关闭")])], 1)]), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "权限说明"
    }
  }, [_c('div', {
    staticClass: "remark"
  }, [_c('ol', [_c('li', [_c('label', [_vm._v("会员创建：")]), _vm._v("包括创建会员信息、添加会员的会员卡、删除会员的会员卡")]), _vm._v(" "), _c('li', [_c('label', [_vm._v("会员卡充值修改：")]), _vm._v("指对会员的会员卡充值修改的权限（可修改期限、次数、金额或销售等）")]), _vm._v(" "), _c('li', [_c('label', [_vm._v("会员基础编辑：")]), _vm._v("指非重要的会员信息的修改，例如，生日、会籍顾问、教练等")]), _vm._v(" "), _c('li', [_c('label', [_vm._v("会员高级编辑：")]), _vm._v("特指会员重要信息的修改，包括：姓名、照片")]), _vm._v(" "), _c('li', [_c('label', [_vm._v("查询所有会员：")]), _vm._v("指能够查询所有会员的权限，若无此权限，只能查询自己名下（销售、教练、会籍顾问）的会员")]), _vm._v(" "), _c('li', [_c('label', [_vm._v("根据会员标识仅查名下会员：")]), _vm._v("勾选后根据会员标识（姓名 | 手机号 | 卡号）查询时，仅能查询自己名下的会员；否则，将在全店范围内查询")]), _vm._v(" "), _c('li', [_c('label', [_vm._v("课程编辑：")]), _vm._v("指团课和私教课的课程编辑、排课编辑，此权限只在电脑端有效；手机端私教默认可排自己的课，预约会员上课")]), _vm._v(" "), _c('li', [_c('label', [_vm._v("会员代签：")]), _vm._v("指工作人员代会员入场签到、团课预约/签到、私教课预约，以及提供私教课签到二维码和密码输入框供会员签到")]), _vm._v(" "), _c('li', [_c('label', [_vm._v("补签私教课：")]), _vm._v("指员工在拥有“会员代签”的权限时，能够在电脑端提供补签二维码和密码输入框")]), _vm._v(" "), _c('li', [_c('label', [_vm._v("私教课代签到：")]), _vm._v("指员工能够在电脑端代会员签到私教课（包括补签私教课）")]), _vm._v(" "), _c('li', [_c('label', [_vm._v("记账：")]), _vm._v("包括商品售卖记账，其它手工记账")]), _vm._v(" "), _c('li', [_c('label', [_vm._v("资费项设置：")]), _vm._v("包括商品及入库登记、商品分类设置、其它记账的费用项目的设置")]), _vm._v(" "), _c('li', [_c('label', [_vm._v("手机版门店运营统计：")]), _vm._v("指商家手机端首页上展示的门店运营概要统计")])])]), _vm._v(" "), _c('div', {
    staticClass: "center mt20"
  }, [_c('i-button', {
    staticClass: "long-btn",
    on: {
      "click": function($event) {
        _vm.roleEditDlg.show = false
      }
    }
  }, [_vm._v("关闭")])], 1)])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1)], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "orange mb12"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 仅店长有权限编辑")])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("角色名称")]), _c('th', [_vm._v("功能权限")]), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('section', {
    attrs: {
      "id": "role_notice"
    }
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("您需要知道的")])]), _vm._v(" "), _c('ol', [_c('li', [_vm._v("商户负责人和店长拥有全部功能权限，无需编辑；")]), _vm._v(" "), _c('li', [_vm._v("为数据安全考虑，【角色与权限】仅允许店长编辑；")]), _vm._v(" "), _c('li', [_vm._v("为保证每个角色应有的责任，请慎重选择每个角色所拥有的权限功能；")]), _vm._v(" "), _c('li', [_vm._v("不可随意删除“角色”，删除“角色”后，之前拥有该角色的员工，将自动删除该角色。")])])])
}]}

/***/ }),

/***/ 2302:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "staff"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "staff",
      "page": "staff-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main staff-query"
  }, [_c('section', {
    staticClass: "query-section"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [(_vm.staffEditable) ? _c('td', [_c('ul', {
    staticClass: "query-cond-inline"
  }, [_c('li', {
    staticClass: "item spt"
  }, [_c('i-input', {
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "type": "text",
      "icon": "ios-search",
      "placeholder": "根据员工姓名查询"
    },
    on: {
      "on-enter": function($event) {
        return _vm.queryStaff(true)
      },
      "on-click": function($event) {
        return _vm.queryStaff(true)
      }
    },
    model: {
      value: (_vm.query.name),
      callback: function($$v) {
        _vm.$set(_vm.query, "name", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "query.name"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "90px"
    },
    attrs: {
      "placeholder": "员工状态"
    },
    model: {
      value: (_vm.query.status),
      callback: function($$v) {
        _vm.$set(_vm.query, "status", _vm._n($$v))
      },
      expression: "query.status"
    }
  }, [_c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_c('i', {
    staticClass: "gray"
  }, [_vm._v("所有状态")])]), _vm._v(" "), _vm._l((_vm.staffStatusDict), function(name, id) {
    return _c('i-option', {
      key: name,
      attrs: {
        "value": parseInt(id)
      }
    }, [_vm._v(_vm._s(name))])
  })], 2)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "120px"
    },
    attrs: {
      "placeholder": "员工角色"
    },
    model: {
      value: (_vm.query.roleId),
      callback: function($$v) {
        _vm.$set(_vm.query, "roleId", _vm._n($$v))
      },
      expression: "query.roleId"
    }
  }, [_c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_c('i', {
    staticClass: "gray"
  }, [_vm._v("所有角色")])]), _vm._v(" "), _vm._l((_vm.shopRoles), function(r, idx) {
    return _c('i-option', {
      key: r.roleName,
      attrs: {
        "value": r.roleId
      }
    }, [_vm._v(_vm._s(r.roleName))])
  })], 2)], 1), _vm._v(" "), (_vm.departmentList && _vm.departmentList.length > 1) ? _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "placeholder": "请选择部门"
    },
    model: {
      value: (_vm.query.deptId),
      callback: function($$v) {
        _vm.$set(_vm.query, "deptId", _vm._n($$v))
      },
      expression: "query.deptId"
    }
  }, [_c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_c('i', {
    staticClass: "gray"
  }, [_vm._v("所有部门")])]), _vm._v(" "), _vm._l((_vm.departmentList), function(d) {
    return _c('i-option', {
      key: d.sdId,
      attrs: {
        "value": d.sdId
      }
    }, [_vm._v(_vm._s(d.deptName))])
  })], 2)], 1) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    staticStyle: {
      "margin-right": "10px",
      "width": "100px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.queryStaff()
      }
    }
  }, [_vm._v("查询")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.resetQuery
    }
  }, [_vm._v("重置")])], 1)])]) : _vm._e(), _vm._v(" "), _c('td', {
    attrs: {
      "align": "right",
      "width": "100"
    }
  }, [_c('ul', {
    staticClass: "view-icons"
  }, [_c('li', {
    class: {
      on: parseInt(_vm.displayType) === 1
    },
    on: {
      "click": function($event) {
        return _vm.setDisplayType(1)
      }
    }
  }, [_c('i', {
    staticClass: "iconfont icon-list"
  })]), _vm._v(" "), _c('li', {
    class: {
      on: parseInt(_vm.displayType) === 2
    },
    on: {
      "click": function($event) {
        return _vm.setDisplayType(2)
      }
    }
  }, [_c('Icon', {
    attrs: {
      "type": "md-apps",
      "size": "18"
    }
  })], 1)])])])])]), _vm._v(" "), (parseInt(_vm.displayType) === 1) ? [_c('section', [_c('div', [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('td', [_vm._v("\n\t\t\t\t\t\t\t\t查询到 "), _c('b', [_vm._v(_vm._s(_vm.staffs.length))]), _vm._v(" 名员工\n\t\t\t\t\t\t\t")]), _vm._v(" "), _c('td', {
    attrs: {
      "align": "right"
    }
  }, [(_vm.g.data.user.isShopOwner) ? [_c('i-button', {
    attrs: {
      "icon": "ios-arrow-forward"
    },
    on: {
      "click": function($event) {
        return _vm.$router.push('/staff-login-conf')
      }
    }
  }, [_vm._v("员工登录设置")]), _vm._v("\n\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t"), _c('i-button', {
    attrs: {
      "icon": "ios-arrow-forward"
    },
    on: {
      "click": function($event) {
        return _vm.$router.push('/shop-report-msg-conf')
      }
    }
  }, [_vm._v("报表消息设置")])] : _vm._e(), _vm._v(" "), (_vm.g.data.user.isTenantOwner) ? _c('span', {
    staticClass: "l5"
  }, [_c('i-button', {
    on: {
      "click": _vm.openChangeTenantOwnerDlg
    }
  }, [_vm._v("更换超级管理员")])], 1) : _vm._e()], 2)])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl p15"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.staffs), function(s, idx) {
    return _c('tr', [_c('td', [(_vm.staffEditable) ? _c('div', {
      on: {
        "click": function($event) {
          return _vm.updateOrderNo(s.staffId, s.name)
        }
      }
    }, [(!_vm.g.Util.isEmpty(s.orderNo)) ? _c('a', {
      staticClass: "block"
    }, [_vm._v(_vm._s(s.orderNo))]) : [_vm._v(" ")]], 2) : [_vm._v(_vm._s(s.orderNo))]], 2), _vm._v(" "), _c('td', [(_vm.staffEditable || s.staffId === _vm.g.data.user.staffId) ? _c('a', {
      staticStyle: {
        "display": "block"
      },
      on: {
        "click": function($event) {
          return _vm.editStaff(s.staffId)
        }
      }
    }, [_vm._v(_vm._s(s.name))]) : [_vm._v(_vm._s(s.name))]], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.phoneNo))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.sexName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.statusName))]), _vm._v(" "), _c('td', [(s.deptIds && s.deptNameList) ? [_vm._v(_vm._s(s.deptNameList.join('、')))] : _vm._e()], 2), _vm._v(" "), _c('td', [(s.isTenantOwner) ? _c('span', {
      staticClass: "admin"
    }, [_vm._v("超管")]) : _vm._e(), _vm._v(" "), (s.isShopOwner) ? _c('span', {
      staticClass: "shop-owner"
    }, [_vm._v("店长")]) : _vm._e(), _vm._v("\n\t\t\t\t\t\t\t\t\t" + _vm._s(s.roleNames) + "\n\t\t\t\t\t\t\t\t")]), _vm._v(" "), _c('td', [(s.joinDate) ? [_vm._v(_vm._s(_vm.g.Util.formatDate(s.joinDate)))] : _vm._e()], 2), _vm._v(" "), _c('td', {
      staticClass: "vacs"
    }, [(s.vacationList && s.vacationList.length) ? _c('ul', _vm._l((s.vacationList), function(v) {
      return _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.formatDate(v.beginDate)) + " ~ " + _vm._s(_vm.g.Util.formatDate(v.endDate)) + "\n\t\t\t\t\t\t\t\t\t\t\t"), (v.beginTime && v.endTime) ? _c('span', {
        staticClass: "l5"
      }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t\t\t" + _vm._s(v.beginTime) + " ~ " + _vm._s(v.endTime) + "\n\t\t\t\t\t\t\t\t\t\t\t")]) : _vm._e()])
    }), 0) : _vm._e()]), _vm._v(" "), _c('td', [_c('ul', {
      staticClass: "opt-list"
    }, [(_vm.staffEditable) ? [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.editStaff(s.staffId)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), (!s.isTenantOwner) ? [(s.status !== 0) ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.restoreStaff(s.staffId)
        }
      }
    }, [_vm._v("恢复")])]) : (_vm.g.data.user.isShopOwner && s.uid !== _vm.g.data.user.uid) ? [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.quitStaff(s.staffId, s.name)
        }
      }
    }, [_vm._v("离职")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.deleteStaff(s.staffId, s.name)
        }
      }
    }, [_vm._v("删除")])])] : _vm._e()] : _vm._e()] : _vm._e()], 2)])])
  })], 2)])])] : [_c('section', {
    staticClass: "staff-head-photo"
  }, [_c('ul', _vm._l((_vm.staffs), function(s, idx) {
    return _c('li', {
      on: {
        "click": function($event) {
          return _vm.editStaff(s.staffId)
        }
      }
    }, [(s.avatarPathname) ? [_c('img', {
      attrs: {
        "src": _vm.g.Util.getImgUrl(s.avatarPathname, 500, 500, 'DDDDDD')
      }
    })] : [_c('img', {
      attrs: {
        "src": _vm.g.Util.getAvatarUrl(s.avatarPathname, 90, 90, 'E1E1E1', s.sex)
      }
    })], _vm._v(" "), _c('div', {
      staticClass: "staff-infor"
    }, [_c('div', {
      staticClass: "staff-name"
    }, [_vm._v(_vm._s(s.name))]), _vm._v(" "), _c('div', {
      staticClass: "staff-duty"
    }, [(s.isTenantOwner) ? _c('span', {
      staticClass: "admin"
    }, [_vm._v("超管")]) : _vm._e(), _vm._v(" "), (s.isShopOwner) ? _c('span', {
      staticClass: "shop-owner"
    }, [_vm._v("店长")]) : _vm._e(), _vm._v(" "), _c('span', {
      attrs: {
        "title": s.roleNames
      }
    }, [_vm._v(_vm._s(s.roleNames))])])])], 2)
  }), 0)])]], 2), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": _vm.staffDlgTitle,
      "width": "700",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.staffViewShow),
      callback: function($$v) {
        _vm.staffViewShow = $$v
      },
      expression: "staffViewShow"
    }
  }, [_c('staff-view', {
    attrs: {
      "staffId": _vm.queryStaffId
    }
  })], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "员工请假",
      "width": "465"
    },
    model: {
      value: (_vm.staffVacation.show),
      callback: function($$v) {
        _vm.$set(_vm.staffVacation, "show", $$v)
      },
      expression: "staffVacation.show"
    }
  }, [_c('div', {
    staticStyle: {
      "margin": "10px 0 0 0"
    }
  }, [_c('date-picker', {
    attrs: {
      "type": "daterange",
      "format": "yyyy/MM/dd",
      "placement": "bottom-end",
      "placeholder": "请选择请假日期范围"
    },
    model: {
      value: (_vm.staffVacation.vacationDates),
      callback: function($$v) {
        _vm.$set(_vm.staffVacation, "vacationDates", $$v)
      },
      expression: "staffVacation.vacationDates"
    }
  })], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "text"
    },
    on: {
      "click": function($event) {
        _vm.staffVacation.show = false
      }
    }
  }, [_vm._v("取消")]), _vm._v(" "), _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.setStaffVacation
    }
  }, [_vm._v("确定")])], 1)]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "更换超级管理员",
      "width": "550"
    },
    model: {
      value: (_vm.altTenantOwnerDlg),
      callback: function($$v) {
        _vm.altTenantOwnerDlg = $$v
      },
      expression: "altTenantOwnerDlg"
    }
  }, [_c('div', {
    staticClass: "warning",
    staticStyle: {
      "margin-bottom": "25px"
    }
  }, [_vm._v("\n\t\t\t\t仅当前超级管理员有权限操作\n\t\t\t")]), _vm._v(" "), (_vm.staffs) ? _c('table', {
    staticClass: "tblform"
  }, [_c('tr', [_c('th', [_vm._v("新超级管理员")]), _vm._v(" "), _c('td', [_c('i-select', {
    staticStyle: {
      "width": "200px"
    },
    attrs: {
      "filterable": ""
    },
    model: {
      value: (_vm.newTenantOwnerUid),
      callback: function($$v) {
        _vm.newTenantOwnerUid = $$v
      },
      expression: "newTenantOwnerUid"
    }
  }, _vm._l((_vm.staffs), function(s) {
    return (_vm.g.data.user.uid !== s.uid) ? _c('i-option', {
      key: s.uid,
      attrs: {
        "value": s.uid
      }
    }, [_vm._v(_vm._s(s.name))]) : _vm._e()
  }), 1)], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("短信验证码")]), _vm._v(" "), _c('td', [_c('input-int', {
    staticStyle: {
      "width": "100px"
    },
    model: {
      value: (_vm.newTenantOwnerSmsCode),
      callback: function($$v) {
        _vm.newTenantOwnerSmsCode = _vm._n($$v)
      },
      expression: "newTenantOwnerSmsCode"
    }
  }), _vm._v(" "), _c('span', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.authcodeDisabled),
      expression: "authcodeDisabled"
    }],
    staticClass: "l10 small"
  }, [_vm._v(_vm._s(_vm.authcodeLabel))]), _vm._v(" "), _c('a', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (!_vm.authcodeDisabled),
      expression: "!authcodeDisabled"
    }],
    staticClass: "l10 small",
    on: {
      "click": _vm.onClickSmsAuthcodeBtn
    }
  }, [_vm._v("获取验证码")])], 1)]), _vm._v(" "), _c('tr', [_c('th'), _vm._v(" "), _c('td', [_c('span', {
    staticClass: "gray"
  }, [_vm._v("短信验证码将发送到当前超级管理员手机号")]), _vm._v(" "), _c('b', {
    staticClass: "orange"
  }, [_vm._v(_vm._s(_vm.tenantOwnerPhone))])])])]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "form-submit center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.changeTenantOwner
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.altTenantOwnerDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "60"
    }
  }, [_vm._v("序号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("姓名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("手机号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("性别")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "60"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "130"
    }
  }, [_vm._v("所属部门")]), _vm._v(" "), _c('th', [_vm._v("角色")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("入职时间")]), _vm._v(" "), _c('th', [_vm._v("请假记录")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("操作")])])
}]}

/***/ }),

/***/ 2314:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "staff"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "staff",
      "page": "department"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("部门设置")]), _vm._v(" "), _c('div', {
    staticClass: "r small"
  }, [(_vm.editable) ? _c('i-button', {
    attrs: {
      "type": "primary",
      "icon": "md-add"
    },
    on: {
      "click": function($event) {
        return _vm.create()
      }
    }
  }, [_vm._v("添加部门")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.departmentList), function(d, idx) {
    return _c('tr', [_c('td', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(d.deptName))]), _vm._v(" "), _c('td', [(d.ownerStaffIds) ? _c('ul', {
      staticClass: "staff-names"
    }, _vm._l((d.ownerStaffIds.split(',')), function(staffId) {
      return _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t\t" + _vm._s(_vm.staffNameMap[parseInt(staffId)]) + "\n\t\t\t\t\t\t\t\t")])
    }), 0) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(d.remark))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(d.updateUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(d.updateTime))]), _vm._v(" "), _c('td', [(_vm.editable) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.update(idx)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      attrs: {
        "title": "删除"
      },
      on: {
        "click": function($event) {
          return _vm.delDepartment(idx)
        }
      }
    }, [_c('i', {
      staticClass: "iconfont icon-delete normal"
    })])])]) : _vm._e()])])
  })], 2), _vm._v(" "), (_vm.departmentList && !_vm.departmentList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()])])]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "部门",
      "width": "600"
    },
    model: {
      value: (_vm.dlgShow),
      callback: function($$v) {
        _vm.dlgShow = $$v
      },
      expression: "dlgShow"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "部门名称",
      "maxlength": 50
    },
    model: {
      value: (_vm.department.deptName),
      callback: function($$v) {
        _vm.$set(_vm.department, "deptName", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "department.deptName"
    }
  }), _c('p'), _vm._v(" "), _c('i-select', {
    attrs: {
      "placeholder": "部门负责人（可多选）",
      "multiple": "",
      "filterable": ""
    },
    model: {
      value: (_vm.ownerStaffIdList),
      callback: function($$v) {
        _vm.ownerStaffIdList = $$v
      },
      expression: "ownerStaffIdList"
    }
  }, _vm._l((_vm.staffList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1), _vm._v(" "), _c('p'), _vm._v(" "), _c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 5,
      "maxlength": 200,
      "placeholder": "备注"
    },
    model: {
      value: (_vm.department.remark),
      callback: function($$v) {
        _vm.$set(_vm.department, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "department.remark"
    }
  }), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submit
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    attrs: {
      "type": "default"
    },
    on: {
      "click": function($event) {
        _vm.dlgShow = false;
      }
    }
  }, [_vm._v("取消")])], 1)], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "45"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("部门名称")]), _vm._v(" "), _c('th', [_vm._v("部门负责人")]), _vm._v(" "), _c('th', [_vm._v("备注")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("更新人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("更新时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作")])])
}]}

/***/ }),

/***/ 2352:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('div', {
    staticClass: "g-main -style-"
  }, [(_vm.staffSalary) ? [_c('section', {
    staticClass: "salary-hd"
  }, [_c('div', {
    staticClass: "sum"
  }, [_vm._v("\n\t\t\t\t\t\t工资总额： "), _c('span', {
    staticClass: "orangered big"
  }, [_vm._v("￥"), _c('span', {
    staticClass: "huge"
  }, [_vm._v(_vm._s(_vm.staffSalary.salary))])]), _vm._v(" "), _c('span', {
    staticClass: "desc"
  }, [_vm._v("\n\t\t\t\t\t\t（\n\t\t\t\t\t\t基本工资 "), _c('b', [_vm._v("￥" + _vm._s(_vm.staffSalary.baseSalary))]), _vm._v(" "), (_vm.staffSalary.commissionAmount) ? [_c('i', {
    staticClass: "iconfont icon-plus"
  }), _vm._v(" 销售提成"), _c('b', [_vm._v(" ￥" + _vm._s(_vm.staffSalary.commissionAmount))])] : _vm._e(), _vm._v(" "), (_vm.staffSalary.privateLessonFeeTotal) ? [_c('i', {
    staticClass: "iconfont icon-plus"
  }), _vm._v(" 私教课时费"), _c('b', [_vm._v(" ￥" + _vm._s(_vm.staffSalary.privateLessonFeeTotal))])] : _vm._e(), _vm._v(" "), (_vm.staffSalary.vicePrivateLessonFeeTotal) ? [_c('i', {
    staticClass: "iconfont icon-plus"
  }), _vm._v(" 私教代课费"), _c('b', [_vm._v(" ￥" + _vm._s(_vm.staffSalary.vicePrivateLessonFeeTotal))])] : _vm._e(), _vm._v(" "), (_vm.staffSalary.groupLessonFeeTotal) ? [_c('i', {
    staticClass: "iconfont icon-plus"
  }), _vm._v(" 团课教练课时费\n\t\t\t\t\t\t\t"), _c('b', [_vm._v("￥" + _vm._s(_vm.staffSalary.groupLessonFeeTotal))])] : _vm._e(), _vm._v(" "), (_vm.staffSalary.groupLessonFeeTotalForViceCoach) ? [_c('i', {
    staticClass: "iconfont icon-plus"
  }), _vm._v(" 团课助教课时费\n\t\t\t\t\t\t"), _c('b', [_vm._v("￥" + _vm._s(_vm.staffSalary.groupLessonFeeTotalForViceCoach))])] : _vm._e(), _vm._v("\n\t\t\t\t\t\t）\n\t\t\t\t\t\t")], 2)])]), _vm._v(" "), (_vm.staffSalary) ? _c('section', [_vm._m(0), _vm._v("\n\t\t\t\t\t销售额： "), _c('span', {
    staticClass: "amount"
  }, [_vm._v("￥" + _vm._s(_vm.staffSalary.salesAmount))]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v(" "), (_vm.staffSalary.commissionVal) ? [_vm._v("\n\t\t\t\t\t销售提成： "), _c('span', {
    staticClass: "amount"
  }, [(_vm.staffSalary.commissionType === 1) ? [_vm._v(_vm._s(_vm.g.Util.round(_vm.staffSalary.commissionVal * 100)) + "%")] : (_vm.staffSalary.commissionType === 2) ? [_vm._v(_vm._s(_vm.staffSalary.commissionVal) + " 元/单")] : _vm._e()], 2), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")])] : _vm._e(), _vm._v("\n\t\t\t\t\t提成金额： "), _c('span', {
    staticClass: "amount"
  }, [_vm._v("￥" + _vm._s(_vm.staffSalary.commissionAmount))])], 2) : _vm._e(), _vm._v(" "), (_vm.staffSalary.pcStatList) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("私教课时费")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    on: {
      "click": _vm.viewPrivateLesson
    }
  }, [_vm._v("上课明细")]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v(" "), (this.pcSalaryConf.lessonFeeType === 1) ? [(_vm.staffSalary.avgCoachScore) ? [_vm._v("教练平均得分： "), _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.g.Util.round(_vm.staffSalary.avgCoachScore)))]), _vm._v(" 分\n\t\t\t\t\t\t\t\t\t"), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")])] : _vm._e(), _vm._v("\n\t\t\t\t\t\t\t\t教练课时费提成： "), _c('b', {
    staticClass: "orangered big"
  }, [_vm._v(_vm._s((_vm.pcSalaryConf.lessonFeeVal * 100).toFixed(0)) + "%")])] : [_vm._v("\n\t\t\t\t\t\t\t\t教练固定课时费： "), _c('b', {
    staticClass: "orangered big"
  }, [_vm._v("￥" + _vm._s(_vm.pcSalaryConf.lessonFeeVal))])]], 2)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    staticClass: "inner-tbl"
  }, [_vm._m(1), _vm._v(" "), _vm._l((_vm.staffSalary.pcStatList), function(c, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [(c.memberId) ? _c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMemberInfo(c.memberId)
        }
      }
    }, [_vm._v(_vm._s(c.memberName))]) : _c('span', [_vm._v(_vm._s(c.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.courseName))]), _vm._v(" "), _c('td', [(_vm.pcSalaryConf.lessonFeeType === 1) ? [_vm._v("\n\t\t\t\t\t\t\t\t\t\t￥" + _vm._s(c.coachLessonFee) + "\n\t\t\t\t\t\t\t\t\t")] : [_vm._v("\n\t\t\t\t\t\t\t\t\t\t￥" + _vm._s(_vm.pcSalaryConf.lessonFeeVal) + "\n\t\t\t\t\t\t\t\t\t")]], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.lessonCnt) + " 次")]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.g.Util.round(c.coachLessonFee * c.lessonCnt)))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(c.lessonFeeTotal) + "\n\t\t\t\t\t\t\t\t\t"), (c.coachLessonFeeType === 3) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("（固定课时费）")]) : _vm._e()])])
  }), _vm._v(" "), (_vm.staffSalary.rewardLessonFee) ? _c('tr', [_c('td', {
    attrs: {
      "colspan": "6"
    }
  }), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.staffSalary.rewardLessonFee) + "  \n\t\t\t\t\t\t\t\t （奖励\n\t\t\t\t\t\t\t\t\t"), (_vm.staffSalary.rewardLessonFeeType === 1) ? [_vm._v(_vm._s(_vm.g.Util.round(100 * _vm.staffSalary.rewardLessonFeeVal)) + "%")] : [_vm._v(_vm._s(_vm.staffSalary.rewardLessonFeeVal) + " 元/节")], _vm._v("）\n\t\t\t\t\t\t\t\t")], 2)]) : _vm._e(), _vm._v(" "), _c('tr', {
    staticClass: "tbl-sum"
  }, [_c('td', {
    attrs: {
      "colspan": "4",
      "align": "center"
    }
  }, [_vm._v("合计")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.privateLessonCnt) + " 次")]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.privateLessonFeeSum))]), _vm._v(" "), _c('td', {
    staticClass: "orange"
  }, [_vm._v("￥" + _vm._s(_vm.staffSalary.privateLessonFeeTotal))])])], 2)])]) : _vm._e(), _vm._v(" "), (_vm.staffSalary.vicePcStatList && _vm.staffSalary.vicePcStatList.length) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("私教代课费")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_vm._v("\n\t\t\t\t\t\t\t共上课 "), _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.staffSalary.vicePcStatList.length))]), _vm._v(" 次\n\t\t\t\t\t\t\t"), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n\t\t\t\t\t\t\t代课费共 "), _c('span', {
    staticClass: "amount"
  }, [_vm._v("￥" + _vm._s(_vm.staffSalary.vicePrivateLessonFeeTotal))])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(2), _vm._v(" "), _vm._l((_vm.staffSalary.vicePcStatList), function(l, idx) {
    return _c('tr', [_c('td', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.courseName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(l.lessonDate)) + "   " + _vm._s(_vm.g.Util.formatTime(l.beginTime)) + " ~ " + _vm._s(_vm.g.Util.formatTime(l.endTime)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.memberName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.oldCoachName))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(l.viceCoachFee))])])
  })], 2)])]) : _vm._e(), _vm._v(" "), (_vm.staffSalary.gcStatList) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("团课教练课时费")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    on: {
      "click": _vm.viewGroupLesson
    }
  }, [_vm._v("上课明细")]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n\t\t\t\t\t\t\t共上课 "), _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.groupLessonCnt))]), _vm._v(" 次\n\t\t\t\t\t\t\t"), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n\t\t\t\t\t\t\t课时费共 "), _c('span', {
    staticClass: "amount"
  }, [_vm._v("￥" + _vm._s(_vm.staffSalary.groupLessonFeeTotal))])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(3), _vm._v(" "), _vm._l((_vm.staffSalary.gcStatList), function(s, idx) {
    return _c('tr', [_c('td', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.courseName))]), _vm._v(" "), _c('td', [(s.coachLessonFee) ? [_vm._v("￥" + _vm._s(s.coachLessonFee))] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("0")])], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.lessonCnt) + " 次")]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(s.lessonFeeTotal))])])
  })], 2)])]) : _vm._e(), _vm._v(" "), (_vm.staffSalary.gcStatListForViceCoach) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("团课助教课时费")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    on: {
      "click": _vm.viewGroupLessonForViceCoach
    }
  }, [_vm._v("上课明细")]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n\t\t\t\t\t\t\t共上课 "), _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.groupLessonCntForViceCoach))]), _vm._v(" 次\n\t\t\t\t\t\t\t"), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n\t\t\t\t\t\t\t课时费共 "), _c('span', {
    staticClass: "amount"
  }, [_vm._v("￥" + _vm._s(_vm.staffSalary.groupLessonFeeTotalForViceCoach))])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(4), _vm._v(" "), _vm._l((_vm.staffSalary.gcStatListForViceCoach), function(s, idx) {
    return _c('tr', [_c('td', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.courseName))]), _vm._v(" "), _c('td', [(s.coachLessonFee) ? [_vm._v("￥" + _vm._s(s.coachLessonFee))] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("0")])], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.lessonCnt) + " 次")]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(s.lessonFeeTotal))])])
  })], 2)])]) : _vm._e()] : _vm._e()], 2), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "私教上课明细",
      "width": "1100",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.dlg.pcLessonView),
      callback: function($$v) {
        _vm.$set(_vm.dlg, "pcLessonView", $$v)
      },
      expression: "dlg.pcLessonView"
    }
  }, [(_vm.memberPlStatList && _vm.memberPlStatList.length > 1) ? _c('div', {
    staticClass: "memb-pl-stat"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', [_c('ul', _vm._l((_vm.memberPlStatList), function(s) {
    return _c('li', {
      key: s.memberId,
      class: {
        on: _vm.selectMemberId === s.memberId
      },
      on: {
        "click": function($event) {
          return _vm.queryMemberPlStatByMemberId(s.memberId)
        }
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t\t\t" + _vm._s(s.memberName) + "（" + _vm._s(s.lessonCnt) + "）\n\t\t\t\t\t\t\t\t")])
  }), 0)]), _vm._v(" "), _c('td', {
    attrs: {
      "width": "65",
      "align": "right"
    }
  }, [_c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.queryPrivateLesson(null)
      }
    },
    model: {
      value: (_vm.isEndStatus),
      callback: function($$v) {
        _vm.isEndStatus = $$v
      },
      expression: "isEndStatus"
    }
  }, [_vm._v("已结束")])], 1)])])]) : _vm._e(), _vm._v(" "), (_vm.dlg.pcLessonView) ? _c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    attrs: {
      "id": "statStaffSalary_pcLesson"
    }
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("上课类型")]), _vm._v(" "), _c('th', [_vm._v("课程名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("学员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("预约时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("签到时间")]), _vm._v(" "), (_vm.enablePrivateCoachScore) ? _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("教练得分")]) : _vm._e(), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("教练课时费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "60"
    }
  }, [_vm._v("详情")])]), _vm._v(" "), _vm._l((_vm.dlg.privateLessonList), function(l, idx) {
    return _c('tr', [_c('td', [_c('span', {
      class: {
        'green': l.status === 9,
        'gray': l.status !== 9
      }
    }, [_vm._v(_vm._s(_vm.g.Dict.PcLessonStatus[l.status]))])]), _vm._v(" "), _c('td', [(l.ltype === 1) ? [_vm._v("常规课")] : _c('span', {
      staticClass: "orange"
    }, [_vm._v("体验课")])], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.courseName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonDate))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonTimeDesc))]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMemberInfo(l.memberId)
        }
      }
    }, [_vm._v(_vm._s(l.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.checkinTime))]), _vm._v(" "), (_vm.enablePrivateCoachScore) ? _c('td', [_vm._v(_vm._s(l.coachScore))]) : _vm._e(), _vm._v(" "), _c('td', [(l.coachLessonFee) ? _c('span', {
      class: {
        gray: l.status !== 9
      }
    }, [_vm._v("￥" + _vm._s(l.coachLessonFee))]) : _vm._e()]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      attrs: {
        "target": "_blank",
        "href": '#/private-lesson-edit/{0}/{1}'.format(l.lessonId, l.mplId)
      }
    }, [_vm._v("详情")])])])
  })], 2)]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        return _vm.g.Util.exportToExcel('statStaffSalary_pcLesson', '私教上课明细')
      }
    }
  }, [_vm._v("导出")]), _vm._v("\n\t\t\t\t \n\t\t\t\t"), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlg.pcLessonView = false
      }
    }
  }, [_vm._v("关闭")])], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "团课上课明细",
      "width": "1000",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.dlg.gcLessonView),
      callback: function($$v) {
        _vm.$set(_vm.dlg, "gcLessonView", $$v)
      },
      expression: "dlg.gcLessonView"
    }
  }, [_c('div', {
    staticClass: "lesson-status"
  }, [_c('RadioGroup', {
    attrs: {
      "type": "button"
    },
    on: {
      "on-change": function($event) {
        return _vm.queryLesson(_vm.coachType)
      }
    },
    model: {
      value: (_vm.queryStatus),
      callback: function($$v) {
        _vm.queryStatus = $$v
      },
      expression: "queryStatus"
    }
  }, [_c('Radio', {
    attrs: {
      "label": -1
    }
  }, [_vm._v("全部状态")]), _vm._v(" "), _vm._l((_vm.g.Dict.LessonStatus), function(k, v) {
    return _c('Radio', {
      key: v,
      attrs: {
        "label": v
      }
    }, [_vm._v(_vm._s(k))])
  })], 2)], 1), _vm._v(" "), (_vm.dlg.gcLessonView) ? _c('div', {
    staticClass: "mytbl p10"
  }, [_c('table', {
    attrs: {
      "id": "statStaffSalary_gcLesson"
    }
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "45"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', [_vm._v("课程")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("预约人数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("签到人数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("签到时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("教练课时费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("场地")])]), _vm._v(" "), _vm._l((_vm.dlg.groupLessonList), function(l, idx) {
    return _c('tr', [_c('td', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_c('a', {
      attrs: {
        "target": "_blank",
        "href": '#/group-lesson-edit/' + l.lessonId
      }
    }, [_vm._v(_vm._s(l.courseName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonDate))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonTimeDesc))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.bookings))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.checkins))]), _vm._v(" "), _c('td', [_c('span', {
      class: {
        'green': l.status === 9,
        'gray': l.status !== 9
      }
    }, [_vm._v(_vm._s(_vm.g.Dict.LessonStatus[l.status]))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.checkinTime))]), _vm._v(" "), _c('td', [(l.coachLessonFee) ? _c('span', {
      class: {
        'gray': l.status !== 9
      }
    }, [_vm._v("￥" + _vm._s(l.coachLessonFee))]) : _c('i', {
      staticClass: "gray"
    }, [_vm._v("无")])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.groundName))])])
  })], 2)]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        return _vm.g.Util.exportToExcel('statStaffSalary_gcLesson', '团课上课明细')
      }
    }
  }, [_vm._v("导出")]), _vm._v("\n\t\t\t\t \n\t\t\t\t"), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlg.gcLessonView = false
      }
    }
  }, [_vm._v("关闭")])], 1), _vm._v(" "), _c('modal')], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.dlg.memberView),
      callback: function($$v) {
        _vm.$set(_vm.dlg, "memberView", $$v)
      },
      expression: "dlg.memberView"
    }
  }, [(_vm.dlg.memberView) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("销售统计")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', [_vm._v("会员")]), _vm._v(" "), _c('th', [_vm._v("课程")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("课时单价")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("本月课时数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("本月课时费")]), _vm._v(" "), _c('th', [_vm._v("教练所得")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "250"
    }
  }, [_vm._v("课程")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("上课时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("原教练")]), _vm._v(" "), _c('th', [_vm._v("代课课时费")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "250"
    }
  }, [_vm._v("课程")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("课时费单价")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("本月课时数")]), _vm._v(" "), _c('th', [_vm._v("本月课时费")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "250"
    }
  }, [_vm._v("课程")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("课时费单价")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("本月课时数")]), _vm._v(" "), _c('th', [_vm._v("本月课时费")])])
}]}

/***/ }),

/***/ 2353:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "staff"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "staff",
      "page": "staff-list-salary"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [(_vm.permit) ? [_c('section', {
    staticClass: "salary-hd"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', [_vm._v("\n\t\t\t\t\t\t\t统计月份：\n\t\t\t\t\t\t\t"), _c('ul', _vm._l((_vm.dateShortcuts), function(d, idx) {
    return (idx < 6) ? _c('li', {
      staticClass: "item"
    }, [_c('a', {
      class: {
        'on': _vm.selectIdx === idx
      },
      on: {
        "click": function($event) {
          return _vm.statByDateShortcuts(idx)
        }
      }
    }, [_vm._v(_vm._s(d.name))])]) : _vm._e()
  }), 0), _vm._v(" "), _c('i-select', {
    staticClass: "sel",
    attrs: {
      "size": "small",
      "placeholder": "选择更多月份"
    },
    on: {
      "on-change": _vm.statByDateShortcuts
    },
    model: {
      value: (_vm.selectIdx),
      callback: function($$v) {
        _vm.selectIdx = $$v
      },
      expression: "selectIdx"
    }
  }, _vm._l((_vm.dateShortcuts), function(d, idx) {
    return (idx >= 6) ? _c('i-option', {
      key: idx,
      attrs: {
        "value": idx
      }
    }, [_vm._v(_vm._s(d.name))]) : _vm._e()
  }), 1)], 1), _vm._v(" "), _c('td', {
    attrs: {
      "align": "right"
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t从每月 "), _c('input', {
    directives: [{
      name: "model",
      rawName: "v-model.number",
      value: (_vm.startDay),
      expression: "startDay",
      modifiers: {
        "number": true
      }
    }],
    staticClass: "start-day",
    attrs: {
      "type": "number",
      "title": ""
    },
    domProps: {
      "value": (_vm.startDay)
    },
    on: {
      "change": _vm.changeStartDay,
      "input": function($event) {
        if ($event.target.composing) { return; }
        _vm.startDay = _vm._n($event.target.value)
      },
      "blur": function($event) {
        return _vm.$forceUpdate()
      }
    }
  }), _vm._v(" 日起统计\n\t\t\t\t\t\t")])])]), _vm._v(" "), (_vm.staffList && _vm.staffList.length) ? _c('div', {
    staticClass: "staff-list"
  }, [_c('table', [_c('tr', [_c('td', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("员工选择：")]), _vm._v(" "), _c('td', [_c('CheckboxGroup', {
    staticClass: "staff-checks",
    staticStyle: {
      "display": "inline-block"
    },
    model: {
      value: (_vm.staffIdList),
      callback: function($$v) {
        _vm.staffIdList = $$v
      },
      expression: "staffIdList"
    }
  }, _vm._l((_vm.staffList), function(staff) {
    return _c('Checkbox', {
      key: staff.staffId,
      attrs: {
        "label": staff.staffId
      }
    }, [_vm._v(_vm._s(staff.name))])
  }), 1)], 1)])]), _vm._v(" "), _c('div', {
    staticClass: "submit form-submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.calcStaffListSalary
    }
  }, [_vm._v("确定")]), _vm._v(" "), _c('a', {
    staticClass: "l15",
    on: {
      "click": _vm.checkAllStaff
    }
  }, [_vm._v("全选")]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v(" "), _c('a', {
    on: {
      "click": _vm.uncheckAllStaff
    }
  }, [_vm._v("全不选")])], 1)]) : _vm._e()]), _vm._v(" "), _c('section', {
    staticClass: "mytbl"
  }, [_c('div', {
    staticClass: "tbl-header"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        return _vm.g.Util.exportToExcel('staffSalaryList')
      }
    }
  }, [_vm._v("导出")])], 1), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_vm._v("工资合计： ￥"), _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.salarySum))])])]), _vm._v(" "), _c('table', {
    attrs: {
      "id": "staffSalaryList"
    }
  }, [_vm._m(0), _vm._v(" "), _vm._l((_vm.staffSalaryList), function(s) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(s.staffName))]), _vm._v(" "), _c('td', [(s.tmptName) ? [_vm._v(_vm._s(s.tmptName))] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("默认")])], 2), _vm._v(" "), _c('td', {
      staticClass: "bold"
    }, [_vm._v(_vm._s(s.salary ? _vm.g.Util.round(s.salary) : 0))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.baseSalary))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.commissionAmount))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.privateLessonFeeTotal))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.rewardLessonFee))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.groupLessonFeeTotal))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.groupLessonFeeTotalForViceCoach))]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewStaffSalary(s.staffId, s.staffName)
        }
      }
    }, [_vm._v("工资明细")])])])
  })], 2)])] : [_vm._m(1)], _vm._v(" "), _c('modal', {
    attrs: {
      "title": _vm.selectStaffName + ' - 工资计算明细',
      "width": "1100",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.staffSalaryDlg),
      callback: function($$v) {
        _vm.staffSalaryDlg = $$v
      },
      expression: "staffSalaryDlg"
    }
  }, [(_vm.staffSalaryDlg) ? [_c('staff-salary', {
    attrs: {
      "staffId": _vm.selectStaffId,
      "beginDate": _vm.query.beginDate,
      "endDate": _vm.query.endDate
    }
  })] : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center",
    staticStyle: {
      "margin-top": "-20px"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    staticStyle: {
      "padding": "0 100px"
    },
    on: {
      "click": function($event) {
        _vm.staffSalaryDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)], 2)], 2)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("员工")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("工资计算模板")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("工资合计")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("基本工资")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("销售提成")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("私教课时费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("私教奖励")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("团课课时费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("助教课时费")]), _vm._v(" "), _c('th', [_vm._v("操作")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('section', {
    staticClass: "no-permit"
  }, [_c('i', {
    staticClass: "iconfont icon-alert2 big"
  }), _vm._v(" 您尚无【工资列表】的查看权限\n\t\t\t")])
}]}

/***/ }),

/***/ 2411:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "staff"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "staff",
      "page": "staff-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "title": _vm.staff.name,
      "menu-list": _vm.menuList,
      "include-back": !_vm.g.data.user.isShopOwner
    }
  }, [(_vm.g.data.user.isShopOwner) ? _c('div', {
    staticClass: "more-staff-sel"
  }, [_vm._v("选择员工\n\t\t\t"), _c('select', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: (_vm.staffId),
      expression: "staffId"
    }],
    attrs: {
      "title": ""
    },
    on: {
      "change": [function($event) {
        var $$selectedVal = Array.prototype.filter.call($event.target.options, function(o) {
          return o.selected
        }).map(function(o) {
          var val = "_value" in o ? o._value : o.value;
          return val
        });
        _vm.staffId = $event.target.multiple ? $$selectedVal : $$selectedVal[0]
      }, _vm.changeStaff]
    }
  }, _vm._l((_vm.staffList), function(s) {
    return _c('option', {
      key: s.staffId,
      domProps: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 0)]) : _vm._e()]), _vm._v(" "), (_vm.permit) ? [_c('section', {
    staticClass: "salary-hd"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', [_vm._v("\n\t\t\t\t\t\t\t统计月份：\n\t\t\t\t\t\t\t"), _c('ul', _vm._l((_vm.dateShortcuts), function(d, idx) {
    return (idx < 6) ? _c('li', {
      staticClass: "item"
    }, [_c('a', {
      class: {
        'on': _vm.selectIdx === idx
      },
      on: {
        "click": function($event) {
          return _vm.statByDateShortcuts(idx)
        }
      }
    }, [_vm._v(_vm._s(d.name))])]) : _vm._e()
  }), 0), _vm._v(" "), _c('i-select', {
    staticClass: "sel",
    attrs: {
      "size": "small",
      "placeholder": "选择更多月份"
    },
    on: {
      "on-change": _vm.statByDateShortcuts
    },
    model: {
      value: (_vm.selectIdx),
      callback: function($$v) {
        _vm.selectIdx = $$v
      },
      expression: "selectIdx"
    }
  }, _vm._l((_vm.dateShortcuts), function(d, idx) {
    return (idx >= 6) ? _c('i-option', {
      key: idx,
      attrs: {
        "value": idx
      }
    }, [_vm._v(_vm._s(d.name))]) : _vm._e()
  }), 1)], 1), _vm._v(" "), _c('td', {
    attrs: {
      "align": "right"
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t从每月 "), _c('input', {
    directives: [{
      name: "model",
      rawName: "v-model.number",
      value: (_vm.startDay),
      expression: "startDay",
      modifiers: {
        "number": true
      }
    }],
    staticClass: "start-day",
    attrs: {
      "type": "number",
      "title": ""
    },
    domProps: {
      "value": (_vm.startDay)
    },
    on: {
      "change": _vm.changeStartDay,
      "input": function($event) {
        if ($event.target.composing) { return; }
        _vm.startDay = _vm._n($event.target.value)
      },
      "blur": function($event) {
        return _vm.$forceUpdate()
      }
    }
  }), _vm._v(" 日起统计\n\t\t\t\t\t\t")])])])]), _vm._v(" "), (_vm.staffId) ? [_c('staff-salary', {
    attrs: {
      "staffId": _vm.staffId,
      "beginDate": _vm.query.beginDate,
      "endDate": _vm.query.endDate
    }
  })] : _vm._e()] : [_c('p', {
    staticClass: "no-data"
  }, [_vm._v("您尚无权限查看")])]], 2)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2424:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('div', {
    staticClass: "take-photo-type"
  }, [_c('RadioGroup', {
    on: {
      "on-change": _vm.changePhotoType
    },
    model: {
      value: (_vm.photo.takePhotoType),
      callback: function($$v) {
        _vm.$set(_vm.photo, "takePhotoType", $$v)
      },
      expression: "photo.takePhotoType"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("从电脑上选择")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("用摄像头拍摄")])], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "take-photo"
  }, [_c('table', {
    staticClass: "mytbl"
  }, [_c('tr', [_c('td', {
    staticClass: "center"
  }, [(_vm.photo.takePhotoType === 1) ? [_c('img-upload', {
    attrs: {
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "beforeUpload": _vm.beforeUpload,
      "max-size": _vm.imgUpload.maxSize,
      "show-thumb": false
    }
  }, [_c('i-button', {
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "type": "default",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("点击选择照片")])], 1)] : [_c('video', {
    ref: "video",
    staticStyle: {
      "background": "#ddd"
    },
    attrs: {
      "width": "310",
      "height": "232.5",
      "autoplay": ""
    }
  }), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.takePhoto
    }
  }, [_vm._v("点击拍照")])]], 2), _vm._v(" "), _c('td', {
    staticClass: "center"
  }, [_c('canvas', {
    ref: "canvas",
    staticStyle: {
      "background": "#ddd"
    },
    attrs: {
      "width": "310",
      "height": _vm.canvasHeight
    }
  }), _vm._v(" "), _c('canvas', {
    ref: "oldCanvasRefs",
    staticStyle: {
      "background": "#ddd",
      "display": "none"
    },
    attrs: {
      "width": _vm.canvasWidth * _vm.times,
      "height": _vm.canvasOldHeight * _vm.times
    }
  }), _vm._v(" "), _c('canvas', {
    ref: "newCanvasRefs",
    staticStyle: {
      "background": "#ddd",
      "display": "none"
    },
    attrs: {
      "width": _vm.canvasWidth * _vm.times,
      "height": _vm.canvasHeight * _vm.times
    }
  }), _vm._v(" "), (_vm.photo.hasTakePhoto) ? [_c('i-button', {
    on: {
      "click": _vm.editPhotoImg
    }
  }, [_vm._v("编辑照片")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.uploadPhotoImg
    }
  }, [_vm._v("上传照片")])] : _c('i-button', {
    attrs: {
      "disabled": true
    }
  }, [_vm._v("上传照片")])], 2)])])]), _vm._v(" "), _c('Modal', {
    staticClass: "qd-cropper-dlg",
    attrs: {
      "title": "编辑照片",
      "width": "700",
      "styles": {
        top: '10px'
      },
      "footer-hide": "",
      "mask-closable": false
    },
    model: {
      value: (_vm.cropperDlg),
      callback: function($$v) {
        _vm.cropperDlg = $$v
      },
      expression: "cropperDlg"
    }
  }, [_c('div', {
    staticClass: "img"
  }, [_c('img', {
    ref: "cropperRefs",
    attrs: {
      "id": "image",
      "src": _vm.imgUrl
    }
  })]), _vm._v(" "), _c('div', {
    staticClass: "footer-btns"
  }, [_c('i-button', {
    staticClass: "item over",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.submitFunc()
      }
    }
  }, [_vm._v("确定")]), _vm._v(" "), _c('i-button', {
    staticClass: "item close",
    on: {
      "click": function($event) {
        return _vm.closeFunc()
      }
    }
  }, [_vm._v("取消")])], 1)])], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2430:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "info-view"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("基本信息")]), _vm._v(" "), _c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("姓名")]), _c('td', [_vm._v(_vm._s(_vm.staff.name))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("手机号")]), _c('td', [_vm._v(_vm._s(_vm.staff.phoneNo))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("性别")]), _c('td', [_vm._v(_vm._s(_vm.staff.sexName))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("员工角色")]), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t" + _vm._s(_vm.staff.roleNames) + "\n\t\t\t\t")])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("状态")]), _c('td', [_vm._v(_vm._s(_vm.staff.statusName))])]), _vm._v(" "), (_vm.isInVacation) ? _c('tr', [_c('th', [_vm._v("请假日期")]), _c('td', [_vm._v(_vm._s(_vm.staff.vacationBegin) + " ~ " + _vm._s(_vm.staff.vacationEnd))])]) : _vm._e(), _vm._v(" "), (_vm.staff.intro) ? _c('tr', [_c('th', {
    attrs: {
      "valign": "top"
    }
  }, [_vm._v("简介")]), _c('td', [_c('pre', [_vm._v(_vm._s(_vm.staff.intro))])])]) : _vm._e()]), _vm._v(" "), (_vm.coach !== null && _vm.staff.isCoach) ? _c('div', [_c('div', {
    staticClass: "tit"
  }, [_vm._v("教练信息")]), _vm._v(" "), _c('table', [(_vm.coach.sign) ? _c('tr', [_c('th', [_vm._v("签名")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.coach.sign))])]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("对外发布")]), _vm._v(" "), _c('td', [(_vm.coach.isPublic) ? _c('span', [_vm._v("是")]) : _c('span', [_vm._v("否")])])]), _vm._v(" "), _c('tr', [_c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("教练类型")]), _vm._v(" "), _c('td', {
    staticClass: "-coach-types"
  }, [(_vm.coach.isGroupCoach) ? _c('span', [_vm._v("团课教练")]) : _vm._e(), _vm._v(" "), (_vm.coach.isPrivateCoach) ? _c('span', [_vm._v("私课教练")]) : _vm._e()])]), _vm._v(" "), (_vm.coach.privateCoachFee) ? _c('tr', [_c('th', [_vm._v("私教课时费")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.coach.privateCoachFee) + " 元")])]) : _vm._e()])]) : _vm._e()])
},staticRenderFns: []}

/***/ }),

/***/ 2449:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "staff"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "staff",
      "page": "shop-report-msg-conf"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_vm._l((_vm.statTitles), function(tit, idx) {
    return _c('section', [_c('div', {
      staticClass: "hd"
    }, [_c('div', {
      staticClass: "tit"
    }, [_vm._v(_vm._s(tit) + "消息设置")]), _vm._v(" "), _c('div', {
      staticClass: "r"
    }, [_c('i-button', {
      attrs: {
        "type": "primary"
      },
      on: {
        "click": function($event) {
          return _vm.saveConf(idx)
        }
      }
    }, [_vm._v("保存")])], 1)]), _vm._v(" "), _c('div', [_c('table', [_c('tr', [_c('td', {
      attrs: {
        "width": "520",
        "valign": "top"
      }
    }, [_c('div', {
      staticClass: "conf-tit"
    }, [_vm._v("请选择报表内容：")]), _vm._v(" "), _c('div', {
      staticClass: "stat-items"
    }, [_c('CheckboxGroup', {
      model: {
        value: (_vm.reportStatItems[idx]),
        callback: function($$v) {
          _vm.$set(_vm.reportStatItems, idx, $$v)
        },
        expression: "reportStatItems[idx]"
      }
    }, _vm._l((_vm.statItems), function(name, key) {
      return _c('Checkbox', {
        key: key,
        attrs: {
          "label": key
        }
      }, [_vm._v(_vm._s(name))])
    }), 1)], 1)]), _vm._v(" "), _c('td', {
      attrs: {
        "width": "30"
      }
    }), _vm._v(" "), _c('td', {
      attrs: {
        "valign": "top"
      }
    }, [_c('div', {
      staticClass: "conf-tit"
    }, [_vm._v("请设置接收消息的人员：")]), _vm._v(" "), _c('ul', {
      staticClass: "staffs"
    }, _vm._l((_vm.reportStaffs[idx]), function(s) {
      return _c('li', {
        staticClass: "item"
      }, [(_vm.staffList) ? _c('i-select', {
        staticStyle: {
          "width": "120px"
        },
        attrs: {
          "placeholder": "请选择人员",
          "clearable": ""
        },
        model: {
          value: (s.staffId),
          callback: function($$v) {
            _vm.$set(s, "staffId", $$v)
          },
          expression: "s.staffId"
        }
      }, _vm._l((_vm.staffList), function(staff) {
        return _c('i-option', {
          key: staff.staffId,
          attrs: {
            "value": staff.staffId
          }
        }, [_vm._v(_vm._s(staff.name))])
      }), 1) : _vm._e(), _vm._v("  \n\t\t\t\t\t\t\t\t\t"), _c('checkbox', {
        staticClass: "ckbox",
        model: {
          value: (s.hasSms),
          callback: function($$v) {
            _vm.$set(s, "hasSms", $$v)
          },
          expression: "s.hasSms"
        }
      }, [_vm._v("短信消息")]), _vm._v(" "), _c('checkbox', {
        staticClass: "ckbox",
        model: {
          value: (s.hasWx),
          callback: function($$v) {
            _vm.$set(s, "hasWx", $$v)
          },
          expression: "s.hasWx"
        }
      }, [_vm._v("微信消息")])], 1)
    }), 0), _vm._v(" "), _c('div', {
      staticClass: "mt15"
    }, [_c('i-button', {
      on: {
        "click": function($event) {
          return _vm.appendMsgReceiver(_vm.reportStaffs[idx])
        }
      }
    }, [_vm._v("+添加")])], 1)])])])])])
  }), _vm._v(" "), _c('section', [_vm._m(0), _vm._v(" "), _c('ol', [_c('li', [_vm._v("日报表消息将在次日早晨（8:00开始）发送；周报表将在周一早晨发送；月报表将在每月1号早晨发送")]), _vm._v(" "), _c('li', [_vm._v("短信消息，是需要计费的，详细价格可 "), _c('a', {
    on: {
      "click": function($event) {
        return _vm.$router.push('recharge')
      }
    }
  }, [_vm._v("点击参考→")])]), _vm._v(" "), _c('li', [_vm._v("微信消息，是通过微信公众号发送，需要接收者关注健总管或场馆授权的公众号，然后通过公众号登录过健总管")])])])], 2)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit-help"
  }, [_vm._v("您需要知道的")])])
}]}

/***/ }),

/***/ 2456:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-home"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-home",
      "page": "shop-home"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('section', [_vm._m(0), _vm._v(" "), _c('div', {
    staticClass: "menus"
  }, [_c('CheckboxGroup', {
    model: {
      value: (_vm.checkedMenus),
      callback: function($$v) {
        _vm.checkedMenus = $$v
      },
      expression: "checkedMenus"
    }
  }, _vm._l((_vm.sysMenus), function(m) {
    return _c('Checkbox', {
      key: m.id,
      staticClass: "ckbox",
      attrs: {
        "label": m.id
      }
    }, [_vm._v("\n\t\t\t\t\t\t" + _vm._s(m.name) + "\n\t\t\t\t\t")])
  }), 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "form-submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveSysMenus
    }
  }, [_vm._v("保存")]), _vm._v(" "), _c('span', {
    staticClass: "l10 orange"
  }, [_vm._v("（保存后切换页面或刷新页面后，页面上方的快捷菜单才生效）")])], 1)])])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("系统快捷菜单设置")]), _vm._v(" "), _c('div', {
    staticClass: "r small"
  }, [_c('span', {
    staticClass: "orange"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" 每位员工都可设置自己的系统快捷菜单")])])])
}]}

/***/ }),

/***/ 2464:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "staff"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "staff",
      "page": "staff-login-conf"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('section', [_vm._m(0), _vm._v(" "), (_vm.g.data.user.isShopOwner) ? _c('div', [_c('table', [_c('tr', [_c('td', {
    staticStyle: {
      "padding-right": "30px"
    }
  }, [_c('table', {
    staticClass: "conf-list"
  }, _vm._l((_vm.staffLoginConfList), function(s) {
    return _c('tr', [_c('td', {
      attrs: {
        "width": "100"
      }
    }, [_vm._v(_vm._s(s.name))]), _vm._v(" "), _c('td', [_c('checkbox', {
      staticClass: "ck",
      model: {
        value: (s.conf[0]),
        callback: function($$v) {
          _vm.$set(s.conf, 0, $$v)
        },
        expression: "s.conf[0]"
      }
    }, [_vm._v("电脑端")]), _vm._v(" "), _c('checkbox', {
      staticClass: "ck",
      model: {
        value: (s.conf[1]),
        callback: function($$v) {
          _vm.$set(s.conf, 1, $$v)
        },
        expression: "s.conf[1]"
      }
    }, [_vm._v("手机端")]), _vm._v(" "), _c('input-int', {
      staticClass: "in",
      attrs: {
        "placeholder": "验证码时效",
        "max": "720"
      },
      model: {
        value: (s.conf[2]),
        callback: function($$v) {
          _vm.$set(s.conf, 2, _vm._n($$v))
        },
        expression: "s.conf[2]"
      }
    }), _vm._v(" 小时\n\t\t\t\t\t\t\t\t\t\t"), _c('i-button', {
      staticClass: "submit",
      on: {
        "click": function($event) {
          return _vm.updateLoginConf(s)
        }
      }
    }, [_vm._v("确定")])], 1)])
  }), 0)]), _vm._v(" "), _c('td', {
    staticStyle: {
      "border-left": "1px solid #e4e4e4"
    },
    attrs: {
      "valign": "top"
    }
  }, [_c('div', {
    staticClass: "remark"
  }, [_vm._m(1), _vm._v(" "), _c('ol', [_c('li', [_vm._v("为进一步加强场馆数据安全，可设置员工登录系统时强制输入短信验证码，以确保是员工本人登录系统；")]), _vm._v(" "), _c('li', [_vm._v("可设置：是否在电脑端登录时使用短信验证码校验，是否在手机端登录时使用短信验证码校验；")]), _vm._v(" "), _c('li', [_vm._v("登录短信验证码的时效性（小时），即该短信验证码可在*小时内重复使用；")]), _vm._v(" "), _c('li', [_c('span', {
    staticClass: "orangered"
  }, [_vm._v("此处登录用的验证码短信是计费的，需消费场馆短信数；若短信数不够，可在线购买短信数")]), _vm._v("（"), _c('a', {
    on: {
      "click": function($event) {
        return _vm.$router.push('recharge')
      }
    }
  }, [_vm._v("去购买 →")]), _vm._v("）")])])])])])])]) : _c('p', {
    staticClass: "no-data"
  }, [_vm._v("\n\t\t\t\t您无权限查看和设置\n\t\t\t")])])])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("短信验证码校验登录设置")]), _vm._v(" "), _c('div', {
    staticClass: "orange r"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 仅店长有权限设置")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('h3', {
    staticClass: "orangered"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" 必读说明")])
}]}

/***/ }),

/***/ 2475:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "staff"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "staff",
      "page": "staff-salary-conf"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('table', {
    staticStyle: {
      "margin-bottom": "15px"
    },
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_vm._m(0), _vm._v(" "), _c('td', {
    attrs: {
      "align": "right"
    }
  }, [_c('i-button', {
    attrs: {
      "icon": "ios-settings"
    },
    on: {
      "click": function($event) {
        _vm.dlgView.salaryTmptList = true
      }
    }
  }, [_vm._v("工资计算模板")])], 1)])]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd",
    staticStyle: {
      "line-height": "65px",
      "height": "65px"
    }
  }, [_vm._m(1), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_vm._v("\n\t\t\t\t\t工资计算模板  \n\t\t\t\t\t"), _c('i-select', {
    staticStyle: {
      "display": "inline-block",
      "width": "200px"
    },
    on: {
      "on-change": _vm.updateTmptForSalesSalaryConf
    },
    model: {
      value: (_vm.selectSalesTmptId),
      callback: function($$v) {
        _vm.selectSalesTmptId = _vm._n($$v)
      },
      expression: "selectSalesTmptId"
    }
  }, [_c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_vm._v("默认")]), _vm._v(" "), _vm._l((_vm.salaryTemplateList), function(t) {
    return (t.salaryType === 0) ? _c('i-option', {
      key: t.tmptId,
      attrs: {
        "value": t.tmptId
      }
    }, [_vm._v(_vm._s(t.tmptName))]) : _vm._e()
  })], 2)], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    staticClass: "inner-tbl"
  }, [_vm._m(2), _vm._v(" "), _vm._l((_vm.salesSalaryConfList), function(c, idx) {
    return _c('tr', [_c('td', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.minCommission) + " ≤ 销售额 ＜ " + _vm._s(c.maxCommission + 1))]), _vm._v(" "), _c('td', [(c.commissionType === 1) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s((c.commissionVal * 100).toFixed(2) * 100 / 100) + "%\n\t\t\t\t\t\t\t")] : (c.commissionType === 2) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(c.commissionVal) + " 元/单\n\t\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(c.baseSalary))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.remark))]), _vm._v(" "), _c('td', [(_vm.salaryConfEditable) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.editSalesSalaryConf(idx, 1)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.delSalesSalaryConf(idx)
        }
      }
    }, [_vm._v("删除")])])]) : _vm._e()])])
  })], 2), _vm._v(" "), _c('div', {
    staticClass: "p15"
  }, [(_vm.salaryConfEditable) ? [_c('i-button', {
    attrs: {
      "type": "primary",
      "size": "small",
      "icon": "md-add"
    },
    on: {
      "click": function($event) {
        return _vm.createSalesSalaryConf(1)
      }
    }
  }, [_vm._v("添加")]), _vm._v(" "), _c('span', {
    staticStyle: {
      "padding-left": "50px"
    }
  }, [_c('Checkbox', {
    on: {
      "on-change": _vm.saveSalesSalaryCalcType
    },
    model: {
      value: (_vm.enableSalesSalaryCalcType1),
      callback: function($$v) {
        _vm.enableSalesSalaryCalcType1 = $$v
      },
      expression: "enableSalesSalaryCalcType1"
    }
  }, [_vm._v("启用分档计算方式")]), _vm._v(" "), _c('help', {
    attrs: {
      "title": "选前必读"
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t\t分档计算方式类似于个人所得税的计算方式。\n\t\t\t\t\t\t\t\t"), _c('p'), _vm._v("\n\t\t\t\t\t\t\t\t例如，设置的销售提成是：[0 ~ 10000] 提成3%，(10000 ~ 20000] 提成5%；假设某销售的销售额是15000元，\n\t\t\t\t\t\t\t\t则提成计算结果是：10000 * 3% + (15000 - 10000) * 5% = 550\n\t\t\t\t\t\t\t\t"), _c('p'), _vm._v("\n\t\t\t\t\t\t\t\t如果不启用分档计算方式，则计算结果是：15000 * 5 = 750\n\t\t\t\t\t\t\t")])], 1)] : _c('span', {
    staticClass: "gray"
  }, [_vm._v("注：仅店长有权限编辑工资设置")])], 2)])]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd",
    staticStyle: {
      "line-height": "65px",
      "height": "65px"
    }
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("私教工资设置")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_vm._v("\n\t\t\t\t\t工资计算模板  \n\t\t\t\t\t"), _c('i-select', {
    staticStyle: {
      "display": "inline-block",
      "width": "200px"
    },
    on: {
      "on-change": _vm.updateTmptForPcSalaryConf
    },
    model: {
      value: (_vm.selectPcTmptId),
      callback: function($$v) {
        _vm.selectPcTmptId = $$v
      },
      expression: "selectPcTmptId"
    }
  }, [_c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_vm._v("默认")]), _vm._v(" "), _vm._l((_vm.salaryTemplateList), function(t) {
    return (t.salaryType === 1) ? _c('i-option', {
      key: t.tmptId,
      attrs: {
        "value": t.tmptId
      }
    }, [_vm._v(_vm._s(t.tmptName))]) : _vm._e()
  })], 2)], 1)]), _vm._v(" "), _c('div', {
    staticStyle: {
      "padding": "8px 0 20px 0"
    }
  }, [_vm._v("\n\t\t\t\t课时费结算方式： \n\t\t\t\t"), _c('radio-group', {
    on: {
      "on-change": _vm.changePcSalaryConfType
    },
    model: {
      value: (_vm.pcSalary.confType),
      callback: function($$v) {
        _vm.$set(_vm.pcSalary, "confType", _vm._n($$v))
      },
      expression: "pcSalary.confType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1,
      "disabled": !_vm.salaryConfEditable
    }
  }, [_vm._v("按销售额结算")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2,
      "disabled": !_vm.salaryConfEditable
    }
  }, [_vm._v("按上课次数结算")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 3,
      "disabled": !_vm.salaryConfEditable
    }
  }, [_vm._v("按上课费用结算")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 4,
      "disabled": !_vm.salaryConfEditable
    }
  }, [_vm._v("按教练得分结算")])], 1)], 1), _vm._v(" "), (_vm.pcSalary.confType === 1) ? _c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    staticClass: "inner-tbl"
  }, [_vm._m(3), _vm._v(" "), _vm._l((_vm.pcSalary.confListBasedSales), function(c, idx) {
    return _c('tr', [_c('td', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.minCommission) + " ≤ 销售额 ＜ " + _vm._s(c.maxCommission + 1))]), _vm._v(" "), _c('td', [(c.commissionType === 1) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s((c.commissionVal * 100).toFixed(2) * 100 / 100) + "%\n\t\t\t\t\t\t\t")] : (c.commissionType === 2) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(c.commissionVal) + " 元/单\n\t\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(c.baseSalary))]), _vm._v(" "), _c('td', [(c.lessonFeeType === 1) ? [_vm._v(_vm._s((c.lessonFeeVal * 100).toFixed(2) * 100 / 100) + "%")] : (c.lessonFeeType === 2) ? [_vm._v(_vm._s(c.lessonFeeVal) + " 元")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.remark))]), _vm._v(" "), _c('td', [(_vm.salaryConfEditable) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.editPcSalaryConf(idx)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.delPcSalaryConf(idx)
        }
      }
    }, [_vm._v("删除")])])]) : _vm._e()])])
  })], 2), _vm._v(" "), _c('div', {
    staticClass: "p15"
  }, [(_vm.salaryConfEditable) ? [_c('i-button', {
    attrs: {
      "type": "primary",
      "size": "small",
      "icon": "md-add"
    },
    on: {
      "click": _vm.createPcSalaryConf
    }
  }, [_vm._v("添加")])] : _vm._e()], 2)]) : (_vm.pcSalary.confType >= 2) ? [_c('table', [_c('tr', [_c('td', [_vm._v("\n\t\t\t\t\t\t\t基本工资方式：  \n\t\t\t\t\t\t\t"), _c('i-select', {
    staticStyle: {
      "display": "inline-block",
      "width": "130px"
    },
    on: {
      "on-change": _vm.savePrivateCoachBaseSalaryType
    },
    model: {
      value: (_vm.pcSalary.baseSalaryType),
      callback: function($$v) {
        _vm.$set(_vm.pcSalary, "baseSalaryType", _vm._n($$v))
      },
      expression: "pcSalary.baseSalaryType"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("固定基本工资")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("按销售额设置")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("按上课业绩设置")])], 1)], 1), _vm._v(" "), (_vm.pcSalary.baseSalaryType === 1) ? _c('td', {
    staticClass: "l10"
  }, [_c('input-num', {
    staticClass: "input-s",
    staticStyle: {
      "width": "90px",
      "text-align": "center"
    },
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.pcSalary.baseSalary),
      callback: function($$v) {
        _vm.$set(_vm.pcSalary, "baseSalary", $$v)
      },
      expression: "pcSalary.baseSalary"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "gray l5"
  }, [_vm._v("元")])], 1) : _vm._e(), _vm._v(" "), _c('td', {
    staticClass: "l15"
  }, [(_vm.pcSalary.baseSalaryType === 1) ? [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.savePrivateCoachBaseSalary
    }
  }, [_vm._v("保存")]), _vm._v(" "), _c('help', {
    staticClass: "l10",
    attrs: {
      "title": "提示"
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t此处可统一设置私教的基本工资（底薪）；\n\t\t\t\t\t\t\t\t\t"), _c('p'), _vm._v("如果已在【员工】下设置了私教的基本工资，则以那里的基本工资为准。\n\t\t\t\t\t\t\t\t")])] : _vm._e(), _vm._v(" "), (_vm.pcSalary.baseSalaryType === 2) ? [_c('help', {
    staticClass: "l10",
    attrs: {
      "title": "提示"
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t需根据不同的销售额范围设置基本工资（底薪）；\n\t\t\t\t\t\t\t\t\t"), _c('p'), _vm._v("如果已在【员工】下设置了私教的基本工资，则以那里的基本工资为准。\n\t\t\t\t\t\t\t\t")])] : _vm._e(), _vm._v(" "), (_vm.pcSalary.baseSalaryType === 3) ? [_c('help', {
    staticClass: "l10",
    attrs: {
      "title": "提示"
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t需根据不同的上课范围设置基本工资（底薪）；\n\t\t\t\t\t\t\t\t\t"), _c('p'), _vm._v("如果已在【员工】下设置了私教的基本工资，则以那里的基本工资为准。\n\t\t\t\t\t\t\t\t")])] : _vm._e()], 2)])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl p15"
  }, [_c('table', {
    staticClass: "inner-tbl"
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "40"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "220"
    }
  }, [_vm._v("销售额范围 (元)")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("销售提成")]), _vm._v(" "), (_vm.pcSalary.baseSalaryType === 2) ? _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("基本工资")]) : _vm._e(), _vm._v(" "), _c('th', [_vm._v("备注")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("操作")])]), _vm._v(" "), _vm._l((_vm.pcSalary.salesConfList), function(c, idx) {
    return _c('tr', [_c('td', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.minCommission) + " ≤ 销售额 ＜ " + _vm._s(c.maxCommission + 1))]), _vm._v(" "), _c('td', [(c.commissionType === 1) ? [_vm._v("\n\t\t\t\t\t\t\t\t\t" + _vm._s((c.commissionVal * 100).toFixed(2) * 100 / 100) + "%\n\t\t\t\t\t\t\t\t")] : (c.commissionType === 2) ? [_vm._v("\n\t\t\t\t\t\t\t\t\t" + _vm._s(c.commissionVal) + " 元/单\n\t\t\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), (_vm.pcSalary.baseSalaryType === 2) ? _c('td', [(c.baseSalary) ? [_vm._v("￥" + _vm._s(c.baseSalary))] : _vm._e()], 2) : _vm._e(), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.remark))]), _vm._v(" "), _c('td', [(_vm.salaryConfEditable) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.editSalesSalaryConf(idx, 2)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.delPrivateCoachSalesConf(idx)
        }
      }
    }, [_vm._v("删除")])])]) : _vm._e()])])
  })], 2), _vm._v(" "), _c('div', {
    staticClass: "p15"
  }, [(_vm.salaryConfEditable) ? [_c('i-button', {
    attrs: {
      "type": "primary",
      "size": "small",
      "icon": "md-add"
    },
    on: {
      "click": function($event) {
        return _vm.createSalesSalaryConf(2)
      }
    }
  }, [_vm._v("添加")])] : _vm._e()], 2)]), _vm._v(" "), (_vm.pcSalary.confType >= 2) ? _c('div', {
    staticClass: "mytbl",
    staticStyle: {
      "margin-top": "25px"
    }
  }, [_c('table', {
    staticClass: "inner-tbl"
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "40"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "220"
    }
  }, [(_vm.pcSalary.confType === 2) ? [_vm._v("上课次数范围 (次)")] : (_vm.pcSalary.confType === 3) ? [_vm._v("上课费用范围 (元)")] : (_vm.pcSalary.confType === 4) ? [_vm._v("教练平均得分 (分)")] : _vm._e()], 2), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("课时费")]), _vm._v(" "), (_vm.pcSalary.baseSalaryType === 3) ? _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("基本工资")]) : _vm._e(), _vm._v(" "), _c('th', [_vm._v("备注")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("操作")])]), _vm._v(" "), _vm._l((_vm.pcSalary.confListBasedLesson), function(c, idx) {
    return _c('tr', [_c('td', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.minVal) + " ≤\n\t\t\t\t\t\t\t\t"), (_vm.pcSalary.confType === 2) ? [_vm._v("上课次数")] : (_vm.pcSalary.confType === 3) ? [_vm._v("上课费用")] : (_vm.pcSalary.confType === 4) ? [_vm._v("教练平均得分")] : _vm._e(), _vm._v("\n\t\t\t\t\t\t\t\t＜ " + _vm._s(c.maxVal + 1))], 2), _vm._v(" "), _c('td', [(c.lessonFeeType === 1) ? [_vm._v(_vm._s((c.lessonFeeVal * 100).toFixed(2) * 100 / 100) + "%")] : (c.lessonFeeType === 2) ? [_vm._v(_vm._s(c.lessonFeeVal) + " 元")] : _vm._e()], 2), _vm._v(" "), (_vm.pcSalary.baseSalaryType === 3) ? _c('td', [(c.baseSalary) ? [_vm._v("￥" + _vm._s(c.baseSalary))] : _vm._e()], 2) : _vm._e(), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.remark))]), _vm._v(" "), _c('td', [(_vm.salaryConfEditable) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.editPcSalaryLessonConf(idx)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.delPcSalaryLessonConf(idx)
        }
      }
    }, [_vm._v("删除")])])]) : _vm._e()])])
  })], 2), _vm._v(" "), _c('div', {
    staticClass: "p15"
  }, [(_vm.salaryConfEditable) ? [_c('i-button', {
    attrs: {
      "type": "primary",
      "size": "small",
      "icon": "md-add"
    },
    on: {
      "click": _vm.createPcSalaryLessonConf
    }
  }, [_vm._v("添加")])] : _vm._e()], 2)]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "mytbl mt20 p5"
  }, [_c('table', {
    staticClass: "inner-tbl"
  }, [_vm._m(4), _vm._v(" "), _vm._l((_vm.pcSalary.confListBasedLessonReward), function(c, idx) {
    return _c('tr', [_c('td', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.minCommission) + " ≤ 销售额 ＜ " + _vm._s(c.maxCommission + 1))]), _vm._v(" "), _c('td', [_vm._v("+\n\t\t\t\t\t\t\t\t"), (c.lessonFeeType === 1) ? [_vm._v(_vm._s((c.lessonFeeVal * 100).toFixed(2) * 100 / 100) + "%")] : (c.lessonFeeType === 2) ? [_vm._v(_vm._s(c.lessonFeeVal) + " 元/节")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.remark))]), _vm._v(" "), _c('td', [(_vm.salaryConfEditable) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.editPcSalaryLessonRewardConf(idx)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.delPcSalaryLessonRewardConf(idx)
        }
      }
    }, [_vm._v("删除")])])]) : _vm._e()])])
  })], 2)]), _vm._v(" "), _c('div', {
    staticClass: "p15"
  }, [(_vm.salaryConfEditable) ? [_c('i-button', {
    attrs: {
      "type": "primary",
      "size": "small",
      "icon": "md-add"
    },
    on: {
      "click": _vm.createPcSalaryRewardConf
    }
  }, [_vm._v("添加")])] : _vm._e(), _vm._v(" "), _c('span', {
    staticClass: "gray l15"
  }, [_vm._v("此处用于私教课时费的额外奖励")])], 2)] : _vm._e()], 2)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "销售工资设置",
      "width": "550"
    },
    model: {
      value: (_vm.dlgView.salesSalaryConf),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "salesSalaryConf", $$v)
      },
      expression: "dlgView.salesSalaryConf"
    }
  }, [_c('i-form', {
    ref: "pcSalaryConf",
    staticClass: "myform",
    staticStyle: {
      "width": "420px"
    },
    attrs: {
      "model": _vm.salesSalaryConf,
      "rules": _vm.formRule.salesSalaryConf,
      "label-width": 100
    }
  }, [_c('form-item', {
    attrs: {
      "label": "销售额范围",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "placeholder": "范围最小值",
      "title": ""
    },
    model: {
      value: (_vm.salesSalaryConf.minCommission),
      callback: function($$v) {
        _vm.$set(_vm.salesSalaryConf, "minCommission", $$v)
      },
      expression: "salesSalaryConf.minCommission"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "big"
  }, [_vm._v("≤")]), _vm._v(" 销售额 "), _c('b', {
    staticClass: "big red"
  }, [_vm._v("＜")]), _vm._v(" "), _c('input-num', {
    staticClass: "input-s",
    attrs: {
      "placeholder": "范围最大值",
      "title": ""
    },
    model: {
      value: (_vm.salesSalaryConf.maxCommission),
      callback: function($$v) {
        _vm.$set(_vm.salesSalaryConf, "maxCommission", $$v)
      },
      expression: "salesSalaryConf.maxCommission"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "销售提成",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.salesSalaryConf.commissionVal),
      callback: function($$v) {
        _vm.$set(_vm.salesSalaryConf, "commissionVal", $$v)
      },
      expression: "salesSalaryConf.commissionVal"
    }
  }), _vm._v(" "), _c('b', {
    staticClass: "red"
  }, [_vm._v("%")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "基本工资"
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.salesSalaryConf.baseSalary),
      callback: function($$v) {
        _vm.$set(_vm.salesSalaryConf, "baseSalary", $$v)
      },
      expression: "salesSalaryConf.baseSalary"
    }
  }), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "备注"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 3
    },
    model: {
      value: (_vm.salesSalaryConf.remark),
      callback: function($$v) {
        _vm.$set(_vm.salesSalaryConf, "remark", $$v)
      },
      expression: "salesSalaryConf.remark"
    }
  })], 1)], 1), _vm._v(" "), (_vm.salaryConfEditable) ? _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "100px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.savSalesSalaryConf(1)
      }
    }
  }, [_vm._v("提交")])], 1) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "私教销售提成设置",
      "width": "550"
    },
    model: {
      value: (_vm.dlgView.salesConfForPcSalary),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "salesConfForPcSalary", $$v)
      },
      expression: "dlgView.salesConfForPcSalary"
    }
  }, [(_vm.dlgView.salesConfForPcSalary) ? _c('i-form', {
    ref: "pcSalaryConf",
    staticClass: "myform",
    staticStyle: {
      "width": "420px"
    },
    attrs: {
      "model": _vm.salesSalaryConf,
      "rules": _vm.formRule.salesSalaryConf,
      "label-width": 100
    }
  }, [_c('form-item', {
    attrs: {
      "label": "销售额范围",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "placeholder": "范围最小值",
      "title": ""
    },
    model: {
      value: (_vm.salesSalaryConf.minCommission),
      callback: function($$v) {
        _vm.$set(_vm.salesSalaryConf, "minCommission", $$v)
      },
      expression: "salesSalaryConf.minCommission"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "big"
  }, [_vm._v("≤")]), _vm._v(" 销售额 "), _c('b', {
    staticClass: "big red"
  }, [_vm._v("＜")]), _vm._v(" "), _c('input-num', {
    staticClass: "input-s",
    attrs: {
      "placeholder": "范围最大值",
      "title": ""
    },
    model: {
      value: (_vm.salesSalaryConf.maxCommission),
      callback: function($$v) {
        _vm.$set(_vm.salesSalaryConf, "maxCommission", $$v)
      },
      expression: "salesSalaryConf.maxCommission"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1), _vm._v(" "), (_vm.pcSalary.baseSalaryType === 2) ? _c('form-item', {
    attrs: {
      "label": "基本工资",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.salesSalaryConf.baseSalary),
      callback: function($$v) {
        _vm.$set(_vm.salesSalaryConf, "baseSalary", $$v)
      },
      expression: "salesSalaryConf.baseSalary"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "销售提成",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.salesSalaryConf.commissionVal),
      callback: function($$v) {
        _vm.$set(_vm.salesSalaryConf, "commissionVal", $$v)
      },
      expression: "salesSalaryConf.commissionVal"
    }
  }), _vm._v("  \n\t\t\t\t"), _c('radio-group', {
    model: {
      value: (_vm.salesSalaryConf.commissionType),
      callback: function($$v) {
        _vm.$set(_vm.salesSalaryConf, "commissionType", _vm._n($$v))
      },
      expression: "salesSalaryConf.commissionType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("%")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("元/单")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "备注"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 3
    },
    model: {
      value: (_vm.salesSalaryConf.remark),
      callback: function($$v) {
        _vm.$set(_vm.salesSalaryConf, "remark", $$v)
      },
      expression: "salesSalaryConf.remark"
    }
  })], 1)], 1) : _vm._e(), _vm._v(" "), (_vm.salaryConfEditable) ? _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "100px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.savSalesSalaryConf(2)
      }
    }
  }, [_vm._v("提交")])], 1) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "私教工资设置",
      "width": "550"
    },
    model: {
      value: (_vm.dlgView.pcSalaryConf),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "pcSalaryConf", $$v)
      },
      expression: "dlgView.pcSalaryConf"
    }
  }, [_c('i-form', {
    ref: "pcSalaryConf",
    staticClass: "myform",
    staticStyle: {
      "width": "420px"
    },
    attrs: {
      "model": _vm.pcSalaryConf,
      "rules": _vm.formRule.pcSalaryConf,
      "label-width": 100
    }
  }, [_c('form-item', {
    attrs: {
      "label": "销售额范围",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "placeholder": "范围最小值",
      "title": ""
    },
    model: {
      value: (_vm.pcSalaryConf.minCommission),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "minCommission", $$v)
      },
      expression: "pcSalaryConf.minCommission"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "big"
  }, [_vm._v("≤")]), _vm._v(" 销售额 "), _c('b', {
    staticClass: "big red"
  }, [_vm._v("＜")]), _vm._v(" "), _c('input-num', {
    staticClass: "input-s",
    attrs: {
      "placeholder": "范围最大值",
      "title": ""
    },
    model: {
      value: (_vm.pcSalaryConf.maxCommission),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "maxCommission", $$v)
      },
      expression: "pcSalaryConf.maxCommission"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "销售提成",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.pcSalaryConf.commissionVal),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "commissionVal", $$v)
      },
      expression: "pcSalaryConf.commissionVal"
    }
  }), _vm._v("  \n\t\t\t\t"), _c('radio-group', {
    model: {
      value: (_vm.pcSalaryConf.commissionType),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "commissionType", _vm._n($$v))
      },
      expression: "pcSalaryConf.commissionType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("%")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("元/单")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "基本工资"
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.pcSalaryConf.baseSalary),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "baseSalary", $$v)
      },
      expression: "pcSalaryConf.baseSalary"
    }
  }), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "课时费",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.pcSalaryConf.lessonFeeVal),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "lessonFeeVal", $$v)
      },
      expression: "pcSalaryConf.lessonFeeVal"
    }
  }), _vm._v("\n\t\t\t\t \n\t\t\t\t"), _c('radio-group', {
    model: {
      value: (_vm.pcSalaryConf.lessonFeeType),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "lessonFeeType", $$v)
      },
      expression: "pcSalaryConf.lessonFeeType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("%")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("元")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "备注"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 3
    },
    model: {
      value: (_vm.pcSalaryConf.remark),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "remark", $$v)
      },
      expression: "pcSalaryConf.remark"
    }
  })], 1)], 1), _vm._v(" "), (_vm.salaryConfEditable) ? _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "100px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.onSavePcSalaryConf()
      }
    }
  }, [_vm._v("提交")])], 1) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "私教课时费提成设置",
      "width": "550"
    },
    model: {
      value: (_vm.dlgView.lessonConfForPcSalary),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "lessonConfForPcSalary", $$v)
      },
      expression: "dlgView.lessonConfForPcSalary"
    }
  }, [_c('i-form', {
    ref: "pcSalaryConf",
    staticClass: "myform",
    staticStyle: {
      "width": "420px"
    },
    attrs: {
      "model": _vm.pcSalaryConf,
      "rules": _vm.formRule.pcSalaryConf,
      "label-width": 100
    }
  }, [(_vm.pcSalary.confType === 2) ? _c('form-item', {
    attrs: {
      "label": "上课次数范围",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "placeholder": "范围最小值"
    },
    model: {
      value: (_vm.pcSalaryConf.minVal),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "minVal", $$v)
      },
      expression: "pcSalaryConf.minVal"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "big"
  }, [_vm._v("≤")]), _vm._v(" 上课次数 "), _c('b', {
    staticClass: "big red"
  }, [_vm._v("＜")]), _vm._v(" "), _c('input-num', {
    staticClass: "input-s",
    attrs: {
      "placeholder": "范围最大值"
    },
    model: {
      value: (_vm.pcSalaryConf.maxVal),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "maxVal", $$v)
      },
      expression: "pcSalaryConf.maxVal"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次")])], 1) : (_vm.pcSalary.confType === 3) ? _c('form-item', {
    attrs: {
      "label": "上课费用范围",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "placeholder": "范围最小值"
    },
    model: {
      value: (_vm.pcSalaryConf.minVal),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "minVal", $$v)
      },
      expression: "pcSalaryConf.minVal"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "big"
  }, [_vm._v("≤")]), _vm._v(" 上课费用 "), _c('b', {
    staticClass: "big red"
  }, [_vm._v("＜")]), _vm._v(" "), _c('input-num', {
    staticClass: "input-s",
    attrs: {
      "placeholder": "范围最大值"
    },
    model: {
      value: (_vm.pcSalaryConf.maxVal),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "maxVal", $$v)
      },
      expression: "pcSalaryConf.maxVal"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1) : (_vm.pcSalary.confType === 4) ? _c('form-item', {
    attrs: {
      "label": "教练平均得分",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "placeholder": "范围最小值"
    },
    model: {
      value: (_vm.pcSalaryConf.minVal),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "minVal", $$v)
      },
      expression: "pcSalaryConf.minVal"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "big"
  }, [_vm._v("≤")]), _vm._v(" 平均得分 "), _c('b', {
    staticClass: "big red"
  }, [_vm._v("＜")]), _vm._v(" "), _c('input-num', {
    staticClass: "input-s",
    attrs: {
      "placeholder": "范围最大值"
    },
    model: {
      value: (_vm.pcSalaryConf.maxVal),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "maxVal", $$v)
      },
      expression: "pcSalaryConf.maxVal"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("分")])], 1) : _vm._e(), _vm._v(" "), (_vm.pcSalary.baseSalaryType === 3) ? _c('form-item', {
    attrs: {
      "label": "基本工资",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.pcSalaryConf.baseSalary),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "baseSalary", $$v)
      },
      expression: "pcSalaryConf.baseSalary"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "课时费",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.pcSalaryConf.lessonFeeVal),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "lessonFeeVal", $$v)
      },
      expression: "pcSalaryConf.lessonFeeVal"
    }
  }), _vm._v("\n\t\t\t\t \n\t\t\t\t"), _c('radio-group', {
    model: {
      value: (_vm.pcSalaryConf.lessonFeeType),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "lessonFeeType", $$v)
      },
      expression: "pcSalaryConf.lessonFeeType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("%")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("元")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "备注"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 3
    },
    model: {
      value: (_vm.pcSalaryConf.remark),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryConf, "remark", $$v)
      },
      expression: "pcSalaryConf.remark"
    }
  })], 1)], 1), _vm._v(" "), (_vm.salaryConfEditable) ? _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "100px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.onSavePcSalaryLessonConf()
      }
    }
  }, [_vm._v("提交")])], 1) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "私教课时费奖励设置",
      "width": "550"
    },
    model: {
      value: (_vm.dlgView.pcSalaryRewardConf),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "pcSalaryRewardConf", $$v)
      },
      expression: "dlgView.pcSalaryRewardConf"
    }
  }, [_c('i-form', {
    ref: "pcSalaryConf",
    staticClass: "myform",
    staticStyle: {
      "width": "420px"
    },
    attrs: {
      "model": _vm.pcSalaryRewardConf,
      "rules": _vm.formRule.pcSalaryRewardConf,
      "label-width": 100
    }
  }, [_c('form-item', {
    attrs: {
      "label": "销售额范围",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "placeholder": "范围最小值",
      "title": ""
    },
    model: {
      value: (_vm.pcSalaryRewardConf.minCommission),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryRewardConf, "minCommission", $$v)
      },
      expression: "pcSalaryRewardConf.minCommission"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "big"
  }, [_vm._v("≤")]), _vm._v(" 销售额 "), _c('b', {
    staticClass: "big red"
  }, [_vm._v("＜")]), _vm._v(" "), _c('input-num', {
    staticClass: "input-s",
    attrs: {
      "placeholder": "范围最大值",
      "title": ""
    },
    model: {
      value: (_vm.pcSalaryRewardConf.maxCommission),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryRewardConf, "maxCommission", $$v)
      },
      expression: "pcSalaryRewardConf.maxCommission"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "课时费奖励",
      "required": ""
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "title": ""
    },
    model: {
      value: (_vm.pcSalaryRewardConf.lessonFeeVal),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryRewardConf, "lessonFeeVal", $$v)
      },
      expression: "pcSalaryRewardConf.lessonFeeVal"
    }
  }), _vm._v("\n\t\t\t\t \n\t\t\t\t"), _c('radio-group', {
    model: {
      value: (_vm.pcSalaryRewardConf.lessonFeeType),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryRewardConf, "lessonFeeType", $$v)
      },
      expression: "pcSalaryRewardConf.lessonFeeType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("%")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("元/节")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "备注"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 3
    },
    model: {
      value: (_vm.pcSalaryRewardConf.remark),
      callback: function($$v) {
        _vm.$set(_vm.pcSalaryRewardConf, "remark", $$v)
      },
      expression: "pcSalaryRewardConf.remark"
    }
  })], 1)], 1), _vm._v(" "), (_vm.salaryConfEditable) ? _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "100px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.savSalesSalaryRewardConf()
      }
    }
  }, [_vm._v("提交")])], 1) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "工资计算模板设置",
      "width": "700"
    },
    model: {
      value: (_vm.dlgView.salaryTmptList),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "salaryTmptList", $$v)
      },
      expression: "dlgView.salaryTmptList"
    }
  }, [(_vm.salaryConfEditable) ? _c('div', {
    staticClass: "tbl-header"
  }, [_c('i-button', {
    attrs: {
      "type": "primary",
      "icon": "md-add"
    },
    on: {
      "click": _vm.openNewSalaryTmptDlg
    }
  }, [_vm._v("添加模板")])], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', [_vm._v("模板名称")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("员工角色")]), _vm._v(" "), _c('th', {
    attrs: {
      "idth": "150"
    }
  }, [_vm._v("更新时间")]), _vm._v(" "), (_vm.salaryConfEditable) ? _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("操作")]) : _vm._e()]), _vm._v(" "), _vm._l((_vm.salaryTemplateList), function(t, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(t.tmptName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(t.salaryType ? '私教' : '销售'))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(t.updateTime))]), _vm._v(" "), (_vm.salaryConfEditable) ? _c('td', [_c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openSalaryTmptDlg(idx)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.deleteSalaryTemplate(idx)
        }
      }
    }, [_vm._v("删除")])])])]) : _vm._e()])
  })], 2)]), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlgView.salaryTmptList = false
      }
    }
  }, [_vm._v("关闭")])], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "工资计算模板",
      "width": "500"
    },
    model: {
      value: (_vm.dlgView.salaryTmpt),
      callback: function($$v) {
        _vm.$set(_vm.dlgView, "salaryTmpt", $$v)
      },
      expression: "dlgView.salaryTmpt"
    }
  }, [_c('table', {
    staticClass: "tblform"
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("模板名称：")]), _vm._v(" "), _c('td', {
    attrs: {
      "width": "300"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text"
    },
    model: {
      value: (_vm.salaryTmpt.tmptName),
      callback: function($$v) {
        _vm.$set(_vm.salaryTmpt, "tmptName", $$v)
      },
      expression: "salaryTmpt.tmptName"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("员工角色：")]), _vm._v(" "), _c('td', [_c('RadioGroup', {
    model: {
      value: (_vm.salaryTmpt.salaryType),
      callback: function($$v) {
        _vm.$set(_vm.salaryTmpt, "salaryType", $$v)
      },
      expression: "salaryTmpt.salaryType"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("销售")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("私教")])], 1)], 1)])]), _vm._v(" "), _c('div', {
    staticClass: "form-submit center",
    staticStyle: {
      "margin-top": "-20px"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveSalaryTemplate
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlgView.salaryTmpt = false
      }
    }
  }, [_vm._v("关闭")])], 1)])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('td', [_c('div', {
    staticClass: "orange"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 仅店长有权限编辑")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "tit"
  }, [_vm._v("销售工资设置\n\t\t\t\t\t"), _c('span', {
    staticStyle: {
      "font-weight": "normal",
      "font-size": "12px",
      "margin-left": "25px"
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("（ 适用于非私教的销售工资设置 ）")])])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "40"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "220"
    }
  }, [_vm._v("销售额范围 (元)")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("销售提成")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("基本工资")]), _vm._v(" "), _c('th', [_vm._v("备注")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("操作")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "40"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "220"
    }
  }, [_vm._v("销售额范围（元）")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("销售提成")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("基本工资")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("课时费")]), _vm._v(" "), _c('th', [_vm._v("备注")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("操作")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "40"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "220"
    }
  }, [_vm._v("销售额范围（元）")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("课时费奖励")]), _vm._v(" "), _c('th', [_vm._v("备注")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("操作")])])
}]}

/***/ }),

/***/ 2476:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "staff"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "staff",
      "page": "staff-sales-target"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('Tabs', {
    attrs: {
      "animated": false
    }
  }, [_c('TabPane', {
    attrs: {
      "label": "销售目标设置"
    }
  }, [_c('div', {
    staticClass: "goal"
  }, [_c('section', {
    staticClass: "shop-setting"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("时间设置")])]), _vm._v(" "), _c('div', {
    staticClass: "sec-item"
  }, [_c('span', [_vm._v("销售目标时间设置")]), _vm._v(" "), _c('Date-picker', {
    attrs: {
      "type": "month",
      "placeholder": "请选择年月",
      "clearable": false
    },
    on: {
      "on-change": _vm.dateChange
    },
    model: {
      value: (_vm.queryDate),
      callback: function($$v) {
        _vm.queryDate = $$v
      },
      expression: "queryDate"
    }
  })], 1)]), _vm._v(" "), _c('section', {
    staticClass: "shop-setting"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("场馆目标设置")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.editable) ? _c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.saveSalesTarget(0)
      }
    }
  }, [_vm._v("保存")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "sec-box"
  }, [_c('div', {
    staticClass: "sec-item"
  }, [_c('span', [_vm._v(_vm._s(_vm.shopName))]), _vm._v(" "), _c('input-num', {
    attrs: {
      "min": 0,
      "disabled": !_vm.editable,
      "placeholder": "请输入销售目标"
    },
    model: {
      value: (_vm.shopTarget),
      callback: function($$v) {
        _vm.shopTarget = _vm._n($$v)
      },
      expression: "shopTarget"
    }
  })], 1)])]), _vm._v(" "), _c('section', {
    staticClass: "conf"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("部门目标设置")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.editable) ? _c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.saveSalesTarget(1)
      }
    }
  }, [_vm._v("保存")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "sec-box"
  }, _vm._l((_vm.deptTargetList), function(item, idx) {
    return _c('div', {
      key: idx,
      staticClass: "sec-item"
    }, [_c('span', {
      attrs: {
        "title": item.deptName
      }
    }, [_vm._v(_vm._s(item.deptName))]), _vm._v(" "), _c('input-num', {
      attrs: {
        "min": 0,
        "disabled": !_vm.editable,
        "placeholder": "请输入销售目标"
      },
      model: {
        value: (item.target),
        callback: function($$v) {
          _vm.$set(item, "target", _vm._n($$v))
        },
        expression: "item.target"
      }
    })], 1)
  }), 0)]), _vm._v(" "), _c('section', {
    staticClass: "conf"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("销售目标任务")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.editable) ? _c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.saveSalesTarget(2)
      }
    }
  }, [_vm._v("保存")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "sec-box"
  }, _vm._l((_vm.staffTargetList), function(item, idx) {
    return _c('div', {
      key: idx,
      staticClass: "sec-item"
    }, [_c('span', {
      attrs: {
        "title": item.name
      }
    }, [_vm._v(_vm._s(item.name))]), _vm._v(" "), _c('input-num', {
      attrs: {
        "min": 0,
        "disabled": !_vm.editable,
        "placeholder": "请输入销售目标"
      },
      model: {
        value: (item.target),
        callback: function($$v) {
          _vm.$set(item, "target", _vm._n($$v))
        },
        expression: "item.target"
      }
    })], 1)
  }), 0)])])]), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "消息提醒设置"
    }
  }, [_c('div', {
    staticClass: "settings"
  }, [_c('section', [_c('ol', [_c('li', [_vm._v("\n                低于当月目标\n                "), (_vm.editable) ? _c('input-int', {
    model: {
      value: (_vm.messageConf.targetPercent),
      callback: function($$v) {
        _vm.$set(_vm.messageConf, "targetPercent", _vm._n($$v))
      },
      expression: "messageConf.targetPercent"
    }
  }) : _c('b', [_vm._v(_vm._s(_vm.messageConf.targetPercent))]), _vm._v(" "), _c('span', {
    staticClass: "red"
  }, [_vm._v("%")]), _vm._v("\n                ，需要发送通知\n              ")], 1), _vm._v(" "), _c('li', [_c('span', {
    staticClass: "tit"
  }, [_vm._v("通知形式选择")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.messageConf.isSmsNotice),
      callback: function($$v) {
        _vm.$set(_vm.messageConf, "isSmsNotice", $$v)
      },
      expression: "messageConf.isSmsNotice"
    }
  }, [_vm._v("短信通知")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.messageConf.isWxNotice),
      callback: function($$v) {
        _vm.$set(_vm.messageConf, "isWxNotice", $$v)
      },
      expression: "messageConf.isWxNotice"
    }
  }, [_vm._v("微信通知")])], 1), _vm._v(" "), _c('li', [_vm._v("\n                每月发送通知的日期"), _c('span', {
    staticClass: "tips"
  }, [_vm._v("（可设置3个日期，例如：30）")]), _vm._v(" "), (_vm.editable) ? _c('input-int', {
    model: {
      value: (_vm.messageConf.sendDaysArr[0]),
      callback: function($$v) {
        _vm.$set(_vm.messageConf.sendDaysArr, 0, _vm._n($$v))
      },
      expression: "messageConf.sendDaysArr[0]"
    }
  }) : _c('b', [_vm._v(_vm._s(_vm.messageConf.sendDaysArr[0] + "、"))]), _vm._v(" "), (_vm.editable) ? _c('input-int', {
    model: {
      value: (_vm.messageConf.sendDaysArr[1]),
      callback: function($$v) {
        _vm.$set(_vm.messageConf.sendDaysArr, 1, _vm._n($$v))
      },
      expression: "messageConf.sendDaysArr[1]"
    }
  }) : _c('b', [_vm._v(_vm._s(_vm.messageConf.sendDaysArr[1] + "、"))]), _vm._v(" "), (_vm.editable) ? _c('input-int', {
    model: {
      value: (_vm.messageConf.sendDaysArr[2]),
      callback: function($$v) {
        _vm.$set(_vm.messageConf.sendDaysArr, 2, _vm._n($$v))
      },
      expression: "messageConf.sendDaysArr[2]"
    }
  }) : _c('b', [_vm._v(_vm._s(_vm.messageConf.sendDaysArr[2]))])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "remark"
  }, [_c('b', [_vm._v("备注：")]), _vm._v("在上述日期实时检查，对低于销售目标的销售人员发送通知提醒\n            ")]), _vm._v(" "), (_vm.editable) ? _c('i-button', {
    staticStyle: {
      "margin": "20px 0 5px 0",
      "width": "120px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveSettings
    }
  }, [_vm._v("保存")]) : _vm._e()], 1)])])], 1)], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2489:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "staff"
    }
  }), _vm._v(" "), (!_vm.staff.staffId) ? _c('sys-header', {
    attrs: {
      "menu": "staff",
      "page": "staff-create"
    }
  }) : _c('sys-header', {
    attrs: {
      "menu": "staff",
      "page": "staff-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [(_vm.staffId) ? _c('page-header', {
    attrs: {
      "title": _vm.staff.name,
      "menu-list": _vm.menuList
    }
  }) : _vm._e(), _vm._v(" "), _c('section', [_c('i-form', {
    ref: "staff",
    staticClass: "myform",
    attrs: {
      "model": _vm.staff,
      "rules": _vm.formRule.staff,
      "label-width": 100
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "name",
      "label": "名称"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "可填员工真实姓名或昵称",
      "disabled": !_vm.staffEditable
    },
    model: {
      value: (_vm.staff.name),
      callback: function($$v) {
        _vm.$set(_vm.staff, "name", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "staff.name"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "phoneNo",
      "label": "手机号"
    }
  }, [(_vm.staff.staffId) ? [_c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.staff.phoneNo))]), _vm._v(" "), (!_vm.staff.isTenantOwner || (_vm.staff.isTenantOwner && _vm.staff.uid === _vm.g.data.user.uid)) ? [(_vm.g.data.user.isShopOwner) ? _c('span', {
    staticStyle: {
      "margin-left": "20px"
    }
  }, [_c('i-button', {
    attrs: {
      "size": "small"
    },
    on: {
      "click": function($event) {
        return _vm.openUpdateStaffPhoneDlg()
      }
    }
  }, [_vm._v("更改手机号")])], 1) : _c('span', {
    staticClass: "tips"
  }, [_vm._v("（更新手机号码需店长权限）")])] : _vm._e()] : [_c('i-input', {
    staticClass: "input-s",
    attrs: {
      "type": "text",
      "placeholder": "用于系统登录"
    },
    model: {
      value: (_vm.staff.phoneNo),
      callback: function($$v) {
        _vm.$set(_vm.staff, "phoneNo", _vm._n($$v))
      },
      expression: "staff.phoneNo"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "bigfont"
  }, [_vm._v("  " + _vm._s(_vm.g.Util.formatPhone(_vm.staff.phoneNo)))])]], 2), _vm._v(" "), (_vm.staff && _vm.staff.status) ? _c('form-item', {
    attrs: {
      "label": "员工状态"
    }
  }, [_c('b', [_vm._v(_vm._s(_vm.g.Dict.StaffStatus[_vm.staff.status]))])]) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sex",
      "label": "性别"
    }
  }, [_c('radio-group', {
    attrs: {
      "disabled": !_vm.staffEditable
    },
    model: {
      value: (_vm.staff.sex),
      callback: function($$v) {
        _vm.$set(_vm.staff, "sex", $$v)
      },
      expression: "staff.sex"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("男")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("女")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "员工照"
    }
  }, [(_vm.staffEditable || !_vm.photo.imgUrl) ? _c('i-button', {
    on: {
      "click": function($event) {
        _vm.photo.photoDlgView = true
      }
    }
  }, [_vm._v("上传员工照")]) : _vm._e(), _vm._v(" "), (_vm.staffEditable && _vm.photo.imgUrl) ? _c('span', {
    staticClass: "l5",
    on: {
      "click": function($event) {
        return _vm.delStaffAvatar(1)
      }
    }
  }, [_c('i-button', {
    attrs: {
      "type": "dashed"
    }
  }, [_vm._v("删除")])], 1) : _vm._e(), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("（用于员工对内和对外展示用）")]), _vm._v(" "), (_vm.photo.imgUrl) ? _c('div', {
    staticClass: "staff-photo"
  }, [_c('img', {
    attrs: {
      "src": _vm.photo.imgUrl
    }
  })]) : _vm._e()], 1), _vm._v(" "), (_vm.enableFaceReg) ? _c('form-item', {
    attrs: {
      "label": "人脸照"
    }
  }, [(_vm.staffEditable || !_vm.face.imgUrl) ? _c('i-button', {
    on: {
      "click": function($event) {
        _vm.face.photoDlgView = true
      }
    }
  }, [_vm._v("上传人脸照")]) : _vm._e(), _vm._v(" "), (_vm.staffEditable && _vm.face.imgUrl) ? _c('span', {
    staticClass: "l5",
    on: {
      "click": function($event) {
        return _vm.delStaffAvatar(2)
      }
    }
  }, [_c('i-button', {
    attrs: {
      "type": "dashed"
    }
  }, [_vm._v("删除")])], 1) : _vm._e(), _vm._v(" "), _c('span', {
    staticClass: "l5 orange"
  }, [_vm._v("（仅用于人脸识别设备，请上传员工真实人脸照片）")]), _vm._v(" "), (_vm.face.imgUrl) ? _c('div', {
    staticClass: "staff-photo"
  }, [_c('img', {
    attrs: {
      "src": _vm.face.imgUrl
    }
  })]) : _vm._e()], 1) : _vm._e(), _vm._v(" "), (_vm.g.data.user.isTenantOwner) ? _c('form-item', {
    attrs: {
      "prop": "isShopOwner",
      "label": "是否店长"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": !_vm.staffEditable
    },
    model: {
      value: (_vm.staff.isShopOwner),
      callback: function($$v) {
        _vm.$set(_vm.staff, "isShopOwner", $$v)
      },
      expression: "staff.isShopOwner"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('span', {
    staticClass: "orange l10"
  }, [_vm._v(" "), _c('i', {
    staticClass: "iconfont icon-alert bigger"
  }), _vm._v(" 店长拥有系统所有权限；一个门店可设置多个店长")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "roleList",
      "label": "员工角色"
    }
  }, [_c('checkbox-group', {
    staticStyle: {
      "display": "inline"
    },
    on: {
      "on-change": _vm.changeRole
    },
    model: {
      value: (_vm.staffRoleList),
      callback: function($$v) {
        _vm.staffRoleList = $$v
      },
      expression: "staffRoleList"
    }
  }, _vm._l((_vm.roles), function(r, k) {
    return _c('checkbox', {
      key: k,
      attrs: {
        "label": r.roleId
      }
    }, [_vm._v(_vm._s(r.roleName))])
  }), 1)], 1), _vm._v(" "), (_vm.staff.isCoach) ? _c('i-form', {
    ref: "coach",
    staticClass: "myform",
    attrs: {
      "model": _vm.coach,
      "rules": _vm.formRule.coach,
      "label-width": 100
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "types",
      "label": "教练类别",
      "disabled": !_vm.staffEditable
    }
  }, [_c('checkbox', {
    model: {
      value: (_vm.coach.isGroupCoach),
      callback: function($$v) {
        _vm.$set(_vm.coach, "isGroupCoach", $$v)
      },
      expression: "coach.isGroupCoach"
    }
  }, [_vm._v("团课教练")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.coach.isPrivateCoach),
      callback: function($$v) {
        _vm.$set(_vm.coach, "isPrivateCoach", $$v)
      },
      expression: "coach.isPrivateCoach"
    }
  }, [_vm._v("私教课教练")])], 1), _vm._v(" "), (_vm.coachTypeList && _vm.coachTypeList.length) ? _c('form-item', {
    attrs: {
      "prop": "ctypes",
      "label": "教练类型",
      "disabled": !_vm.staffEditable
    }
  }, [_c('checkbox-group', {
    staticStyle: {
      "display": "inline"
    },
    model: {
      value: (_vm.coachTypeIdList),
      callback: function($$v) {
        _vm.coachTypeIdList = $$v
      },
      expression: "coachTypeIdList"
    }
  }, _vm._l((_vm.coachTypeList), function(c, k) {
    return _c('checkbox', {
      key: k,
      attrs: {
        "label": c.ctId
      }
    }, [_vm._v(_vm._s(c.typeName))])
  }), 1)], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "isPublic",
      "label": "公开教练信息"
    }
  }, [_c('checkbox', {
    attrs: {
      "disabled": !_vm.staffEditable
    },
    model: {
      value: (_vm.coach.isPublic),
      callback: function($$v) {
        _vm.$set(_vm.coach, "isPublic", $$v)
      },
      expression: "coach.isPublic"
    }
  }, [_vm._v("公开")]), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("（如果勾选，教练信息将显示在微官网；否则不显示）")]), _vm._v(" "), (_vm.staff.isCoach && _vm.coach.isPublic) ? _c('div', [_c('checkbox', {
    attrs: {
      "disabled": !_vm.staffEditable
    },
    model: {
      value: (_vm.coach.isShowPhoneInMsite),
      callback: function($$v) {
        _vm.$set(_vm.coach, "isShowPhoneInMsite", $$v)
      },
      expression: "coach.isShowPhoneInMsite"
    }
  }, [_vm._v("显示教练手机号")])], 1) : _vm._e()], 1)], 1) : _vm._e(), _vm._v(" "), (_vm.g.data.user.isShopOwner || (_vm.subStaffIdList && _vm.subStaffIdList.length)) ? _c('form-item', {
    attrs: {
      "prop": "subStaffIdList",
      "label": "下属员工"
    }
  }, [_c('i-select', {
    attrs: {
      "multiple": "",
      "filterable": "",
      "disabled": !_vm.g.data.user.isShopOwner
    },
    model: {
      value: (_vm.subStaffIdList),
      callback: function($$v) {
        _vm.subStaffIdList = $$v
      },
      expression: "subStaffIdList"
    }
  }, _vm._l((_vm.dict.staffList), function(s) {
    return (s.staffId != _vm.staffId) ? _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))]) : _vm._e()
  }), 1)], 1) : _vm._e(), _vm._v(" "), (_vm.g.data.user.isShopOwner) ? _c('form-item', {
    attrs: {
      "prop": "baseSalary",
      "label": "基本工资"
    }
  }, [_c('input-num', {
    staticClass: "input-s",
    attrs: {
      "title": "",
      "disabled": !_vm.staffEditable
    },
    model: {
      value: (_vm.staff.baseSalary),
      callback: function($$v) {
        _vm.$set(_vm.staff, "baseSalary", $$v)
      },
      expression: "staff.baseSalary"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")]), _vm._v(" "), _c('span', {
    staticClass: "tips l15"
  }, [_c('i', {
    staticClass: "iconfont icon-alert bigger orange"
  }), _vm._v(" 仅店长有权限查看和修改\n          ")]), _vm._v(" "), _c('help', {
    staticClass: "l10",
    attrs: {
      "title": "提示"
    }
  }, [_vm._v("\n            也称之为底薪，主要用于计算销售和教练的工资。"), _c('p'), _vm._v("如果设置了该员工的基本工资，系统将使用此处的基本工资计算；\n            否则，使用【工资设置】中的基本工资。\n          ")])], 1) : _vm._e(), _vm._v(" "), (_vm.g.data.user.isShopOwner) ? _c('form-item', {
    attrs: {
      "prop": "salaryTmpt",
      "label": "工资计算模板"
    }
  }, [_c('i-select', {
    model: {
      value: (_vm.staff.salaryTmptId),
      callback: function($$v) {
        _vm.$set(_vm.staff, "salaryTmptId", $$v)
      },
      expression: "staff.salaryTmptId"
    }
  }, [_c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_vm._v("默认")]), _vm._v(" "), _vm._l((_vm.salaryTemplateList), function(t) {
    return _c('i-option', {
      key: t.tmptId,
      attrs: {
        "value": t.tmptId
      }
    }, [_vm._v(_vm._s(t.tmptName))])
  })], 2)], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "birthday",
      "label": "生日"
    }
  }, [_c('DatePicker', {
    staticClass: "input-s",
    attrs: {
      "type": "date",
      "format": "yyyy-MM-dd",
      "placeholder": ""
    },
    model: {
      value: (_vm.staff.birthday),
      callback: function($$v) {
        _vm.$set(_vm.staff, "birthday", $$v)
      },
      expression: "staff.birthday"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "joinDate",
      "label": "入职时间"
    }
  }, [_c('DatePicker', {
    staticClass: "input-s",
    attrs: {
      "type": "date",
      "format": "yyyy-MM-dd",
      "placeholder": ""
    },
    model: {
      value: (_vm.staff.joinDate),
      callback: function($$v) {
        _vm.$set(_vm.staff, "joinDate", $$v)
      },
      expression: "staff.joinDate"
    }
  })], 1), _vm._v(" "), (_vm.departmentList && _vm.departmentList.length) ? _c('form-item', {
    attrs: {
      "prop": "staffDeptIdList",
      "label": "所属部门"
    }
  }, [_c('i-select', {
    attrs: {
      "multiple": "",
      "filterable": "",
      "disabled": !_vm.staffEditable
    },
    model: {
      value: (_vm.staffDeptIdList),
      callback: function($$v) {
        _vm.staffDeptIdList = $$v
      },
      expression: "staffDeptIdList"
    }
  }, _vm._l((_vm.departmentList), function(d) {
    return _c('i-option', {
      key: d.sdId,
      attrs: {
        "value": d.sdId
      }
    }, [_vm._v(_vm._s(d.deptName))])
  }), 1)], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "orderNo",
      "label": "展示序号"
    }
  }, [_c('input-int', {
    staticClass: "input-s",
    model: {
      value: (_vm.staff.orderNo),
      callback: function($$v) {
        _vm.$set(_vm.staff, "orderNo", $$v)
      },
      expression: "staff.orderNo"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("（数字越小，展示越靠前）")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "isHidePhone",
      "label": "是否隐藏手机号"
    }
  }, [_c('checkbox', {
    attrs: {
      "disabled": !_vm.staffEditable
    },
    model: {
      value: (_vm.staff.isHidePhone),
      callback: function($$v) {
        _vm.$set(_vm.staff, "isHidePhone", $$v)
      },
      expression: "staff.isHidePhone"
    }
  }, [_vm._v("在员工列表中隐藏")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "intro",
      "label": "简介"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 10,
      "disabled": !_vm.staffEditable
    },
    model: {
      value: (_vm.staff.intro),
      callback: function($$v) {
        _vm.$set(_vm.staff, "intro", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "staff.intro"
    }
  })], 1)], 1), _vm._v(" "), _c('i-form', {
    staticClass: "myform",
    attrs: {
      "label-width": 100
    }
  }, [(_vm.staff.createTime) ? _c('form-item', {
    staticClass: "low-margin",
    attrs: {
      "prop": "createTime",
      "label": "创建人/时间"
    }
  }, [_vm._v("\n          " + _vm._s(_vm.staff.createUname) + " / " + _vm._s(_vm.staff.createTime) + "\n        ")]) : _vm._e(), _vm._v(" "), (_vm.staff.updateTime) ? _c('form-item', {
    attrs: {
      "prop": "createTime",
      "label": "更新人/时间"
    }
  }, [_vm._v("\n          " + _vm._s(_vm.staff.updateUname) + " / " + _vm._s(_vm.staff.updateTime) + "\n        ")]) : _vm._e()], 1), _vm._v(" "), (_vm.staffEditable) ? _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "100px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.onClickSubmitBtn()
      }
    }
  }, [_vm._v("提交")])], 1) : _vm._e()], 1)], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "请输入员工新手机号",
      "width": "500"
    },
    model: {
      value: (_vm.updateStaffPhoneView),
      callback: function($$v) {
        _vm.updateStaffPhoneView = $$v
      },
      expression: "updateStaffPhoneView"
    }
  }, [_c('table', {
    staticStyle: {
      "margin-top": "10px"
    }
  }, [_c('tr', [_c('td', [_c('input-int', {
    staticStyle: {
      "font-size": "16px",
      "font-weight": "bold",
      "width": "200px"
    },
    attrs: {
      "min": "0",
      "title": ""
    },
    model: {
      value: (_vm.newPhoneNo),
      callback: function($$v) {
        _vm.newPhoneNo = $$v
      },
      expression: "newPhoneNo"
    }
  })], 1), _vm._v(" "), _c('td', {
    attrs: {
      "valign": "middle"
    }
  }, [_vm._v("  "), _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.updateStaffPhone
    }
  }, [_vm._v("更新")])], 1)])]), _vm._v(" "), (_vm.updateStaffPhoneErr) ? _c('div', {
    staticClass: "warning",
    staticStyle: {
      "margin-top": "10px"
    }
  }, [_vm._v(_vm._s(_vm.updateStaffPhoneErr))]) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "上传员工头像照",
      "width": "700",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.photo.photoDlgView),
      callback: function($$v) {
        _vm.$set(_vm.photo, "photoDlgView", $$v)
      },
      expression: "photo.photoDlgView"
    }
  }, [(_vm.photo.photoDlgView) ? _c('staff-avatar-conf', {
    attrs: {
      "staff-id": _vm.photo.staffId,
      "photo-type": 0,
      "after-upload": _vm.afterUploadStaffAvatar
    }
  }) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "上传员工人脸照",
      "width": "700",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.face.photoDlgView),
      callback: function($$v) {
        _vm.$set(_vm.face, "photoDlgView", $$v)
      },
      expression: "face.photoDlgView"
    }
  }, [(_vm.face.photoDlgView) ? _c('staff-avatar-conf', {
    attrs: {
      "staff-id": _vm.face.staffId,
      "photo-type": 1,
      "after-upload": _vm.afterUploadStaffFace
    }
  }) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2516:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "staff"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "staff",
      "page": "staff-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -sc-"
  }, [_c('page-header', {
    attrs: {
      "title": _vm.staff.name,
      "menu-list": _vm.menuList
    }
  }, [(_vm.g.data.user.isShopOwner) ? _c('div', {
    staticClass: "more-staff-sel"
  }, [_vm._v("选择员工\n\t\t\t\t\t"), _c('select', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: (_vm.staffId),
      expression: "staffId"
    }],
    attrs: {
      "title": ""
    },
    on: {
      "change": [function($event) {
        var $$selectedVal = Array.prototype.filter.call($event.target.options, function(o) {
          return o.selected
        }).map(function(o) {
          var val = "_value" in o ? o._value : o.value;
          return val
        });
        _vm.staffId = $event.target.multiple ? $$selectedVal : $$selectedVal[0]
      }, _vm.changeStaff]
    }
  }, _vm._l((_vm.staffList), function(s) {
    return _c('option', {
      key: s.staffId,
      domProps: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 0)]) : _vm._e()]), _vm._v(" "), _c('Tabs', {
    attrs: {
      "animated": false
    }
  }, [(_vm.coach && _vm.coach.isPrivateCoach && _vm.g.data.shop.hasPrivateCourse) ? _c('TabPane', {
    attrs: {
      "label": "私教课上课记录"
    }
  }, [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('ul', {
    staticClass: "query"
  }, [_c('li', {
    staticClass: "item",
    staticStyle: {
      "margin-left": "0"
    }
  }, [_c('label', [_vm._v("状态")]), _vm._v(" "), _c('i-select', {
    staticClass: "status",
    attrs: {
      "size": "small"
    },
    model: {
      value: (_vm.privateLessonQuery.status),
      callback: function($$v) {
        _vm.$set(_vm.privateLessonQuery, "status", $$v)
      },
      expression: "privateLessonQuery.status"
    }
  }, _vm._l((_vm.g.Dict.PcLessonStatus), function(name, id) {
    return (parseInt(id) > 0) ? _c('i-option', {
      key: id,
      attrs: {
        "value": id
      }
    }, [_vm._v(_vm._s(name))]) : _vm._e()
  }), 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("上课日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "上课开始日期",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.privateLessonQuery.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.privateLessonQuery, "beginDate", $$v)
      },
      expression: "privateLessonQuery.beginDate"
    }
  }), _vm._v("\n\t\t\t\t\t\t\t\t\t\t-\n                    "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "上课结束日期",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.privateLessonQuery.endDate),
      callback: function($$v) {
        _vm.$set(_vm.privateLessonQuery, "endDate", $$v)
      },
      expression: "privateLessonQuery.endDate"
    }
  })], 1)]), _vm._v(" "), _c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.queryPrivateLesson(null)
      }
    }
  }, [_vm._v("查询")])], 1), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_vm._v("\n\t\t\t\t\t\t\t\t查询到 "), _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.privateLessonTotal))]), _vm._v(" 节课\n\t\t\t\t\t\t\t")])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', [_vm._v("课程名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("场地")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("预约人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "145"
    }
  }, [_vm._v("预约时间")]), _vm._v(" "), _c('th', [_vm._v("签到时间")])]), _vm._v(" "), _vm._l((_vm.privateLessonList), function(l, idx) {
    return _c('tr', [_c('td', [(l.isViceCoach) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("[代课] ")]) : _vm._e(), _c('a', {
      staticClass: "block",
      attrs: {
        "href": '#/private-lesson-edit/{0}/{1}'.format(l.lessonId, l.mplId)
      }
    }, [_vm._v(_vm._s(l.courseName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonDate))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonTimeDesc))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.PcLessonStatus[l.status]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.groundName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.memberName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t\t\t\t\t\t" + _vm._s(l.checkinTime) + "\n\t\t\t\t\t\t\t\t\t")])])
  })], 2)]), _vm._v(" "), (_vm.privateLessonTotal > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.privateLessonTotal,
      "page-size": 30
    },
    on: {
      "on-change": _vm.changePageNoForPrivateLesson
    }
  })], 1) : _vm._e(), _vm._v(" "), (!_vm.privateLessonTotal) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e()])]) : _vm._e(), _vm._v(" "), (_vm.coach && _vm.coach.isGroupCoach && _vm.g.data.shop.hasGroupCourse) ? _c('TabPane', {
    attrs: {
      "label": "团课上课记录"
    }
  }, [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('ul', {
    staticClass: "query"
  }, [_c('li', {
    staticClass: "item",
    staticStyle: {
      "margin-left": "0"
    }
  }, [_c('label', [_vm._v("状态")]), _vm._v(" "), _c('i-select', {
    staticClass: "status",
    attrs: {
      "size": "small"
    },
    model: {
      value: (_vm.groupLessonQuery.status),
      callback: function($$v) {
        _vm.$set(_vm.groupLessonQuery, "status", $$v)
      },
      expression: "groupLessonQuery.status"
    }
  }, _vm._l((_vm.g.Dict.LessonStatus), function(name, id) {
    return _c('i-option', {
      key: id,
      attrs: {
        "value": id
      }
    }, [_vm._v(_vm._s(name))])
  }), 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("上课日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "上课开始日期",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.groupLessonQuery.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.groupLessonQuery, "beginDate", $$v)
      },
      expression: "groupLessonQuery.beginDate"
    }
  }), _vm._v("\n\t\t\t\t\t\t\t\t\t\t-\n                    "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "上课结束日期",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.groupLessonQuery.endDate),
      callback: function($$v) {
        _vm.$set(_vm.groupLessonQuery, "endDate", $$v)
      },
      expression: "groupLessonQuery.endDate"
    }
  })], 1)]), _vm._v(" "), _c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.queryGroupLesson(null)
      }
    }
  }, [_vm._v("查询")])], 1), _vm._v(" "), (_vm.groupLessonTotal > 0) ? _c('div', {
    staticClass: "r"
  }, [_vm._v("\n\t\t\t\t\t\t\t\t查询到 "), _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.groupLessonTotal))]), _vm._v(" 节课 ，\n\t\t\t\t\t\t\t\t共计上课时长 "), _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(parseInt(_vm.sumOfLessonTimes / 60)))]), _vm._v(" 小时\n\t\t\t\t\t\t\t\t"), _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.sumOfLessonTimes % 60))]), _vm._v(" 分\n\t\t\t\t\t\t\t")]) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "220"
    }
  }, [_vm._v("课程名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("场地")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("预约人数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("签到人数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', [_vm._v("签到时间")])]), _vm._v(" "), _vm._l((_vm.groupLessonList), function(l, idx) {
    return _c('tr', [_c('td', [_c('a', {
      staticClass: "block",
      attrs: {
        "href": '#/group-lesson-edit/' + l.lessonId
      }
    }, [_vm._v(_vm._s(l.courseName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.groundName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonDate))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonTimeDesc))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.bookings))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.checkins))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.LessonStatus[l.status]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.checkinTime))])])
  })], 2)]), _vm._v(" "), (_vm.groupLessonTotal > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.groupLessonTotal,
      "page-size": 30
    },
    on: {
      "on-change": _vm.changePageNoForGroupLesson
    }
  })], 1) : _vm._e(), _vm._v(" "), (!_vm.groupLessonTotal) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e()])]) : _vm._e(), _vm._v(" "), (_vm.coach && _vm.coach.isGroupCoach && _vm.g.data.shop.hasGroupCourse) ? _c('TabPane', {
    attrs: {
      "label": "团课助教记录"
    }
  }, [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('ul', {
    staticClass: "query"
  }, [_c('li', {
    staticClass: "item",
    staticStyle: {
      "margin-left": "0"
    }
  }, [_c('label', [_vm._v("状态")]), _vm._v(" "), _c('i-select', {
    staticClass: "status",
    attrs: {
      "size": "small"
    },
    model: {
      value: (_vm.groupLessonQueryForViceCoach.status),
      callback: function($$v) {
        _vm.$set(_vm.groupLessonQueryForViceCoach, "status", $$v)
      },
      expression: "groupLessonQueryForViceCoach.status"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 0
    }
  }, [_vm._v("未结束")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 9
    }
  }, [_vm._v("已结束")])], 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("上课日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "上课开始日期",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.groupLessonQueryForViceCoach.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.groupLessonQueryForViceCoach, "beginDate", $$v)
      },
      expression: "groupLessonQueryForViceCoach.beginDate"
    }
  }), _vm._v("\n\t\t\t\t\t\t\t\t\t\t-\n                    "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "上课结束日期",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.groupLessonQueryForViceCoach.endDate),
      callback: function($$v) {
        _vm.$set(_vm.groupLessonQueryForViceCoach, "endDate", $$v)
      },
      expression: "groupLessonQueryForViceCoach.endDate"
    }
  })], 1)]), _vm._v(" "), _c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.queryGroupLessonForViceCoach(null)
      }
    }
  }, [_vm._v("查询")])], 1), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.groupLessonTotal > 0) ? _c('span', [_vm._v("查询到 "), _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.groupLessonTotalForViceCoach))]), _vm._v(" 节课")]) : _vm._e()])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "220"
    }
  }, [_vm._v("课程名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("场地")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("预约人数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("签到人数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', [_vm._v("签到时间")])]), _vm._v(" "), _vm._l((_vm.groupLessonListForViceCoach), function(l, idx) {
    return _c('tr', [_c('td', [_c('a', {
      staticClass: "block",
      attrs: {
        "href": '#/group-lesson-edit/' + l.lessonId
      }
    }, [_vm._v(_vm._s(l.courseName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.groundName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonDate))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonTimeDesc))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.bookings))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.checkins))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.LessonStatus[l.status]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.checkinTime))])])
  })], 2)]), _vm._v(" "), (_vm.groupLessonTotalForViceCoach > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.groupLessonTotalForViceCoach,
      "page-size": 30
    },
    on: {
      "on-change": _vm.queryGroupLessonForViceCoach
    }
  })], 1) : _vm._e(), _vm._v(" "), (!_vm.groupLessonTotalForViceCoach) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e()])]) : _vm._e()], 1)], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2526:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "staff"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "staff",
      "page": "coach-type"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("教练类型设置")]), _vm._v(" "), _c('div', {
    staticClass: "r small"
  }, [(_vm.editable) ? _c('i-button', {
    attrs: {
      "type": "primary",
      "icon": "md-add"
    },
    on: {
      "click": function($event) {
        return _vm.create()
      }
    }
  }, [_vm._v("添加教练类型")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.coachTypeList), function(cs, idx) {
    return _c('tr', [_c('td', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(cs.typeName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(cs.remark))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(cs.updateUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(cs.updateTime))]), _vm._v(" "), _c('td', [(_vm.editable) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.update(idx)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      attrs: {
        "title": "删除"
      },
      on: {
        "click": function($event) {
          return _vm.delCoachType(idx)
        }
      }
    }, [_c('i', {
      staticClass: "iconfont icon-delete normal"
    })])])]) : _vm._e()])])
  })], 2), _vm._v(" "), (_vm.coachTypeList && !_vm.coachTypeList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()])]), _vm._v(" "), _vm._m(1)]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "教练类型",
      "width": "450"
    },
    model: {
      value: (_vm.dlgShow),
      callback: function($$v) {
        _vm.dlgShow = $$v
      },
      expression: "dlgShow"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "教练类型",
      "maxlength": 50
    },
    model: {
      value: (_vm.coachType.typeName),
      callback: function($$v) {
        _vm.$set(_vm.coachType, "typeName", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "coachType.typeName"
    }
  }), _c('p'), _vm._v(" "), _c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 5,
      "maxlength": 200,
      "placeholder": "备注"
    },
    model: {
      value: (_vm.coachType.remark),
      callback: function($$v) {
        _vm.$set(_vm.coachType, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "coachType.remark"
    }
  }), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submit
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    attrs: {
      "type": "default"
    },
    on: {
      "click": function($event) {
        _vm.dlgShow = false;
      }
    }
  }, [_vm._v("取消")])], 1)], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "45"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("类型")]), _vm._v(" "), _c('th', [_vm._v("备注")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("更新人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("更新时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "p10",
    staticStyle: {
      "color": "#999"
    }
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v("  此处教练类型主要用于给会员分配教练时使用\n\t\t")])
}]}

/***/ }),

/***/ 2543:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "staff"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "staff",
      "page": "staff-query"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -sc-"
  }, [_c('page-header', {
    attrs: {
      "title": _vm.staff.name,
      "menu-list": _vm.menuList,
      "include-back": !_vm.g.data.user.isShopOwner
    }
  }, [(_vm.g.data.user.isShopOwner) ? _c('div', {
    staticClass: "more-staff-sel"
  }, [_vm._v("选择员工\n\t\t\t"), _c('select', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: (_vm.staffId),
      expression: "staffId"
    }],
    attrs: {
      "title": ""
    },
    on: {
      "change": [function($event) {
        var $$selectedVal = Array.prototype.filter.call($event.target.options, function(o) {
          return o.selected
        }).map(function(o) {
          var val = "_value" in o ? o._value : o.value;
          return val
        });
        _vm.staffId = $event.target.multiple ? $$selectedVal : $$selectedVal[0]
      }, _vm.changeStaff]
    }
  }, _vm._l((_vm.staffList), function(s) {
    return _c('option', {
      key: s.staffId,
      domProps: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 0)]) : _vm._e()]), _vm._v(" "), (_vm.permit) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员卡销售记录\n\t\t\t\t"), (_vm.mcpTotalCount > 0) ? _c('span', {
    staticClass: "query-count"
  }, [_c('span', {
    staticClass: "spt"
  }, [_vm._v("/")]), _vm._v("查询到"), _c('b', [_vm._v(_vm._s(_vm.mcpTotalCount))]), _vm._v("条记录，实收金额"), _c('b', [_vm._v("￥" + _vm._s(_vm.mcpPaymentAmountSum))]), _vm._v("元\n\t\t\t\t\t，销售业绩 "), _c('b', [_vm._v("￥" + _vm._s(_vm.sumSalesAmount))]), _vm._v("元\n\t\t\t\t")]) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('ul', {
    staticClass: "query"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "开始日期",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.mcpQuery.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.mcpQuery, "beginDate", $$v)
      },
      expression: "mcpQuery.beginDate"
    }
  }), _vm._v("\n\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t"), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "结束日期",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.mcpQuery.endDate),
      callback: function($$v) {
        _vm.$set(_vm.mcpQuery, "endDate", $$v)
      },
      expression: "mcpQuery.endDate"
    }
  })], 1)]), _vm._v(" "), _c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.queryMemberCardPayments(null)
      }
    }
  }, [_vm._v("查询")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.mcpList), function(m, idx) {
    return _c('tr', [_c('td', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.viewMember(m.memberId)
        }
      }
    }, [_vm._v(_vm._s(m.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardType[m.cardType]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardPaymentType[m.paymentType]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.data.shop.paymentChannel[m.paymentChannel]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.usableAmount))]), _vm._v(" "), _c('td', [(m.deposit) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(m.paymentAmount) + " + "), _c('span', {
      staticClass: "gray"
    }, [_vm._v("订金/")]), _vm._v(_vm._s(m.deposit) + "\n\t\t\t\t\t\t\t")] : [_vm._v(_vm._s(m.paymentAmount))]], 2), _vm._v(" "), _c('td', [(m.salesId) ? [_vm._v(_vm._s(m.paymentAmount))] : (m.salesConfList) ? _vm._l((m.salesConfList), function(sc) {
      return (sc.split(':')[0] == _vm.staffId) ? _c('div', [_vm._v(_vm._s(parseFloat(sc.split(':')[2])))]) : _vm._e()
    }) : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createUname))])])
  })], 2)]), _vm._v(" "), (_vm.mcpTotalCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.mcpTotalCount,
      "page-size": 30
    },
    on: {
      "on-change": _vm.changePageNoForQueryMemberCardPayments
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.mcpTotalCount === 0) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()]) : (_vm.permit === false) ? _c('section', {
    staticClass: "orangered center"
  }, [_vm._m(1)]) : _vm._e()], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("会员卡名称")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("卡类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("支付类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("支付方式")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("充值金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("实收金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("销售业绩")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("支付时间")]), _vm._v(" "), _c('th', [_vm._v("创建人")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('p', [_c('i', {
    staticClass: "iconfont icon-manager"
  }), _vm._v(" 抱歉，只有本人和店长能查看")])
}]}

/***/ }),

/***/ 879:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2076)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1467),
  /* template */
  __webpack_require__(2489),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-828d14b8",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ })

});