webpackJsonp([6],{

/***/ 1030:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1846)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1439),
  /* template */
  __webpack_require__(2254),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-0509ce7a",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1031:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2019)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1440),
  /* template */
  __webpack_require__(2431),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-5fd8d72a",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1032:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2014)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1441),
  /* template */
  __webpack_require__(2425),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-5aa8e8b8",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1033:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1866)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1442),
  /* template */
  __webpack_require__(2275),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-122c49cc",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1034:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1927)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1443),
  /* template */
  __webpack_require__(2339),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-336c3e1c",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1035:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1865)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1444),
  /* template */
  __webpack_require__(2274),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-1153d63b",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1036:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1973)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1445),
  /* template */
  __webpack_require__(2385),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-49e3f73e",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1037:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1841)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1446),
  /* template */
  __webpack_require__(2249),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-02c7daf3",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1038:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2005)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1447),
  /* template */
  __webpack_require__(2417),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-557c8352",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1039:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1862)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1448),
  /* template */
  __webpack_require__(2271),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-101bbc8e",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1040:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2041)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1449),
  /* template */
  __webpack_require__(2453),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-6e13d295",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1041:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1898)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1450),
  /* template */
  __webpack_require__(2309),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-1fa2a30a",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1042:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2099)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1451),
  /* template */
  __webpack_require__(2512),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-a935c3f8",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1043:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1844)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1452),
  /* template */
  __webpack_require__(2252),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-04345d66",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1044:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1966)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1453),
  /* template */
  __webpack_require__(2378),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-45ad3d3a",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1045:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2124)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1454),
  /* template */
  __webpack_require__(2539),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-f0871c8a",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1046:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1895)
  __webpack_require__(1894)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1455),
  /* template */
  __webpack_require__(2306),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-1f328ff0",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1047:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1969)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1456),
  /* template */
  __webpack_require__(2381),
  /* styles */
  injectStyle,
  /* scopeId */
  null,
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1048:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1972)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1457),
  /* template */
  __webpack_require__(2384),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-49e0cf75",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1112:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1117)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1115),
  /* template */
  __webpack_require__(1118),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-30ba68e5",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1113:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1121)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1119),
  /* template */
  __webpack_require__(1122),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-6c86f0c9",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1114:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1130)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1126),
  /* template */
  __webpack_require__(1133),
  /* styles */
  injectStyle,
  /* scopeId */
  null,
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1115:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	props: {
		title: {
			type: String,
			required: false
		},
		menuList: {
			type: Array,
			default() {
				return [];
			}
		}
	},

	data() {
		return {};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1116:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".-sub-tit[data-v-30ba68e5]{display:inline-block}.-sub-tit .-icon[data-v-30ba68e5]{font-weight:400;padding:0 7px;color:#aaa}.-sub-tit .-name[data-v-30ba68e5]{color:#e20;padding-left:25px}.back[data-v-30ba68e5]{display:inline-block;color:gray}.back[data-v-30ba68e5]:hover{color:red}", ""]);

// exports


/***/ }),

/***/ 1117:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1116);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("0b308ec4", content, true, {});

/***/ }),

/***/ 1118:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "page-header"
  }, [_c('ul', {
    staticClass: "menus"
  }, [_vm._m(0), _vm._v(" "), (_vm.title) ? _c('li', {
    staticClass: "tit"
  }, [_vm._v(_vm._s(_vm.title) + " "), _c('i', {
    staticClass: "iconfont icon-arrow-r"
  })]) : _vm._e(), _vm._v(" "), _vm._l((_vm.menuList), function(m, index) {
    return _c('li', {
      class: {
        'on': m.active
      }
    }, [_c('a', {
      key: index,
      on: {
        "click": function($event) {
          return _vm.$router.push('/' + m.path)
        }
      }
    }, [_vm._v(_vm._s(m.name))])])
  }), _vm._v(" "), _c('li', [_vm._t("default")], 2)], 2)])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('li', [_c('a', {
    staticClass: "back",
    attrs: {
      "href": "javascript: history.go(-1);",
      "title": "返回"
    }
  }, [_c('i', {
    staticClass: "iconfont icon-arrow-l-1"
  })])])
}]}

/***/ }),

/***/ 1119:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	props: {
		afterSelect: {
			type: Function,
			default() {
				return {};
			}
		},

		showLatestMember: {
			type: Boolean,
			default: true,
			required: false
		}
	},

	data() {
		return {
			g: window.$,
			memberQueryStr: null,
			memberCandidates: [],
			memberFlag: null,
			queryMemberList: [],
			latestMemberList: [],
			cardNo: null,
			queryType: 1,
			memberName: null
		};
	},

	created() {
		if (this.showLatestMember) {
			this.queryLatestMembers();
		}
	},

	methods: {
		handleSearchMember(value) {
			if (!value) {
				this.memberCandidates = [];
				return;
			}
			let args = { queryStr: value };
			$.Req.service($.SvName.MEMBER_QUERY_FOR_AUTO_COMPLETE, args, ret => {
				this.memberCandidates = ret.memberInfoList;
			});
		},

		quickQuery() {
			if (this.memberFlag) {
				let args = { nameOrPhone: this.memberFlag };
				$.Req.service($.SvName.MEMBER_ADV_QUERY, args, ret => {
					if (ret.memberList && ret.memberList.length) {
						if (ret.memberList && ret.memberList.length === 1) {
							this.selectMember(ret.memberList[0]);
							return;
						}
						this.queryMemberList = ret.memberList;
					} else {
						this.queryMemberList = [];
						$.Msg.info('未查到符合条件的会员');
					}
				});
			} else {
				$.Msg.error('请输入会员姓名或手机号');
			}
		},

		queryMemberByName() {
			if (!this.memberName) {
				$.Msg.error('请输入会员姓名');
				return;
			}

			let args = { fuzzyName: this.memberName };
			$.Req.service($.SvName.MEMBER_ADV_QUERY, args, ret => {
				if (ret.memberList && ret.memberList.length) {
					if (ret.memberList && ret.memberList.length === 1) {
						this.selectMember(ret.memberList[0]);
						return;
					}
					this.queryMemberList = ret.memberList;
				} else {
					this.queryMemberList = [];
					$.Msg.info('未查到符合条件的会员');
				}
			});
		},

		queryMemberByCard() {
			if (this.cardNo) {
				let args = { cardNo: this.cardNo };
				$.Req.service($.SvName.MEMBER_ADV_QUERY, args, ret => {
					if (ret.memberList && ret.memberList.length) {
						if (ret.memberList && ret.memberList.length === 1) {
							this.selectMember(ret.memberList[0]);
							return;
						}
						this.queryMemberList = ret.memberList;
					} else {
						this.queryMemberList = [];
						$.Msg.info('未查到符合条件的会员');
					}
				});
			} else {
				$.Msg.error('请输入会员卡号');
			}
		},

		queryLatestMembers() {
			let args = { page: 1 };
			$.Req.service($.SvName.MEMBER_ADV_QUERY, args, ret => {
				this.latestMemberList = ret.memberList;
			});
		},

		selectMember(m) {
			if (this.afterSelect) {
				this.afterSelect(m);
			}
		},

		selectMemberCandidate(val) {
			if (!val) return;
			let items = val.split('|');
			this.memberFlag = items[0].trim();
			this.quickQuery();
		}
	}
});

/***/ }),

/***/ 1120:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".input[data-v-6c86f0c9]{font-size:14px;font-weight:700;display:block}.member-list[data-v-6c86f0c9]{border:1px solid #dddee1;padding:10px;margin-top:20px;clear:both}.member-list li[data-v-6c86f0c9]{padding:5px 10px;margin:5px;background:#eee;display:inline-block;cursor:pointer;width:150px;text-align:center;max-height:28px;overflow:hidden}.member-list li[data-v-6c86f0c9]:hover{background:#ddd;color:#ff4500}.latest-members[data-v-6c86f0c9]{border:1px solid #9ed18b;margin-top:25px}.latest-members .-tit[data-v-6c86f0c9]{margin-bottom:10px;font-weight:700;font-size:13px;padding-left:5px}.latest-members ul[data-v-6c86f0c9]{padding-top:15px}", ""]);

// exports


/***/ }),

/***/ 1121:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1120);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("1adbe95f", content, true, {});

/***/ }),

/***/ 1122:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('div', {
    staticStyle: {
      "margin-bottom": "12px"
    }
  }, [_c('radio-group', {
    model: {
      value: (_vm.queryType),
      callback: function($$v) {
        _vm.queryType = $$v
      },
      expression: "queryType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("根据姓名和手机号联想查询")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("根据姓名模糊查询")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 3
    }
  }, [_vm._v("根据会员卡号查询")])], 1)], 1), _vm._v(" "), (_vm.queryType == 1) ? [_c('AutoComplete', {
    staticStyle: {
      "width": "360px"
    },
    attrs: {
      "data": _vm.memberCandidates,
      "icon": "ios-search",
      "clearable": true,
      "placeholder": "请输入姓名或手机号"
    },
    on: {
      "on-select": _vm.selectMemberCandidate,
      "on-search": _vm.handleSearchMember
    },
    model: {
      value: (_vm.memberQueryStr),
      callback: function($$v) {
        _vm.memberQueryStr = (typeof $$v === 'string' ? $$v.trim() : $$v)
      },
      expression: "memberQueryStr"
    }
  })] : _vm._e(), _vm._v(" "), (_vm.queryType == 2) ? [_c('i-input', {
    staticStyle: {
      "width": "360px"
    },
    attrs: {
      "placeholder": "请输入姓名后按回车查询"
    },
    on: {
      "on-enter": _vm.queryMemberByName
    },
    model: {
      value: (_vm.memberName),
      callback: function($$v) {
        _vm.memberName = (typeof $$v === 'string' ? $$v.trim() : $$v)
      },
      expression: "memberName"
    }
  }), _vm._v(" "), _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.queryMemberByName
    }
  }, [_vm._v("查询")])] : _vm._e(), _vm._v(" "), (_vm.queryType == 3) ? [_c('input-int', {
    staticStyle: {
      "width": "360px"
    },
    attrs: {
      "placeholder": "请刷卡或输入卡号后按回车"
    },
    on: {
      "enter": _vm.queryMemberByCard
    },
    model: {
      value: (_vm.cardNo),
      callback: function($$v) {
        _vm.cardNo = $$v
      },
      expression: "cardNo"
    }
  }), _vm._v(" "), _c('i-button', {
    staticStyle: {
      "position": "relative",
      "top": "-1px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.queryMemberByCard
    }
  }, [_vm._v("查询")])] : _vm._e(), _vm._v(" "), (_vm.queryMemberList && _vm.queryMemberList.length > 0) ? _c('div', {
    staticClass: "member-list"
  }, [_c('ul', _vm._l((_vm.queryMemberList), function(m) {
    return _c('li', {
      attrs: {
        "title": m.name
      },
      on: {
        "click": function($event) {
          return _vm.selectMember(m)
        }
      }
    }, [_vm._v(_vm._s(m.name) + "（" + _vm._s(_vm.g.Dict.Sex[m.sex]) + "）")])
  }), 0)]) : _vm._e(), _vm._v(" "), (_vm.showLatestMember && _vm.latestMemberList && _vm.latestMemberList.length > 0) ? _c('div', {
    staticClass: "member-list latest-members"
  }, [_c('span', {
    staticClass: "-tit"
  }, [_vm._v("最近新建的会员")]), _c('span', {
    staticClass: "gray l10"
  }, [_vm._v("（点击可选择会员）")]), _vm._v(" "), _c('ul', _vm._l((_vm.latestMemberList), function(m, idx) {
    return (idx < 15) ? _c('li', {
      on: {
        "click": function($event) {
          return _vm.selectMember(m)
        }
      }
    }, [_vm._v(_vm._s(m.name) + "（" + _vm._s(_vm.g.Dict.Sex[m.sex]) + "）")]) : _vm._e()
  }), 0)]) : _vm._e()], 2)
},staticRenderFns: []}

/***/ }),

/***/ 1124:
/***/ (function(module, exports, __webpack_require__) {

var Component = __webpack_require__(11)(
  /* script */
  null,
  /* template */
  __webpack_require__(1135),
  /* styles */
  null,
  /* scopeId */
  null,
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1126:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__nav_menu_vue__ = __webpack_require__(408);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__nav_menu_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__nav_menu_vue__);
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	props: ['menu'],
	components: { NavMenu: __WEBPACK_IMPORTED_MODULE_0__nav_menu_vue___default.a },
	data() {
		return {
			g: $,
			menus: [],
			menus0: [{ icon: 'icon-shop', 'name': '旗下门店', 'menu': 'tenant-shops' }, { icon: 'icon-shops', 'name': '新建门店', 'menu': 'tenant-shop-create' }, { icon: 'icon-tongji', 'name': '统计', 'menu': 'tenant-stat' }, { icon: 'icon-card', 'name': '会员卡', 'menu': 'tenant-card-conf' }, { icon: 'icon-config2', 'name': '设置', 'menu': 'tenant-conf' }],
			menus1: [{ icon: 'icon-shop', 'name': '门店', 'menu': 'tenant-shop' }, { icon: 'icon-shop-create', 'name': '新建门店', 'menu': 'tenant-shop-create' }, { icon: 'icon-card', 'name': '会员卡', 'menu': 'tenant-card-conf' }, { icon: 'icon-config2', 'name': '设置', 'menu': 'tenant-conf' }]
		};
	},

	computed: {
		tenantName() {
			if (this.$store.state.tenant && this.$store.state.tenant.tenantName) {
				return this.$store.state.tenant.tenantName;
			} else {
				return $.data.tenant.tenantName;
			}
		},
		tenantImg() {
			if (this.$store.state.tenant.logoPathname) {
				return $.Util.getImgUrl(this.$store.state.tenant.logoPathname, 500, 500, '333333');
			} else if ($.data.tenant.logoPathname) {
				return $.Util.getImgUrl($.data.tenant.logoPathname, 500, 500, '333333');
			} else {
				return 'http://www.jzongguan.com/imglib/default-tenant-logo.jpg';
			}
		}
	},

	beforeCreate() {
		if ($.data.user.isTenantOwner !== true) {
			this.$router.push('/user-login?f=t-nav');
		}
	},

	created() {
		$.data.sys.isInShop = false;
		if ($.data.tenant.tenantType === 0) this.menus = this.menus0;else if ($.data.tenant.tenantType === 1) this.menus = this.menus1;
	},

	methods: {
		count(obj) {
			return $.Util.countAttrs(obj) - 1;
		}
	}
});

/***/ }),

/***/ 1127:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_tenant_nav_vue__ = __webpack_require__(1114);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_tenant_nav_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_tenant_nav_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { TenantNav: __WEBPACK_IMPORTED_MODULE_0__components_tenant_nav_vue___default.a },
	data() {
		return {
			tid: null,
			mpAuthlink: null
		};
	},
	created() {
		this.queryTenantId();
	},
	methods: {
		queryTenantId() {
			$.Req.service($.SvName.TENANT_ID_QUERY, {}, ret => {
				this.tid = ret.tenantId;
				let pagecode = $.Util.md5(ret.tenantId + '/we-jzg-2017');
				this.mpAuthlink = 'http://tool.jzongguan.com/wx-open/auth-to-jzgmp.php?t={0}&pagecode={1}'.format(ret.tenantId, pagecode);
			});
		}
	}
});

/***/ }),

/***/ 1128:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1129:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, "li[data-v-23c13726]{padding:6px;font-size:13px}.authlink[data-v-23c13726]{background:#2e90f7;padding:8px 20px;color:#fff}", ""]);

// exports


/***/ }),

/***/ 1130:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1128);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("70b71549", content, true, {});

/***/ }),

/***/ 1131:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1129);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("4763ee7d", content, true, {});

/***/ }),

/***/ 1132:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1141)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1137),
  /* template */
  __webpack_require__(1146),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-747e1cab",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1133:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    class: 'g-nav g-nav-' + _vm.g.data.sys.skin
  }, [_c('div', {
    staticClass: "shop-info"
  }, [_c('div', {
    staticClass: "shop-name"
  }, [_c('i', {
    staticClass: "iconfont icon-home1"
  }), _vm._v(" "), _c('span', {
    staticClass: "tit",
    attrs: {
      "title": _vm.tenantName
    }
  }, [_vm._v(_vm._s(_vm.tenantName.shorten(8)))])]), _vm._v(" "), _c('div', {
    staticClass: "logo-img"
  }, [_c('img', {
    attrs: {
      "src": _vm.tenantImg
    }
  })])]), _vm._v(" "), _c('nav-menu', {
    attrs: {
      "menu": _vm.menu,
      "menus": _vm.menus
    }
  })], 1)
},staticRenderFns: []}

/***/ }),

/***/ 1134:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('tenant-nav', {
    attrs: {
      "menu": "tenant-conf"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "tenant-conf",
      "page": "tenant-mp-auth"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_vm._m(0), _vm._v(" "), _c('section', [_vm._m(1), _vm._v(" "), _c('ol', [_vm._m(2), _vm._v(" "), _c('li', [_vm._v("\n\t\t\t\t\t上一个步骤完成后，点击下面的授权按钮，将你们小程序的相关权限授予健总管系统\n\t\t\t\t\t"), _c('div', {
    staticStyle: {
      "padding": "20px 0"
    }
  }, [_c('a', {
    staticClass: "authlink",
    attrs: {
      "target": "_blank",
      "href": _vm.mpAuthlink
    }
  }, [_vm._v("授权微信小程序")])])]), _vm._v(" "), _c('li', [_vm._v("\n\t\t\t\t\t授权成功后，将进入小程序的审核流程（预计1 ~ 3个工作日），腾讯公司审核通过后会发送微信公众号消息给小程序管理员\n\t\t\t\t")]), _vm._v(" "), _c('li', [_vm._v("\n\t\t\t\t\t上一步成功后，健总管后台系统将于当日傍晚自动开通，即场馆可正常通过自己的小程序使用健总管小程序功能。\n\t\t\t\t")])])])])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("微信小程序授权说明")])]), _vm._v(" "), _c('ol', [_c('li', [_vm._v("如果您需要使用我们健总管小程序，但是又需要保留自己的小程序品牌名和Logo，就需要使用这里的小程序授权；")]), _vm._v(" "), _c('li', [_vm._v("你们的小程序授权给我们后，我们将有权限负责你们小程序的大部分业务（例如相关技术设置和发布）；")]), _vm._v(" "), _c('li', [_vm._v("您可以在微信小程序后台查看到我们的授权信息，也可以随时取消授权。")])])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("微信小程序授权步骤")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('li', [_vm._v("你们（场馆）首先需拥有一个独立的微信小程序（如还未拥有，"), _c('a', {
    attrs: {
      "target": "_blank",
      "href": "https://mp.weixin.qq.com/cgi-bin/wx?token=&lang=zh_CN"
    }
  }, [_vm._v("去腾讯申请注册小程序 →")]), _vm._v("）\n\t\t\t\t")])
}]}

/***/ }),

/***/ 1135:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "foot"
  }, [_vm._v("\n\t© 2022   南京强点信息技术有限公司"), _c('span', {
    staticClass: "sptr"
  }, [_vm._v("|")]), _c('Icon', {
    attrs: {
      "type": "md-call",
      "size": "14"
    }
  }), _vm._v(" 025-66045495"), _c('span', {
    staticClass: "sptr"
  }, [_vm._v("|")]), _vm._v("工信部备案号：苏ICP备17021267号\n")], 1)
},staticRenderFns: []}

/***/ }),

/***/ 1136:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue__ = __webpack_require__(404);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_help_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ __webpack_exports__["default"] = ({
  components: { Help: __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default.a, ImgUpload: __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_2__pages_member_member_base_info_vue___default.a },
  props: {
    defaultCardId: {
      type: Number,
      default: null,
      required: false
    },
    from: {
      type: String,
      default: "shop"
    },
    defaultReadonly: {
      type: Boolean,
      default: false,
      required: false
    }
  },
  data() {
    return {
      g: $,
      readonly: true,
      BG_IMG_CNT: 8,
      viewBgImgDlg: false,
      viewBgFontDlg: false,
      bgImgType: 1,
      card: {
        cardId: "",
        cardName: "",
        cardType: null,
        cardClass: null,
        cardTimeType: 1,
        allowTransfer: false,
        transferFee: null,
        allowCheckin: true,
        checkinPayment: null,
        orderNo: 99,
        intro: "",
        defaultAmount: null,
        defaultDays: null,
        defaultTimes: null,
        createUname: "",
        createTime: "",
        limitTimes: [],
        encSidList: [],
        isOnlineSale: false,
        chargeByHourEnable: false,
        chargeByHourVal: null,
        chargeByHourConf: null,
        chargeByHourBegin: null,
        moreChargeUnitPirceHours: null,
        moreChargeUnitPirceAmount: null,
        isPublic: true,
        isShowPrice: true,
        bgFontColor: "f1f1f1",
        isShowBgText: true,
        limitBeginDays: null,
        limitOddEvenDay: 0,
        limitWeeks: null,
        limitVacationCount: null,
        limitVacationDays: null,
        allowMemberOptVacation: null,
        isOfflineSaleForPos: null, // pos
        onlineRechargeOptType: 0
      },
      chargeByHourConf: {
        fromMin1: null,
        toMin1: null,
        fromMin2: null,
        toMin2: null
      },
      hasMchId: false,
      cardTypeName: "",
      requiredFields: ["cardName", "cardType", "cardClass", "allowTransfer", "allowCheckin"],
      cardFormRule: {},
      imgUpload: {
        action: $.Conf.IMG_UPLOAD_URL,
        imgMaxWidth: 512,
        defaultList: []
      },
      bgImgUrl: null,
      bgFontColors: ["f1f1f1", "444444", "F8263E", "F37622", "F0DE3B", "A6E22E", "3399FF", "9A76B1"],
      moreCheckinPaymentIdxList: [],
      moreCheckinPaymentTitles: {},
      moreCheckinPaymentValues: {},
      limitDatesDlg: false,
      limitDate: {
        dlg: false,
        itemSize: 3,
        beginMonths: [],
        beginDays: [],
        endMonths: [],
        endDays: [],
        desc: null
      },
      moreCardPricePlans: [[], [], [], [], []],
      displayMoreCardPrices: false,
      shopId: null,
      isOnlineCardInDb: false,
      qrcodeUrl: null,
      limitWeekArr: [],
      freeCodeDlg: null,
      codeQuery: {
        status: null
      },
      cardOnlineFreeCodeList: null,
      cardOnlineFreeCodeCount: null,
      freeCodeCkList: new Array(30),
      selectFreeCodes: null,
      freeCodeViewDlg: null,
      isSelectAllFc: null,
      viewMemberId: null,
      viewMemberDlg: null,
      // pos
      isPosArg: false
    };
  },

  created() {
    if (this.$route.params.cardId) {
      this.card.cardId = this.$route.params.cardId;
      this.queryCard();
    } else if (this.defaultCardId) {
      this.card.cardId = this.defaultCardId;
      this.queryCard();
    } else {
      this.bgImgUrl = this.getBgImgUrl();
      if (this.defaultReadonly) this.readonly = true;else this.readonly = !$.Util.hasRoleFunc($.Dict.RoleFunc.CARD_EDIT.value);
    }
    if (this.requiredFields) {
      $.Util.addRequiredFieldsRules(this.cardFormRule, this.requiredFields);
    }
    this.queryMchId();
    this.queryShopId();
    this.shopArgQuery();
  },

  methods: {
    // pos
    shopArgQuery(callback) {
      let args = { typeId: $.Dict.ShopArg.POS_ENABLE };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
        if (ret.value === "false" || !ret.value) {
          this.isPosArg = false;
        } else if (ret.value === "true") {
          this.isPosArg = true;
        }
        if (callback) {
          callback();
        }
      });
    },
    queryCard() {
      const args = { queryType: 1, cardId: this.card.cardId };
      $.Req.service($.SvName.CARD_QUERY, args, ret => {
        if (ret && ret.cardList && ret.cardList[0]) {
          if ($.Util.isEmpty(ret.cardList[0].chargeByHourEnable)) {
            ret.cardList[0].chargeByHourEnable = false;
          }
          if (!ret.cardList[0].bgFontColor) ret.cardList[0].bgFontColor = "f1f1f1";
          this.card = ret.cardList[0];
          if ($.Util.isEmpty(this.card.limitOddEvenDay)) this.card.limitOddEvenDay = 0;
          this.setMoreCheckinPayments();
          this.bgImgUrl = this.getBgImgUrl();
          if (this.card.moreOnlinePrices) {
            this.displayMoreCardPrices = true;
            this.genMoreCardPricePlans(this.card.moreOnlinePrices);
          }
          this.showChargeByHoureConf(this.card.chargeByHourConf);
          if (!this.defaultReadonly) {
            this.readonly = !$.Util.hasRoleFunc($.Dict.RoleFunc.CARD_EDIT.value) || this.from === "shop" && this.card.isUniversal;
          }

          this.cardTypeName = $.Dict.CardType[this.card.cardType];
          if ($.Util.isNotEmpty(this.card.limitBeginTime) && this.card.limitEndTime) {
            this.card.limitTimes = [$.Util.formatTime(this.card.limitBeginTime), $.Util.formatTime(this.card.limitEndTime)];
          } else {
            this.card.limitTimes = null;
          }
          if (this.card.limitDates) {
            let items = this.card.limitDates.split(";");
            for (let i = 0, len = items.length; i < len; i++) {
              let dates = items[i].split(",");
              let beginDates = dates[0].split("/");
              this.limitDate.beginMonths[i] = parseInt(beginDates[0]);
              this.limitDate.beginDays[i] = parseInt(beginDates[1]);
              let endDates = dates[1].split("/");
              this.limitDate.endMonths[i] = parseInt(endDates[0]);
              this.limitDate.endDays[i] = parseInt(endDates[1]);
            }
            this.formatLimitDates();
          }
          if (this.card.chargeByHourValMore) {
            let arr = this.card.chargeByHourValMore.split(",");
            if (arr && arr.length === 2) {
              this.card.moreChargeUnitPirceHours = parseInt(arr[0]);
              this.card.moreChargeUnitPirceAmount = parseFloat(arr[1]);
            }
          }
          if (this.card.defaultDays) {
            if (!this.card.limitGlBookingDays) this.card.limitGlBookingDays = this.card.defaultDays;
            if (!this.card.limitPlBookingDays) this.card.limitPlBookingDays = this.card.defaultDays;
          }
        } else {
          if (this.from === "shop") this.$router.push("/shop-card-conf");else if (this.from === "tenant") this.$router.push("/tenant-card-conf");
        }
        this.isOnlineCardInDb = this.card.isOnlineSale === true;
        if (this.card.limitWeeks) {
          for (let w of this.card.limitWeeks.split(",")) {
            this.limitWeekArr.push(parseInt(w));
          }
        }
        if (!this.card.onlineRechargeOptType) this.card.onlineRechargeOptType = 0;
      }, true);
    },

    submitCard() {
      this.$refs.card.validate(valid => {
        if (!valid) {
          $.Msg.error($.Lang.SUBMIT_ERR);
          return false;
        }

        if (this.from === "tenant") {
          if (!this.card.encSidList || this.card.encSidList.length === 0) {
            $.Dlg.error("请选择适用门店");
            return;
          }
        }

        if (this.card.defaultDays && this.card.defaultDays > 36500) {
          $.Dlg.error("默认使用天数不能超过36500天（一百年）。");
          return;
        }

        if (this.card.allowCheckin && !this.card.checkinPayment && this.card.cardType !== 1 && this.card.cardType !== 4 && !this.card.chargeByHourEnable) {
          $.Dlg.error("您忘了设置【每次签到计费】");
          return;
        }
        if (this.card.intro && this.card.intro.length > 1000) {
          $.Dlg.warning("会员卡简介太长了，不能超过1千字。");
          return;
        }
        if (this.hasMchId && this.card.isOnlineSale) {
          if ($.Util.isEmpty(this.card.onlinePrice)) {
            $.Dlg.error("请输入在线售卡价格。");
            return;
          }
          if (this.card.onlinePrice <= 0) {
            $.Dlg.error("请输入大于0的在线售卡价格。");
            return;
          }
          if (!this.card.defaultAmount) {
            $.Dlg.error("请输入默认充值金额。");
            return;
          }
          if (this.card.cardType === 2 && !this.card.defaultTimes) {
            window.scrollTo(0, 0);
            $.Dlg.error("请输入默认使用次数。");
            return;
          }
          if (this.card.cardType === 4 && !this.card.defaultTimes) {
            window.scrollTo(0, 0);
            $.Dlg.error("请输入默认使用时间。");
            return;
          }
          if (!this.card.defaultDays) {
            $.Dlg.error("请输入默认使用天数。");
            window.scrollTo(0, 0);
            return;
          }
        }
        if (this.card.chargeByHourEnable) {
          if (!this.card.chargeByHourVal) {
            $.Dlg.error("请输入每小时计费。");
            return;
          }
          this.card.chargeByHourConf = this.genChargeByHourConf();
          this.card.checkinPayment = null;
        }

        if (this.card.limitTimes && this.card.limitTimes.length === 2) {
          if (this.card.limitTimes[0]) {
            this.card.limitBeginTime = $.Util.getTimeNum(this.card.limitTimes[0]);
          } else {
            this.card.limitBeginTime = null;
          }
          if (this.card.limitTimes[1]) {
            this.card.limitEndTime = $.Util.getTimeNum(this.card.limitTimes[1]);
          } else {
            this.card.limitEndTime = null;
          }
        } else {
          this.card.limitBeginTime = null;
          this.card.limitEndTime = null;
        }
        if (this.limitDate.beginMonth && this.limitDate.beginDay && this.limitDate.endMonth && this.limitDate.endDay) {
          this.card.limitBeginDate = parseInt(this.limitDate.beginMonth) * 100 + parseInt(this.limitDate.beginDay);
          this.card.limitEndDate = parseInt(this.limitDate.endMonth) * 100 + parseInt(this.limitDate.endDay);
        } else {
          this.card.limitBeginDate = null;
          this.card.limitEndDate = null;
        }
        try {
          this.card.moreCheckinPayments = this.getMoreCheckinPayments();
        } catch (e) {
          $.Dlg.error(e);
          return;
        }

        let actionType;
        if (this.card.cardId) {
          // update
          actionType = "U";
        } else {
          // create
          actionType = "I";
        }
        if (this.card.cardType === 1) {
          this.card.defaultTimes = null;
        } else if (this.card.cardType === 3) {
          this.card.defaultTimes = null;
        }
        if (this.card.moreChargeUnitPirceHours && !$.Util.isEmpty(this.card.moreChargeUnitPirceAmount)) {
          this.card.chargeByHourValMore = this.card.moreChargeUnitPirceHours + "," + this.card.moreChargeUnitPirceAmount;
        }

        try {
          this.card.moreOnlinePrices = this.genMoreCardPrices();
        } catch (err) {
          $.Dlg.error(err);
          return;
        }
        if (!$.Util.isEmptyArray(this.limitWeekArr)) {
          this.card.limitWeeks = this.limitWeekArr.join(",");
        } else {
          this.card.limitWeeks = null;
        }

        let args = { actionType: actionType, card: this.card };
        $.Req.service($.SvName.CARD_SAVE, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          if (actionType === "I") {
            if (this.from === "shop") this.$router.push("/shop-card-conf");else if (this.from === "tenant") this.$router.push("/tenant-card-conf");
          }
        });
      });
    },

    changeCardType(cardType) {
      if (parseInt(cardType) === 2) this.card.checkinPayment = 1;else this.card.checkinPayment = null;
    },

    changeCardClass() {
      if (this.card.cardId) return;

      if (this.card.cardClass === 0) {
        this.card.allowCheckin = true;
      } else {
        this.card.allowCheckin = false;
      }
    },

    queryMchId() {
      let args = {};
      if (this.from === "shop") args.queryType = "shop";else if (this.from === "tenant") args.queryType = "tenant";
      $.Req.service($.SvName.WX_MCHID_QUERY, args, ret => {
        if (ret.mchId) this.hasMchId = true;
      });
    },

    genChargeByHourConf() {
      let confs = [];
      if (!$.Util.isEmpty(this.chargeByHourConf.fromMin1) && this.chargeByHourConf.toMin1) {
        confs.push("1:{0},{1}".format(this.chargeByHourConf.fromMin1, this.chargeByHourConf.toMin1));
      }
      if (!$.Util.isEmpty(this.chargeByHourConf.fromMin2) && this.chargeByHourConf.toMin2) {
        confs.push("2:{0},{1}".format(this.chargeByHourConf.fromMin2, this.chargeByHourConf.toMin2));
      }

      return confs.join(";");
    },

    showChargeByHoureConf(confStr) {
      if (!confStr) return;

      let confs = confStr.split(";");
      for (let c of confs) {
        let items = c.split(":");
        let minArr = items[1].split(",");
        if (items[0] === "1") {
          this.chargeByHourConf.fromMin1 = parseInt(minArr[0]);
          this.chargeByHourConf.toMin1 = parseInt(minArr[1]);
        } else if (items[0] === "2") {
          this.chargeByHourConf.fromMin2 = parseInt(minArr[0]);
          this.chargeByHourConf.toMin2 = parseInt(minArr[1]);
        }
      }
    },

    chooseBgImg(no) {
      this.card.bgImg = no + ".jpg";
      this.viewBgImgDlg = false;
      this.bgImgUrl = this.getBgImgUrl();
    },

    getBgImgUrl() {
      if (!this.card.bgImg) {
        this.card.bgImg = "3.jpg";
      }
      if (this.card.bgImg.length < 10) {
        return $.Conf.IMG_LIB_URL + "/cardbg/" + this.card.bgImg;
      } else {
        return $.Util.getImgUrl(this.card.bgImg);
      }
    },

    handleImgUploadSuccess(res, file) {
      file.url = res.data.url;
      file.name = res.data.name;
      this.bgImgUrl = res.data.url;
      this.card.bgImg = res.data.name;
      this.viewBgImgDlg = false;
    },

    selectBgFontColor(color) {
      this.card.bgFontColor = color;
      this.viewBgFontDlg = false;
    },

    addMoreCheckinPayment() {
      this.moreCheckinPaymentIdxList.push(true);
    },

    getMoreCheckinPayments() {
      let conf = [];
      for (let i = 0, len = this.moreCheckinPaymentIdxList.length; i < len; i++) {
        let tit = this.moreCheckinPaymentTitles[i];
        let val = this.moreCheckinPaymentValues[i];
        if (tit && !val) {
          throw "请为【{0}】设置计费金额".format(tit);
        } else if (!tit && val) {
          throw "请为计费金额【{0}】设置计费项目名".format(val);
        } else if (tit && val) {
          conf.push("{0},{1}".format(tit, val));
        }
      }

      return conf.join(";");
    },

    setMoreCheckinPayments() {
      if (!this.card.moreCheckinPayments) return;

      let items = this.card.moreCheckinPayments.split(";");
      let i = 0;
      for (let item of items) {
        let arr = item.split(",");
        this.moreCheckinPaymentIdxList.push(true);
        this.moreCheckinPaymentTitles[i] = arr[0];
        this.moreCheckinPaymentValues[i] = parseFloat(arr[1]);
        i++;
      }
    },

    confirmLimitDates() {
      let dataArr = [];
      for (let i = 0; i < this.limitDate.itemSize; i++) {
        if (this.limitDate.beginMonths[i] && this.limitDate.beginDays[i] && this.limitDate.endMonths[i] && this.limitDate.endDays[i]) {
          dataArr.push("{0}/{1},{2}/{3}".format(this.limitDate.beginMonths[i], this.limitDate.beginDays[i], this.limitDate.endMonths[i], this.limitDate.endDays[i]));

          let beginDate = this.limitDate.beginMonths[i] * 100 + this.limitDate.beginDays[i];
          let endDate = this.limitDate.endMonths[i] * 100 + this.limitDate.endDays[i];
          if (beginDate >= endDate) {
            $.Dlg.error("【{0}】：结束日期必须大于开始日期".format(descArr[i]), null, false);
            return;
          }
        }
      }
      this.card.limitDates = dataArr.join(";");
      this.formatLimitDates();
      this.limitDate.dlg = false;
    },

    formatLimitDates() {
      let descArr = [];
      for (let i = 0; i < this.limitDate.itemSize; i++) {
        if (this.limitDate.beginMonths[i] && this.limitDate.beginDays[i] && this.limitDate.endMonths[i] && this.limitDate.endDays[i]) {
          descArr.push("{0}月{1}日 ~ {2}月{3}日".format(this.limitDate.beginMonths[i], this.limitDate.beginDays[i], this.limitDate.endMonths[i], this.limitDate.endDays[i]));
        }
      }
      this.limitDate.desc = descArr.join("\n");
    },

    clearLimitDates() {
      for (let i = 0; i < this.limitDate.itemSize; i++) {
        this.limitDate.beginMonths[i] = null;
        this.limitDate.beginDays[i] = null;
        this.limitDate.endMonths[i] = null;
        this.limitDate.endDays[i] = null;
      }
      this.limitDate.desc = null;
      this.card.limitDates = null;
      this.limitDate.dlg = false;
    },

    genMoreCardPrices() {
      let items = [];
      let i = 0;
      for (let p of this.moreCardPricePlans) {
        i++;
        if (p[0] && !p[1] || !p[0] && p[1]) {
          throw "第 {0} 行数据不全，请填写完整".format(i);
        } else if (p[0] && p[1]) {
          if (this.card.cardType === 2 && !p[2]) {
            throw "第 {0} 行请填写使用次数".format(i);
          } else if (this.card.cardType === 4 && !p[2]) {
            throw "第 {0} 行请填写使用时间".format(i);
          }

          if (p[2]) items.push(p[0] + "," + p[1] + "," + p[2]);else items.push(p[0] + "," + p[1]);
        }
      }

      return items.join(";");
    },

    genMoreCardPricePlans(priceConf) {
      if ($.Util.isEmpty(priceConf)) return;

      let items = priceConf.split(";");
      for (let i = 0, len = items.length; i < len; i++) {
        let data = items[i].split(",");
        this.moreCardPricePlans[i] = [data[0], data[1]];
        if (data.length === 3) this.moreCardPricePlans[i].push(data[2]);
      }
    },

    openLimitDateDlg() {
      if (!this.readonly) this.limitDate.dlg = true;
    },

    queryShopId() {
      $.Req.service($.SvName.SHOP_ID_QUERY_FOR_MSITE, {}, ret => {
        this.shopId = ret.shopId;
        let url = "http://tool.jzongguan.com/#/shop-card-sale/{0}?s={1}".format(this.card.cardId, this.shopId);
        this.qrcodeUrl = $.Conf.QR_CODE_URL + encodeURIComponent(url);
      });
    },

    addLimitDates() {
      this.limitDate.itemSize++;
    },

    openFreeCodeDlg() {
      this.queryFreeCodeList();
      this.freeCodeDlg = true;
    },

    queryFreeCodeList(page = null) {
      let args = {
        page: page,
        status: this.codeQuery.status,
        cardId: this.card.cardId
      };
      $.Req.service($.SvName.CARD_ONLINE_FREE_CODE_QUERY, args, ret => {
        this.cardOnlineFreeCodeList = ret.cardOnlineFreeCodeList;
        if (!page) {
          this.cardOnlineFreeCodeCount = ret.count;
        }
        this.unSelectAllFc();
      });
    },

    createFreeCodeList() {
      let count = prompt("请输入批量生成兑换码的数量（每次最多30个）");
      if (!count || !parseInt(count)) {
        $.Msg.error("无效输入");
        return;
      }

      count = parseInt(count);
      if (count > 30) {
        $.Dlg.error("每次最多30个，请重新输入");
        return;
      }

      let args = {
        cardId: this.card.cardId,
        count: count
      };
      $.Req.service($.SvName.CARD_ONLINE_FREE_CODE_CREATE, args, ret => {
        this.queryFreeCodeList();
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.selectFreeCodes = ret.codeList.join("\n");
        this.freeCodeViewDlg = true;
        this.freeCodeViewDlg();
      }, true);
    },

    selectFreeCode(idx) {
      this.$set(this.freeCodeCkList, idx, !this.freeCodeCkList[idx]);
    },

    selectAllFc() {
      this.isSelectAllFc = !this.isSelectAllFc;
      for (let i = 0, len = this.freeCodeCkList.length && this.cardOnlineFreeCodeList.length; i < len; i++) {
        this.$set(this.freeCodeCkList, i, this.isSelectAllFc);
      }
    },

    unSelectAllFc() {
      for (let i = 0, len = this.freeCodeCkList.length && this.cardOnlineFreeCodeList.length; i < len; i++) {
        this.$set(this.freeCodeCkList, i, false);
      }
    },

    viewFreeCodeList() {
      let checkedCodeList = [];
      for (let i = 0, len = this.freeCodeCkList.length && this.cardOnlineFreeCodeList.length; i < len; i++) {
        if (this.freeCodeCkList[i]) {
          checkedCodeList.push(this.cardOnlineFreeCodeList[i].code);
        }
      }
      if (checkedCodeList.length) {
        this.selectFreeCodes = checkedCodeList.join("\n");
        this.freeCodeViewDlg = true;
      } else {
        $.Msg.warning("您尚未选择");
      }
    },

    delFreeCodeList() {
      let checkedCodeIdList = [];
      for (let i = 0, len = this.freeCodeCkList.length && this.cardOnlineFreeCodeList.length; i < len; i++) {
        if (this.freeCodeCkList[i]) {
          checkedCodeIdList.push(this.cardOnlineFreeCodeList[i].codeId);
          if (this.cardOnlineFreeCodeList[i].status !== 0) {
            $.Msg.error("不能删除已使用的兑换码");
            return;
          }
        }
      }
      if (checkedCodeIdList.length) {
        if (!confirm("您确定要删除选择的兑换码？")) {
          return;
        }
        let args = {
          codeIdList: checkedCodeIdList
        };
        $.Req.service($.SvName.CARD_ONLINE_FREE_CODE_DEL, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.queryFreeCodeList();
        });
      } else {
        $.Msg.warning("您尚未选择");
      }
    },

    viewMember(memberId) {
      this.viewMemberId = memberId;
      this.viewMemberDlg = true;
    }
  }
});

/***/ }),

/***/ 1137:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ajax_js__ = __webpack_require__(407);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
  name: "VideoUpload",
  props: {
    uploadTitle: {
      type: String,
      default: "点击上传视频"
    },
    fileList: {
      type: Array,
      default: []
    },
    maxCount: {
      type: Number,
      default: 5
    },
    maxSize: {
      type: Number,
      default: 30
    }
  },
  data() {
    return {
      g: $,
      videoVisible: false,
      removeable: false,
      previewUrl: "",
      percent: 0,
      loading: false,
      progressStatus: "active",
      accept: "video/*",
      headers: { "Content-Type": "multipart/form-data" }
    };
  },
  methods: {
    delVideo(obj) {
      let list = this.fileList.filter(v => v.name != obj.name);
      this.$emit("handleVideoList", list);
    },
    previewVideo(item) {
      this.videoVisible = true;
      this.previewUrl = item.url;
      this.$nextTick(() => {
        this.$refs.video.play();
      });
    },
    handleProgress(event, file) {
      this.loading = true;
      event.target.onprogress = event => {
        let uploadPercent = (event.loaded / event.total * 100).toFixed(1);
        this.percent = Number(uploadPercent);
      };
    },
    handleSuccess(response, file) {
      this.progressStatus = "success";
      setTimeout(() => {
        this.loading = false;
        this.percent = 0;
      }, 100);
      this.loading = false;
      if (response.status !== 0) {
        $.Msg.error(response.msg);
        return;
      }
      let list = this.fileList;
      list.push(response.data);
      this.$emit("handleVideoList", list);
    },
    handleError(error, file) {
      this.progressStatus = "wrong";
      setTimeout(() => {
        this.loading = false;
        this.percent = 0;
      }, 1000);
    },
    beforeUpload(file) {
      this.progressStatus = "active";
      this.loading = true;
      if (this.fileList.length >= this.maxCount) {
        this.percent = 0;
        this.loading = false;
        $.Dlg.error("您最多可上传{0}个视频".format(this.maxCount));
        return false;
      }
      if (file.size > this.maxSize * 1000 * 1024) {
        this.percent = 0;
        this.loading = false;
        $.Dlg.error(`上传文件不得大于${this.maxSize}M`);
        return false;
      }
    }
  }
});

/***/ }),

/***/ 1138:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".-warn[data-v-2b762e30]{margin-left:10px;color:orange}.charge-by-hour-conf[data-v-2b762e30]{margin-top:10px;border:1px dashed #ddd;padding:10px}.charge-by-hour-conf ul[data-v-2b762e30]{padding-top:5px}.charge-by-hour-conf li[data-v-2b762e30]{display:block;padding:5px 0}.charge-by-hour-conf li .input-s[data-v-2b762e30]{width:80px;margin:0 5px;text-align:center}.input-ss[data-v-2b762e30]{width:60px}.more-chare-conf[data-v-2b762e30]{background:#f5f5f5;margin:10px 0 0;padding:10px}.more-chare-conf input[data-v-2b762e30]{width:80px;margin:0 10px;text-align:center;font-weight:700}.bgimgs li[data-v-2b762e30]{display:inline-block;padding:6px;line-height:1;border-radius:3px}.bgimgs li[data-v-2b762e30]:hover{cursor:pointer}.bgimgs li img[data-v-2b762e30]{border-radius:9px;height:120px;width:200px}.bgimgs li.on[data-v-2b762e30]{background:#aaa}.bgimg[data-v-2b762e30]{margin-top:10px;display:block;width:200px;height:120px;border-radius:9px}.bgfont[data-v-2b762e30]{position:absolute;margin-top:50px;margin-left:10px;font-size:14px}.bgfont-conf[data-v-2b762e30]{padding:10px;background:#aaa}.bgfont-conf li[data-v-2b762e30]{width:70px;height:40px;border-radius:2px;margin:8px;display:inline-block;cursor:pointer}.more-ckin-payments li[data-v-2b762e30]{margin:10px 0}.more-ckin-payments .input-num[data-v-2b762e30]{position:relative;margin-left:3px;top:2px}.myform .tit[data-v-2b762e30]{width:800px;margin-top:25px}.limit-date li.item[data-v-2b762e30]{display:block;background:#f5f5f5;padding:10px;margin:10px 0}.limit-date .input-box[data-v-2b762e30]{width:270px;display:inline-block;cursor:pointer}.limit-date .textarea-box[data-v-2b762e30]{outline:none;border:1px solid #ddd}.limit-date .spt[data-v-2b762e30]{padding:0 10px}.limit-date .sel[data-v-2b762e30]{width:80px;display:inline-block}.limit-date .remark[data-v-2b762e30]{margin-top:20px;color:orange}.more-prices td[data-v-2b762e30],.more-prices th[data-v-2b762e30]{text-align:left;padding:5px}.more-prices input[data-v-2b762e30]{width:110px}.qrcode img[data-v-2b762e30]{width:180px}.card-form-submit[data-v-2b762e30]{padding-left:140px}.form-submit-bottom[data-v-2b762e30]{padding-left:340px}.textarea-box[data-v-2b762e30]{background:#f4f4f4;padding:5px 10px;line-height:1.8}.free-code-opts button[data-v-2b762e30]{margin-right:8px}", ""]);

// exports


/***/ }),

/***/ 1139:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".preview[data-v-747e1cab]{display:block;margin:auto;max-width:648px;max-height:700px}.video-box[data-v-747e1cab]{display:flex;margin-top:15px}.video-box .video-item[data-v-747e1cab]{position:relative;cursor:pointer;width:120px;height:84px;background-color:#000;margin-right:15px}.video-box .video-item .del-icon[data-v-747e1cab]{display:none;position:absolute;right:-16px;top:-18px;z-index:77}.video-box .video-item .del-icon .del[data-v-747e1cab]{margin:8px;width:20px;height:20px}.video-box .video-item .del-icon[data-v-747e1cab]:hover{cursor:pointer}.video-box .video-item .mask[data-v-747e1cab]{position:absolute;left:0;right:0;top:0;bottom:0;z-index:66;text-align:center;line-height:94px}.video-box .video-item .mask .icon[data-v-747e1cab]{width:24px;height:24px}.video-box .video-item video[data-v-747e1cab]{width:100%;height:100%}.video-box .video-item:hover .del-icon[data-v-747e1cab]{display:block}", ""]);

// exports


/***/ }),

/***/ 1140:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1138);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("3f26076e", content, true, {});

/***/ }),

/***/ 1141:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1139);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("00aaed8e", content, true, {});

/***/ }),

/***/ 1142:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1140)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1136),
  /* template */
  __webpack_require__(1145),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-2b762e30",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1145:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('section', [(!_vm.defaultReadonly) ? [(!_vm.card.cardId) ? _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("新建会员卡种类")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "gray",
    attrs: {
      "href": "javascript: history.go(-1);"
    }
  }, [_vm._v("返回 "), _c('icon', {
    attrs: {
      "type": "md-arrow-forward"
    }
  })], 1)])]) : _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员卡种类详情")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "gray",
    attrs: {
      "href": "javascript: history.go(-1);"
    }
  }, [_vm._v("返回 "), _c('icon', {
    attrs: {
      "type": "md-arrow-forward"
    }
  })], 1)])])] : _c('div', {
    staticStyle: {
      "margin-top": "-20px"
    }
  }), _vm._v(" "), _c('i-form', {
    ref: "card",
    staticClass: "myform",
    staticStyle: {
      "width": "700px"
    },
    attrs: {
      "model": _vm.card,
      "rules": _vm.cardFormRule,
      "label-width": 140
    }
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("基础信息设置")]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "cardClass",
      "label": "卡类别"
    }
  }, [(_vm.readonly) ? _c('div', {
    staticClass: "bold"
  }, [_vm._v(_vm._s(_vm.g.Dict.CardClass[_vm.card.cardClass]))]) : [_c('radio-group', {
    attrs: {
      "type": "button"
    },
    on: {
      "on-change": _vm.changeCardClass
    },
    model: {
      value: (_vm.card.cardClass),
      callback: function($$v) {
        _vm.$set(_vm.card, "cardClass", $$v)
      },
      expression: "card.cardClass"
    }
  }, [_c('radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("会籍卡")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("团课卡")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("私教卡")])], 1), _vm._v(" \n          "), (_vm.card.cardClass === 0) ? _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 会籍卡，会员入场自由锻炼用的卡")]) : _vm._e(), _vm._v(" "), (_vm.card.cardClass === 1) ? _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 团课卡，会员上团课使用的卡")]) : _vm._e(), _vm._v(" "), (_vm.card.cardClass === 2) ? _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 私教卡，会员上私教课使用的卡")]) : _vm._e()]], 2), _vm._v(" "), (!_vm.card.cardId) ? _c('form-item', {
    attrs: {
      "prop": "cardType",
      "label": "卡类型"
    }
  }, [_c('radio-group', {
    attrs: {
      "type": "button"
    },
    on: {
      "on-change": _vm.changeCardType
    },
    model: {
      value: (_vm.card.cardType),
      callback: function($$v) {
        _vm.$set(_vm.card, "cardType", _vm._n($$v))
      },
      expression: "card.cardType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("期限卡")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("次数卡")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 3
    }
  }, [_vm._v("储值卡")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 4
    }
  }, [_vm._v("计时卡")])], 1), _vm._v(" "), _c('span', {
    staticClass: "orangered l10"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 请慎重选择，设置后不可修改")])], 1) : _vm._e(), _vm._v(" "), (_vm.card.cardId) ? _c('form-item', {
    attrs: {
      "label": "卡类型"
    }
  }, [_c('b', [_vm._v(_vm._s(_vm.cardTypeName))])]) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "cardName",
      "label": "卡名称"
    }
  }, [(!_vm.readonly) ? _c('i-input', {
    attrs: {
      "type": "text",
      "maxlength": 50,
      "placeholder": ""
    },
    model: {
      value: (_vm.card.cardName),
      callback: function($$v) {
        _vm.$set(_vm.card, "cardName", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "card.cardName"
    }
  }) : _c('b', [_vm._v(_vm._s(_vm.card.cardName))])], 1), _vm._v(" "), (_vm.from === 'tenant') ? _c('form-item', {
    attrs: {
      "prop": "encSidList",
      "label": "适用门店"
    }
  }, [_c('checkbox-group', {
    staticStyle: {
      "display": "inline"
    },
    model: {
      value: (_vm.card.encSidList),
      callback: function($$v) {
        _vm.$set(_vm.card, "encSidList", $$v)
      },
      expression: "card.encSidList"
    }
  }, _vm._l((_vm.g.data.shopList), function(s, k) {
    return (!s.forbiddenInChain) ? _c('checkbox', {
      key: k,
      attrs: {
        "label": s.encSid
      }
    }, [_vm._v(_vm._s(s.shopName))]) : _vm._e()
  }), 1)], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "defaultAmount",
      "label": "默认充值金额"
    }
  }, [(_vm.readonly) ? _c('span', [_vm._v(_vm._s(_vm.card.defaultAmount))]) : _c('input-num', {
    staticClass: "input-s",
    attrs: {
      "min": "0"
    },
    model: {
      value: (_vm.card.defaultAmount),
      callback: function($$v) {
        _vm.$set(_vm.card, "defaultAmount", $$v)
      },
      expression: "card.defaultAmount"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")]), _vm._v(" "), (_vm.card.cardClass !== 0 && _vm.card.cardType === 3) ? _c('span', {
    staticClass: "l10"
  }, [_c('help', [_vm._v("\n            一般情况不用填写默认充值金额（除非贵店只有几种固定金额的卡），可以在给会员办卡的页面填写具体充值金额。\n          ")])], 1) : _vm._e()], 1), _vm._v(" "), (_vm.card.cardType === 2) ? _c('form-item', {
    attrs: {
      "prop": "defaultTimes",
      "label": "默认使用次数"
    }
  }, [(_vm.readonly) ? _c('span', [_vm._v(_vm._s(_vm.card.defaultTimes))]) : _c('input-num', {
    staticClass: "input-s",
    attrs: {
      "min": "0"
    },
    model: {
      value: (_vm.card.defaultTimes),
      callback: function($$v) {
        _vm.$set(_vm.card, "defaultTimes", $$v)
      },
      expression: "card.defaultTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次")]), _vm._v(" "), (_vm.card.cardClass !== 0) ? _c('span', {
    staticClass: "l10"
  }, [_c('help', [_vm._v("\n            一般情况不用填写默认使用次数（除非贵店只有几种次数的卡），可以在给会员办卡的页面填写具体购买次数。\n          ")])], 1) : _vm._e()], 1) : _vm._e(), _vm._v(" "), (_vm.card.cardType === 4) ? _c('form-item', {
    attrs: {
      "prop": "cardTimeType",
      "label": "时间类型"
    }
  }, [_c('radio-group', {
    model: {
      value: (_vm.card.cardTimeType),
      callback: function($$v) {
        _vm.$set(_vm.card, "cardTimeType", _vm._n($$v))
      },
      expression: "card.cardTimeType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("分钟")])], 1)], 1) : _vm._e(), _vm._v(" "), (_vm.card.cardType === 4) ? _c('form-item', {
    attrs: {
      "prop": "defaultTimes",
      "label": "默认使用时间"
    }
  }, [(_vm.readonly) ? _c('span', [_vm._v(_vm._s(_vm.card.defaultTimes))]) : _c('input-num', {
    staticClass: "input-s",
    attrs: {
      "min": "0"
    },
    model: {
      value: (_vm.card.defaultTimes),
      callback: function($$v) {
        _vm.$set(_vm.card, "defaultTimes", $$v)
      },
      expression: "card.defaultTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v(_vm._s(_vm.g.Dict.CardTimeTypes[_vm.card.cardTimeType]))]), _vm._v(" "), (_vm.card.cardClass !== 0) ? _c('span', {
    staticClass: "l10"
  }, [_c('help', [_vm._v("\n            一般情况不用填写默认使用时间（除非贵店只有几种计时卡），可以在给会员办卡的页面填写具体购买时间。\n          ")])], 1) : _vm._e()], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "defaultDays",
      "label": "默认使用天数"
    }
  }, [(_vm.readonly) ? _c('span', [_vm._v(_vm._s(_vm.card.defaultDays))]) : _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "min": "0"
    },
    model: {
      value: (_vm.card.defaultDays),
      callback: function($$v) {
        _vm.$set(_vm.card, "defaultDays", $$v)
      },
      expression: "card.defaultDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), (_vm.card.cardType !== 1) ? _c('help', {
    staticClass: "l10"
  }, [_vm._v("\n          指默认使用的有效期天数，员工给会员实际办卡时可自由调整。\n          "), _c('p'), _vm._v("\n          如果设置了在线售卡，会员购买成功后，系统自动将此卡添加有效期天数。\n        ")]) : _vm._e()], 1), _vm._v(" "), (_vm.card.cardType > 1 && _vm.card.defaultDays) ? _c('form-item', {
    attrs: {
      "prop": "expDateDisable",
      "label": "禁止修改有效期"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.expDateDisable),
      callback: function($$v) {
        _vm.$set(_vm.card, "expDateDisable", $$v)
      },
      expression: "card.expDateDisable"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('help', {
    staticClass: "l10"
  }, [_vm._v("\n          如果选择“是”，工作人员给会员办卡时，系统根据“默认使用天数”自动设置有效期，并且不可修改。否则，可自由设置会员卡有效期。\n        ")])], 1) : _vm._e(), _vm._v(" "), (_vm.card.cardClass === 0) ? _c('form-item', {
    attrs: {
      "prop": "allowCheckin",
      "label": "是否入场签到用"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.allowCheckin),
      callback: function($$v) {
        _vm.$set(_vm.card, "allowCheckin", $$v)
      },
      expression: "card.allowCheckin"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])])], 1) : _vm._e(), _vm._v(" "), (_vm.card.cardClass === 0 && _vm.card.allowCheckin && _vm.card.cardType !== 1 && _vm.card.cardType !== 4 && !_vm.card.chargeByHourEnable) ? _c('form-item', {
    attrs: {
      "prop": "checkinPayment",
      "label": "每次签到计费"
    }
  }, [(_vm.readonly) ? _c('span', [_vm._v(_vm._s(_vm.card.checkinPayment))]) : _c('input-num', {
    staticClass: "input-s",
    attrs: {
      "min": "0",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.checkinPayment),
      callback: function($$v) {
        _vm.$set(_vm.card, "checkinPayment", $$v)
      },
      expression: "card.checkinPayment"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [(_vm.card.cardType === 2) ? _c('span', [_vm._v("次")]) : (_vm.card.cardType === 4) ? _c('span', [_vm._v(_vm._s(_vm.g.Dict.CardTimeTypes[_vm.card.cardTimeType]))]) : _vm._e()]), _vm._v(" "), (_vm.card.cardType === 3) ? [_c('b', {
    staticClass: "red"
  }, [_vm._v(" 元")]), _vm._v(" "), (!_vm.readonly) ? _c('span', {
    staticStyle: {
      "padding": "0 5px 0 20px"
    }
  }, [_c('a', {
    on: {
      "click": _vm.addMoreCheckinPayment
    }
  }, [_c('Icon', {
    attrs: {
      "type": "md-add",
      "size": "14"
    }
  }), _vm._v(" 添加更多计费方案\n            ")], 1)]) : _vm._e(), _vm._v(" "), _c('help', [_vm._v("\n            储值卡入场签到可设置多个计费方案，工作人员在给会员签到计费时，需要选择一个计费方案。\n          ")]), _vm._v(" "), _c('ul', {
    staticClass: "more-ckin-payments"
  }, _vm._l((_vm.moreCheckinPaymentIdxList), function(v, idx) {
    return _c('li', [_c('i-input', {
      staticClass: "input-s",
      attrs: {
        "placeholder": "计费项目名",
        "disabled": _vm.readonly
      },
      model: {
        value: (_vm.moreCheckinPaymentTitles[idx]),
        callback: function($$v) {
          _vm.$set(_vm.moreCheckinPaymentTitles, idx, $$v)
        },
        expression: "moreCheckinPaymentTitles[idx]"
      }
    }), _vm._v(" "), _c('input-num', {
      staticClass: "input-s input-num",
      attrs: {
        "readonly": _vm.readonly,
        "placeholder": "计费金额"
      },
      model: {
        value: (_vm.moreCheckinPaymentValues[idx]),
        callback: function($$v) {
          _vm.$set(_vm.moreCheckinPaymentValues, idx, $$v)
        },
        expression: "moreCheckinPaymentValues[idx]"
      }
    }), _vm._v(" 元\n            ")], 1)
  }), 0)] : _vm._e()], 2) : _vm._e(), _vm._v(" "), (_vm.card.cardClass === 0 && _vm.card.allowCheckin && _vm.card.cardType !== 1 && _vm.card.cardType !== 4) ? _c('form-item', {
    attrs: {
      "prop": "chargeByHourEnable",
      "label": "启用按小时计费"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.chargeByHourEnable),
      callback: function($$v) {
        _vm.$set(_vm.card, "chargeByHourEnable", $$v)
      },
      expression: "card.chargeByHourEnable"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('help', {
    staticClass: "l10"
  }, [_vm._v("\n          如果本卡启用了按小时计费，会员入场签到后，系统就开始计时，会员离场时需要前台做签出操作，\n          系统会根据签到和签出的时间差自动扣除会员卡的费用。\n        ")])], 1) : _vm._e(), _vm._v(" "), (_vm.card.chargeByHourEnable && _vm.card.cardClass === 0 && _vm.card.allowCheckin && (_vm.card.cardType !== 1 && _vm.card.cardType !== 4)) ? _c('form-item', {
    attrs: {
      "prop": "chargeByHourVal",
      "label": "每小时计费"
    }
  }, [(_vm.readonly) ? _c('span', [_vm._v(_vm._s(_vm.card.chargeByHourVal))]) : _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "min": "0"
    },
    model: {
      value: (_vm.card.chargeByHourVal),
      callback: function($$v) {
        _vm.$set(_vm.card, "chargeByHourVal", $$v)
      },
      expression: "card.chargeByHourVal"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [(_vm.card.cardType === 2) ? _c('span', [_vm._v("次")]) : _vm._e()]), _vm._v(" "), (_vm.card.cardType === 3) ? _c('span', [_c('b', {
    staticClass: "red"
  }, [_vm._v(" 元")]), _vm._v("  \n        ")]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "charge-by-hour-conf"
  }, [_c('span', {
    staticClass: "orange"
  }, [_vm._v("不足一小时的计费设置：")]), _vm._v(" "), _c('ul', [_c('li', [_c('Icon', {
    attrs: {
      "type": "ios-time-outline",
      "size": "18"
    }
  }), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "readonly": _vm.readonly
    },
    model: {
      value: (_vm.chargeByHourConf.fromMin1),
      callback: function($$v) {
        _vm.$set(_vm.chargeByHourConf, "fromMin1", $$v)
      },
      expression: "chargeByHourConf.fromMin1"
    }
  }), _vm._v(" 分钟\n              ~ "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "readonly": _vm.readonly
    },
    model: {
      value: (_vm.chargeByHourConf.toMin1),
      callback: function($$v) {
        _vm.$set(_vm.chargeByHourConf, "toMin1", $$v)
      },
      expression: "chargeByHourConf.toMin1"
    }
  }), _vm._v(" 分钟，按半小时计费\n            ")], 1), _vm._v(" "), _c('li', [_c('Icon', {
    attrs: {
      "type": "ios-clock-outline",
      "size": "18"
    }
  }), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "readonly": _vm.readonly
    },
    model: {
      value: (_vm.chargeByHourConf.fromMin2),
      callback: function($$v) {
        _vm.$set(_vm.chargeByHourConf, "fromMin2", $$v)
      },
      expression: "chargeByHourConf.fromMin2"
    }
  }), _vm._v(" 分钟\n              ~ "), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "readonly": _vm.readonly
    },
    model: {
      value: (_vm.chargeByHourConf.toMin2),
      callback: function($$v) {
        _vm.$set(_vm.chargeByHourConf, "toMin2", $$v)
      },
      expression: "chargeByHourConf.toMin2"
    }
  }), _vm._v(" 分钟，按一小时计费\n            ")], 1)])]), _vm._v(" "), _c('div', {
    staticClass: "more-chare-conf"
  }, [_vm._v("\n          入场签到"), _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "readonly": _vm.readonly
    },
    model: {
      value: (_vm.card.chargeByHourBegin),
      callback: function($$v) {
        _vm.$set(_vm.card, "chargeByHourBegin", $$v)
      },
      expression: "card.chargeByHourBegin"
    }
  }), _vm._v("分钟后开始计时（计费）\n           \n          "), _c('help', [_vm._v("\n            设置此时间后，系统在计费时将先扣除此时间，然后再根据剩余的时间计费。\n          ")])], 1), _vm._v(" "), _c('div', {
    staticClass: "more-chare-conf"
  }, [_vm._v("\n          超过"), _c('input-int', {
    attrs: {
      "readonly": _vm.readonly
    },
    model: {
      value: (_vm.card.moreChargeUnitPirceHours),
      callback: function($$v) {
        _vm.$set(_vm.card, "moreChargeUnitPirceHours", $$v)
      },
      expression: "card.moreChargeUnitPirceHours"
    }
  }), _vm._v("小时后，\n          按照"), _c('input-num', {
    attrs: {
      "readonly": _vm.readonly
    },
    model: {
      value: (_vm.card.moreChargeUnitPirceAmount),
      callback: function($$v) {
        _vm.$set(_vm.card, "moreChargeUnitPirceAmount", $$v)
      },
      expression: "card.moreChargeUnitPirceAmount"
    }
  }), _vm._v("元/小时计费\n        ")], 1)], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "tit"
  }, [_vm._v("使用限制设置 "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("（可选填）")])]), _vm._v(" "), (_vm.card.cardClass > 0) ? _c('form-item', {
    attrs: {
      "prop": "limitTimes",
      "label": "限定约课时间"
    }
  }, [_c('time-picker', {
    staticClass: "input-s",
    attrs: {
      "format": "HH:mm",
      "type": "timerange",
      "confirm": "",
      "disabled": _vm.readonly,
      "placeholder": "选择时间范围"
    },
    model: {
      value: (_vm.card.limitTimes),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitTimes", $$v)
      },
      expression: "card.limitTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 表示使用该卡只能预约该时间段的课")]), _vm._v(" "), _c('help', [_vm._v("\n          如果此时间段设置为“8:00 ~ 18:00”，那么使用本卡只能预约这个时间段的课；若预约“18:00 ~ 19:00”的课，系统将禁止并提示。\n        ")])], 1) : (_vm.card.cardClass === 0 || (!_vm.g.Util.isEmptyArray(_vm.card.limitTimes) && _vm.card.limitTimes[1])) ? _c('form-item', {
    attrs: {
      "prop": "limitTimes",
      "label": "限定用卡时间"
    }
  }, [_c('time-picker', {
    staticClass: "input-s",
    attrs: {
      "format": "HH:mm",
      "type": "timerange",
      "confirm": "",
      "disabled": _vm.readonly,
      "placeholder": "选择时间范围"
    },
    model: {
      value: (_vm.card.limitTimes),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitTimes", $$v)
      },
      expression: "card.limitTimes"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 表示每天只能在此时间段内使用本卡")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "limitTimes",
      "label": _vm.card.cardClass === 0 ? '限定用卡星期' : '限定上课星期'
    }
  }, [_c('CheckboxGroup', {
    staticStyle: {
      "display": "inline-block"
    },
    model: {
      value: (_vm.limitWeekArr),
      callback: function($$v) {
        _vm.limitWeekArr = $$v
      },
      expression: "limitWeekArr"
    }
  }, [_c('Checkbox', {
    attrs: {
      "label": 1,
      "disabled": _vm.readonly
    }
  }, [_vm._v("周一")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": 2,
      "disabled": _vm.readonly
    }
  }, [_vm._v("周二")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": 3,
      "disabled": _vm.readonly
    }
  }, [_vm._v("周三")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": 4,
      "disabled": _vm.readonly
    }
  }, [_vm._v("周四")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": 5,
      "disabled": _vm.readonly
    }
  }, [_vm._v("周五")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": 6,
      "disabled": _vm.readonly
    }
  }, [_vm._v("周六")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": 0,
      "disabled": _vm.readonly
    }
  }, [_vm._v("周日")])], 1), _vm._v(" "), _c('help', [_vm._v("\n          全不选（默认）表示不限制，相当于全选。\n          "), (_vm.card.cardClass === 0) ? [_vm._v("\n            如果勾选部分星期，表示只限定规定的星期可使用卡。\n            "), _c('p', [_vm._v("例如，勾选了“周六、周日”，表示只能在每周的周六和周日使用本卡。")])] : [_vm._v("\n            如果勾选部分星期，表示只能限定上规定星期的课。\n            "), _c('p', [_vm._v("例如，勾选了“周六、周日”，表示只能使用本卡上周六与周日的课。")])]], 2)], 1), _vm._v(" "), _c('form-item', {
    staticClass: "limit-date",
    attrs: {
      "prop": "limitDates",
      "label": "限定用卡日期"
    }
  }, [_c('i-button', {
    on: {
      "click": _vm.openLimitDateDlg
    }
  }, [_vm._v("点击设置")]), _vm._v(" "), _c('span', {
    staticClass: "l15 tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 表示每年只能在此期限内使用本卡")]), _vm._v(" "), _c('div', {
    staticClass: "p10"
  }, [_c('textarea', {
    staticClass: "textarea-box",
    attrs: {
      "cols": "40",
      "rows": "3",
      "readonly": "readonly"
    }
  }, [_vm._v(_vm._s(_vm.limitDate.desc))])]), _vm._v(" "), _c('div', [_c('checkbox', {
    model: {
      value: (_vm.card.ignoreLimitWeeks),
      callback: function($$v) {
        _vm.$set(_vm.card, "ignoreLimitWeeks", $$v)
      },
      expression: "card.ignoreLimitWeeks"
    }
  }, [_vm._v("限定用卡日期内是否忽略【限定用卡星期】")])], 1)], 1), _vm._v(" "), (_vm.card.cardClass === 0 || _vm.card.limitOddEvenDay) ? _c('form-item', {
    attrs: {
      "prop": "limitOddEvenDay",
      "label": "限定单双日使用"
    }
  }, [_c('radio-group', {
    model: {
      value: (_vm.card.limitOddEvenDay),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitOddEvenDay", _vm._n($$v))
      },
      expression: "card.limitOddEvenDay"
    }
  }, [_c('radio', {
    attrs: {
      "label": 0,
      "disabled": _vm.readonly
    }
  }, [_vm._v("不限制")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 1,
      "disabled": _vm.readonly
    }
  }, [_vm._v("限定单日使用")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2,
      "disabled": _vm.readonly
    }
  }, [_vm._v("限定双日使用")])], 1)], 1) : _vm._e(), _vm._v(" "), (_vm.card.allowCheckin) ? _c('form-item', {
    attrs: {
      "prop": "limitWeekUses",
      "label": "入场签到限制"
    }
  }, [_c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitDayUses),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitDayUses", $$v)
      },
      expression: "card.limitDayUses"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/天")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitWeekUses),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitWeekUses", $$v)
      },
      expression: "card.limitWeekUses"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/周")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitMonthUses),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitMonthUses", $$v)
      },
      expression: "card.limitMonthUses"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/月")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitEntryUses),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitEntryUses", $$v)
      },
      expression: "card.limitEntryUses"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitEntryUseDays),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitEntryUseDays", $$v)
      },
      expression: "card.limitEntryUseDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('help', [_vm._v("\n          表示每个会员使用此卡【每天 / 每周 / 每月 / 规定使用天数内】最多可入场签到多少次。\n          "), _c('p'), _vm._v("\n          例如，如果设置为：1次/天，3次/周，10次/月，则表示，会员每天最多可入场签到1次，每周最多入场签到3次，每月最多入场签到10次\n        ")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "limitWeekGlBookings",
      "label": "团课上课限制"
    }
  }, [_c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitDayGlBookings),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitDayGlBookings", $$v)
      },
      expression: "card.limitDayGlBookings"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/天")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitWeekGlBookings),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitWeekGlBookings", $$v)
      },
      expression: "card.limitWeekGlBookings"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/周")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitMonthGlBookings),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitMonthGlBookings", $$v)
      },
      expression: "card.limitMonthGlBookings"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/月")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitGlBookings),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitGlBookings", $$v)
      },
      expression: "card.limitGlBookings"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitGlBookingDays),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitGlBookingDays", $$v)
      },
      expression: "card.limitGlBookingDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('help', [_vm._v("\n          表示每个会员使用此卡【每天 / 每周 / 每月 / 规定使用天数内】最多可上团课多少次。\n          "), _c('p'), _vm._v("\n          例如，如果设置为：1次/天，3次/周，10次/月，则表示，会员每天最多可上课1次，每周（自然周）最多可上课3次，每月（自然月）最多可上课10次\n          "), _c('br'), _vm._v("如果设置了 10次/30天，则表示从开卡日计算，每30天限制上团课10次。\n        ")])], 1), _vm._v(" "), (_vm.card.cardClass === 2 || _vm.card.cardType > 1) ? _c('form-item', {
    attrs: {
      "prop": "limitWeekPlBookings",
      "label": "私教课预约限制"
    }
  }, [_c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitDayPlBookings),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitDayPlBookings", $$v)
      },
      expression: "card.limitDayPlBookings"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/天")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitWeekPlBookings),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitWeekPlBookings", $$v)
      },
      expression: "card.limitWeekPlBookings"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/周")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitMonthPlBookings),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitMonthPlBookings", $$v)
      },
      expression: "card.limitMonthPlBookings"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/月")]), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_vm._v(" ")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitPlBookings),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitPlBookings", $$v)
      },
      expression: "card.limitPlBookings"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次/")]), _vm._v(" "), _c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitPlBookingDays),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitPlBookingDays", $$v)
      },
      expression: "card.limitPlBookingDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('help', [_vm._v("\n          表示每个会员使用此卡【每天 / 每周 / 每月 / 规定使用天数内】最多可预约上私教课多少次。\n          "), _c('p'), _vm._v("\n          例如，如果设置为：1次/天，3次/周，10次/月，则表示，会员每天最多可预约上课1次，每周（自然周）最多可预约上课3次，每月（自然月）最多可预约上课10次。\n          "), _c('br'), _vm._v("如果设置了 10次/30天，则表示从开卡日计算，每30天限制预约私教课10次。\n        ")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "limitVacationCount",
      "label": "请假次数限制"
    }
  }, [_c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitVacationCount),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitVacationCount", $$v)
      },
      expression: "card.limitVacationCount"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("次")]), _vm._v(" "), _c('help', [_vm._v("\n          表示使用该卡在使用期内可请假多少次，不填表示不限制\n        ")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "limitVacationDays",
      "label": "请假天数限制"
    }
  }, [_c('input-int', {
    staticClass: "input-ss",
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitVacationDays),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitVacationDays", $$v)
      },
      expression: "card.limitVacationDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('help', [_vm._v("\n          表示使用该卡在使用期内最多累计请假多少天，不填表示不限制\n        ")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "allowMemberOptVacation",
      "label": "会员可否自助请假"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.allowMemberOptVacation),
      callback: function($$v) {
        _vm.$set(_vm.card, "allowMemberOptVacation", $$v)
      },
      expression: "card.allowMemberOptVacation"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('help', {
    staticClass: "l10"
  }, [_vm._v("如果选择“是”，会员将允许在手机版自助请假，否则不允许。\n          "), _c('p', [_vm._v("设置为“是”时，建议设置好上面的“请假次数限制”或“请假天数限制”。")])])], 1), _vm._v(" "), (_vm.isPosArg) ? _c('form-item', {
    attrs: {
      "prop": "isOfflineSaleForPos",
      "label": "是否强制POS机支付"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.isOfflineSaleForPos),
      callback: function($$v) {
        _vm.$set(_vm.card, "isOfflineSaleForPos", $$v)
      },
      expression: "card.isOfflineSaleForPos"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('help', {
    staticClass: "l10"
  }, [_vm._v("如果选择“是”，在创建会员买课、购课、续课的时候支付方式强制为“POS机”"), _c('p')])], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "tit"
  }, [_vm._v("展示信息设置 "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("（可选填）")])]), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "isPublic",
      "label": "是否对外展示"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.isPublic),
      callback: function($$v) {
        _vm.$set(_vm.card, "isPublic", $$v)
      },
      expression: "card.isPublic"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('help', {
    staticClass: "l10"
  }, [_vm._v("是否对访客或会员展示，如果选择“是”，将在微官网和会员系统的门店信息中展示。")])], 1), _vm._v(" "), (_vm.card.isPublic) ? _c('form-item', {
    attrs: {
      "prop": "isShowPrice",
      "label": "是否显示价格"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.isShowPrice),
      callback: function($$v) {
        _vm.$set(_vm.card, "isShowPrice", $$v)
      },
      expression: "card.isShowPrice"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('help', {
    staticClass: "l10"
  }, [_vm._v("展示时是否显示会员卡原价，即“默认充值金额”")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "bgImg",
      "label": "会员卡背景图"
    }
  }, [(!_vm.readonly) ? _c('i-button', {
    on: {
      "click": function($event) {
        _vm.viewBgImgDlg = true
      }
    }
  }, [_vm._v("设置背景图")]) : _vm._e(), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 将展示在会员系统和微官网，会员和访客可看到")]), _vm._v(" "), (_vm.card.cardName && _vm.card.isShowBgText) ? _c('div', {
    staticClass: "bgfont",
    style: ('color:#' + _vm.card.bgFontColor)
  }, [_vm._v(_vm._s(_vm.card.cardName.shorten(15)))]) : _vm._e(), _vm._v(" "), _c('img', {
    staticClass: "bgimg",
    attrs: {
      "src": _vm.bgImgUrl
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "isShowPrice",
      "label": "是否显示背景文字"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.isShowBgText),
      callback: function($$v) {
        _vm.$set(_vm.card, "isShowBgText", $$v)
      },
      expression: "card.isShowBgText"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])])], 1), _vm._v(" "), (_vm.card.isShowBgText) ? _c('form-item', {
    attrs: {
      "prop": "bgImg",
      "label": "背景文字颜色"
    }
  }, [(!_vm.readonly) ? _c('i-button', {
    on: {
      "click": function($event) {
        _vm.viewBgFontDlg = true
      }
    }
  }, [_vm._v("设置文字颜色")]) : _vm._e(), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 显示在会员卡背景图上的文字（会员卡名、价格等）")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "orderNo",
      "label": "展示序号"
    }
  }, [(_vm.readonly) ? _c('span', [_vm._v(_vm._s(_vm.card.orderNo))]) : _c('input-int', {
    staticClass: "input-s",
    attrs: {
      "min": "0",
      "title": ""
    },
    model: {
      value: (_vm.card.orderNo),
      callback: function($$v) {
        _vm.$set(_vm.card, "orderNo", _vm._n($$v))
      },
      expression: "card.orderNo"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor big"
  }), _vm._v(" 用于微官网上展示的顺序，数值越小越靠前")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "intro",
      "label": "会员卡简介"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "600px"
    },
    attrs: {
      "type": "textarea",
      "rows": 15,
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.intro),
      callback: function($$v) {
        _vm.$set(_vm.card, "intro", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "card.intro"
    }
  })], 1), _vm._v(" "), (_vm.hasMchId) ? _c('div', {
    staticClass: "tit"
  }, [_vm._v("在线购卡设置")]) : _vm._e(), _vm._v(" "), (_vm.hasMchId) ? _c('form-item', {
    attrs: {
      "label": "是否允许在线售卡"
    }
  }, [_c('i-switch', {
    attrs: {
      "size": "large",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.isOnlineSale),
      callback: function($$v) {
        _vm.$set(_vm.card, "isOnlineSale", $$v)
      },
      expression: "card.isOnlineSale"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('help', {
    staticClass: "l10"
  }, [_vm._v("\n          如果设置为“是”，会员可在本店系统中购卡或续费，客户可在本店微官网上在线购买会员卡，购买后自动成为本店会员。\n        ")])], 1) : _vm._e(), _vm._v(" "), (_vm.hasMchId && _vm.card.isOnlineSale) ? [_c('form-item', {
    attrs: {
      "label": "在线售卡价格"
    }
  }, [(_vm.readonly) ? _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.card.onlinePrice))]) : _c('input-num', {
    staticClass: "input-s big bold",
    model: {
      value: (_vm.card.onlinePrice),
      callback: function($$v) {
        _vm.$set(_vm.card, "onlinePrice", $$v)
      },
      expression: "card.onlinePrice"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("元")]), _vm._v(" "), _c('help', {
    staticClass: "l5"
  }, [_vm._v("\n            此价格为在线售卡的实际价格，即客户需要支付的金额。\n          ")])], 1), _vm._v(" "), (_vm.card.defaultDays) ? _c('form-item', {
    attrs: {
      "prop": "limitBeginDays",
      "label": "最迟开卡天数"
    }
  }, [_c('input-int', {
    staticClass: "input-s",
    attrs: {
      "min": "0",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.limitBeginDays),
      callback: function($$v) {
        _vm.$set(_vm.card, "limitBeginDays", $$v)
      },
      expression: "card.limitBeginDays"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("天")]), _vm._v(" "), _c('help', {
    staticClass: "l5"
  }, [_vm._v("\n            指会员在线购买或充值会员卡后，最迟多少天内要使用此卡，否则按照最迟开卡日期为起始日期\n          ")]), _vm._v(" "), _c('span', {
    staticClass: "l10 red"
  }, [_vm._v("（ 如果填写"), _c('b', [_vm._v(" 0 ")]), _vm._v("表示购买后立即开卡）")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "在线售卡限制"
    }
  }, [_c('checkbox', {
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.isOnlineSaleForGuest),
      callback: function($$v) {
        _vm.$set(_vm.card, "isOnlineSaleForGuest", $$v)
      },
      expression: "card.isOnlineSaleForGuest"
    }
  }, [_vm._v("只限访客购买")]), _vm._v(" "), _c('checkbox', {
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.isOnlineSaleOnce),
      callback: function($$v) {
        _vm.$set(_vm.card, "isOnlineSaleOnce", $$v)
      },
      expression: "card.isOnlineSaleOnce"
    }
  }, [_vm._v("每个手机账号只能购买一次")])], 1), _vm._v(" "), (_vm.card.cardType === 3 || _vm.card.cardType === 2) ? _c('form-item', {
    attrs: {
      "label": "更多价格方案"
    }
  }, [_c('checkbox', {
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.displayMoreCardPrices),
      callback: function($$v) {
        _vm.displayMoreCardPrices = $$v
      },
      expression: "displayMoreCardPrices"
    }
  }, [_vm._v("显示")]), _vm._v(" "), _c('help', {
    staticClass: "l5"
  }, [_vm._v("\n            启用并编辑更多价格方案后，访客或会员在线购买时可选择任意一种。\n          ")]), _vm._v(" "), (_vm.displayMoreCardPrices) ? _c('table', {
    staticClass: "more-prices"
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "40"
    }
  }, [_vm._v("#")]), _vm._v(" "), (_vm.card.cardType === 2) ? _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("使用次数")]) : (_vm.card.cardType === 4) ? _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("使用时间")]) : _vm._e(), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [(_vm.card.cardType === 3) ? [_vm._v("充值金额（元）")] : [_vm._v("原价（元）")]], 2), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("在线售价（元）")])]), _vm._v(" "), _vm._l((_vm.moreCardPricePlans), function(p, idx) {
    return _c('tr', [_c('td', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), (_vm.card.cardType === 2 || _vm.card.cardType === 4) ? _c('td', [_c('input', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: (p[2]),
        expression: "p[2]"
      }],
      attrs: {
        "type": "number",
        "readonly": _vm.readonly
      },
      domProps: {
        "value": (p[2])
      },
      on: {
        "input": function($event) {
          if ($event.target.composing) { return; }
          _vm.$set(p, 2, $event.target.value)
        }
      }
    })]) : _vm._e(), _vm._v(" "), _c('td', [_c('input', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: (p[0]),
        expression: "p[0]"
      }],
      attrs: {
        "type": "number",
        "readonly": _vm.readonly
      },
      domProps: {
        "value": (p[0])
      },
      on: {
        "input": function($event) {
          if ($event.target.composing) { return; }
          _vm.$set(p, 0, $event.target.value)
        }
      }
    })]), _vm._v(" "), _c('td', [_c('input', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: (p[1]),
        expression: "p[1]"
      }],
      attrs: {
        "type": "number",
        "readonly": _vm.readonly
      },
      domProps: {
        "value": (p[1])
      },
      on: {
        "input": function($event) {
          if ($event.target.composing) { return; }
          _vm.$set(p, 1, $event.target.value)
        }
      }
    })])])
  })], 2) : _vm._e()], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "续费处理方式"
    }
  }, [_c('radio-group', {
    model: {
      value: (_vm.card.onlineRechargeOptType),
      callback: function($$v) {
        _vm.$set(_vm.card, "onlineRechargeOptType", $$v)
      },
      expression: "card.onlineRechargeOptType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("直接在原卡上续费")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("卡过期时，续费后将自动创建新卡")])], 1)], 1), _vm._v(" "), (_vm.card.cardId) ? _c('form-item', {
    attrs: {
      "label": "免费兑换码"
    }
  }, [_c('checkbox', {
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.card.enableFreeCode),
      callback: function($$v) {
        _vm.$set(_vm.card, "enableFreeCode", $$v)
      },
      expression: "card.enableFreeCode"
    }
  }, [_vm._v("启用")]), _vm._v(" "), (!_vm.readonly && _vm.card.enableFreeCode) ? _c('a', {
    on: {
      "click": _vm.openFreeCodeDlg
    }
  }, [_vm._v("兑换码设置")]) : _vm._e(), _vm._v(" "), _c('help', {
    staticClass: "l5"
  }, [_vm._v("\n            启用免费兑换码后，场馆可在此处生成若干兑换码发放给客户，客户在线购卡时输入获取到的兑换码即可免费获得本会员卡。\n          ")])], 1) : _vm._e(), _vm._v(" "), (_vm.card.cardId && _vm.isOnlineCardInDb) ? _c('form-item', {
    attrs: {
      "label": "微官网卡页面链接"
    }
  }, [_vm._v("\n          http://tool.jzongguan.com/#/shop-card-sale/" + _vm._s(_vm.card.cardId) + "?s=" + _vm._s(_vm.shopId) + "\n          "), _c('help', [_vm._v("\n            此链接地址可复制到文案中作为超连接，也可用于制作二维码。\n          ")]), _vm._v(" "), (_vm.qrcodeUrl) ? _c('div', {
    staticClass: "qrcode"
  }, [_c('img', {
    attrs: {
      "src": _vm.qrcodeUrl
    }
  })]) : _vm._e()], 1) : _vm._e()] : _vm._e(), _vm._v(" "), (_vm.card.cardId) ? _c('div', {
    staticClass: "tit"
  }, [_vm._v("更新记录")]) : _vm._e(), _vm._v(" "), (_vm.card.cardId) ? _c('form-item', {
    staticClass: "low-margin",
    attrs: {
      "label": "更新人"
    }
  }, [_vm._v("\n        " + _vm._s(_vm.card.updateUname) + "\n      ")]) : _vm._e(), _vm._v(" "), (_vm.card.cardId) ? _c('form-item', {
    staticClass: "low-margin",
    attrs: {
      "label": "更新时间"
    }
  }, [_vm._v("\n        " + _vm._s(_vm.card.updateTime) + "\n      ")]) : _vm._e()], 2), _vm._v(" "), _c('div', {
    class: {
      'form-submit card-form-submit': !_vm.card.cardId,
      'form-submit-bottom': _vm.card.cardId
    }
  }, [(!_vm.readonly) ? _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.submitCard()
      }
    }
  }, [_vm._v("提交")]) : (!_vm.defaultReadonly) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("【只读模式，不可编辑】")]) : _vm._e()], 1)], 2), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡背景图设置",
      "width": "880",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewBgImgDlg),
      callback: function($$v) {
        _vm.viewBgImgDlg = $$v
      },
      expression: "viewBgImgDlg"
    }
  }, [_c('div', {
    staticStyle: {
      "padding-bottom": "15px"
    }
  }, [_c('RadioGroup', {
    model: {
      value: (_vm.bgImgType),
      callback: function($$v) {
        _vm.bgImgType = _vm._n($$v)
      },
      expression: "bgImgType"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("选择系统默认背景图")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("上传自定义背景图")])], 1)], 1), _vm._v(" "), (_vm.bgImgType === 1) ? _c('ul', {
    staticClass: "bgimgs"
  }, _vm._l((_vm.BG_IMG_CNT), function(n) {
    return _c('li', {
      class: {
        'on': _vm.card.bgImg === n + '.jpg'
      },
      on: {
        "click": function($event) {
          return _vm.chooseBgImg(n)
        }
      }
    }, [_c('img', {
      attrs: {
        "src": _vm.g.Conf.IMG_LIB_URL + '/cardbg/' + n + '.jpg'
      }
    })])
  }), 0) : (_vm.bgImgType === 2) ? _c('div', [_c('img-upload', {
    attrs: {
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "on-success": _vm.handleImgUploadSuccess,
      "max-size": _vm.imgUpload.maxSize,
      "default-file-list": _vm.imgUpload.defaultList
    }
  }, [_c('i-button', {
    staticClass: "input-s",
    attrs: {
      "type": "default",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("点击上传图片")])], 1)], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "form-submit center"
  }, [_c('i-button', {
    staticStyle: {
      "width": "120px"
    },
    on: {
      "click": function($event) {
        _vm.viewBgImgDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员卡背景文字颜色设置",
      "width": "750",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewBgFontDlg),
      callback: function($$v) {
        _vm.viewBgFontDlg = $$v
      },
      expression: "viewBgFontDlg"
    }
  }, [_c('ul', {
    staticClass: "bgfont-conf"
  }, _vm._l((_vm.bgFontColors), function(c) {
    return _c('li', {
      style: ('background: #' + c),
      on: {
        "click": function($event) {
          return _vm.selectBgFontColor(c)
        }
      }
    }, [_vm._v(" ")])
  }), 0)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "限定用卡日期设置",
      "width": "550",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.limitDate.dlg),
      callback: function($$v) {
        _vm.$set(_vm.limitDate, "dlg", $$v)
      },
      expression: "limitDate.dlg"
    }
  }, [_c('div', {
    staticClass: "limit-date"
  }, [_c('ul', _vm._l((_vm.limitDate.itemSize), function(i) {
    return _c('li', {
      staticClass: "item"
    }, [_c('i-select', {
      staticClass: "sel",
      attrs: {
        "placeholder": "开始月"
      },
      model: {
        value: (_vm.limitDate.beginMonths[i - 1]),
        callback: function($$v) {
          _vm.$set(_vm.limitDate.beginMonths, i - 1, $$v)
        },
        expression: "limitDate.beginMonths[i - 1]"
      }
    }, _vm._l((12), function(month) {
      return _c('i-option', {
        key: month,
        attrs: {
          "value": month
        }
      }, [_vm._v(_vm._s(month) + "月")])
    }), 1), _vm._v(" "), _c('i-select', {
      staticClass: "sel",
      attrs: {
        "placeholder": "开始日"
      },
      model: {
        value: (_vm.limitDate.beginDays[i - 1]),
        callback: function($$v) {
          _vm.$set(_vm.limitDate.beginDays, i - 1, $$v)
        },
        expression: "limitDate.beginDays[i - 1]"
      }
    }, _vm._l((31), function(day) {
      return _c('i-option', {
        key: day,
        attrs: {
          "value": day
        }
      }, [_vm._v(_vm._s(day) + "日")])
    }), 1), _vm._v(" "), _c('span', {
      staticClass: "spt"
    }, [_vm._v("~")]), _vm._v(" "), _c('i-select', {
      staticClass: "sel",
      attrs: {
        "placeholder": "结束月"
      },
      model: {
        value: (_vm.limitDate.endMonths[i - 1]),
        callback: function($$v) {
          _vm.$set(_vm.limitDate.endMonths, i - 1, $$v)
        },
        expression: "limitDate.endMonths[i - 1]"
      }
    }, _vm._l((12), function(month) {
      return _c('i-option', {
        key: month,
        attrs: {
          "value": month
        }
      }, [_vm._v(_vm._s(month) + "月")])
    }), 1), _vm._v(" "), _c('i-select', {
      staticClass: "sel",
      attrs: {
        "placeholder": "结束日"
      },
      model: {
        value: (_vm.limitDate.endDays[i - 1]),
        callback: function($$v) {
          _vm.$set(_vm.limitDate.endDays, i - 1, $$v)
        },
        expression: "limitDate.endDays[i - 1]"
      }
    }, _vm._l((31), function(day) {
      return _c('i-option', {
        key: day,
        attrs: {
          "value": day
        }
      }, [_vm._v(_vm._s(day) + "日")])
    }), 1)], 1)
  }), 0), _vm._v(" "), _c('div', [_c('i-button', {
    on: {
      "click": _vm.addLimitDates
    }
  }, [_vm._v("+添加日期设置项")])], 1), _vm._v(" "), _c('div', {
    staticClass: "remark"
  }, [_vm._v("\n        此日期范围表示，该会员卡只能在"), _c('b', [_vm._v("每年")]), _vm._v("的上述日期范围内使用，例如：寒暑假卡、节日卡\n      ")])]), _vm._v(" "), _c('div', {
    staticClass: "center form-submit",
    staticStyle: {
      "margin-top": "-10px"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.confirmLimitDates
    }
  }, [_vm._v("确定")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.limitDate.dlg = false
      }
    }
  }, [_vm._v("关闭")]), _vm._v(" "), _c('a', {
    staticClass: "l15",
    on: {
      "click": _vm.clearLimitDates
    }
  }, [_vm._v("清空")])], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "免费兑换码设置",
      "width": "900",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.freeCodeDlg),
      callback: function($$v) {
        _vm.freeCodeDlg = $$v
      },
      expression: "freeCodeDlg"
    }
  }, [_c('div', {
    staticClass: "free-code-opts"
  }, [_c('i-button', {
    on: {
      "click": _vm.createFreeCodeList
    }
  }, [_vm._v("批量生成兑换码")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.viewFreeCodeList
    }
  }, [_vm._v("批量拷贝兑换码")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.delFreeCodeList
    }
  }, [_vm._v("批量删除")]), _vm._v(" "), _c('i-select', {
    staticStyle: {
      "width": "100px"
    },
    attrs: {
      "placeholder": "请选择状态"
    },
    on: {
      "on-change": function($event) {
        return _vm.queryFreeCodeList(null)
      }
    },
    model: {
      value: (_vm.codeQuery.status),
      callback: function($$v) {
        _vm.$set(_vm.codeQuery, "status", _vm._n($$v))
      },
      expression: "codeQuery.status"
    }
  }, [_c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_c('i', [_vm._v("不限")])]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 0
    }
  }, [_vm._v("未使用")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("已使用")])], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "mytbl p10"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "60"
    },
    on: {
      "click": function($event) {
        return _vm.selectAllFc()
      }
    }
  }, [(_vm.isSelectAllFc) ? _c('i', {
    staticClass: "iconfont icon-checkbox-checked ckbox-1",
    staticStyle: {
      "font-weight": "normal"
    }
  }) : _c('i', {
    staticClass: "iconfont icon-checkbox-empty ckbox-0",
    staticStyle: {
      "font-weight": "normal"
    }
  })]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("兑换码")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("创建人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("创建时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("使用人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("使用时间")])]), _vm._v(" "), _vm._l((_vm.cardOnlineFreeCodeList), function(c, idx) {
    return _c('tr', [_c('td', {
      on: {
        "click": function($event) {
          return _vm.selectFreeCode(idx)
        }
      }
    }, [(!_vm.freeCodeCkList[idx]) ? _c('i', {
      staticClass: "iconfont icon-checkbox-empty"
    }) : _c('i', {
      staticClass: "iconfont icon-checkbox-checked"
    })]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.code))]), _vm._v(" "), _c('td', [(c.status === 0) ? [_vm._v("未使用")] : (c.status === 1) ? [_vm._v("已使用")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createTime))]), _vm._v(" "), _c('td', [(c.memberId) ? _c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(c.memberId)
        }
      }
    }, [_vm._v(_vm._s(c.memberName))]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.mcpCreateTime))])])
  })], 2), _vm._v(" "), (_vm.cardOnlineFreeCodeList && _vm.cardOnlineFreeCodeCount) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.cardOnlineFreeCodeCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryFreeCodeList
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.cardOnlineFreeCodeList && !_vm.cardOnlineFreeCodeList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()]), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "免费兑换码查看（可复制）",
      "width": "400",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.freeCodeViewDlg),
      callback: function($$v) {
        _vm.freeCodeViewDlg = $$v
      },
      expression: "freeCodeViewDlg"
    }
  }, [_c('div', [(_vm.selectFreeCodes) ? _c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 15,
      "readonly": true
    },
    model: {
      value: (_vm.selectFreeCodes),
      callback: function($$v) {
        _vm.selectFreeCodes = $$v
      },
      expression: "selectFreeCodes"
    }
  }) : _vm._e()], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员信息",
      "width": "780",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 1146:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "img-upload"
  }, [_c('div', [_c('Upload', {
    staticStyle: {
      "display": "inline-block"
    },
    attrs: {
      "action": _vm.g.Conf.VIDEO_UPLOAD,
      "accept": _vm.accept,
      "show-upload-list": false,
      "on-progress": _vm.handleProgress,
      "with-credentials": true,
      "before-upload": _vm.beforeUpload,
      "default-file-list": _vm.fileList,
      "on-success": _vm.handleSuccess,
      "on-error": _vm.handleError
    }
  }, [_c('i-button', {
    attrs: {
      "type": "default",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v(_vm._s(_vm.uploadTitle))])], 1), _vm._v(" "), _vm._t("default")], 2), _vm._v(" "), (_vm.loading) ? _c('Progress', {
    attrs: {
      "stroke-width": 5,
      "status": _vm.progressStatus,
      "percent": _vm.percent
    }
  }) : _vm._e(), _vm._v(" "), (_vm.fileList && _vm.fileList.length) ? _c('div', {
    staticClass: "video-box"
  }, _vm._l((_vm.fileList), function(item, idx) {
    return _c('div', {
      key: idx,
      staticClass: "video-item"
    }, [_c('div', {
      staticClass: "mask",
      on: {
        "click": function($event) {
          return _vm.previewVideo(item)
        }
      }
    }, [_c('svg', {
      staticClass: "icon",
      attrs: {
        "t": "1630550755860",
        "viewBox": "0 0 1024 1024",
        "version": "1.1",
        "xmlns": "http://www.w3.org/2000/svg",
        "p-id": "6440",
        "width": "200",
        "height": "200"
      }
    }, [_c('path', {
      attrs: {
        "d": "M1006.08 512c0 270.848-219.648 490.496-490.496 490.496S24.576 783.36 24.576 512s220.16-490.496 491.008-490.496 490.496 219.648 490.496 490.496z",
        "p-id": "6441"
      }
    }), _vm._v(" "), _c('path', {
      attrs: {
        "d": "M705.024 534.016l-289.28 166.912c-16.896 9.728-37.888-2.56-37.888-22.016V345.088c0-19.456 20.992-31.744 37.888-22.016l289.28 166.912c16.384 10.24 16.384 34.304 0 44.032z",
        "fill": "#FFFFFF",
        "p-id": "6442"
      }
    }), _vm._v(" "), _c('path', {
      attrs: {
        "d": "M518.144 1017.856h-4.608c-129.024-1.024-250.368-47.104-341.504-129.024-102.4-92.16-159.232-222.208-164.352-376.32v-1.024c7.68-158.208 66.56-290.304 168.96-381.44C267.776 49.152 388.608 5.632 517.632 6.656c129.024 1.024 250.368 47.104 341.504 129.024 102.4 92.16 159.232 222.208 164.352 376.32v1.024c-8.192 158.208-66.56 290.304-169.472 381.44-90.112 79.872-208.896 123.392-335.872 123.392zM33.28 512.512c11.264 327.168 257.024 478.208 480.768 480.256h4.608c227.328 0 462.848-147.968 479.744-480.256-11.776-327.68-257.536-478.72-481.28-480.256h-4.096c-227.328 0-462.848 147.968-479.744 480.256z",
        "fill": "#FFFFFF",
        "p-id": "6443"
      }
    })])]), _vm._v(" "), _c('video', {
      attrs: {
        "src": item.url
      }
    }), _vm._v(" "), _c('div', {
      staticClass: "del-icon",
      on: {
        "click": function($event) {
          return _vm.delVideo(item)
        }
      }
    }, [_c('svg', {
      staticClass: "del",
      attrs: {
        "t": "1630567187975",
        "viewBox": "0 0 1024 1024",
        "version": "1.1",
        "xmlns": "http://www.w3.org/2000/svg",
        "p-id": "6510",
        "width": "200",
        "height": "200"
      }
    }, [_c('path', {
      attrs: {
        "d": "M512 74.752c-247.296 0-448 200.704-448 448s200.704 448 448 448 448-200.704 448-448-200.704-448-448-448z",
        "fill": "#666666",
        "p-id": "6511"
      }
    }), _vm._v(" "), _c('path', {
      attrs: {
        "d": "M693.76 661.504c11.776 11.776 11.776 31.232 0 43.008-11.776 11.776-31.232 11.776-43.008 0L512 565.76l-138.752 138.752c-11.776 11.776-31.232 11.776-43.008 0-11.776-11.776-11.776-31.232 0-43.008l138.752-138.752L330.24 384c-11.776-11.776-11.776-31.232 0-43.008 11.776-11.776 31.232-11.776 43.008 0L512 479.744l138.752-138.752c11.776-11.776 31.232-11.776 43.008 0 11.776 11.776 11.776 31.232 0 43.008l-138.752 138.752 138.752 138.752z",
        "fill": "#FFFFFF",
        "p-id": "6512"
      }
    })])])])
  }), 0) : _vm._e(), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "视频预览",
      "width": "700",
      "styles": {
        top: '0'
      }
    },
    model: {
      value: (_vm.videoVisible),
      callback: function($$v) {
        _vm.videoVisible = $$v
      },
      expression: "videoVisible"
    }
  }, [_c('video', {
    ref: "video",
    staticClass: "preview",
    attrs: {
      "src": _vm.previewUrl,
      "controls": ""
    }
  }), _vm._v(" "), _c('div', {
    staticStyle: {
      "display": "none"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })])], 1)
},staticRenderFns: []}

/***/ }),

/***/ 1149:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1181)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1155),
  /* template */
  __webpack_require__(1200),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-4910629c",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1150:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1182)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1157),
  /* template */
  __webpack_require__(1201),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-4e7fda39",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1151:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1175)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1160),
  /* template */
  __webpack_require__(1194),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-0529fe5f",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1153:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue__ = __webpack_require__(404);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_help_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { Help: __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default.a },
	props: {
		from: {
			type: String,
			default: 'shop'
		}
	},
	data() {
		return {
			g: $,
			cardEditable: $.Util.hasRoleFunc($.Dict.RoleFunc.CARD_EDIT.value),
			cards: [],
			selectEncSid: null,
			hasCrossCard: false,
			showDisabledCard: false,
			queryCardType: 0,
			queryCardClass: -1,
			queryCardName: null
		};
	},

	created() {
		if (this.from === 'shop') {
			this.selectEncSid = $.data.shop.encSid;
		} else {
			this.selectEncSid = 'none';
		}
		this.queryCards();
	},

	methods: {
		queryCards() {
			let args = {
				cardName: this.queryCardName
			};
			if (this.selectEncSid === 'none') {
				args.isUniversal = true;
			} else {
				args.encSid = this.selectEncSid;
			}
			if (!this.showDisabledCard) args.status = 0;else args.status = 1;
			if (this.queryCardType) args.cardType = this.queryCardType;
			if (this.queryCardClass >= 0) args.cardClass = this.queryCardClass;
			$.Req.service($.SvName.CARD_QUERY, args, ret => {
				for (let c of ret.cardList) {
					if (c.isUniversal) this.hasCrossCard = true;
					c.cardTypeName = $.Dict.CardType[c.cardType];
					c.statusName = $.Dict.CardStatus[c.status];
					if (c.status === 1) c.statusName = '<span class="red">{0}</span>'.format(c.statusName);
				}
				this.cards = ret.cardList;
			}, true);
		},

		toCardCreatePage() {
			if (this.from === 'shop') this.$router.push('/shop-card-create');
			if (this.from === 'tenant') this.$router.push('/tenant-card-create');
		},

		toCardEditPage(cardId) {
			if (this.from === 'shop') this.$router.push('/shop-card-edit/' + cardId);
			if (this.from === 'tenant') this.$router.push('/tenant-card-edit/' + cardId);
		},

		updateCardStatus(cardId, status) {
			let msg = '';
			if (status === 1) msg = $.Lang.STOP_CARD_CONFIRM;else if (status === 0) msg = $.Lang.RESTORE_CARD_CONFIRM;else return;

			$.Dlg.confirm(msg, yes => {
				const args = { cardId: cardId, status: status };
				$.Req.service($.SvName.CARD_STATUS_UPDATE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.queryCards();
				});
			});
		},

		delCard(cardId, cardName) {
			let msg = '您确定要删除会员卡【{0}】吗？ 如果会员卡被使用过，将不能删除。'.format(cardName);
			$.Dlg.confirm(msg, yes => {
				let args = {
					actionType: 'D',
					deleteId: cardId
				};
				$.Req.service($.SvName.CARD_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.queryCards();
				}, true);
			});
		}
	}
});

/***/ }),

/***/ 1155:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_group_lesson_opt_vue__ = __webpack_require__(1150);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_group_lesson_opt_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_group_lesson_opt_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_help__ = __webpack_require__(404);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_help___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_help__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_cust_cust_detail_vue__ = __webpack_require__(405);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_cust_cust_detail_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__pages_cust_cust_detail_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ __webpack_exports__["default"] = ({
	components: { MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default.a, MemberGroupLessonOpt: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_group_lesson_opt_vue___default.a, Help: __WEBPACK_IMPORTED_MODULE_2__components_help___default.a, CustDetail: __WEBPACK_IMPORTED_MODULE_3__pages_cust_cust_detail_vue___default.a },
	props: {
		lessonId: {
			type: Number
		},
		showLessonInfo: {
			type: Boolean,
			default: false
		},
		enableGlCheckout: {
			type: Boolean,
			default: false
		}
	},
	data() {
		return {
			g: window.$,
			today: null,
			editable: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_AGENT.value),
			lesson: null,
			memberLessonList: [],
			allowCancelBooking: false,
			allowMemberCheckin: false,
			viewMemberDlg: false,
			viewMemberId: 0,
			canBooking: false,
			viewGroupLessonOptDlg: false,
			mlMemberList: [],
			selectMembIds: {},
			selectMembCnt: null,
			memberCheckinMap: {},
			glCheckinCancelDlg: null,
			selectMlIdx: null,
			checkinCancelRemark: null,
			showPrintTicket: null,
			custDlgView: null,
			selectCustId: null,
			selectCustName: '',
			memberLessonOptMap: {}, // memberId => opt (0: 缺席，1：请假，2：扣费，3：签到)
			memberVacationRemarkMap: {}, // memberId => remark
			canCheckinClassMembers: null,
			isCheckAllCheckin: null,
			classMembOptCnts: [0, 0, 0, 0],
			isCheckinForCoach: null,
			classMemberVacationDlg: null,
			classMemberVacationRemark: null,
			selectMember: null,
			memberLessonVacationMap: {}
		};
	},

	created() {
		let ck = $.Util.cookie.get($.Conf.CookieKeys.SHOW_MEMBER_LESSON_PRINT);
		if (ck && ck === 'true') {
			this.showPrintTicket = true;
		}

		this.load();
	},

	methods: {
		load() {
			this.queryMemberLesson(this.queryLesson);
		},

		checkPrintOption() {
			$.Util.cookie.set($.Conf.CookieKeys.SHOW_MEMBER_LESSON_PRINT, this.showPrintTicket, 365);
		},

		queryLesson() {
			let args = { lessonId: this.lessonId };
			$.Req.service($.SvName.LESSON_QUERY, args, (ret, systime) => {
				let nowTime = Date.new(systime);
				if (!ret || !ret.lesson) {
					$.Msg.error($.Lang.NOT_FOUND_TIPS);
					this.$router.push('/group-lesson');
					return;
				}
				this.canCheckinClassMembers = this.editable && Date.new(ret.lesson.lessonDate).compareDatePart(nowTime) <= 0;
				if (!ret.lesson.lessonTitle) {
					ret.lesson.lessonTitle = ret.lesson.csName ? ret.lesson.csName : ret.lesson.courseName;
				}
				this.lesson = ret.lesson;
				let lessonTime = Date.new('{0} {1}:00'.format($.Util.formatDate(this.lesson.lessonDate), $.Util.formatTime(this.lesson.beginTime)));

				this.allowCancelBooking = lessonTime.getTime() > nowTime || $.data.user.isShopOwner;
				let checkinGlMaxTime = ret.checkinGlMaxTime ? ret.checkinGlMaxTime : 60;
				this.allowMemberCheckin = lessonTime.getTime() - 60000 * checkinGlMaxTime <= nowTime;

				let l = this.lesson;
				this.canBooking = l.isNeedBooking && l.status !== 9 && nowTime < Date.new('{0} {1}:00'.format($.Util.formatDate(l.lessonDate), $.Util.formatTime(l.beginTime))).getTime();

				if (this.lesson.classMembers) {
					let mids = [];
					for (let mid of this.lesson.classMembers.split(',')) {
						let memberId = parseInt(mid);
						if (!this.mlMemberIdIList.contains(memberId)) {
							mids.push(memberId);
							this.selectMembIds[memberId] = true;
						}
					}
					if (mids.length > 0) {
						args = { memberIdList: mids };
						$.Req.service($.SvName.MEMBER_BASE_LIST_QUERY, args, ret => {
							this.mlMemberList = [];
							for (let m of ret.memberBaseList) {
								if (!this.memberCheckinMap[m.memberId]) {
									this.mlMemberList.push(m);
								}
							}
							this.selectMembCnt = this.mlMemberList.length;
						});
					} else {
						this.mlMemberList = [];
					}
				}
			}, true);
		},

		queryMemberLesson(callback = null) {
			let args = {
				lessonId: this.lessonId,
				needAll: true,
				page: 1,
				needMemberCardInfo: true,
				needMemberLessonVacation: true,
				needMlCheckoutInfo: this.enableGlCheckout
			};
			$.Req.service($.SvName.MEMBER_GROUP_LESSON_QUERY, args, (ret, systime) => {
				this.today = Date.new(systime);
				this.memberLessonList = ret.memberLessonList;
				this.mlMemberIdIList = [];
				for (let ml of ret.memberLessonList) {
					this.mlMemberIdIList.push(ml.memberId);
					if (ml.status == 2 || ml.status == 4) {
						this.memberCheckinMap[ml.memberId] = true;
					}
				}
				this.memberLessonVacationList = ret.memberLessonVacationList;
				this.memberLessonVacationMap = {};
				for (let mlv of this.memberLessonVacationList) {
					if (!this.memberLessonVacationMap[mlv.memberId]) {
						this.memberLessonVacationMap[mlv.memberId] = true;
					}
				}
				this.classMembOptCnts[1] = ret.memberLessonVacationList.length;
				if (callback) callback();
			});
		},

		formatTime(datetime) {
			if (datetime) return new Date(datetime).format('M/d hh:mm');else return '';
		},

		cancelBooking(idx) {
			let ml = this.memberLessonList[idx];
			let msg = '您确定要代【{0}】取消预约吗？'.format(ml.memberName);
			$.Dlg.confirm(msg, yes => {
				let args = { mlId: ml.mlId, lessonId: this.lessonId };
				$.Req.service($.SvName.MEMBER_LESSON_BOOKING_CANCEL, args, ret => {
					//this.memberLessonList.splice(idx, 1);
					this.queryMemberLesson(this.queryLesson);
				});
			});
		},

		handleCheckin(idx) {
			let ml = this.memberLessonList[idx];
			if (!ml) {
				alert('Invalid index: ' + idx);
				return;
			}
			if (ml.mcId) {
				let args = {
					optType: 2,
					courseType: 1,
					lessonId: this.lessonId,
					memberId: ml.memberId,
					mcId: ml.mcId,
					mlId: ml.mlId
				};
				$.Req.service($.SvName.MEMBER_LESSON_OPERATE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.queryLesson();
					this.queryMemberLesson();
				}, true);
			} else {
				let args = { mlId: ml.mlId, lessonId: this.lessonId };
				$.Req.service($.SvName.CUST_GC_LESSON_CHECKIN, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.queryLesson();
					this.queryMemberLesson();
				}, true);
			}
		},

		checkinForCoach() {
			let args = { courseType: 1, lessonId: this.lessonId };
			$.Req.service($.SvName.COACH_CHECKIN_LESSON, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.queryMemberLesson(this.queryLesson);
			}, true);
		},

		viewMember(memberId) {
			this.viewMemberId = memberId;
			this.viewMemberDlg = true;
		},

		bookingForMember() {
			this.viewGroupLessonOptDlg = true;
		},

		afterSubmitLessonOpt() {
			this.queryLesson();
			this.queryMemberLesson();
			this.viewGroupLessonOptDlg = false;
		},

		closeLessOptDlg() {
			this.viewGroupLessonOptDlg = false;
		},

		toggleClassMember(memberId) {
			let preVal = this.selectMembIds[memberId];
			this.selectMembIds[memberId] = !preVal;
			if (preVal) this.selectMembCnt--;else this.selectMembCnt++;
		},

		_checkinClassLesson() {
			let checkinMemberIds = [];
			for (let m of this.mlMemberList) {
				if (this.selectMembIds[m.memberId]) {
					checkinMemberIds.push(m.memberId);
				}
			}
			if (checkinMemberIds.length === 0) {
				$.Msg.success("请选择上课人员");
				return;
			}
			if (checkinMemberIds.length > 50) {
				$.Dlg.warning("每次选择上课人员数不能超过50人，请分批选择签到。");
				return;
			}

			let args = { lessonId: this.lessonId, memberIdList: checkinMemberIds };
			$.Req.service($.SvName.CLASS_LESSON_CHECKIN, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.queryLesson();
				this.queryMemberLesson();
			}, true);
		},

		inputMemberVacationRemark(memberId, memberName) {
			let preRemark = this.memberVacationRemarkMap[memberId];
			let msg = '请输入【{0}】的请假备注：'.format(memberName);
			let remark = prompt(msg, preRemark);
			if (remark !== null) {
				this.$set(this.memberVacationRemarkMap, memberId, remark);
			}
		},

		checkinClassLesson() {
			let args = {
				lessonId: this.lessonId,
				hasCheckinCoach: this.isCheckinForCoach,
				memberLessonOptMap: this.memberLessonOptMap,
				memberVacationRemarkMap: this.memberVacationRemarkMap
			};
			$.Req.service($.SvName.CLASS_LESSON_CHECKIN, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.mlMemberList = [];
				this.classMembOptCnts = [0, 0, 0, 0];
				this.queryLesson();
				this.queryMemberLesson();
			}, true);
		},

		openCancelCheckinDlg(idx) {
			this.selectMlIdx = idx;
			this.glCheckinCancelDlg = true;
		},

		cancelCheckin() {
			let ml = this.memberLessonList[this.selectMlIdx];
			let optTypeName = ml.status === 4 ? '扣费' : '签到';
			let msg = '您确定要取消【{0}】的{1}吗？ '.format(ml.memberName, optTypeName);
			if (ml.mcId) msg += '取消后，会员的本次课消费将退回。';
			$.Dlg.confirm(msg, yes => {
				let args = { mlId: ml.mlId, lessonId: this.lessonId, remark: this.checkinCancelRemark };
				$.Req.service($.SvName.MEMBER_LESSON_CHECKIN_CANCEL, args, ret => {
					this.glCheckinCancelDlg = false;
					this.memberLessonList.splice(this.selectMlIdx, 1);
					this.queryLesson();
				});
			});
		},

		printMlTicket(id) {
			let shopName = $.data.tenant.tenantName === $.data.shop.shopName ? $.data.shop.shopName : $.data.tenant.tenantName + '<br>' + $.data.shop.shopName;
			$.Util.printForPos(id, shopName, true);
		},

		viewCust(custId, custName) {
			this.selectCustId = custId;
			this.selectCustName = custName;
			this.custDlgView = true;
		},

		checkAllCheckin() {
			let val = null;
			if (this.isCheckAllCheckin) val = 3;
			for (let m of this.mlMemberList) {
				this.$set(this.memberLessonOptMap, m.memberId, val);
			}
			this.calcClassMemberOptCnt();
		},

		calcClassMemberOptCnt() {
			this.classMembOptCnts = [0, 0, 0, 0];
			for (let m of this.mlMemberList) {
				let optVal = this.memberLessonOptMap[m.memberId];
				this.classMembOptCnts[optVal]++;
			}
		},

		changeClassMemberOpt(val) {
			this.calcClassMemberOptCnt();
		},

		openDlgForClassMemberVacation(m) {
			this.selectMember = m;
			this.classMemberVacationDlg = true;
		},

		submitClassMemberVacation() {
			if (!confirm('您确定给【{0}】请假吗？'.format(this.selectMember.name))) {
				return;
			}
			if (!this.classMemberVacationRemark) {
				$.Msg.error('请输入请假备注');
				return;
			}
			let args = {
				lessonId: this.lessonId,
				memberId: this.selectMember.memberId,
				remark: this.classMemberVacationRemark
			};
			$.Req.service($.SvName.MEMBER_LESSON_VACATION_CREATE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.classMemberVacationDlg = false;
				this.queryMemberLesson();
			}, true);
		},

		delMemberLessonVacation(mlv) {
			if (!confirm('您确定要删除【{0}】的请假吗？'.format(mlv.memberName))) {
				return;
			}

			let args = {
				mlvId: mlv.mlvId,
				memberId: mlv.memberId,
				lessonId: mlv.lessonId
			};
			$.Req.service($.SvName.MEMBER_LESSON_VACATION_DELETE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.queryMemberLesson();
			}, true);
		}
	}
});

/***/ }),

/***/ 1156:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__tenant_tenant_mp_auth__ = __webpack_require__(875);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__tenant_tenant_mp_auth___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__tenant_tenant_mp_auth__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ __webpack_exports__["default"] = ({
  components: { TenantMpAuth: __WEBPACK_IMPORTED_MODULE_0__tenant_tenant_mp_auth___default.a },
  props: {
    afterSubmit: {
      type: Function,
      default() {
        return {};
      }
    },
    onClose: {
      type: Function,
      default() {
        return {};
      }
    }
  },

  data() {
    return {
      g: window.$,
      today: new Date(),
      queryNo: null,
      queryNoType: null,
      member: null,
      memberList: null,
      queryError: null,
      allowCkinCardCnt: null,
      memberCardList: null,
      password: null,
      selectCardIndex: null,
      checkinCardCnt: 0,
      checkinCount: 1,
      clickedSubmit: false,
      preQueryNo: null,
      pcScheduleList: null,
      selectPsIdx: null,
      selectPs: null,
      times: [],
      bookingDate: new Date(),
      dataType: {
        USED: 1,
        PAST: 2,
        USABLE: 3,
        VACATION: 4,
        PENDING: 5,
        DISUSED: 6
      },
      minInterval: 15,
      hours: [5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23],
      timeItems: [],
      hasLoadTimeItems: false,
      latestDates: [],
      preCoachId: null,
      selectTimeIdx: null,
      cardPaymentConf: {},
      coachId: null,
      coachList: null,
      lessonTitlesInTimes: {},
      enableMoreBookings: null,
      pcLessonForMoreBookingsList: null,
      groundList: null,
      selectGroundId: null,
      hideInvalidCards: null,
      enablePlCardVenueConf: null,
      vb: {
        isSelect: null,
        venueList: null,
        venueId: null,
        vaId: null,
        vaList: null,
        vaiList: null,
        bookingTimesList: null,
        bookingHourList: null
      }
    };
  },

  watch: {
    selectCardIndex: function (val) {
      this.vb.venueList = null;
      this.queryVenueList();
    }
  },
  created() {
    this.initTimes();

    let nowTime = new Date().getTime();
    for (let i = 0; i < 5; i++) {
      this.latestDates.push(new Date(nowTime + 3600000 * 24 * i));
    }
    $.Req.queryGround(data => {
      this.groundList = data;
    });
    this.queryShopArgs();
  },

  methods: {
    initTimes() {
      if ($.Util.cookie.get($.Conf.CookieKeys.PL_BOOKING_MIN_INTERVAL)) {
        this.minInterval = parseInt($.Util.cookie.get($.Conf.CookieKeys.PL_BOOKING_MIN_INTERVAL));
      }

      this.times = [];
      for (let i = 0, len = this.hours.length; i < len; i++) {
        let h = this.hours[i];
        this.times.push([h, 0]);
        for (let j = 1; this.minInterval * j < 60; j++) {
          this.times.push([h, this.minInterval * j]);
        }
      }
    },

    initTimeItems() {
      this.selectTimeIdx = null;
      this.timeItems = [];
      let now = new Date();
      for (let i = 0, len = this.hours.length; i < len; i++) {
        if (this.bookingDate.compareDatePart(now) > 0) {
          this.timeItems.push({ type: this.dataType.USABLE });
        } else {
          this.timeItems.push({ type: this.dataType.USABLE });
        }
      }
    },

    initData() {
      this.queryNo = null;
      this.member = null;
      this.selectCardIndex = null;
      this.queryError = null;
      this.checkinCardCnt = 0;
    },

    isInVacation(begin, end) {
      if (begin && end) {
        let today = new Date();
        if (today.compareDatePart(new Date(begin)) >= 0 && today.compareDatePart(new Date(end)) <= 0) {
          return true;
        }
      }

      return false;
    },

    queryMemberPsCoach() {
      if (!this.member) {
        return;
      }

      let args = {
        memberId: this.member.memberId
      };

      $.Req.service($.SvName.MEMBER_PS_COACH_QUERY, args, ret => {
        this.coachList = ret.coachList;
      });
    },

    queryMember() {
      if (!this.queryNo) {
        $.Msg.warning($.Lang.NO_INPUT);
        return;
      }

      this.selectPsIdx = null;
      let args = {};
      if ($.Util.validatePhoneNo(this.queryNo)) {
        this.queryNoType = "phone";
        args = { nameOrPhone: this.queryNo };
      } else {
        if (!$.Util.isInteger(this.queryNo)) {
          this.queryNoType = "name";
          args = { fuzzyName: this.queryNo };
        } else {
          this.queryNoType = "card";
          if (!$.Util.validateCardNo(this.queryNo)) {
            $.Msg.error($.Lang.CARD_NO_TOO_LONG);
            return;
          }
          args = { cardNo: this.queryNo };
        }
      }
      args.needPhoneSuffix = true;
      $.Req.service($.SvName.MEMBER_ADV_QUERY, args, ret => {
        this.preQueryNo = this.queryNo;
        if (!ret || !ret.memberList || ret.memberList.length === 0) {
          this.member = null;
          if (this.queryNoType === "phone") {
            this.queryError = "不存在此手机号【{0}】的会员，请检查手机号是否正确".format(this.queryNo);
          } else {
            this.queryError = "不存在姓名为【{0}】的会员".format(this.queryNo);
          }
          return;
        }
        this.queryError = null;
        if (ret.memberList.length === 1) {
          this.memberList = null;
          this.queryError = null;
          this.member = ret.memberList[0];
          this.queryMemberPsCoach();
        } else {
          this.member = null;
          this.memberList = ret.memberList;
        }
      }, true);
    },

    selectMember(idx) {
      this.member = {};
      $.Util.copyAttributes(this.memberList[idx], this.member);
      this.memberList = null;
      this.queryMemberPsCoach();
    },

    queryPrivateSchedule() {
      let args = {
        memberId: this.member.memberId,
        includeOpenSchedule: true,
        coachId: this.coachId,
        page: 1
      };
      $.Req.service($.SvName.PRIVATE_COURSE_SCHEDULE_QUERY, args, ret => {
        for (let ps of ret.pcScheduleList) {
          ps.mcIdArr = ps.mcIds ? ps.mcIds.split(",") : [];
          ps.limitWeekArr = !$.Util.isEmptyArray(ps.limitWeeks) ? ps.limitWeeks.split(",") : [0, 1, 2, 3, 4, 5, 6];
          ps.limitWeekArr = ps.limitWeekArr.map(function (val) {
            return +val;
          });
        }
        this.pcScheduleList = ret.pcScheduleList;
        // if (this.pcScheduleList.length === 0) {
        if (this.pcScheduleList.length) {
          this.selectPsIdx = 0;
          this.queryCoachLessons();
          this.setCardPaymentConf();
          this.queryMemberCard();
        } else {
          this.selectPsIdx = null;
        }
      });
    },

    queryCoachLessons() {
      this.initTimeItems();
      let coachId = this.coachId;
      let args = {
        beginDate: this.bookingDate,
        endDate: this.bookingDate,
        coachId: coachId
      };
      $.Req.service($.SvName.PC_LESSON_QUERY, args, ret => {
        let ps = this.pcScheduleList[this.selectPsIdx];
        let lessonDuration = ps.duration;
        let timeState = {};
        this.lessonTitlesInTimes = {};
        for (let l of ret.pcLessonList) {
          let beginTime = parseInt(l.beginTime);
          let endTime = parseInt(l.endTime);

          let beginHour = parseInt(l.beginTime / 100);
          let endHour = parseInt(l.endTime / 100);
          let endMin = parseInt(l.endTime % 100);

          let type = this.dataType.PENDING;
          let lessonDesc = "{0}【{1}:{2} ~ {3}:{4}】{5}".format(l.memberName, beginHour, l.beginTime.toString().substr(-2, 2), endHour, l.endTime.toString().substr(-2, 2), l.courseName);

          if (endMin === 0) endHour--;
          for (let h = beginHour; h <= endHour; h++) {
            let mins = {};
            for (let j = 0; j < 60; j += this.minInterval) {
              let t = h * 100 + j;
              if (timeState[t] !== this.dataType.USED) {
                if (t >= beginTime && t < endTime) mins[j] = this.dataType.USED;else if (t >= endTime) mins[j] = this.dataType.USABLE;else if (t + lessonDuration > beginTime) mins[j] = this.dataType.DISUSED;else mins[j] = this.dataType.USABLE;
                timeState[t] = mins[j];
              } else {
                mins[j] = this.dataType.USED;
              }
              if (mins[j] === this.dataType.USED && !this.lessonTitlesInTimes[t]) {
                this.lessonTitlesInTimes[t] = lessonDesc;
              }
            }
            this.$set(this.timeItems, h - this.hours[0], {
              type: type,
              beginTime: beginTime,
              endTime: endTime,
              mins: mins
            });
          }
        }

        this.setCoachVacation(coachId);
      }, true);
    },

    getVacationList(ws) {
      let vacationList = [];
      if (ws.vacationBegin && ws.vacationEnd) {
        let vac = {
          beginDate: ws.vacationBegin,
          endDate: ws.vacationEnd
        };
        if (ws.vacationBeginTime && ws.vacationEndTime) {
          vac.beginTime = $.Util.formatTime(ws.vacationBeginTime);
          vac.endTime = $.Util.formatTime(ws.vacationEndTime);
        }
        vacationList.push(vac);
      }
      if (ws.vacations) {
        for (let itemStr of ws.vacations.split(";")) {
          let items = itemStr.split(",");
          if (items.length < 2) continue;

          let vac = {};
          vac.beginDate = items[0];
          vac.endDate = items[1];
          if (items.length > 2) {
            vac.beginTime = items[2];
            vac.endTime = items[3];
          }
          vacationList.push(vac);
        }
      }

      return vacationList;
    },

    handleCoachVacation(ws) {
      let vacationList = this.getVacationList(ws);

      for (let v of vacationList) {
        let vbeingDate = Date.new(v.beginDate);
        let vendDate = Date.new(v.endDate);
        let [vbeginTime, vendTime] = [$.Util.getTimeNum(v.beginTime), $.Util.getTimeNum(v.endTime)];
        let [vbeginHour, vendHour, vendMin] = [null, null, null];
        if ($.Util.isNotEmpty(vbeginTime) && $.Util.isNotEmpty(vendTime)) {
          [vbeginHour, vendHour, vendMin] = [parseInt(vbeginTime / 100), parseInt(vendTime / 100), parseInt(vendTime % 100)];
        }
        let dt = this.bookingDate;
        if (dt.compareDatePart(vbeingDate) >= 0 && dt.compareDatePart(vendDate) <= 0) {
          for (let j = 0, len = this.hours.length; j < len; j++) {
            if ($.Util.isNotEmpty(vbeginTime) && $.Util.isNotEmpty(vendTime)) {
              if (this.hours[j] >= vbeginHour && this.hours[j] * 100 < vendHour * 100) {
                if (this.timeItems[j].type === this.dataType.USABLE) this.$set(this.timeItems, j, {
                  type: this.dataType.VACATION
                });
              }
            } else {
              if (this.timeItems[j].type === this.dataType.USABLE) this.$set(this.timeItems, j, { type: this.dataType.VACATION });
            }
          }
        }
      }
    },

    setCoachVacation(coachId) {
      let args = { staffId: coachId };
      $.Req.service($.SvName.COACH_WORK_SCHEDULE_QUERY, args, ret => {
        let ws = ret.coachWorkSchedule;
        if (!ws) return;

        this.handleCoachVacation(ws);
        if (ws.worktime) {
          let week = this.bookingDate.getDay();
          let dayTimes = ws.worktime.split(";");
          let worktimeGrid = new Array(this.hours.length);
          let sysWeek = week;
          if (week === 0) sysWeek = 7;
          let confWorkTimeByHalfHour = false;
          for (let h of dayTimes[sysWeek - 1].split(",")) {
            h = parseInt(h);
            if (h < 100) {
              worktimeGrid[h - this.hours[0]] = 1;
            } else {
              worktimeGrid[h] = 1;
              confWorkTimeByHalfHour = true;
            }
          }

          if (!confWorkTimeByHalfHour) {
            for (let j = 0, len = this.hours.length; j < len; j++) {
              if (!worktimeGrid[j] && this.timeItems[j].type === this.dataType.USABLE) {
                this.$set(this.timeItems, j, { type: this.dataType.VACATION });
              }
            }
          } else {
            for (let i = 0, len = this.hours.length; i < len; i++) {
              let fistHalfHour = this.hours[i] * 100;
              let lastHalfHour = this.hours[i] * 100 + 30;
              if (worktimeGrid[fistHalfHour] && worktimeGrid[lastHalfHour]) continue;

              let mins = {};
              for (let j = 0; j < 60; j += this.minInterval) {
                if (!worktimeGrid[fistHalfHour]) {
                  if (j < 30) mins[j] = this.dataType.VACATION;
                }
                if (!worktimeGrid[lastHalfHour]) {
                  if (j >= 30) mins[j] = this.dataType.VACATION;
                }
              }
              let item = this.timeItems[i];
              item.mins = mins;
              this.$set(this.timeItems, i, item);
            }
          }
        }
      });
    },

    queryMemberCard() {
      this.selectCardIndex = null; // init
      let args = { memberId: this.member.memberId };
      $.Req.service($.SvName.MEMBER_CARD_QUERY, args, ret => {
        this.memberCardList = [];
        let ps = this.pcScheduleList[this.selectPsIdx];
        for (let c of ret.memberCardList) {
          if ((c.cardClass === 2 || c.cardType > 1) && (!ps.mcIds || ps.mcIdArr.contains(c.mcId + ""))) {
            this.memberCardList.push(c);
          }
        }
        this.hideInvalidCards = this.memberCardList && this.memberCardList.length > 5;
        this.validateMemberCardList();
      });
    },

    validateMemberCardList() {
      if ($.Util.isEmptyArray(this.memberCardList)) return;

      let ckinCnt = 0;
      let i = 0;
      let firstCkinCardIdx = -1;
      for (let mc of this.memberCardList) {
        let checkRet = this.checkMemberCard(mc);
        mc.canSelect = checkRet[0];
        if (mc.canSelect) {
          ckinCnt++;
          if (firstCkinCardIdx < 0) firstCkinCardIdx = i;
        } else {
          mc.error = checkRet[1];
        }
        i++;
      }
      if (ckinCnt >= 1) {
        this.selectCardIndex = firstCkinCardIdx;
      }
      this.allowCkinCardCnt = ckinCnt;
    },

    setCardPaymentConf() {
      let confStr = this.pcScheduleList[this.selectPsIdx].cardPaymentConf;
      if (confStr && confStr.length > 0) {
        this.cardPaymentConf = {};
        let records = confStr.split(",");
        for (let r of records) {
          let [cardId, payment] = r.split(":");
          this.cardPaymentConf[cardId] = payment;
        }
      } else {
        this.cardPaymentConf = null;
      }
    },

    formatTime(timeId) {
      return parseInt(timeId / 100) + ":" + (timeId + "").substr(-2, 2);
    },

    checkMemberCard(mc) {
      let ret = $.MemberLib.checkMemberCard(mc, null, null, this.bookingDate);
      if (!ret[0]) {
        return ret;
      }

      if (!(mc.cardId in this.cardPaymentConf)) {
        // 该课程未设置本卡
        return [false, "不在本课计费卡范围内"];
      }

      // 检查余额
      let cardPayment = this.cardPaymentConf[mc.cardId];
      if (mc.cardType === 1) {
        // 期限卡
        if (mc.beginDate) {
          if (this.today.compareDatePart(Date.new(mc.beginDate)) < 0) {
            return [false, "尚未到开卡日期"];
          }
        }
        if (mc.endDate) {
          if (this.today.compareDatePart(mc.endDate) > 0) {
            return [false, "会员卡已过期"];
          }
        }
      } else if (mc.cardType === 2) {
        // 次卡
        if (mc.currentTimes - cardPayment < 0) {
          return [false, "剩余次数不足：此节课需消费{0}次".format(cardPayment)];
        }
      } else if (mc.cardType === 3) {
        // 储值卡
        if (mc.currentAmount - cardPayment < 0) {
          return [false, "剩余金额不足：此节课需消费{0}元".format(cardPayment)];
        }
      }

      if (!this.cardPaymentConf) {
        // 无需计费
        return [true, null];
      }

      return [true, null];
    },

    handleSubmit() {
      if (this.selectCardIndex === null) {
        $.Msg.error("请选择一张会员卡");
        return;
      }
      if (!this.bookingDate) {
        $.Msg.error("请选择上课预约日期");
        return;
      }
      if (this.selectTimeIdx === null) {
        $.Msg.error("请选择上课预约时间");
        return;
      }

      let msg = "确定要预约吗？";
      if (!confirm(msg)) return;

      let memberCard = this.memberCardList[this.selectCardIndex];
      let ps = this.pcScheduleList[this.selectPsIdx];
      let selectTime = this.times[this.selectTimeIdx];
      let lessonBeginTime = selectTime[0] * 100 + selectTime[1];
      let lessonTimeStr = selectTime[0] + ":" + selectTime[1] + (selectTime[1] < 10 ? "0" : "");
      let beginTimeObj = Date.new($.Util.formatDate(this.bookingDate) + " " + lessonTimeStr + ":00");
      let endTimeObj = new Date(beginTimeObj.getTime() + 60000 * ps.duration);
      let lessonEndTime = endTimeObj.getHours() * 100 + endTimeObj.getMinutes();
      let pcLesson = {
        psId: ps.psId,
        courseId: ps.courseId,
        groundId: this.selectGroundId,
        coachId: ps.coachId,
        memberId: this.member.memberId,
        lessonDate: this.bookingDate,
        beginTime: lessonBeginTime,
        endTime: lessonEndTime
      };
      let args = {
        pcLesson: pcLesson,
        mcId: memberCard.mcId,
        memberId: this.member.memberId,
        optType: 1,
        courseType: 2
      };
      if (this.enablePlCardVenueConf && this.vb.isSelect) {
        if (!this.vb.venueId) {
          $.Msg.warning("请选择一个场馆");
          return;
        }
        if (!this.vb.vaId) {
          $.Msg.warning("请选择一个场地");
          return;
        }
        args.venueId = this.vb.venueId;
        args.vaId = this.vb.vaId;
        args.venueBookingHourList = this.vb.bookingHourList;
      }
      $.Req.service($.SvName.MEMBER_LESSON_OPERATE, args, ret => {
        $.Msg.success("预约成功");
        if (this.afterSubmit) {
          this.afterSubmit();
        }
      }, true);
    },

    setBookingDate(d) {
      this.bookingDate = d;
      this.changeBookingDate();
    },

    changeBookingDate() {
      if (this.enableMoreBookings) {
        this.queryPcLessonForMoreBookings();
      } else {
        this.queryCoachLessons();
      }
      this.validateMemberCardList();
    },

    changeCoach(val) {
      this.coachId = val;
      this.queryPrivateSchedule();
    },

    changePs(val) {
      if ($.Util.isEmpty(val)) this.selectPsIdx = null;else this.selectPsIdx = val;

      if (this.selectPsIdx !== null && this.pcScheduleList && this.pcScheduleList.length) {
        this.selectGroundId = this.pcScheduleList[this.selectPsIdx].groundId;
        this.setCardPaymentConf();
        this.queryCoachLessons();
        this.queryMemberCard();
      }
    },

    changeTimeInterval() {
      let newVal = prompt("请设置预约上课时间的间隔（默认15分钟，必须为5或10的倍数）：");
      if (newVal) newVal = parseInt(newVal);else return;

      if (!newVal) return;else if (newVal % 5 !== 0 && newVal % 10 !== 0) {
        $.Dlg.error("时间间隔必须为5或10的倍数");
        return;
      }

      if (newVal && newVal != this.minInterval) {
        $.Util.cookie.set($.Conf.CookieKeys.PL_BOOKING_MIN_INTERVAL, newVal, 365);
        this.minInterval = newVal;
        this.initTimes();
        this.queryCoachLessons();
      }
    },

    checkTime(idx, min) {
      let i = this.times[idx][0] - this.hours[0];
      if (this.timeItems[i].type === this.dataType.USABLE && this.timeItems[i].mins[min] !== this.dataType.VACATION || this.timeItems[i].type === this.dataType.PENDING && this.timeItems[i].mins[this.times[idx][1]] === this.dataType.USABLE) {
        this.selectTimeIdx = idx;
      }
      if (this.enablePlCardVenueConf && this.vb.isSelect && this.vb.venueId) {
        this.queryVenueArea();
      }
    },

    altCardVacation(mc) {
      if (!confirm("确定提前销假吗？ 确定后会将请假结束日期自动修改到昨天。")) {
        return;
      }

      let args = {
        mcId: mc.mcId,
        vacationEnd: new Date(new Date().getTime() - 24 * 3600 * 1000)
      };
      $.Req.service($.SvName.MEMBER_CARD_VACATION_UPDATE, args, (ret, systime) => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.queryMemberCard();
      }, true);
    },

    changeEnableMoreBookings() {
      if (this.enableMoreBookings) {
        this.queryPcLessonForMoreBookings();
      } else {
        this.queryCoachLessons();
      }
    },

    queryPcLessonForMoreBookings() {
      let args = {
        psId: this.pcScheduleList[this.selectPsIdx].psId,
        lessonDate: this.bookingDate
      };
      $.Req.service($.SvName.PC_LESSON_FOR_MORE_BOOKINGS_QUERY, args, ret => {
        this.pcLessonForMoreBookingsList = ret.pcLessonList;
      });
    },

    bookingPcLesson(lessonId) {
      if (this.selectCardIndex === null) {
        $.Msg.error("请选择一张会员卡");
        return;
      }
      let msg = "确定要预约吗？";
      if (!confirm(msg)) return;

      let memberCard = this.memberCardList[this.selectCardIndex];
      let args = {
        lessonId: lessonId,
        mcId: memberCard.mcId,
        memberId: this.member.memberId,
        optType: 1,
        courseType: 2
      };
      $.Req.service($.SvName.MEMBER_LESSON_OPERATE, args, ret => {
        $.Msg.success("预约成功");
        if (this.afterSubmit) {
          this.afterSubmit();
        }
      }, true);
    },

    queryShopArgs() {
      let args = { typeIdList: [2066] };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
        for (let t of ret.argList) {
          if (t.typeId == 2066) this.enablePlCardVenueConf = t.typeValue === "true";
        }
      });
    },

    queryVenueList() {
      if (!this.vb.isSelect || this.vb.venueList || this.selectCardIndex === null) return;

      let args = {
        cardId: this.memberCardList[this.selectCardIndex].cardId
      };
      $.Req.service($.SvName.PL_CARD_VENUE_CONF_QUERY, args, ret => {
        this.vb.vaId = null;
        this.vb.venueId = null;
        this.vb.venueList = ret.venueList;
        this.vb.vaId = null;
        this.vb.vaList = null;
      }, true);
    },

    queryVenueArea() {
      let ps = this.pcScheduleList[this.selectPsIdx];
      let selectTime = this.times[this.selectTimeIdx];
      let lessonBeginTime = selectTime[0] * 100 + selectTime[1];
      let lessonTimeStr = selectTime[0] + ":" + selectTime[1] + (selectTime[1] < 10 ? "0" : "");
      let beginTimeObj = Date.new($.Util.formatDate(this.bookingDate) + " " + lessonTimeStr + ":00");
      let endTimeObj = new Date(beginTimeObj.getTime() + 60000 * ps.duration);
      let lessonEndTime = endTimeObj.getHours() * 100 + endTimeObj.getMinutes();
      let args = {
        venueId: this.vb.venueId,
        cardId: this.memberCardList[this.selectCardIndex].cardId,
        bookingDate: this.bookingDate,
        beginTime: lessonBeginTime,
        endTime: lessonEndTime
      };
      $.Req.service($.SvName.VENUE_AREA_QUERY_BY_PL_BOOKING, args, ret => {
        this.vb.vaList = ret.vaList;
        this.vb.bookingTimesList = [];
        this.vb.bookingHourList = [];
        for (let t of ret.bookingTimeValList) {
          if (t % 100 === 0) this.vb.bookingHourList.push(parseInt(t / 100) + "-1");else this.vb.bookingHourList.push(parseInt(t / 100) + "-2");
          let end = t + 30;
          if (end % 100 == 80) {
            end += 40;
          }
          this.vb.bookingTimesList.push([$.Util.formatTime(t), $.Util.formatTime(end)]);
        }
      }, true);
    }
  }
});

/***/ }),

/***/ 1157:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	props: {
		lessonId: {
			type: Number,
			required: true
		},
		optType: { // 1-预约，2-签到
			type: Number,
			required: true
		},
		afterSubmit: {
			type: Function,
			default() {
				return {};
			}
		},
		onClose: {
			type: Function,
			default() {
				return {};
			}
		}
	},

	data() {
		return {
			g: window.$,
			today: new Date(),
			queryNo: null,
			member: null,
			queryError: null,
			memberCardList: null,
			password: null,
			selectCardIndex: null,
			cardPaymentConf: {},
			lesson: null,
			memberLesson: null,
			submitLoading: false,
			paymentCount: 1,
			OPT_TYPE: {
				BOOKING: 1, CHECKIN: 2
			},
			pos: {
				rows: null,
				cols: null,
				positions: null,
				usedPositionList: [],
				selectPos: null,
				selectPosArr: [],
				selections: {}
			},
			memberList: null,
			hasMemberCardNo: false,
			targetType: 'member', // member, cust
			custList: null,
			cust: null,
			hideInvalidCards: null
		};
	},

	computed: {
		canSubmit: function () {
			if (this.optType === this.OPT_TYPE.BOOKING) {
				// 预约
				if (this.lesson.isNeedBooking) {
					//&& !this.memberLesson
					return true;
				}
			} else if (this.optType === this.OPT_TYPE.CHECKIN) {
				// 签到
				if (this.lesson.isNeedBooking && this.memberLesson && this.memberLesson.status === 1) {
					return true;
				} else if (!this.lesson.isNeedBooking) {
					return true;
				} else if (!this.memberLesson) {
					return true;
				}
			}

			return false;
		}
	},

	created() {
		if (this.defaultPhoneNo) {
			this.queryNo = this.defaultPhoneNo;
		}
	},

	methods: {
		initData() {
			this.queryNo = null;
			this.member = null;
			this.selectCardIndex = null;
			this.password = null;
			this.lesson = null;
			this.cardPaymentConf = {};
			this.memberLesson = null;
		},

		isInVacation(begin, end) {
			if (begin && end) {
				let today = new Date();
				if (today.compareDatePart(Date.new(begin)) >= 0 && today.compareDatePart(Date.new(end)) <= 0) {
					return true;
				}
			}

			return false;
		},

		doQuery() {
			if (!this.queryNo) {
				$.Msg.warning($.Lang.NO_INPUT);
				return;
			}
			this.cust = null;
			this.member = null;
			this.custList = null;
			this.memberList = null;
			this.memberLesson = null;
			this.memberCardList = null;

			if (this.targetType === 'member') this.queryMember();else if (this.targetType === 'cust') this.queryCust();
		},

		queryMember() {
			let args = {};
			if ($.Util.validatePhoneNo(this.queryNo)) {
				this.queryNoType = 'phone';
				args = { nameOrPhone: this.queryNo };
			} else {
				if (!$.Util.isInteger(this.queryNo)) {
					args = { fuzzyName: this.queryNo };
				} else {
					this.queryNoType = 'card';
					if (!$.Util.validateCardNo(this.queryNo)) {
						$.Msg.error($.Lang.CARD_NO_TOO_LONG);
						return;
					}
					args = { cardNo: this.queryNo };
				}
			}
			args.needPhoneSuffix = true;
			$.Req.service($.SvName.MEMBER_ADV_QUERY, args, ret => {
				this.member = null;
				if (!ret || !ret.memberList || ret.memberList.length === 0) {
					if (this.queryNoType === 'phone') {
						this.queryError = "不存在手机号为【{0}】的会员，请检查手机号是否正确".format(this.queryNo);
					} else if (!$.Util.isInteger(this.queryNo)) {
						this.queryError = "不存在姓名为【{0}】的会员，请检查姓名是否正确".format(this.queryNo);
					} else {
						this.queryError = "不存在卡号为【{0}】的会员，请检查卡号是否正确".format(this.queryNo);
					}
					return;
				}
				this.queryError = null;
				if (ret.memberList.length === 1) {
					this.memberList = null;
					this.member = ret.memberList[0];
					this.doProcessAfterQueryMember();
				} else {
					this.memberList = ret.memberList;
				}
			}, true);
		},

		queryCust() {
			let args = {};
			if ($.Util.validatePhoneNo(this.queryNo)) {
				args = { phoneNo: this.queryNo };
			} else {
				args = { name: this.queryNo };
			}

			$.Req.service($.SvName.CUST_QUERY, args, ret => {
				this.cust = null;
				if (ret.cust) {
					ret.custList = [ret.cust];
				}
				if (!ret || !ret.custList || ret.custList.length === 0) {
					if (args.phoneNo) {
						this.queryError = "不存在手机号为【{0}】的客户，请检查手机号是否正确".format(this.queryNo);
					} else {
						this.queryError = "不存在姓名为【{0}】的客户，请检查姓名否正确".format(this.queryNo);
					}
					return;
				}
				this.queryError = null;
				if (ret.custList.length === 1) {
					this.custList = null;
					this.cust = ret.custList[0];
					this.doProcessAfterQueryCust();
				} else {
					this.custList = ret.custList;
				}
			}, true);
		},

		doProcessAfterQueryMember() {
			if (this.member.birthdayDate) {
				this.member.birthDayDesc = parseInt(this.member.birthdayDate / 100) + "月" + this.member.birthdayDate % 100 + '日';
				if (parseInt(new Date().format('MMdd')) === this.member.birthdayDate) {
					this.member.birthDayDesc += ' <b class="red">（今日生日）</b>';
				}
			}
			this.member.memberPhotoUrl = $.Util.getImgUrl(this.member.avatarPathname, 200, 200, 'EEEEEE');

			this.queryLesson(() => {
				this.queryMemberLesson();
			});
		},

		doProcessAfterQueryCust() {
			this.queryLesson(() => {
				this.queryCustLesson();
			});
		},

		queryMemberCard() {
			this.selectCardIndex = null; // init
			$.Req.service($.SvName.MEMBER_CARD_QUERY, { memberId: this.member.memberId }, ret => {
				this.memberCardList = ret.memberCardList;
				let ckinCnt = 0;
				let i = 0;
				let firstCkinCardIdx = -1;
				this.hasMemberCardNo = false;
				for (let mc of this.memberCardList) {
					if (mc.cardNo && this.queryNoType === 'card' && parseInt(this.queryNo) === parseInt(mc.cardNo)) {
						this.hasMemberCardNo = true;
						mc.isFind = true;
					}

					let checkRet = this.checkMemberCard(mc);
					mc.canSelect = checkRet[0];
					if (mc.canSelect) {
						ckinCnt++;
						if (firstCkinCardIdx < 0) firstCkinCardIdx = i;
					} else {
						mc.error = checkRet[1];
					}
					i++;
				}
				if (ckinCnt >= 1) {
					this.selectCardIndex = firstCkinCardIdx;
				}
				this.hideInvalidCards = ret.memberCardList && ret.memberCardList.length > 5;
			});
		},

		queryMemberLesson() {
			let args = {
				memberId: this.member.memberId,
				lessonId: this.lessonId,
				page: 1
			};
			this.memberCardList = null; // init
			$.Req.service($.SvName.MEMBER_GROUP_LESSON_QUERY, args, ret => {
				if (ret.memberLessonList && ret.memberLessonList.length >= 1) {
					this.memberLesson = ret.memberLessonList[0];
				} else {
					this.memberLesson = null;
				}
				this.queryMemberLessonPosition();
				this.queryMemberCard();
			});
		},

		queryCustLesson() {
			let args = {
				custId: this.cust.custId,
				lessonId: this.lessonId,
				page: 1
			};
			$.Req.service($.SvName.MEMBER_GROUP_LESSON_QUERY, args, ret => {
				if (ret.memberLessonList && ret.memberLessonList.length >= 1) {
					this.memberLesson = ret.memberLessonList[0];
				} else {
					this.memberLesson = null;
				}
				this.queryMemberLessonPosition();
			});
		},

		queryLesson(callback) {
			let args = {
				lessonId: this.lessonId
			};

			$.Req.service($.SvName.LESSON_QUERY, args, ret => {
				if (!ret || !ret.lesson) {
					$.Msg.error($.Lang.NOT_FOUND_RECORD);
					return;
				}
				this.lesson = ret.lesson;
				this.setCardPaymentConf();
				if (callback) callback();
			});
		},

		setCardPaymentConf() {
			if (this.lesson.cardPaymentConf && this.lesson.cardPaymentConf.length > 0) {
				let records = this.lesson.cardPaymentConf.split(',');
				for (let r of records) {
					let [cardId, payment] = r.split(':');
					this.cardPaymentConf[cardId] = payment;
				}
			} else {
				this.cardPaymentConf = null;
			}
		},

		formatTime(timeId) {
			return parseInt(timeId / 100) + ':' + (timeId + '').substr(-2, 2);
		},

		checkMemberCard(mc) {
			let now = new Date();

			let ret = $.MemberLib.checkMemberCard(mc, this.lesson.beginTime, this.lesson.endTime, Date.new(this.lesson.lessonDate));
			if (!ret[0]) {
				return ret;
			}

			if (!this.cardPaymentConf) {
				// 无需计费
				return [true, null];
			}

			if (!(mc.cardId in this.cardPaymentConf)) {
				// 该课程未设置本卡
				return [false, '不在本课计费卡范围内'];
			}

			// 检查余额
			let cardPayment = this.cardPaymentConf[mc.cardId];
			if (mc.cardType === 1) {
				// 期限卡
				if (mc.endDate) {
					if (now.compareDatePart(Date.new(mc.endDate)) > 0) {
						return [false, '会员卡已过期'];
					}
				}
			} else if (mc.cardType === 2) {
				// 次卡
				if (mc.currentTimes - cardPayment < 0) {
					return [false, '剩余次数不足'];
				}
			} else if (mc.cardType === 3) {
				// 储值卡
				if (mc.currentAmount - cardPayment < 0) {
					return [false, '剩余金额不足'];
				}
			}

			return [true, null];
		},

		submitForMember() {
			// 未预约的签到需要验证密码
			if (this.optType === 2 && !this.memberLesson && !this.password && this.member && !this.member.authGroupLessonCheckin) {
				$.Dlg.error('请会员输入系统登录密码，以备校验。');
				return;
			}

			if (this.optType === 1 || !this.memberLesson) {
				if (this.memberCardList && this.memberCardList.length > 0) {
					if (this.selectCardIndex === null) {
						$.Dlg.error('请选择一张会员卡');
						return;
					} else if (this.memberCardList[this.selectCardIndex].cardType !== 1 && !this.paymentCount) {
						$.Dlg.error('人数必须大于0');
						return;
					}

					if (this.lesson.maxStudents > this.lesson.bookings && this.pos.rows && this.pos.cols) {
						if (this.paymentCount === 1) {
							if (this.pos.selectPos === null) {
								$.Msg.error('请选择一个上课位置');
								return;
							}
						} else {
							if (this.pos.selectPosArr.length !== this.paymentCount) {
								$.Msg.error('选择的位置数必须为 {0} 个'.format(this.paymentCount));
								return;
							}
						}
					}
				} else {
					$.Dlg.error('请选择会员卡');
				}
			}

			let msg = this.optType === 1 ? '确定代预约吗？' : '确定代签到吗？';
			if (confirm(msg)) {
				let args = {
					lessonId: this.lessonId,
					memberId: this.member.memberId,
					optType: this.optType,
					courseType: 1,
					paymentCount: this.paymentCount,
					positions: this.pos.selectPosArr
				};
				if (this.selectCardIndex !== null) {
					args.mcId = this.memberCardList[this.selectCardIndex].mcId;
				} else if (this.memberLesson) {
					args.mcId = this.memberLesson.mcId;
				}

				if (this.optType === 2 && this.password) {
					args.passwdMd5 = $.Util.md5(this.password);
				}
				if (this.optType == 2) {
					args.isAppendCheckin = true;
				}
				if (this.optType === 1) {
					args.checkcode = $.MemberLib.getCheckcodeForGlBooking(args.mcId, args.memberId, this.lessonId);
				}

				this.submitLoading = true;
				$.Req.service($.SvName.MEMBER_LESSON_OPERATE, args, ret => {
					this.submitLoading = false;
					if (this.afterSubmit) {
						this.initData();
						this.afterSubmit();
					}
				}, false, err => {
					this.submitLoading = false;
					$.Dlg.error(err);
				});
			}
		},

		submitForCust() {
			if (this.optType === 1 || !this.memberLesson) {
				if (this.lesson.maxStudents > this.lesson.bookings && this.pos.rows && this.pos.cols) {
					if (this.pos.selectPos === null) {
						$.Msg.error('请选择一个上课位置');
						return;
					}
				}
			}

			let msg = this.optType === 1 ? '确定代预约吗？' : '确定代签到吗？';
			if (!confirm(msg)) return;

			let args = {};
			let svName = null;
			if (!this.memberLesson || this.optType === 1) {
				args = {
					lessonId: this.lessonId,
					custId: this.cust.custId,
					positions: this.pos.selectPosArr
				};
			}
			if (this.optType === 1) {
				svName = $.SvName.CUST_GC_LESSON_BOOKING;
			} else {
				svName = $.SvName.CUST_GC_LESSON_CHECKIN;
				if (this.memberLesson) {
					args = { lessonId: this.lessonId, mlId: this.memberLesson.mlId };
				}
			}
			this.submitLoading = true;
			$.Req.service(svName, args, ret => {
				this.submitLoading = false;
				if (this.afterSubmit) {
					this.initData();
					this.afterSubmit();
				}
			}, false, err => {
				this.submitLoading = false;
				$.Dlg.error(err);
			});
		},

		queryMemberLessonPosition(refresh = false) {
			let args = { lessonId: this.lessonId };
			$.Req.service($.SvName.MEMBER_LESSON_POSITION_QUERY, args, ret => {
				this.pos.selections = {};
				this.pos.selectPos = null;
				this.pos.selectPosArr = [];
				this.pos.rows = ret.positionRows;
				this.pos.cols = ret.positionCols;
				this.pos.usedPositionList = ret.positionList ? ret.positionList : [];
				this.pos.positions = {};
				if (this.pos.rows && this.pos.cols && ret.groundPositions) {
					let rows = ret.groundPositions.split(';');
					let i = 0,
					    j = 0;
					for (let r of rows) {
						i++;
						let cols = r.split(',');
						j = 0;
						for (let c of cols) {
							j++;
							if (c) {
								this.pos.positions[i + '-' + j] = c;
							}
						}
					}
				}
				if (refresh) $.Msg.info($.Lang.REFRESH_DONE);
			}, refresh);
		},

		selectPosition(position) {
			if (position && !this.pos.usedPositionList.contains(position)) {
				if (this.paymentCount > 1) {
					if (this.pos.selectPosArr.contains(position)) {
						this.pos.selectPosArr.removeValue(position);
						this.$set(this.pos.selections, position, false);
					} else {
						if (this.pos.selectPosArr.length > this.paymentCount - 1) {
							$.Msg.error('选择的位置数不能超过 {0} 个'.format(this.paymentCount));
							return;
						}
						this.pos.selectPosArr.push(position);
						this.$set(this.pos.selections, position, true);
					}
				} else if (this.pos.selectPos !== position) {
					if (this.pos.selectPos) {
						this.$set(this.pos.selections, this.pos.selectPos, false);
					}
					this.$set(this.pos.selections, position, true);
					this.pos.selectPos = position;
					this.pos.selectPosArr = [position];
				}
			}
		},

		handleClose() {
			this.initData();
			if (this.onClose) this.onClose();
		},

		selectMember(m) {
			this.member = m;
			this.queryNo = m.name;
			this.memberList = null;
			this.doProcessAfterQueryMember();
		},

		selectCust(c) {
			this.cust = c;
			this.queryNo = c.name;
			this.custList = null;
			this.doProcessAfterQueryCust();
		},

		getCardPaymentDesc(cardType, cardId) {
			if (this.cardPaymentConf) {
				let cardPayment = this.cardPaymentConf[cardId];
				if (cardType === 1) return '<span class="gray">期限卡不单独计费</span>';
				if (cardType === 2) return '每次计费 <b>{0}</b> 次'.format(cardPayment);else if (cardType === 3) return '每次计费 <b>{0}</b> 元'.format(cardPayment);else return '';
			} else {
				return '<span class="green">本节课不计费</span>';
			}
		},

		altCardVacation(mc) {
			if (!confirm('确定提前销假吗？ 确定后会将请假结束日期自动修改到昨天。')) {
				return;
			}

			let args = {
				mcId: mc.mcId,
				vacationEnd: new Date(new Date().getTime() - 24 * 3600 * 1000)
			};
			$.Req.service($.SvName.MEMBER_CARD_VACATION_UPDATE, args, (ret, systime) => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.queryMemberCard();
			}, true);
		}
	}
});

/***/ }),

/***/ 1158:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
  components: { MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default.a },
  props: {
    lessonDate: {
      type: Date,
      required: true
    },

    lessonEndDate: {
      type: Date,
      required: false
    }
  },
  data() {
    return {
      g: $,
      memberLessonList: null,
      memberLessonCount: null,
      cardCostAmountSum: null,
      viewMemberDlg: null,
      viewMemberId: null,
      exportFileUrl: null,
      exportDlg: null,
      coachList: null,
      queryCoachId: null
    };
  },

  created() {
    if (this.lessonDate) {
      this.queryMemberLessonList();
    }
  },

  methods: {
    queryMemberLessonList(page = null, isExport = null) {
      if (!page && !isExport) {
        this.memberLessonCount = null;
      }
      let args = {
        beginDate: this.lessonDate,
        needCardCostAmount: true,
        needLessonCoaches: true,
        page: page,
        isExport: isExport
      };
      if (this.lessonEndDate) {
        args.endDate = this.lessonEndDate;
      }
      if (isExport) {
        this.exportDlg = true;
      }
      if (this.coachList && this.queryCoachId) {
        args.coachId = this.queryCoachId;
      }
      $.Req.service($.SvName.MEMBER_GROUP_LESSON_QUERY, args, ret => {
        if (isExport) {
          this.exportFileUrl = ret.fileurl;
        } else {
          this.memberLessonList = ret.memberLessonList;
          if (!page) {
            this.memberLessonCount = ret.count;
            this.cardCostAmountSum = ret.cardCostAmountSum;
            if (!this.coachList) this.coachList = ret.coachList;
          }
          window.scrollTo(0, 0);
        }
      }, true);
    },

    viewMember(memberId) {
      this.viewMemberId = memberId;
      this.viewMemberDlg = true;
    },

    exportMemberLessonList() {
      this.queryMemberLessonList(null, true);
    }
  }
});

/***/ }),

/***/ 1160:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_video_upload_vue__ = __webpack_require__(1132);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_video_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_sys_video_upload_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
  components: { ImgUpload: __WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue___default.a, VideoUpload: __WEBPACK_IMPORTED_MODULE_1__components_sys_video_upload_vue___default.a },
  props: {
    encSid: {
      type: String,
      required: true
    },
    from: {
      type: String,
      default: ""
    },
    editable: {
      type: Boolean,
      default: true
    }
  },
  data() {
    return {
      g: $,
      readonly: !this.editable,
      isTenantOwner: false,
      imgFileList: [],
      shop: {
        shopName: "",
        shopType: "",
        addrProvince: null,
        addrCity: null,
        addrDistrict: null,
        addrDetail: "",
        tel: "",
        weixinNo: "",
        bizHours: "",
        paymentType: 1,
        isTrial: true,
        expDate: "",
        buyMembers: 0,
        logoPathname: ""
      },
      shopTypes: $.Dict.ShopTypeOptions,
      addrList: [{}, {}, {}],
      requiredFields: ["shopName", "shopType", "bizHours", "tel", "paymentType"],
      shopFormRule: {},
      createdMemberCnt: 0,
      imgUpload: {
        action: $.Conf.IMG_UPLOAD_URL,
        imgMaxWidth: 1024,
        defaultList: [],
        defaultLogo: []
      },
      disableModule: {
        groupCourse: null,
        privateCourse: null,
        cust: null,
        marketing: null
      },
      hasDisableMModule: null,
      defaultVideos: []
    };
  },

  created() {
    this.isTenantOwner = $.data.user.isTenantOwner;

    if (this.requiredFields) {
      $.Util.addRequiredFieldsRules(this.shopFormRule, this.requiredFields);
    }
    this.init();
    this.queryShopMemberCnt();
    this.queryShopArg();
  },

  methods: {
    init(num = 0) {
      this.queryRegion(1, null, regions => {
        this.$set(this.addrList, 0, regions);
        if (this.encSid) {
          // query shop
          const args = { queryType: 2, encSid: this.encSid };
          $.Req.service($.SvName.SHOP_QUERY, args, ret => {
            if (!ret.shop.paymentType) ret.shop.paymentType = 1;
            this.shop = ret.shop;
            if (ret.shop.shopVideos) {
              let videos = ret.shop.shopVideos.split(",");
              videos = videos.map(ele => {
                let obj = {};
                obj.name = ele;
                obj.url = $.Util.getVideoUrl(ele);
                return obj;
              });
              this.defaultVideos = videos;
            }
            this.shop.encSid = this.encSid;
            this.shop.encTid = $.data.tenant.encTid;
            this.changeShopAddr(1, this.shop.addrProvince);
            if (this.shop.addrCity) {
              this.changeShopAddr(2, this.shop.addrCity);
            }
            if (this.shop.logoPathname) {
              this.imgUpload.defaultLogo = [{
                name: this.shop.logoPathname,
                url: $.Util.getImgUrl(this.shop.logoPathname, 200, 200, "EEEEEE")
              }];
            }
            if (this.shop.shopPics) {
              if (num === 0) {
                for (let p of this.shop.shopPics.split(",")) {
                  this.imgUpload.defaultList.push({
                    name: p,
                    url: $.Util.getImgUrl(p, 200, 200, "EEEEEE")
                  });
                }
              } else {
                let n = this.shop.shopPics.split(",");
                this.imgUpload.defaultList = n.map(ele => {
                  let obj = {};
                  obj.name = ele;
                  obj.url = $.Util.getImgUrl(ele);
                  return obj;
                });
              }
            }
            this.imgFileList = this.imgUpload.defaultList;
          });
        }
      });
    },

    queryRegion(level, pid, callback) {
      let args = null;
      if (pid) {
        args = { queryType: 2, pid: pid };
      } else if (level) {
        args = { queryType: 1, level: level };
      } else {
        return;
      }

      $.Req.service($.SvName.REGION_GET, args, ret => {
        let retRegions = [];
        const regions = ret.regionList;
        for (let i = 0, len = regions.length; i < len; i++) {
          retRegions.push({ value: regions[i].rid, label: regions[i].name });
        }
        callback(retRegions);
      });
    },

    changeShopAddr(level, value) {
      if (level > 1 && !value) return;

      if (level === 1) {
        this.queryRegion(level, value, regions => {
          this.$set(this.addrList, 2, {});
          this.$set(this.addrList, 1, regions);
        });
      } else if (level === 2) {
        this.queryRegion(level, value, regions => {
          this.$set(this.addrList, 2, regions);
        });
      } else {
        alert("Error level: " + level);
      }
    },

    onChangeAddrL1(value) {
      this.changeShopAddr(1, value);
      this.shop.addrCity = null;
      this.shop.addrDistrict = null;
    },

    onChangeAddrL2(value) {
      this.changeShopAddr(2, value);
      this.shop.addrDistrict = null;
    },

    onClickSubmitBtn() {
      this.$refs.shop.validate(valid => {
        if (!valid) {
          $.Msg.error($.Lang.SUBMIT_ERR);
          return;
        }

        let args = this.shop;
        if (this.imgFileList && this.imgFileList.length > 0) {
          let imgNames = [];
          for (let i = 0; i < this.imgFileList.length; i++) {
            imgNames.push(this.imgFileList[i].name);
          }
          args.shopPics = imgNames.join(",");
        } else {
          args.shopPics = null;
        }
        $.Req.service($.SvName.SHOP_UPDATE, args, ret => {
          this.shop.logoPathname = null;
          $.data.shop.shopName = this.shop.shopName;
          if (ret.logoPathname) {
            $.data.shop.logoPathname = ret.logoPathname;
          }
          this.$store.commit($.Conf.StoreTypes.UPDATE_SHOP, {
            shopName: this.shop.shopName,
            logoPathname: $.data.shop.logoPathname
          });
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.init(1);
        });
      });
    },

    handleImgUploadLogoSuccess(res, file) {
      file.url = res.data.url;
      file.name = res.data.name;
      let args = { imgName: file.name };
      $.Req.service($.SvName.SHOP_LOGO_IMG_SAVE, args, ret => {
        this.shop.logoPathname = res.data.name;
        this.$store.commit($.Conf.StoreTypes.UPDATE_SHOP, {
          shopName: this.shop.shopName,
          logoPathname: this.shop.logoPathname
        });
        $.Msg.success("图片已保存");
      });
    },

    handleImgUploadSuccess(res, file) {
      file.url = res.data.url;
      file.name = res.data.name;
      this.imgFileList.push(file);
    },

    handleImgRemove(file, fileList) {
      this.imgFileList.splice(this.imgFileList.indexOf(file), 1);
    },

    queryShopMemberCnt() {
      let args = { encSid: this.encSid };
      $.Req.service($.SvName.SHOP_MEMBER_COUNT_QUERY, args, ret => {
        this.createdMemberCnt = ret.count;
      });
    },

    queryShopArg() {
      let args = { typeIdList: [2056, 2057, 2058, 2059] };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
        for (let t of ret.argList) {
          if (t.typeId == 2056) this.disableModule.groupCourse = t.typeValue === "true";else if (t.typeId == 2057) this.disableModule.privateCourse = t.typeValue === "true";else if (t.typeId == 2058) this.disableModule.cust = t.typeValue === "true";else if (t.typeId == 2059) this.disableModule.marketing = t.typeValue === "true";
        }
        if (this.disableModule.groupCourse || this.disableModule.privateCourse || this.disableModule.cust || this.disableModule.marketing) {
          this.hasDisableMModule = true;
        }
      });
    },

    handleVideoList(list) {
      this.defaultVideos = list;
      let listmap = list.map(m => m.name);
      this.shop.shopVideos = listmap.join(",");
    }
  }
});

/***/ }),

/***/ 1164:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".moduels li[data-v-0529fe5f]{display:inline-block}.moduels li[data-v-0529fe5f]:after{content:\"+\";padding:0 6px 0 10px;color:#aaa}.moduels li[data-v-0529fe5f]:last-child:after{content:\"\"}", ""]);

// exports


/***/ }),

/***/ 1168:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".sum[data-v-171b6b16]{margin-bottom:15px}", ""]);

// exports


/***/ }),

/***/ 1170:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".-glr- .subtit[data-v-4910629c]{margin-left:20px;font-size:12px;font-weight:400;color:#aaa}.-glr- .memb-list .photo[data-v-4910629c]{width:45px;height:45px;display:inline-block;border-radius:50%}.-glr- .memb-list .advisor[data-v-4910629c]{padding-top:8px;color:#999}.-glr- .memb-list .advisor i[data-v-4910629c]{font-size:12px;padding-right:2px}.-glr- .spt[data-v-4910629c]{color:#ccc;padding:0 6px}.-glr- .hd .opt[data-v-4910629c]{margin-left:15px}.-glr- .chkin button[data-v-4910629c],.-glr- .hd .opt button[data-v-4910629c]{height:26px}.-glr- .course-info[data-v-4910629c]{padding:12px 0 20px 15px;line-height:1}.-glr- .course-info li[data-v-4910629c]{display:inline-block;font-size:13px}.-glr- .course-info li[data-v-4910629c]:after{content:\"\\2022\";padding:0 18px;color:#3bb4f2}.-glr- .course-info li[data-v-4910629c]:last-child:after{content:\"\"}.-glr- .course-info .spt[data-v-4910629c]{padding:0 10px;color:#ddd}.-glr- .course-info label[data-v-4910629c]{color:#aaa;padding-right:3px}.-glr- .course-info .status-end[data-v-4910629c]{font-size:32px;color:#179b16;position:relative;top:5px;padding-left:5px}.-glr- .course-info .status-not-end[data-v-4910629c]{font-size:30px;color:red;position:relative;top:5px;padding-left:5px}.-glr- .no-records[data-v-4910629c]{background:#fafafa;text-align:center;padding:20px;color:#aaa}.-submit[data-v-4910629c]{padding-top:25px;text-align:center}.-submit button[data-v-4910629c]{width:120px}.class-memb[data-v-4910629c]{margin-bottom:15px}.class-memb .-hd[data-v-4910629c]{height:50px;line-height:50px;background:#fafafa;padding:0 10px;font-size:13px;border-bottom:1px solid #eee}.class-memb .memblist[data-v-4910629c]{clear:both;background:#f5f5f5;padding:8px}.class-memb .memblist img[data-v-4910629c]{width:75px;height:75px;line-height:75px;border-radius:50%}.class-memb .memblist li[data-v-4910629c]{background:#fff;margin:4px 5px;border-radius:3px;width:248px;display:inline-block;padding:9px;border:1px solid #fff}.class-memb .memblist li .name[data-v-4910629c]{font-size:15px;display:block;padding:2px 0 0 3px;height:18px;line-height:1;max-width:120px;overflow:hidden}.class-memb .memblist li.opt-0[data-v-4910629c]{border-color:#ccc}.class-memb .memblist li.opt-1[data-v-4910629c]{border-color:#ffb229}.class-memb .memblist li.opt-2[data-v-4910629c]{border-color:#ed6a39}.class-memb .memblist li.opt-3[data-v-4910629c]{border-color:#5ac15a}.class-memb .memblist .opts[data-v-4910629c]{margin-top:15px}.class-memb .memblist .opts label[data-v-4910629c]{padding:4px 2px}.class-memb .memblist .opts .icon-edit[data-v-4910629c]{font-size:13px;color:#777}.class-memb .memblist .opts .icon-edit[data-v-4910629c]:hover{color:red}.class-memb .memblist .help[data-v-4910629c]{padding:5px 0 12px 10px}.class-memb .memblist .help dd[data-v-4910629c]{display:inline-block;padding-right:10px}.class-memb .memblist .help dd[data-v-4910629c]:after{content:\"|\";color:#d0d0d0;padding-left:12px}.class-memb .memblist .help dd[data-v-4910629c]:last-child:after{content:\"\"}.class-memb .memblist .help .opt-0[data-v-4910629c]{color:gray}.class-memb .memblist .help .opt-1[data-v-4910629c]{color:orange}.class-memb .memblist .help .opt-2[data-v-4910629c]{color:#ff4500}.class-memb .memblist .help .opt-3[data-v-4910629c]{color:green}.lesson-menus[data-v-4910629c]{text-align:left;margin:0 0 15px;border-bottom:1px solid #e4e4e4;background:#eee;padding:2px 10px 0;line-height:40px}.lesson-menus a[data-v-4910629c]{display:inline-block}.lesson-menus .spt[data-v-4910629c]{padding:0 15px}.opts .memb-vacation[data-v-4910629c]{color:#777}.opts .memb-vacation[data-v-4910629c]:hover{color:red}.opts .memb-vacation i.iconfont[data-v-4910629c]{font-size:14px;color:#777}", ""]);

// exports


/***/ }),

/***/ 1171:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".-lesson-opt[data-v-4e7fda39]{padding:5px}.-lesson-opt .query-zone[data-v-4e7fda39]{background:#eee;padding:6px}.-lesson-opt .query-zone table[data-v-4e7fda39]{width:100%}.-lesson-opt .query-zone table td.hd[data-v-4e7fda39]{padding-right:4px}.-lesson-opt .query-zone .query-input[data-v-4e7fda39]{height:32px;line-height:32px;font-size:16px;font-weight:700;border:1px solid #d7dde4;width:100%;padding:0 10px;background:#fff}.-lesson-opt .err[data-v-4e7fda39]{font-weight:700;color:#d82400;margin:10px 0;font-size:14px;text-align:center;padding:10px;background:#fafad2}.-lesson-opt section[data-v-4e7fda39]{clear:both;margin-bottom:15px}.-lesson-opt section.border[data-v-4e7fda39]{border:1px solid #d7dde4;border-radius:2px}.-lesson-opt .member[data-v-4e7fda39]{padding:8px}.-lesson-opt .member table[data-v-4e7fda39]{width:100%}.-lesson-opt .member .photo[data-v-4e7fda39]{vertical-align:middle}.-lesson-opt .member .photo img[data-v-4e7fda39]{width:105px;height:100px;border:0}.-lesson-opt .member .name[data-v-4e7fda39]{font-size:26px;padding-right:15px}.-lesson-opt .member .detail[data-v-4e7fda39]{margin:15px 0 0;padding:18px 0 0;border-top:1px dashed #ddd}.-lesson-opt .lesson[data-v-4e7fda39]{padding:15px 0;line-height:1.5}.-lesson-opt .lesson li[data-v-4e7fda39]{display:inline;padding:0 10px;border-right:1px solid #e0e0e0}.-lesson-opt .lesson li[data-v-4e7fda39]:last-child{border:0}.-lesson-opt .passwd[data-v-4e7fda39]{background:#f0f0f0;padding:8px}.-lesson-opt .passwd .warn[data-v-4e7fda39]{margin-left:15px;color:orange}.-lesson-opt .passwd .warn i[data-v-4e7fda39]{padding-right:4px}.-lesson-opt .passwd .input[data-v-4e7fda39]{width:160px;display:inline-block}.-lesson-opt .submit[data-v-4e7fda39]{padding:5px 0}.-lesson-opt .submit .primary[data-v-4e7fda39]{width:90px;margin-left:15px}.-lesson-opt .submit .payment-cnt[data-v-4e7fda39]{width:70px;text-align:center;font-weight:700;margin:0 6px 0 10px;height:28px}.-lesson-opt .submit .tips[data-v-4e7fda39]{color:#999;padding-left:5px}.-lesson-opt .query-opt[data-v-4e7fda39]{padding:5px 0 0;margin:0}.-lesson-opt .query-opt button[data-v-4e7fda39]{margin:0 7px;width:100px}.-lesson-opt .postbl[data-v-4e7fda39]{padding:15px}.-lesson-opt .postbl .-tit[data-v-4e7fda39]{line-height:20px;height:20px;margin-bottom:10px;font-size:13px;font-weight:700}.-lesson-opt .postbl .-tit .spt[data-v-4e7fda39]{padding:0 12px;font-weight:400;font-size:12px}.-lesson-opt .postbl .-tit a[data-v-4e7fda39]{font-size:12px;font-weight:400;border-radius:10px;background:#f2f2f2;padding:3px 15px}.-lesson-opt .postbl td div[data-v-4e7fda39]{height:30px;line-height:30px;width:60px;display:inline-block;text-align:center;border:1px solid #e4e4e4;background:#f0f0f0;margin:5px;color:#222;box-shadow:3px 3px 3px #eee}.-lesson-opt .postbl .empty[data-v-4e7fda39]{border:1px solid #e4e4e4;background:#fff;cursor:pointer}.-lesson-opt .postbl .on[data-v-4e7fda39]{border-color:orange}.-lesson-opt .memb-list[data-v-4e7fda39]{padding:10px;margin:10px 0;border:1px solid #eee}.-lesson-opt .memb-list .tit[data-v-4e7fda39]{padding-bottom:10px;color:orange}.-lesson-opt .memb-list .name[data-v-4e7fda39]{font-size:14px;color:#444}.-lesson-opt .memb-list li[data-v-4e7fda39]{display:inline-block;margin:3px;line-height:1;padding:10px;background:#eee;cursor:pointer;font-size:12px;color:#999}.-lesson-opt .memb-list li[data-v-4e7fda39]:hover{background:#ddd}.opts li[data-v-4e7fda39]{display:block;padding:0 0 5px}.opts li[data-v-4e7fda39]:last-child{padding:0}", ""]);

// exports


/***/ }),

/***/ 1172:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".vb .mytbl[data-v-6a8eb7f6]{margin:0 0 25px}.vb label[data-v-6a8eb7f6]{padding:3px}.vb label[data-v-6a8eb7f6]:hover{font-weight:700}.vb .vb-times span[data-v-6a8eb7f6]:after{content:\"\\3001\"}.vb .vb-times span[data-v-6a8eb7f6]:last-child:after{content:\"\"}.booked-pl[data-v-6a8eb7f6]{margin:10px 5px 5px}.bookings[data-v-6a8eb7f6]{min-height:480px}.bookings .remark[data-v-6a8eb7f6]{margin:10px 0;color:#555;background:#f2f2f2;padding:20px 15px}.bookings .remark span[data-v-6a8eb7f6]{padding:0 8px;color:#aaa}.bookings .memb-list[data-v-6a8eb7f6]{padding:10px;margin:10px 0;border:1px solid #eee}.bookings .memb-list .tit[data-v-6a8eb7f6]{padding-bottom:10px;color:orange}.bookings .memb-list .name[data-v-6a8eb7f6]{font-size:14px;color:#444}.bookings .memb-list li[data-v-6a8eb7f6]{display:inline-block;margin:3px;line-height:1;padding:10px;background:#eee;cursor:pointer;font-size:12px;color:#aaa}.bookings .memb-list li[data-v-6a8eb7f6]:hover{background:#ddd}.bookings .mytbl .on[data-v-6a8eb7f6]{color:#ff4500}.bookings .tblform[data-v-6a8eb7f6]{border:1px solid #e3e8ee;margin:15px 0;padding:10px}.bookings .tblform table[data-v-6a8eb7f6]{width:100%}.bookings .tblform th[data-v-6a8eb7f6]{padding:5px;text-align:center;width:118px;background:#f3f3f3;border-bottom:2px solid #fff}.bookings .tblform td[data-v-6a8eb7f6]{padding:5px 10px}.bookings .tblform .desc[data-v-6a8eb7f6]{clear:both;border-top:1px dotted #ddd;padding-top:10px;margin-top:15px}.bookings .date-list[data-v-6a8eb7f6],.bookings .tblform .desc ul[data-v-6a8eb7f6]{display:inline-block}.bookings .date-list li[data-v-6a8eb7f6]{display:inline-block;border-right:1px solid #e2e2e2;padding:0 10px}.bookings .date-list li[data-v-6a8eb7f6]:last-child{border:0}.bookings .submit[data-v-6a8eb7f6]{margin:10px 0 -15px}.bookings .submit u[data-v-6a8eb7f6]{text-decoration:none;padding:0 6px;color:#bbb;font-weight:400}.bookings .submit .sum[data-v-6a8eb7f6]{font-size:14px;font-weight:700}.bookings .card-tips[data-v-6a8eb7f6]{padding:10px 0;color:orange}.bookings .booked-pl th[data-v-6a8eb7f6],.entry-checkin .member .photo[data-v-6a8eb7f6]{text-align:left}.entry-checkin .member .photo img[data-v-6a8eb7f6]{width:100px;height:100px}.opts li[data-v-6a8eb7f6]{display:block;padding:0 0 5px}.opts li[data-v-6a8eb7f6]:last-child{padding:0}", ""]);

// exports


/***/ }),

/***/ 1174:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".card-conf .hd .r button[data-v-ad495b6c]{height:30px}.card-conf .card-query[data-v-ad495b6c]{display:inline-block;width:250px;vertical-align:middle}", ""]);

// exports


/***/ }),

/***/ 1175:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1164);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("59562bd4", content, true, {});

/***/ }),

/***/ 1179:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1168);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("48092524", content, true, {});

/***/ }),

/***/ 1181:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1170);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("793a35a6", content, true, {});

/***/ }),

/***/ 1182:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1171);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("487099f2", content, true, {});

/***/ }),

/***/ 1183:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1172);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("bb06eb4c", content, true, {});

/***/ }),

/***/ 1185:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1174);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("8a29aa4c", content, true, {});

/***/ }),

/***/ 1188:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1185)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1153),
  /* template */
  __webpack_require__(1204),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-ad495b6c",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1189:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1183)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1156),
  /* template */
  __webpack_require__(1202),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-6a8eb7f6",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1190:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1179)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1158),
  /* template */
  __webpack_require__(1198),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-171b6b16",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1194:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('section', {
    staticStyle: {
      "width": "100%"
    }
  }, [_vm._m(0), _vm._v(" "), _c('i-form', {
    ref: "shop",
    staticClass: "myform",
    staticStyle: {
      "width": "600px"
    },
    attrs: {
      "disabled": _vm.readonly,
      "model": _vm.shop,
      "rules": _vm.shopFormRule,
      "label-width": 100
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "shopName",
      "label": "门店名称"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "建议八个字内",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.shop.shopName),
      callback: function($$v) {
        _vm.$set(_vm.shop, "shopName", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "shop.shopName"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    staticClass: "low-margin",
    attrs: {
      "label": "门店图片",
      "required": ""
    }
  }, [_c('img-upload', {
    attrs: {
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "on-success": _vm.handleImgUploadLogoSuccess,
      "max-size": _vm.imgUpload.maxSize,
      "default-file-list": _vm.imgUpload.defaultLogo
    }
  }, [_c('i-button', {
    attrs: {
      "type": "default",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("点击上传门店宣传照")])], 1), _vm._v(" "), _c('p'), _vm._v(" "), _c('img-upload', {
    attrs: {
      "multiple": true,
      "removeable": true,
      "max-count": 5,
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "on-success": _vm.handleImgUploadSuccess,
      "on-remove": _vm.handleImgRemove,
      "max-size": _vm.imgUpload.maxSize,
      "default-file-list": _vm.imgUpload.defaultList
    }
  }, [_c('i-button', {
    attrs: {
      "type": "default",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("点击上传更多门店照")]), _vm._v("\n            "), _c('span', {
    staticClass: "gray"
  }, [_vm._v("（最多可上传 "), _c('b', [_vm._v("5")]), _vm._v(" 张）")])], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "shopVideo",
      "label": "门店宣传视频"
    }
  }, [_c('VideoUpload', {
    attrs: {
      "fileList": _vm.defaultVideos,
      "uploadTitle": "点击上传门店视频"
    },
    on: {
      "handleVideoList": _vm.handleVideoList
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("（最多上传三个视频，每个视频大小不能超过30M）")])])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "shopType",
      "label": "门店类型"
    }
  }, [_c('i-select', {
    attrs: {
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.shop.shopType),
      callback: function($$v) {
        _vm.$set(_vm.shop, "shopType", _vm._n($$v))
      },
      expression: "shop.shopType"
    }
  }, _vm._l((_vm.shopTypes), function(value, label) {
    return _c('i-option', {
      key: value,
      attrs: {
        "value": value
      }
    }, [_vm._v(_vm._s(label))])
  }), 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "门店地址",
      "required": ""
    }
  }, [_c('row', {
    staticStyle: {
      "margin-bottom": "10px"
    },
    attrs: {
      "gutter": 10,
      "type": "flex",
      "justify": "space-between"
    }
  }, [_c('i-col', {
    attrs: {
      "span": "7"
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "addrProvince"
    }
  }, [_c('i-select', {
    attrs: {
      "placeholder": "省（直辖市）",
      "disabled": _vm.readonly
    },
    on: {
      "on-change": _vm.onChangeAddrL1
    },
    model: {
      value: (_vm.shop.addrProvince),
      callback: function($$v) {
        _vm.$set(_vm.shop, "addrProvince", $$v)
      },
      expression: "shop.addrProvince"
    }
  }, _vm._l((_vm.addrList[0]), function(r) {
    return _c('i-option', {
      key: r.label,
      attrs: {
        "value": r.value
      }
    }, [_vm._v(_vm._s(r.label))])
  }), 1)], 1)], 1), _vm._v(" "), _c('i-col', {
    attrs: {
      "span": "10"
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "addrCity"
    }
  }, [_c('i-select', {
    attrs: {
      "placeholder": "地级市",
      "disabled": _vm.readonly
    },
    on: {
      "on-change": _vm.onChangeAddrL2
    },
    model: {
      value: (_vm.shop.addrCity),
      callback: function($$v) {
        _vm.$set(_vm.shop, "addrCity", $$v)
      },
      expression: "shop.addrCity"
    }
  }, _vm._l((_vm.addrList[1]), function(r) {
    return _c('i-option', {
      key: r.label,
      attrs: {
        "value": r.value
      }
    }, [_vm._v(_vm._s(r.label))])
  }), 1)], 1)], 1), _vm._v(" "), _c('i-col', {
    attrs: {
      "span": "7"
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "addrDistrict"
    }
  }, [_c('i-select', {
    attrs: {
      "placeholder": "县级市（区）",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.shop.addrDistrict),
      callback: function($$v) {
        _vm.$set(_vm.shop, "addrDistrict", $$v)
      },
      expression: "shop.addrDistrict"
    }
  }, _vm._l((_vm.addrList[2]), function(r) {
    return _c('i-option', {
      key: r.label,
      attrs: {
        "value": r.value
      }
    }, [_vm._v(_vm._s(r.label))])
  }), 1)], 1)], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "addrDetail"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "row": "3",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.shop.addrDetail),
      callback: function($$v) {
        _vm.$set(_vm.shop, "addrDetail", $$v)
      },
      expression: "shop.addrDetail"
    }
  })], 1)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "tel",
      "label": "门店电话"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.shop.tel),
      callback: function($$v) {
        _vm.$set(_vm.shop, "tel", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "shop.tel"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "bizHours",
      "label": "营业时间"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 2,
      "placeholder": "请描述门店营业时间",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.shop.bizHours),
      callback: function($$v) {
        _vm.$set(_vm.shop, "bizHours", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "shop.bizHours"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "shopIntro",
      "label": "门店介绍"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 15,
      "placeholder": "请介绍一下您的门店（可换行）",
      "disabled": _vm.readonly
    },
    model: {
      value: (_vm.shop.shopIntro),
      callback: function($$v) {
        _vm.$set(_vm.shop, "shopIntro", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "shop.shopIntro"
    }
  })], 1)], 1), _vm._v(" "), (!_vm.readonly) ? _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "100px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.onClickSubmitBtn()
      }
    }
  }, [_vm._v("保存")])], 1) : _vm._e()], 1), _vm._v(" "), _c('section', [_vm._m(1), _vm._v(" "), _c('i-form', {
    staticClass: "myform",
    attrs: {
      "label-width": 100
    }
  }, [_c('form-item', {
    staticClass: "low-margin",
    attrs: {
      "prop": "buyMembers",
      "label": "已购买会员数："
    }
  }, [_c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.shop.buyMembers))]), _vm._v(" 个\n        "), _c('span', {
    staticClass: "l10"
  }, [_vm._v("（已创建会员数 "), _c('b', [_vm._v(_vm._s(_vm.createdMemberCnt))]), _vm._v(" 个）")])]), _vm._v(" "), _c('form-item', {
    staticClass: "low-margin",
    attrs: {
      "prop": "expDate",
      "label": "租用有效期至："
    }
  }, [_c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.g.Util.formatDate(_vm.shop.expDate)))])]), _vm._v(" "), (_vm.hasDisableMModule) ? _c('form-item', {
    staticClass: "low-margin",
    attrs: {
      "prop": "modules",
      "label": "禁用功能模块："
    }
  }, [_c('ul', {
    staticClass: "moduels"
  }, [(_vm.disableModule.groupCourse) ? _c('li', [_vm._v("团课")]) : _vm._e(), _vm._v(" "), (_vm.disableModule.privateCourse) ? _c('li', [_vm._v("私教课")]) : _vm._e(), _vm._v(" "), (_vm.disableModule.cust) ? _c('li', [_vm._v("客户")]) : _vm._e(), _vm._v(" "), (_vm.disableModule.marketing) ? _c('li', [_vm._v("营销")]) : _vm._e()])]) : _vm._e()], 1)], 1)])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("门店基本信息")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("系统使用权限")])])
}]}

/***/ }),

/***/ 1198:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('div', {
    staticClass: "sum"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', [(_vm.memberLessonList && _vm.memberLessonList.length) ? _c('i-button', {
    attrs: {
      "icon": "ios-cloud-download-outline"
    },
    on: {
      "click": _vm.exportMemberLessonList
    }
  }, [_vm._v("导出")]) : _vm._e(), _vm._v(" "), (_vm.coachList && _vm.coachList.length > 1) ? _c('span', {
    staticClass: "l10"
  }, [_c('i-select', {
    staticStyle: {
      "width": "110px"
    },
    attrs: {
      "placeholder": "请选择教练"
    },
    on: {
      "on-change": function($event) {
        return _vm.queryMemberLessonList()
      }
    },
    model: {
      value: (_vm.queryCoachId),
      callback: function($$v) {
        _vm.queryCoachId = $$v
      },
      expression: "queryCoachId"
    }
  }, [_c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_c('i', {
    staticClass: "gray"
  }, [_vm._v("不限教练")])]), _vm._v(" "), _vm._l((_vm.coachList), function(c) {
    return _c('i-option', {
      key: c.staffId,
      attrs: {
        "value": c.staffId
      }
    }, [_vm._v(_vm._s(c.name))])
  })], 2)], 1) : _vm._e()], 1), _vm._v(" "), _c('td', {
    attrs: {
      "align": "right"
    }
  }, [(_vm.memberLessonCount) ? _c('span', [_vm._v("共 "), _c('b', [_vm._v(_vm._s(_vm.memberLessonCount))]), _vm._v(" 条记录")]) : _vm._e(), _vm._v(" "), (_vm.cardCostAmountSum) ? [_c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n\t\t\t\t\t\t会员卡消费折算总金额：￥"), _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.cardCostAmountSum))])] : _vm._e()], 2)])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.memberLessonList), function(ml) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(ml.lessonTitle))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(ml.lessonDate)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatTime(ml.beginTime)) + " ~ " + _vm._s(_vm.g.Util.formatTime(ml.endTime)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.coachName))]), _vm._v(" "), _c('td', [(ml.mcId) ? _c('a', {
      on: {
        "click": function($event) {
          return _vm.viewMember(ml.memberId)
        }
      }
    }, [_vm._v(_vm._s(ml.memberName))]) : _c('a', [_vm._v("[客] " + _vm._s(ml.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.cardName))]), _vm._v(" "), _c('td', [(ml.cardType > 1) ? [_vm._v("\n\t\t\t\t\t\t" + _vm._s(ml.cardPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[ml.cardType]) + "\n\t\t\t\t\t")] : _vm._e(), _vm._v(" "), (ml.paymentCount > 1) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("(" + _vm._s(ml.paymentCount) + "人)")]) : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.cardCostAmount))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.bookingTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.bookingUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.checkinTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.checkinUname))])])
  })], 2)]), _vm._v(" "), (_vm.memberLessonCount && _vm.memberLessonCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.memberLessonCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMemberLessonList
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.memberLessonCount === 0) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n\t\t暂无数据\n\t")]) : _vm._e(), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? [_c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  })] : _vm._e()], 2), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "导出文件下载",
      "width": "500",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.exportDlg),
      callback: function($$v) {
        _vm.exportDlg = $$v
      },
      expression: "exportDlg"
    }
  }, [_c('div', {
    staticClass: "export-xls"
  }, [(_vm.exportFileUrl) ? [(_vm.exportFileUrl) ? _c('a', {
    attrs: {
      "href": _vm.exportFileUrl,
      "target": "_blank"
    }
  }, [_vm._v("下载导出文件（xls）")]) : _vm._e()] : _c('span', [_vm._v("正在查询并导出，请稍候...")])], 2)])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("课程")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("上课日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("教练")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("上课学员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("消费会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("消费额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("折算金额"), _c('a', {
    staticClass: "th-help",
    attrs: {
      "title": "期限卡和次卡的折算金额 = 消费额 * 卡平均单价；储值卡的折算金额 = 消费额 * 卡总实收金额 / 卡总充值金额"
    }
  }, [_vm._v("?")])]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "140"
    }
  }, [_vm._v("预约时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("预约人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "140"
    }
  }, [_vm._v("签到时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("签到人")])])
}]}

/***/ }),

/***/ 1200:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return (_vm.lesson) ? _c('div', {
    staticClass: "-glr-"
  }, [(!_vm.showLessonInfo) ? _c('div', {
    staticClass: "lesson-menus"
  }, [_c('b', [_vm._v("上课记录")]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v(" "), _c('a', {
    attrs: {
      "target": "_blank",
      "href": '#/group-lesson-edit/' + _vm.lesson.lessonId
    }
  }, [_vm._v("本节课基本信息 "), _c('i', {
    staticClass: "iconfont icon-link default-font gray"
  })]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v(" "), _c('a', {
    attrs: {
      "target": "_blank",
      "href": '#/group-lesson-review/' + _vm.lesson.lessonId
    }
  }, [_vm._v("学员上课评价 "), _c('i', {
    staticClass: "iconfont icon-link default-font gray"
  })]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v(" "), _c('a', {
    attrs: {
      "target": "_blank",
      "href": '#/group-lesson-member-cancel-log/' + _vm.lesson.lessonId
    }
  }, [_vm._v("取消日志 "), _c('i', {
    staticClass: "iconfont icon-link default-font gray"
  })])]) : _vm._e(), _vm._v(" "), (_vm.showLessonInfo) ? _c('section', {
    staticClass: "course-info"
  }, [_c('ul', [_c('li', [_c('span', {
    staticClass: "bigger"
  }, [_vm._v(_vm._s(_vm.lesson.lessonTitle))])]), _vm._v(" "), _c('li', [_c('label', [_vm._v("教练：")]), _vm._v(_vm._s(_vm.lesson.coachName))]), _vm._v(" "), _c('li', [_c('label', [_vm._v("上课时间：")]), _c('span', {
    staticClass: "orangered"
  }, [_vm._v(_vm._s(_vm.g.Util.formatDate(_vm.lesson.lessonDate, false)))]), _vm._v("  \n\t\t\t\t\t" + _vm._s(_vm.g.Util.formatTime(_vm.lesson.beginTime)) + " ~ " + _vm._s(_vm.g.Util.formatTime(_vm.lesson.endTime)) + "\n\t\t\t\t")]), _vm._v(" "), (_vm.lesson.checkinTime) ? _c('li', [_c('label', [_vm._v("教练签到：")]), _vm._v(_vm._s(_vm.lesson.checkinTime))]) : _vm._e(), _vm._v(" "), (_vm.lesson.status === 9) ? _c('li', [_c('i', {
    staticClass: "iconfont status-end icon-finish0"
  })]) : _c('li', [_c('i', {
    staticClass: "iconfont status-not-end icon-unfinish-1"
  })])])]) : _vm._e(), _vm._v(" "), (_vm.mlMemberList.length > 0) ? _c('section', {
    staticClass: "g-dlg class-memb"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("\n\t\t\t\t\t固定班级非预约学员"), (_vm.canCheckinClassMembers) ? [_vm._v("上课点名")] : _vm._e(), _vm._v(" "), _c('help', [_vm._v("\n\t\t\t\t\t\t系统自动选择会员卡计费的顺序是：期限卡 / 次数卡/ 储值卡；如果同卡种办了多张卡，则按照创建卡的先后顺序。\n\t\t\t\t\t\t"), _c('ul', [_c('li', [_vm._v("- 缺席：会员未到场，也未请假，但是场馆不扣费")]), _vm._v(" "), _c('li', [_vm._v("- 请假：会员未到场，事先给场馆请过假，场馆不予扣费")]), _vm._v(" "), _c('li', [_vm._v("- 扣费：会员未到场，但是按照事先协议，场馆照常扣费")]), _vm._v(" "), _c('li', [_vm._v("- 签到：会员已到场上课，场馆代签到并扣费")])])])], 2), _vm._v(" "), (_vm.canCheckinClassMembers) ? _c('div', {
    staticClass: "r"
  }, [_c('span', {
    staticClass: "opt"
  }, [(!_vm.lesson.checkinTime) ? _c('checkbox', {
    model: {
      value: (_vm.isCheckinForCoach),
      callback: function($$v) {
        _vm.isCheckinForCoach = $$v
      },
      expression: "isCheckinForCoach"
    }
  }, [_vm._v("代教练签到")]) : _vm._e(), _vm._v("\n\t\t\t\t\t\t \n\t\t\t\t\t\t"), _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.checkinClassLesson
    }
  }, [_vm._v("提交")])], 1)]) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "memblist"
  }, [_c('div', {
    staticClass: "help"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', [_c('dl', [_c('dd', {
    staticClass: "opt-0",
    attrs: {
      "title": "会员未到场，也未请假，但是场馆不扣费"
    }
  }, [_vm._v("缺席：" + _vm._s(_vm.classMembOptCnts[0]) + " 人")]), _vm._v(" "), _c('dd', {
    staticClass: "opt-1",
    attrs: {
      "title": "会员未到场，事先给场馆请过假，场馆不予扣费，也不会取消"
    }
  }, [_vm._v("请假：" + _vm._s(_vm.classMembOptCnts[1]) + " 人")]), _vm._v(" "), _c('dd', {
    staticClass: "opt-2",
    attrs: {
      "title": "会员未到场，但是按照事先协议，场馆照常扣费"
    }
  }, [_vm._v("扣费：" + _vm._s(_vm.classMembOptCnts[2]) + " 人")]), _vm._v(" "), _c('dd', {
    staticClass: "opt-3",
    attrs: {
      "title": "会员已到场上课，场馆代签到并扣费"
    }
  }, [_vm._v("签到：" + _vm._s(_vm.classMembOptCnts[3]) + " 人")])])]), _vm._v(" "), _c('td', {
    attrs: {
      "align": "right"
    }
  }, [(_vm.canCheckinClassMembers) ? _c('checkbox', {
    on: {
      "on-change": _vm.checkAllCheckin
    },
    model: {
      value: (_vm.isCheckAllCheckin),
      callback: function($$v) {
        _vm.isCheckAllCheckin = $$v
      },
      expression: "isCheckAllCheckin"
    }
  }, [_vm._v("全选签到")]) : _vm._e()], 1)])])]), _vm._v(" "), _c('ul', _vm._l((_vm.mlMemberList), function(m) {
    return _c('li', {
      key: m.memberId,
      class: 'opt-' + _vm.memberLessonOptMap[m.memberId]
    }, [_c('table', [_c('tr', [_c('td', {
      attrs: {
        "width": "90"
      }
    }, [_c('img', {
      attrs: {
        "src": _vm.g.Util.getImgUrl(m.avatarPathname, 300, 300, 'EEEEEE'),
        "title": m.name
      },
      on: {
        "click": function($event) {
          return _vm.viewMember(m.memberId)
        }
      }
    })]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "name",
      on: {
        "click": function($event) {
          return _vm.viewMember(m.memberId)
        }
      }
    }, [_vm._v(_vm._s(m.name))]), _vm._v(" "), (_vm.canCheckinClassMembers) ? _c('div', {
      staticClass: "opts"
    }, [_c('radio-group', {
      on: {
        "on-change": _vm.changeClassMemberOpt
      },
      model: {
        value: (_vm.memberLessonOptMap[m.memberId]),
        callback: function($$v) {
          _vm.$set(_vm.memberLessonOptMap, m.memberId, $$v)
        },
        expression: "memberLessonOptMap[m.memberId]"
      }
    }, [_c('radio', {
      attrs: {
        "label": 0
      }
    }, [_vm._v("缺席")]), _vm._v(" "), _c('radio', {
      attrs: {
        "label": 1
      }
    }, [_vm._v("请假 "), _c('a', [_c('i', {
      staticClass: "iconfont icon-edit",
      on: {
        "click": function($event) {
          return _vm.inputMemberVacationRemark(m.memberId, m.name)
        }
      }
    })])]), _vm._v(" "), _c('radio', {
      attrs: {
        "label": 2
      }
    }, [_vm._v("扣费")]), _vm._v(" "), _c('radio', {
      attrs: {
        "label": 3
      }
    }, [_vm._v("签到")])], 1)], 1) : (_vm.editable) ? _c('div', {
      staticClass: "opts"
    }, [(!_vm.memberLessonVacationMap[m.memberId]) ? _c('a', {
      staticClass: "memb-vacation",
      on: {
        "click": function($event) {
          return _vm.openDlgForClassMemberVacation(m)
        }
      }
    }, [_c('i', {
      staticClass: "iconfont icon-edit"
    }), _vm._v(" 请假")]) : _c('span', {
      staticClass: "orange small"
    }, [_vm._v("已请假")])]) : _vm._e()])])])])
  }), 0)])]) : _vm._e(), _vm._v(" "), _c('section', {
    class: {
      'g-dlg': !_vm.showLessonInfo
    }
  }, [(_vm.lesson.isNeedBooking || !_vm.g.Util.isEmptyArray(_vm.memberLessonList)) ? _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员上课明细")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "gray",
    on: {
      "click": function($event) {
        return _vm.load()
      }
    }
  }, [_c('icon', {
    attrs: {
      "type": "md-refresh",
      "size": "14"
    }
  }), _vm._v(" 刷新\n\t\t\t\t\t")], 1), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v(" "), (_vm.editable) ? [_c('checkbox', {
    on: {
      "on-change": _vm.checkPrintOption
    },
    model: {
      value: (_vm.showPrintTicket),
      callback: function($$v) {
        _vm.showPrintTicket = $$v
      },
      expression: "showPrintTicket"
    }
  }, [_vm._v("显示打印小票")]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")])] : _vm._e(), _vm._v(" "), (_vm.lesson.isNeedBooking) ? [_vm._v("\n\t\t\t\t\t\t最多预约人数：" + _vm._s(_vm.lesson.maxStudents) + " 人 "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("/")]), _vm._v("\n\t\t\t\t\t\t最少预约人数："), (_vm.lesson.minStudents) ? [_vm._v(_vm._s(_vm.lesson.minStudents) + " 人")] : _c('i', {
    staticClass: "gray"
  }, [_vm._v("未设置")]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("/")]), _vm._v("\n\t\t\t\t\t\t预约人数："), _c('b', [_vm._v(_vm._s(_vm.lesson.bookings))]), _vm._v(" 人 "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("/")])] : _vm._e(), _vm._v("\n\t\t\t\t\t签到人数："), _c('b', [_vm._v(_vm._s(_vm.lesson.checkins))]), _vm._v(" 人\n\t\t\t\t\t"), (_vm.editable && _vm.canBooking && _vm.lesson.isNeedBooking) ? _c('span', {
    staticClass: "opt"
  }, [(_vm.lesson.maxStudents > _vm.lesson.bookings) ? _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.bookingForMember
    }
  }, [_vm._v("代预约")]) : _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.bookingForMember
    }
  }, [_vm._v("代会员排队")])], 1) : _vm._e(), _vm._v(" "), (_vm.editable && _vm.lesson.checkins > 0 && _vm.lesson.status < 9) ? _c('span', {
    staticClass: "opt"
  }, [_c('i-button', {
    on: {
      "click": _vm.checkinForCoach
    }
  }, [_vm._v("代教练签到")])], 1) : _vm._e()], 2)]) : _vm._e(), _vm._v(" "), (_vm.memberLessonList && _vm.memberLessonList.length > 0 && _vm.lesson) ? _c('div', {
    staticClass: "mytbl memb-list"
  }, [_c('table', {
    staticStyle: {
      "border": "0"
    }
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "150",
      "colspan": "2"
    }
  }, [_vm._v("上课学员")]), _vm._v(" "), (_vm.lesson.isNeedBooking) ? _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("预约操作人")]) : _vm._e(), _vm._v(" "), (_vm.lesson.isNeedBooking) ? _c('th', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("预约时间")]) : _vm._e(), _vm._v(" "), _c('th', {
    attrs: {
      "width": "65"
    }
  }, [_vm._v("位置")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("签到操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("签到时间")]), _vm._v(" "), (_vm.enableGlCheckout) ? _c('th', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("签出时间")]) : _vm._e(), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("计费会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("卡消费")]), _vm._v(" "), (_vm.editable) ? _c('th', [_vm._v("状态/操作")]) : _vm._e()]), _vm._v(" "), _vm._l((_vm.memberLessonList), function(ml, idx) {
    return _c('tr', {
      key: ml.mlId
    }, [_c('td', {
      attrs: {
        "width": "45"
      }
    }, [_c('img', {
      staticClass: "photo",
      attrs: {
        "src": _vm.g.Util.getImgUrl(ml.avatarPathname, 200, 200, 'eeeeee')
      }
    })]), _vm._v(" "), _c('td', [(ml.mcId) ? [(_vm.editable) ? _c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(ml.memberId)
        }
      }
    }, [_vm._v(_vm._s(ml.memberName.shorten(10)))]) : _c('span', [_vm._v(_vm._s(ml.memberName.shorten(10)))]), _vm._v(" "), (ml.advisorName) ? _c('div', {
      staticClass: "advisor",
      attrs: {
        "title": "会籍顾问"
      }
    }, [_c('i', {
      staticClass: "iconfont icon-manager"
    }), _vm._v(" " + _vm._s(ml.advisorName))]) : _vm._e()] : [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewCust(ml.memberId, ml.memberName)
        }
      }
    }, [_c('span', {
      staticClass: "custflag"
    }, [_vm._v("客")]), _vm._v(_vm._s(ml.memberName))])]], 2), _vm._v(" "), (_vm.lesson.isNeedBooking) ? _c('td', [(ml.bookingUname) ? [_vm._v(_vm._s(ml.bookingUname.shorten(8)))] : _vm._e()], 2) : _vm._e(), _vm._v(" "), (_vm.lesson.isNeedBooking) ? _c('td', [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(ml.bookingTime) + "\n\t\t\t\t\t\t")]) : _vm._e(), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.position))]), _vm._v(" "), _c('td', [(ml.checkinUname) ? [_vm._v(_vm._s(ml.checkinUname.shorten(5)))] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(ml.checkinTime) + "\n\t\t\t\t\t\t")]), _vm._v(" "), (_vm.enableGlCheckout) ? _c('td', [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(ml.checkoutTime) + "\n\t\t\t\t\t\t\t"), (ml.mlDuration) ? _c('div', {
      staticClass: "gray"
    }, [_vm._v("(" + _vm._s(ml.mlDuration) + " 分钟)")]) : _vm._e()]) : _vm._e(), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.cardName))]), _vm._v(" "), _c('td', [(ml.cardType === 1) ? [_c('span', {
      staticClass: "gray"
    }, [_vm._v("期限卡不扣费")])] : (ml.cardType === 2) ? [_vm._v(_vm._s(ml.cardPayment) + "次")] : _vm._e(), _vm._v(" "), (ml.cardType === 3) ? [_vm._v(_vm._s(ml.cardPayment) + "元")] : _vm._e(), _vm._v(" "), (ml.paymentCount > 1) ? _c('div', {
      staticClass: "gray"
    }, [_vm._v("(消费" + _vm._s(ml.paymentCount) + "人)")]) : _vm._e()], 2), _vm._v(" "), (_vm.editable) ? _c('td', [_c('ul', {
      staticClass: "opt-list"
    }, [(ml.status === 1) ? [(_vm.allowCancelBooking) ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.cancelBooking(idx)
        }
      }
    }, [_vm._v("取消预约")])]) : _vm._e(), _vm._v(" "), (_vm.allowMemberCheckin) ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.handleCheckin(idx)
        }
      }
    }, [_vm._v("代签到")])]) : _c('li', {
      staticClass: "gray"
    }, [_vm._v("未到签到时")])] : (ml.status === 2) ? _c('li', {
      staticClass: "green"
    }, [_vm._v("已签到")]) : (ml.status === 3) ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.cancelBooking(idx)
        }
      }
    }, [_vm._v("取消排队")])]) : _vm._e(), _vm._v(" "), (ml.status === 2 && _vm.g.data.user.isShopOwner) ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openCancelCheckinDlg(idx)
        }
      }
    }, [_vm._v("取消签到")])]) : _vm._e(), _vm._v(" "), (ml.status === 4 && _vm.g.data.user.isShopOwner) ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openCancelCheckinDlg(idx)
        }
      }
    }, [_vm._v("取消扣费")])]) : _vm._e(), _vm._v(" "), (_vm.showPrintTicket) ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.printMlTicket('gcLessonRecord_' + ml.mlId)
        }
      }
    }, [_vm._v("打印小票")])]) : _vm._e()], 2), _vm._v(" "), _c('div', {
      staticStyle: {
        "display": "none"
      },
      attrs: {
        "id": 'gcLessonRecord_' + ml.mlId
      }
    }, [_c('table', [_vm._m(0, true), _vm._v(" "), _c('tr', [_c('th', [_vm._v("会员")]), _c('td', [_vm._v(_vm._s(ml.memberName))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("课程")]), _c('td', [_vm._v(_vm._s(_vm.lesson.lessonTitle))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("上课时间")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(_vm.lesson.lessonDate))), _c('br'), _vm._v(_vm._s(_vm.g.Util.formatTime(_vm.lesson.beginTime)) + "-" + _vm._s(_vm.g.Util.formatTime(_vm.lesson.endTime)))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("上课教练")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.lesson.coachName))])]), _vm._v(" "), (ml.bookingUname) ? _c('tr', [_c('th', [_vm._v("预约人")]), _c('td', [_vm._v(_vm._s(ml.bookingUname))])]) : _vm._e(), _vm._v(" "), (ml.bookingTime) ? _c('tr', [_c('th', [_vm._v("预约时间")]), _c('td', [_vm._v(_vm._s(ml.bookingTime))])]) : _vm._e(), _vm._v(" "), (ml.checkinUname) ? _c('tr', [_c('th', [_vm._v("签到人")]), _c('td', [_vm._v(_vm._s(ml.checkinUname))])]) : _vm._e(), _vm._v(" "), (ml.checkinTime) ? _c('tr', [_c('th', [_vm._v("签到时间")]), _c('td', [_vm._v(_vm._s(ml.checkinTime))])]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("计费卡")]), _c('td', [_vm._v(_vm._s(ml.cardName))])]), _vm._v(" "), (ml.cardType > 1) ? _c('tr', [_c('th', [_vm._v("卡消费")]), _c('td', [_vm._v(_vm._s(ml.cardPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[ml.cardType]))])]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("卡剩余")]), _vm._v(" "), _c('td', [(ml.cardType === 1) ? [_vm._v(_vm._s(_vm.g.MemberLib.calcCardLeftDays(ml.mcBeginDate, ml.mcEndDate, _vm.today)) + " 天")] : (ml.cardType === 2) ? [_vm._v(_vm._s(ml.mcCurrentTimes) + " 次")] : (ml.cardType === 3) ? [_vm._v(_vm._s(ml.mcCurrentAmount) + " 元")] : _vm._e()], 2)])])])]) : _vm._e()])
  })], 2)]) : _vm._e(), _vm._v(" "), (_vm.memberLessonList && _vm.memberLessonList.length === 0) ? _c('div', {
    staticClass: "no-records"
  }, [_vm._v("\n\t\t\t\t无预约签到记录\n      ")]) : _vm._e()]), _vm._v(" "), (_vm.memberLessonVacationList && _vm.memberLessonVacationList.length) ? _c('section', {
    class: {
      'g-dlg': !_vm.showLessonInfo,
      'mt15': !_vm.showLessonInfo
    }
  }, [_vm._m(1), _vm._v(" "), _c('div', {
    staticClass: "mytbl memb-list"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("请假时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("请假操作人")]), _vm._v(" "), _c('th', [_vm._v("请假备注")]), _vm._v(" "), (_vm.editable) ? _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("操作")]) : _vm._e()]), _vm._v(" "), _vm._l((_vm.memberLessonVacationList), function(mlv) {
    return _c('tr', [_c('td', [(_vm.editable) ? _c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(mlv.memberId)
        }
      }
    }, [_vm._v(_vm._s(mlv.memberName))]) : _c('span', [_vm._v(_vm._s(mlv.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(mlv.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(mlv.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(mlv.remark))]), _vm._v(" "), (_vm.editable) ? _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.delMemberLessonVacation(mlv)
        }
      }
    }, [_vm._v("删除")])]) : _vm._e()])
  })], 2)])]) : _vm._e(), _vm._v(" "), _c('modal', {
    attrs: {
      "title": '团课预约 - ' + _vm.lesson.courseName,
      "width": "840",
      "styles": {
        top: '10px'
      },
      "closable": false,
      "mask-closable": false
    },
    model: {
      value: (_vm.viewGroupLessonOptDlg),
      callback: function($$v) {
        _vm.viewGroupLessonOptDlg = $$v
      },
      expression: "viewGroupLessonOptDlg"
    }
  }, [(_vm.viewGroupLessonOptDlg) ? _c('member-group-lesson-opt', {
    attrs: {
      "lesson-id": _vm.lessonId,
      "opt-type": 1,
      "after-submit": _vm.afterSubmitLessonOpt,
      "on-close": _vm.closeLessOptDlg
    }
  }) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员信息",
      "width": "780",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [_c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  })], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "团课签到取消",
      "width": "600",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.glCheckinCancelDlg),
      callback: function($$v) {
        _vm.glCheckinCancelDlg = $$v
      },
      expression: "glCheckinCancelDlg"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 5,
      "placeholder": "请输入取消原因或备注"
    },
    model: {
      value: (_vm.checkinCancelRemark),
      callback: function($$v) {
        _vm.checkinCancelRemark = $$v
      },
      expression: "checkinCancelRemark"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    staticClass: "primary-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.cancelCheckin
    }
  }, [_vm._v("提交")])], 1)], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": '客户信息 - ' + _vm.selectCustName,
      "width": "850",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.custDlgView),
      callback: function($$v) {
        _vm.custDlgView = $$v
      },
      expression: "custDlgView"
    }
  }, [(_vm.custDlgView) ? _c('cust-detail', {
    attrs: {
      "cust-id": _vm.selectCustId,
      "can-create": false
    }
  }) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "dlg-foot",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        _vm.custDlgView = false
      }
    }
  }, [_vm._v("关闭")])], 1)], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "固定班级学员请假",
      "width": "600",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.classMemberVacationDlg),
      callback: function($$v) {
        _vm.classMemberVacationDlg = $$v
      },
      expression: "classMemberVacationDlg"
    }
  }, [(_vm.classMemberVacationDlg) ? [_vm._v("\n\t\t\t\t请输入【" + _vm._s(_vm.selectMember.name) + "】的请假备注：\n\t\t\t\t"), _c('div', {
    staticClass: "p15"
  }, [_c('i-input', {
    staticStyle: {
      "width": "100%"
    },
    attrs: {
      "type": "textarea",
      "rows": 5
    },
    model: {
      value: (_vm.classMemberVacationRemark),
      callback: function($$v) {
        _vm.classMemberVacationRemark = (typeof $$v === 'string' ? $$v.trim() : $$v)
      },
      expression: "classMemberVacationRemark"
    }
  })], 1)] : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "dlg-foot",
    staticStyle: {
      "border-top": "none"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submitClassMemberVacation
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.classMemberVacationDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)], 2)], 1) : _vm._e()
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('td', {
    attrs: {
      "colspan": "2",
      "align": "center"
    }
  }, [_vm._v("【团课消费小票】")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("学员请假记录")])])
}]}

/***/ }),

/***/ 1201:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "-lesson-opt g-dlg"
  }, [_c('section', {
    staticClass: "query-zone"
  }, [_c('table', [_c('tr', [_c('td', {
    staticClass: "hd",
    attrs: {
      "width": "75"
    }
  }, [_c('i-select', {
    staticStyle: {
      "position": "relative",
      "top": "-2px"
    },
    model: {
      value: (_vm.targetType),
      callback: function($$v) {
        _vm.targetType = $$v
      },
      expression: "targetType"
    }
  }, [_c('i-option', {
    attrs: {
      "value": "member"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": "cust"
    }
  }, [_vm._v("客户")])], 1)], 1), _vm._v(" "), _c('td', [(_vm.targetType === 'member') ? _c('input', {
    directives: [{
      name: "focus",
      rawName: "v-focus"
    }, {
      name: "model",
      rawName: "v-model.trim",
      value: (_vm.queryNo),
      expression: "queryNo",
      modifiers: {
        "trim": true
      }
    }],
    staticClass: "query-input",
    attrs: {
      "type": "text",
      "title": "",
      "placeholder": "手机号  |  姓名（可模糊查） |  卡号（可刷会员卡）"
    },
    domProps: {
      "value": (_vm.queryNo)
    },
    on: {
      "keyup": function($event) {
        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, "enter", 13, $event.key, "Enter")) { return null; }
        return _vm.doQuery()
      },
      "input": function($event) {
        if ($event.target.composing) { return; }
        _vm.queryNo = $event.target.value.trim()
      },
      "blur": function($event) {
        return _vm.$forceUpdate()
      }
    }
  }) : (_vm.targetType === 'cust') ? _c('input', {
    directives: [{
      name: "focus",
      rawName: "v-focus"
    }, {
      name: "model",
      rawName: "v-model.trim",
      value: (_vm.queryNo),
      expression: "queryNo",
      modifiers: {
        "trim": true
      }
    }],
    staticClass: "query-input",
    attrs: {
      "type": "text",
      "title": "",
      "placeholder": "手机号  |  姓名（可模糊查）"
    },
    domProps: {
      "value": (_vm.queryNo)
    },
    on: {
      "keyup": function($event) {
        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, "enter", 13, $event.key, "Enter")) { return null; }
        return _vm.doQuery()
      },
      "input": function($event) {
        if ($event.target.composing) { return; }
        _vm.queryNo = $event.target.value.trim()
      },
      "blur": function($event) {
        return _vm.$forceUpdate()
      }
    }
  }) : _vm._e()])])])]), _vm._v(" "), (_vm.queryError) ? _c('div', {
    staticClass: "err"
  }, [_vm._v(_vm._s(_vm.queryError))]) : _vm._e(), _vm._v(" "), (_vm.targetType === 'member') ? [(_vm.memberList) ? _c('div', {
    staticClass: "memb-list"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("请选择一个会员：")]), _vm._v(" "), _c('ul', _vm._l((_vm.memberList), function(m) {
    return _c('li', {
      on: {
        "click": function($event) {
          return _vm.selectMember(m)
        }
      }
    }, [_c('span', {
      staticClass: "name"
    }, [_vm._v(_vm._s(m.name))]), _vm._v(" "), _c('span', {
      staticClass: "subinfo"
    }, [_vm._v("（" + _vm._s(_vm.g.Dict.Sex[m.sex]) + "）")]), _vm._v(" "), _c('div', {
      staticClass: "p10"
    }, [_vm._v("手机号*******" + _vm._s(m.phoneSuffix))])])
  }), 0)]) : _vm._e()] : _vm._e(), _vm._v(" "), [(_vm.custList) ? _c('div', {
    staticClass: "memb-list"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("请选择一个客户：")]), _vm._v(" "), _c('ul', _vm._l((_vm.custList), function(c) {
    return _c('li', {
      on: {
        "click": function($event) {
          return _vm.selectCust(c)
        }
      }
    }, [_c('span', {
      staticClass: "name"
    }, [_vm._v(_vm._s(c.name))]), _vm._v(" "), _c('span', {
      staticClass: "subinfo"
    }, [_vm._v("（" + _vm._s(_vm.g.Dict.Sex[c.sex]) + "）")])])
  }), 0)]) : _vm._e()], _vm._v(" "), (_vm.queryNo && _vm.lesson) ? [(_vm.member) ? _c('section', {
    staticClass: "member border"
  }, [_c('table', [_c('tr', [_c('td', {
    staticClass: "photo",
    attrs: {
      "valign": "top",
      "width": "130"
    }
  }, [_c('img', {
    attrs: {
      "src": _vm.member.memberPhotoUrl
    }
  })]), _vm._v(" "), _c('td', {
    attrs: {
      "valign": "top"
    }
  }, [_c('span', {
    staticClass: "name"
  }, [_vm._v(_vm._s(_vm.member.name))]), _vm._v(" " + _vm._s(_vm.g.Dict.SexDesc[_vm.member.sex]) + "\n\t\t\t\t\t\t"), (_vm.member.birthDayDesc) ? _c('span', {
    staticClass: "pre-bar"
  }, [_vm._v("生日："), _c('span', {
    domProps: {
      "innerHTML": _vm._s(_vm.member.birthDayDesc)
    }
  })]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "detail"
  }, [(_vm.member.coachName) ? _c('span', {
    staticClass: "bar"
  }, [_vm._v("教练： " + _vm._s(_vm.member.coachName))]) : _vm._e(), _vm._v(" "), (_vm.member.salesName) ? _c('span', {
    staticClass: "bar"
  }, [_vm._v("销售： " + _vm._s(_vm.member.salesName))]) : _vm._e(), _vm._v(" "), (_vm.member.advisorName) ? _c('span', {
    staticClass: "bar"
  }, [_vm._v("会籍顾问： " + _vm._s(_vm.member.advisorName))]) : _vm._e(), _vm._v("\n\t\t\t\t\t\t\t注册时间：" + _vm._s(_vm.member.createTime) + "\n\t\t\t\t\t")])])])])]) : (_vm.cust) ? _c('section', {
    staticClass: "member border"
  }, [_c('table', [_c('tr', [_c('td', {
    attrs: {
      "valign": "top"
    }
  }, [_c('span', {
    staticClass: "name"
  }, [_vm._v(_vm._s(_vm.cust.name))]), _vm._v(" " + _vm._s(_vm.g.Dict.SexDesc[_vm.cust.sex]) + "\n\t\t\t\t\t\t"), _c('div', {
    staticClass: "detail"
  }, [(_vm.cust.phoneNo) ? _c('span', {
    staticClass: "bar"
  }, [_vm._v("手机号： " + _vm._s(_vm.cust.phoneNo))]) : _vm._e(), _vm._v(" "), (_vm.cust.ownerName) ? _c('span', {
    staticClass: "bar"
  }, [_vm._v("负责人： " + _vm._s(_vm.cust.ownerName))]) : _vm._e(), _vm._v("\n\t\t\t\t\t\t\t登记时间：" + _vm._s(_vm.cust.createTime) + "\n\t\t\t\t\t\t")])])])])]) : _vm._e(), _vm._v(" "), _c('section', {
    staticClass: "lesson border"
  }, [_c('ul', [_c('li', [_vm._v("上课时间： " + _vm._s(Date.new(_vm.lesson.lessonDate).format('yyyy-M-d')) + "   " + _vm._s(_vm.formatTime(_vm.lesson.beginTime)) + " ~ " + _vm._s(_vm.formatTime(_vm.lesson.endTime)))]), _vm._v(" "), (_vm.optType === 1) ? _c('li', [_vm._v("预约详情：\n\t\t\t\t\t"), (_vm.lesson.isNeedBooking && _vm.lesson.bookings) ? _c('span', [_vm._v(_vm._s(_vm.lesson.bookings) + " / " + _vm._s(_vm.lesson.maxStudents) + "\n\t\t\t\t\t\t")]) : _vm._e(), _vm._v(" "), (_vm.lesson.isNeedBooking && !_vm.lesson.bookings) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("尚未有人预约")]) : _vm._e(), _vm._v(" "), (!_vm.lesson.isNeedBooking) ? _c('span', {
    staticClass: "orangered"
  }, [_vm._v("无需预约")]) : _vm._e()]) : _vm._e(), _vm._v(" "), (_vm.memberLesson) ? [_c('li', [_c('b', {
    staticClass: "red"
  }, [_vm._v(_vm._s(_vm.g.Dict.MemberLessonStatus[_vm.memberLesson.status]))])]), _vm._v(" "), (_vm.memberLesson.status === 1) ? _c('li', [_vm._v("预约人：" + _vm._s(_vm.memberLesson.bookingUname))]) : _vm._e(), _vm._v(" "), (_vm.memberLesson.status === 1) ? _c('li', [_vm._v("预约时间：" + _vm._s(_vm.memberLesson.bookingTime))]) : _vm._e(), _vm._v(" "), (_vm.memberLesson.status === 2) ? _c('li', [_vm._v("签到人：" + _vm._s(_vm.memberLesson.checkinUname))]) : _vm._e(), _vm._v(" "), (_vm.memberLesson.status === 2) ? _c('li', [_vm._v("签到时间：" + _vm._s(_vm.memberLesson.checkinTime))]) : _vm._e()] : _vm._e()], 2)]), _vm._v(" "), (_vm.memberCardList && _vm.memberCardList.length && (_vm.optType === 1 || (!_vm.memberLesson || _vm.memberLesson.status !== 1))) ? _c('section', {
    staticClass: "cards mytbl"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit l"
  }, [_vm._v("请选择计费会员卡")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('checkbox', {
    model: {
      value: (_vm.hideInvalidCards),
      callback: function($$v) {
        _vm.hideInvalidCards = $$v
      },
      expression: "hideInvalidCards"
    }
  }, [_vm._v("隐藏无效卡")])], 1)]), _vm._v(" "), _c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.memberCardList), function(c, idx) {
    return ((!_vm.hasMemberCardNo || c.isFind) && (c.canSelect || !_vm.hideInvalidCards)) ? _c('tr', [_c('td', [(c.canSelect) ? _c('input', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: (_vm.selectCardIndex),
        expression: "selectCardIndex"
      }],
      staticClass: "single-radio",
      attrs: {
        "name": "ck",
        "type": "radio"
      },
      domProps: {
        "value": idx,
        "checked": _vm._q(_vm.selectCardIndex, idx)
      },
      on: {
        "change": function($event) {
          _vm.selectCardIndex = idx
        }
      }
    }) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t\t" + _vm._s(c.cardName) + "\n\t\t\t\t\t")]), _vm._v(" "), _c('td', [(c.cardType === 1) ? [(c.beginDate) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(Date.new(c.endDate).subtract(_vm.today)) + " 天\n\t\t\t\t\t\t\t")] : (c.canSelect) ? [_vm._v("\n\t\t\t\t\t\t\t\t尚未使用\n\t\t\t\t\t\t\t")] : _vm._e()] : (c.cardType === 2) ? [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(c.currentTimes) + " 次\n\t\t\t\t\t\t")] : (c.cardType === 3) ? [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(c.currentAmount) + " 元\n\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), _c('td', [(c.status !== 0) ? _c('span', {
      staticClass: "red"
    }, [_vm._v("已" + _vm._s(_vm.g.Dict.MemberCardStatus[c.status]) + "，不可使用")]) : (c.canSelect) ? [(_vm.cardPaymentConf) ? [(c.cardType === 1) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("期限卡不单独计费")]) : (c.cardType === 2) ? [_vm._v("每次计费 "), _c('b', [_vm._v(_vm._s(_vm.cardPaymentConf[c.cardId]))]), _vm._v(" 次")] : (c.cardType === 3) ? [_vm._v("每次计费 "), _c('b', [_vm._v(_vm._s(_vm.cardPaymentConf[c.cardId]))]), _vm._v(" 元")] : _vm._e()] : _c('span', {
      staticClass: "green"
    }, [_vm._v("本节课不计费")])] : _c('span', {
      staticClass: "red"
    }, [_vm._v(_vm._s(c.error))])], 2), _vm._v(" "), _c('td', [_c('ul', {
      staticClass: "opts"
    }, [(c.beginDate && c.endDate) ? _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t使用期限：" + _vm._s(_vm.g.Util.formatDate(c.beginDate, false)) + " ~ " + _vm._s(_vm.g.Util.formatDate(c.endDate, false)) + "\n\t\t\t\t\t\t\t")]) : _vm._e(), _vm._v(" "), (_vm.isInVacation(c.vacationBegin, c.vacationEnd)) ? _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t请假：" + _vm._s(_vm.g.Util.formatDate(c.vacationBegin, false)) + " ~ " + _vm._s(_vm.g.Util.formatDate(c.vacationEnd, false)) + "\n\t\t\t\t\t\t\t\t"), _c('a', {
      staticClass: "l10",
      on: {
        "click": function($event) {
          return _vm.altCardVacation(c)
        }
      }
    }, [_vm._v("【提前销假】")])]) : _vm._e(), _vm._v(" "), (c.limitBeginTime && c.limitEndTime) ? _c('li', [(c.cardClass === 0) ? [_vm._v("限定用卡时间：")] : [_vm._v("限定约课时间：")], _vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.formatTime(c.limitBeginTime)) + " ~ " + _vm._s(_vm.g.Util.formatTime(c.limitEndTime)) + "\n\t\t\t\t\t\t\t")], 2) : _vm._e(), _vm._v(" "), (c.limitDates) ? _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t限定用卡日期：" + _vm._s(_vm.g.MemberLib.formatLimitDates(c.limitDates)) + "\n\t\t\t\t\t\t\t")]) : _vm._e(), _vm._v(" "), (c.limitWeeks) ? _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t限定" + _vm._s(c.cardClass === 0 ? '用卡' : '上课') + "星期：" + _vm._s(_vm.g.MemberLib.formatWeekNames(c.limitWeeks)) + "\n\t\t\t\t\t\t\t")]) : _vm._e()]), _vm._v(" "), (c.remark) ? _c('div', [_vm._v(_vm._s(c.remark))]) : _vm._e()])]) : _vm._e()
  })], 2)]) : _vm._e(), _vm._v(" "), ((_vm.optType === 1 || (_vm.optType === 2 && !_vm.memberLesson)) && _vm.memberCardList && !_vm.memberCardList.length) ? _c('div', {
    staticClass: "err"
  }, [_vm._v("\n\t\t\t 此会员尚无会员卡\n\t\t")]) : [(_vm.pos.rows && _vm.pos.cols && _vm.lesson.maxStudents > _vm.lesson.bookings && (!_vm.memberLesson || _vm.memberLesson.status !== 1)) ? _c('section', {
    staticClass: "border postbl"
  }, [_c('div', {
    staticClass: "-tit"
  }, [_c('div', {
    staticClass: "l"
  }, [_vm._v("请选择上课位置号")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    on: {
      "click": _vm.queryMemberLessonPosition
    }
  }, [_vm._v("刷新")])])]), _vm._v(" "), _c('table', _vm._l((parseInt(_vm.pos.rows)), function(r) {
    return _c('tr', _vm._l((parseInt(_vm.pos.cols)), function(c) {
      return _c('td', [_c('div', {
        class: {
          'empty': _vm.pos.positions[r + '-' + c] && !_vm.pos.usedPositionList.contains(_vm.pos.positions[r + '-' + c]),
          'on': _vm.pos.selections[_vm.pos.positions[r + '-' + c]]
        },
        on: {
          "click": function($event) {
            return _vm.selectPosition(_vm.pos.positions[r + '-' + c])
          }
        }
      }, [_vm._v(_vm._s(_vm.pos.positions[r + '-' + c] ? _vm.pos.positions[r + '-' + c] : ' '))])])
    }), 0)
  }), 0)]) : _vm._e(), _vm._v(" "), (_vm.targetType === 'member' && _vm.optType === 2 && !_vm.memberLesson && _vm.member && !_vm.member.authGroupLessonCheckin) ? _c('section', {
    staticClass: "passwd"
  }, [_c('i-input', {
    staticClass: "input",
    attrs: {
      "type": "password",
      "placeholder": "请会员输入系统登录密码"
    },
    on: {
      "on-enter": _vm.submitForMember
    },
    model: {
      value: (_vm.password),
      callback: function($$v) {
        _vm.password = (typeof $$v === 'string' ? $$v.trim() : $$v)
      },
      expression: "password"
    }
  }), _vm._v(" "), _vm._m(1)], 1) : _vm._e(), _vm._v(" "), (_vm.targetType === 'member') ? _c('div', {
    staticClass: "submit"
  }, [(_vm.selectCardIndex !== null && _vm.memberCardList && _vm.memberCardList[_vm.selectCardIndex].cardType !== 1) ? _c('div', {
    staticClass: "l"
  }, [(_vm.optType === 1) ? [_vm._v("预约人数")] : [_vm._v("签到人数")], _vm._v("\n\t\t\t\t\t： "), _c('input-int', {
    staticClass: "payment-cnt",
    model: {
      value: (_vm.paymentCount),
      callback: function($$v) {
        _vm.paymentCount = _vm._n($$v)
      },
      expression: "paymentCount"
    }
  }), _vm._v(" 人\n\t\t\t\t\t"), _c('span', {
    staticClass: "tips"
  }, [_vm._v(" （带更多人来上课，需填写实际人数）")])], 2) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('i-button', {
    on: {
      "click": _vm.handleClose
    }
  }, [_vm._v("关闭")]), _vm._v(" "), _c('i-button', {
    staticClass: "primary",
    attrs: {
      "type": "primary",
      "loading": _vm.submitLoading
    },
    on: {
      "click": function($event) {
        return _vm.submitForMember()
      }
    }
  }, [_vm._v("提交")])], 1)]) : (_vm.targetType === 'cust') ? _c('div', {
    staticClass: "submit"
  }, [_c('div', {
    staticClass: "r"
  }, [_c('i-button', {
    on: {
      "click": _vm.handleClose
    }
  }, [_vm._v("关闭")]), _vm._v(" "), _c('i-button', {
    staticClass: "primary",
    attrs: {
      "type": "primary",
      "loading": _vm.submitLoading
    },
    on: {
      "click": function($event) {
        return _vm.submitForCust()
      }
    }
  }, [_vm._v("提交")])], 1)]) : _vm._e()]] : _c('div', {
    staticClass: "query-opt",
    attrs: {
      "align": "center"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.doQuery
    }
  }, [_vm._v("查询")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.handleClose
    }
  }, [_vm._v("关闭")])], 1)], 2)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("选择")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("会员卡名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("余额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "145"
    }
  }, [_vm._v("上课计费")]), _vm._v(" "), _c('th', [_vm._v("备注")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('span', {
    staticClass: "warn"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 为了会员账户安全，请会员输入系统登录密码，以备校验\n\t\t\t\t\t  "), _c('span', {
    staticClass: "red"
  }, [_vm._v("（工作人员暂请回避）")])])
}]}

/***/ }),

/***/ 1202:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "entry-checkin bookings g-dlg"
  }, [_c('section', {
    staticClass: "query-zone"
  }, [_c('input', {
    directives: [{
      name: "focus",
      rawName: "v-focus"
    }, {
      name: "model",
      rawName: "v-model.trim",
      value: (_vm.queryNo),
      expression: "queryNo",
      modifiers: {
        "trim": true
      }
    }],
    staticClass: "query-input",
    attrs: {
      "type": "text",
      "title": "",
      "placeholder": "会员手机号  |  姓名（可模糊查）| 卡号"
    },
    domProps: {
      "value": (_vm.queryNo)
    },
    on: {
      "keyup": function($event) {
        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, "enter", 13, $event.key, "Enter")) { return null; }
        return _vm.queryMember.apply(null, arguments)
      },
      "input": function($event) {
        if ($event.target.composing) { return; }
        _vm.queryNo = $event.target.value.trim()
      },
      "blur": function($event) {
        return _vm.$forceUpdate()
      }
    }
  })]), _vm._v(" "), (_vm.queryError) ? _c('div', {
    staticClass: "err"
  }, [_vm._v(_vm._s(_vm.queryError))]) : _vm._e(), _vm._v(" "), (_vm.memberList) ? _c('div', {
    staticClass: "memb-list"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("请选择一个会员：")]), _vm._v(" "), _c('ul', _vm._l((_vm.memberList), function(m, idx) {
    return _c('li', {
      on: {
        "click": function($event) {
          return _vm.selectMember(idx)
        }
      }
    }, [_c('span', {
      staticClass: "name"
    }, [_vm._v(_vm._s(m.name))]), _c('span', {
      staticClass: "subinfo"
    }, [_vm._v("（" + _vm._s(_vm.g.Dict.Sex[m.sex]) + "）")]), _vm._v(" "), _c('div', {
      staticClass: "p10"
    }, [_vm._v("手机号*******" + _vm._s(m.phoneSuffix))])])
  }), 0)]) : _vm._e(), _vm._v(" "), (_vm.member) ? [_c('div', {
    staticClass: "member"
  }, [_c('table', [_c('tr', [_c('td', {
    staticClass: "photo",
    attrs: {
      "valign": "top",
      "width": "130"
    }
  }, [_c('img', {
    attrs: {
      "src": _vm.g.Util.getImgUrl(_vm.member.avatarPathname, 105, 100, 'EEEEEE')
    }
  })]), _vm._v(" "), _c('td', {
    attrs: {
      "valign": "top"
    }
  }, [_c('span', {
    staticClass: "name"
  }, [_vm._v(_vm._s(_vm.member.name))]), _vm._v(" " + _vm._s(_vm.g.Dict.SexDesc[_vm.member.sex]) + "\n              "), _c('div', {
    staticClass: "detail"
  }, [(_vm.member.coachName) ? _c('span', {
    staticClass: "bar"
  }, [_vm._v("教练： " + _vm._s(_vm.member.coachName))]) : _vm._e(), _vm._v(" "), (_vm.member.salesName) ? _c('span', {
    staticClass: "bar"
  }, [_vm._v("销售： " + _vm._s(_vm.member.salesName))]) : _vm._e(), _vm._v(" "), (_vm.member.advisorName) ? _c('span', {
    staticClass: "bar"
  }, [_vm._v("会籍顾问： " + _vm._s(_vm.member.advisorName))]) : _vm._e(), _vm._v("\n                注册时间：" + _vm._s(_vm.member.createTime) + "\n              ")])])])])]), _vm._v(" "), [_c('section', {
    staticClass: "tblform"
  }, [_c('table', [_c('tr', [_c('th', [_vm._v("预约私教课")]), _vm._v(" "), _c('td', {
    staticStyle: {
      "padding-left": "14px"
    }
  }, [_c('i-select', {
    staticStyle: {
      "width": "110px"
    },
    attrs: {
      "placeholder": "请选择教练",
      "filterable": ""
    },
    on: {
      "on-change": _vm.changeCoach
    },
    model: {
      value: (_vm.coachId),
      callback: function($$v) {
        _vm.coachId = $$v
      },
      expression: "coachId"
    }
  }, _vm._l((_vm.coachList), function(c) {
    return _c('i-option', {
      key: c.staffId,
      attrs: {
        "value": c.staffId
      }
    }, [_vm._v(_vm._s(c.name))])
  }), 1), _vm._v("\n                 \n                "), _c('i-select', {
    staticStyle: {
      "width": "400px",
      "display": "inline-block"
    },
    attrs: {
      "placeholder": "请选择私教排课"
    },
    on: {
      "on-change": _vm.changePs
    },
    model: {
      value: (_vm.selectPsIdx),
      callback: function($$v) {
        _vm.selectPsIdx = $$v
      },
      expression: "selectPsIdx"
    }
  }, _vm._l((_vm.pcScheduleList), function(ps, idx) {
    return _c('i-option', {
      key: ps.psId,
      attrs: {
        "value": idx
      }
    }, [_vm._v("\n                    " + _vm._s(ps.courseName) + " 【" + _vm._s(_vm.g.Util.formatDate(ps.beginDate)) + " ~ " + _vm._s(_vm.g.Util.formatDate(ps.endDate)) + "】\n                  ")])
  }), 1), _vm._v(" "), (_vm.pcScheduleList && _vm.pcScheduleList.length && _vm.selectPsIdx != null && _vm.pcScheduleList[_vm.selectPsIdx].enableMoreStudents) ? _c('span', {
    staticClass: "l10"
  }, [_c('checkbox', {
    on: {
      "on-change": _vm.changeEnableMoreBookings
    },
    model: {
      value: (_vm.enableMoreBookings),
      callback: function($$v) {
        _vm.enableMoreBookings = $$v
      },
      expression: "enableMoreBookings"
    }
  }, [_vm._v("在一对多私教课中预约")])], 1) : _vm._e()], 1)]), _vm._v(" "), (_vm.selectPsIdx !== null) ? _c('tr', [_c('th', {
    staticStyle: {
      "padding": "12px 5px"
    }
  }, [_vm._v("排课信息")]), _vm._v(" "), _c('td', [_c('span', [_vm._v("上课时长： " + _vm._s(_vm.pcScheduleList[_vm.selectPsIdx].duration) + " 分钟")]), _vm._v(" "), (_vm.pcScheduleList[_vm.selectPsIdx].limitTimes) ? [_c('span', {
    staticClass: "spt"
  }, [_vm._v(" | ")]), _vm._v(" "), _c('span', [_vm._v("排课次数 / 已用次数： "), _c('b', [_vm._v(_vm._s(_vm.pcScheduleList[_vm.selectPsIdx].limitTimes))]), _vm._v(" / " + _vm._s(_vm.pcScheduleList[_vm.selectPsIdx].usedTimes ? _vm.pcScheduleList[_vm.selectPsIdx].usedTimes : 0))])] : _vm._e()], 2)]) : _vm._e(), _vm._v(" "), (_vm.selectPsIdx !== null && _vm.groundList && _vm.groundList.length) ? _c('tr', [_c('th', [_vm._v("上课场地")]), _vm._v(" "), _c('td', [_c('i-select', {
    staticStyle: {
      "width": "300px"
    },
    attrs: {
      "placeholder": "请选择私教课场地"
    },
    model: {
      value: (_vm.selectGroundId),
      callback: function($$v) {
        _vm.selectGroundId = $$v
      },
      expression: "selectGroundId"
    }
  }, _vm._l((_vm.groundList), function(g) {
    return _c('i-option', {
      key: g.groundId,
      attrs: {
        "value": g.groundId
      }
    }, [_vm._v(_vm._s(g.groundName))])
  }), 1), _vm._v(" "), _c('span', {
    staticClass: "gray"
  }, [_vm._v("（可选）")])], 1)]) : _vm._e(), _vm._v(" "), (_vm.selectPsIdx !== null) ? _c('tr', [_c('th', [_vm._v("预约上课日期")]), _vm._v(" "), _c('td', {
    staticStyle: {
      "padding-left": "14px"
    }
  }, [_c('DatePicker', {
    staticStyle: {
      "width": "120px",
      "display": "inline-block"
    },
    attrs: {
      "placement": "bottom-start",
      "type": "date",
      "placeholder": "选择上课日期"
    },
    on: {
      "on-change": _vm.changeBookingDate
    },
    model: {
      value: (_vm.bookingDate),
      callback: function($$v) {
        _vm.bookingDate = $$v
      },
      expression: "bookingDate"
    }
  }), _vm._v(" "), _c('ul', {
    staticClass: "date-list"
  }, _vm._l((_vm.latestDates), function(d) {
    return _c('li', {
      on: {
        "click": function($event) {
          return _vm.setBookingDate(d)
        }
      }
    }, [_c('a', [_vm._v(_vm._s(d.format('M/d')) + "（" + _vm._s(_vm.g.Dict.WeekName[d.getDay()]) + "）")])])
  }), 0)], 1)]) : _vm._e(), _vm._v(" "), (_vm.selectPsIdx !== null && !_vm.enableMoreBookings && _vm.bookingDate) ? _c('tr', [_c('th', [_vm._v("预约上课时间")]), _vm._v(" "), (_vm.pcScheduleList[_vm.selectPsIdx].limitWeekArr.contains(_vm.bookingDate.getDay())) ? _c('td', [_c('ul', {
    staticClass: "times"
  }, [_vm._l((_vm.times), function(t, idx) {
    return [(t[0] === _vm.hours[0] && t[1] === 0) ? _c('li', {
      staticClass: "spt"
    }, [_vm._v("上午"), _c('i', {
      staticClass: "iconfont icon-arrow-r"
    })]) : (t[0] === 12 && t[1] === 0) ? [_c('li', {
      staticClass: "block"
    }, [_vm._v(" ")]), _vm._v(" "), _c('li', {
      staticClass: "spt"
    }, [_vm._v("下午"), _c('i', {
      staticClass: "iconfont icon-arrow-r"
    })])] : (t[0] === 18 && t[1] === 0) ? [_c('li', {
      staticClass: "block"
    }, [_vm._v(" ")]), _vm._v(" "), _c('li', {
      staticClass: "spt"
    }, [_vm._v("晚上"), _c('i', {
      staticClass: "iconfont icon-arrow-r"
    })])] : _vm._e(), _vm._v(" "), (_vm.timeItem = _vm.timeItems[t[0] - _vm.hours[0]]) ? void 0 : _vm._e(), _vm._v(" "), (_vm.timeItem.mins = _vm.timeItem.mins ? _vm.timeItem.mins : {}) ? void 0 : _vm._e(), _vm._v(" "), _c('li', {
      class: {
        'open': (_vm.timeItem.type === _vm.dataType.USABLE && _vm.timeItem.mins[t[1]] !== _vm.dataType.VACATION) || (_vm.timeItem.type === _vm.dataType.PENDING && _vm.timeItem.mins[t[1]] === _vm.dataType.USABLE),
        'off': _vm.timeItem.type === _vm.dataType.VACATION || _vm.timeItem.mins[t[1]] === _vm.dataType.VACATION,
        'used': _vm.timeItem.type === _vm.dataType.PENDING && _vm.timeItem.mins[t[1]] === _vm.dataType.USED,
        'disused': _vm.timeItem.type === _vm.dataType.PENDING && _vm.timeItem.mins[t[1]] === _vm.dataType.DISUSED,
        'check': _vm.selectTimeIdx === idx
      },
      on: {
        "click": function($event) {
          return _vm.checkTime(idx, t[1])
        }
      }
    }, [(_vm.timeItem.type === _vm.dataType.PENDING && _vm.timeItem.mins[t[1]] === _vm.dataType.USED) ? _c('div', {
      attrs: {
        "title": _vm.lessonTitlesInTimes[t[0] * 100 + t[1]]
      }
    }, [_vm._v("\n                        " + _vm._s(t[0]) + ":" + _vm._s(t[1] >= 10 ? t[1] : '0' + t[1]) + "\n                      ")]) : [_vm._v(_vm._s(t[0]) + ":" + _vm._s(t[1] >= 10 ? t[1] : '0' + t[1]))]], 2)]
  })], 2), _vm._v(" "), _c('div', {
    staticClass: "desc"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_vm._m(0), _vm._v(" "), _c('td', {
    attrs: {
      "align": "right"
    }
  }, [_c('a', {
    on: {
      "click": _vm.changeTimeInterval
    }
  }, [_vm._v("设置时间间隔")])])])])])]) : _c('td', [_c('p', {
    staticClass: "orangered"
  }, [_vm._v(_vm._s(_vm.g.Util.formatDate(_vm.bookingDate)) + " (" + _vm._s(_vm.g.Dict.WeekName[_vm.bookingDate.getDay()]) + ") 不在该私教排课的规定星期内，请重新选择日期或其它私教排课预约")])])]) : _vm._e(), _vm._v(" "), (_vm.enableMoreBookings && _vm.selectPsIdx != null) ? _c('tr', [_c('th', [_vm._v("已开私教课")]), _vm._v(" "), _c('td', [_c('div', {
    staticClass: "mytbl booked-pl"
  }, [_c('table', [_vm._m(1), _vm._v(" "), _vm._l((_vm.pcLessonForMoreBookingsList), function(l) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(_vm.g.Util.formatTime(l.beginTime)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatTime(l.endTime)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.pcScheduleList[_vm.selectPsIdx].maxStudents) + " 人")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.bookings) + " 人")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.pcScheduleList[_vm.selectPsIdx].maxStudents - l.bookings) + " 人")]), _vm._v(" "), _c('td', [(_vm.pcScheduleList[_vm.selectPsIdx].maxStudents > l.bookings) ? _c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.bookingPcLesson(l.lessonId)
        }
      }
    }, [_vm._v("预约")]) : _c('span', {
      staticClass: "gray"
    }, [_vm._v("已约满")])])])
  })], 2), _vm._v(" "), (_vm.pcLessonForMoreBookingsList && !_vm.pcLessonForMoreBookingsList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n                    暂无预约记录\n                  ")]) : _vm._e()])])]) : _vm._e()])])], _vm._v(" "), (_vm.coachList && _vm.coachList.length === 0) ? _c('div', {
    staticClass: "err"
  }, [_vm._v("\n        该会员没有可选择的私教排课，请先为该会员排私教课，或者设置公共的私教排课（不限定会员的私教排课）\n      ")]) : _vm._e(), _vm._v(" "), (_vm.memberCardList && _vm.selectPsIdx !== null) ? _c('section', {
    staticClass: "cards"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit l"
  }, [_vm._v("请选择计费会员卡")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('checkbox', {
    model: {
      value: (_vm.hideInvalidCards),
      callback: function($$v) {
        _vm.hideInvalidCards = $$v
      },
      expression: "hideInvalidCards"
    }
  }, [_vm._v("隐藏无效卡")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(2), _vm._v(" "), _vm._l((_vm.memberCardList), function(c, idx) {
    return (!_vm.hideInvalidCards || c.canSelect) ? _c('tr', [_c('td', [(c.canSelect) ? _c('input', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: (_vm.selectCardIndex),
        expression: "selectCardIndex"
      }],
      staticClass: "single-radio",
      attrs: {
        "name": "ck",
        "type": "radio"
      },
      domProps: {
        "value": idx,
        "checked": _vm._q(_vm.selectCardIndex, idx)
      },
      on: {
        "change": function($event) {
          _vm.selectCardIndex = idx
        }
      }
    }) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v("\n                " + _vm._s(c.cardName) + "\n              ")]), _vm._v(" "), _c('td', [(c.cardType === 1) ? [(c.beginDate) ? [_vm._v("\n                    " + _vm._s(Date.new(c.endDate).subtract(_vm.today)) + " 天\n                  ")] : (c.canSelect) ? [_vm._v("\n                    尚未使用\n                  ")] : _vm._e()] : (c.cardType === 2) ? [_vm._v("\n                  " + _vm._s(c.currentTimes) + " 次\n                ")] : (c.cardType === 3) ? [_vm._v("\n                  " + _vm._s(c.currentAmount) + " 元\n                ")] : (c.cardType === 4) ? [_vm._v("\n                  " + _vm._s(c.currentTimes) + " " + _vm._s(_vm.g.Dict.CardTimeTypes[c.cardTimeType]) + "\n                ")] : _vm._e()], 2), _vm._v(" "), _c('td', [(c.status !== 0) ? _c('span', {
      staticClass: "red"
    }, [_vm._v("已" + _vm._s(_vm.g.Dict.MemberCardStatus[c.status]) + "，不可使用")]) : (c.canSelect) ? [(_vm.cardPaymentConf) ? [(c.cardType === 1) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("期限卡不单独计费")]) : (c.cardType === 2) ? [_vm._v("每次计费 "), _c('b', [_vm._v(_vm._s(_vm.cardPaymentConf[c.cardId]))]), _vm._v(" 次")] : (c.cardType === 3) ? [_vm._v("每次计费 "), _c('b', [_vm._v(_vm._s(_vm.cardPaymentConf[c.cardId]))]), _vm._v(" 元")] : (c.cardType === 4) ? [_vm._v("每次计费 "), _c('b', [_vm._v(_vm._s(_vm.cardPaymentConf[c.cardId]))]), _vm._v(" " + _vm._s(_vm.g.Dict.CardTimeTypes[c.cardTimeType]))] : _vm._e()] : _c('span', {
      staticClass: "green"
    }, [_vm._v("本节课不计费")])] : _c('span', {
      staticClass: "red"
    }, [_vm._v(_vm._s(c.error))])], 2), _vm._v(" "), _c('td', [_c('ul', {
      staticClass: "opts"
    }, [(c.beginDate && c.endDate) ? _c('li', [_vm._v("\n                    使用期限：" + _vm._s(_vm.g.Util.formatDate(c.beginDate, false)) + " ~ " + _vm._s(_vm.g.Util.formatDate(c.endDate, false)) + "\n                  ")]) : _vm._e(), _vm._v(" "), (_vm.isInVacation(c.vacationBegin, c.vacationEnd)) ? _c('li', [_vm._v("\n                    请假：" + _vm._s(_vm.g.Util.formatDate(c.vacationBegin, false)) + " ~ " + _vm._s(_vm.g.Util.formatDate(c.vacationEnd, false)) + "\n                    "), _c('a', {
      staticClass: "l10",
      on: {
        "click": function($event) {
          return _vm.altCardVacation(c)
        }
      }
    }, [_vm._v("【提前销假】")])]) : _vm._e(), _vm._v(" "), (c.limitBeginTime && c.limitEndTime) ? _c('li', [_vm._v("\n                    限定用卡时间：" + _vm._s(_vm.g.Util.formatTime(c.limitBeginTime)) + " ~ " + _vm._s(_vm.g.Util.formatTime(c.limitEndTime)) + "\n                  ")]) : _vm._e(), _vm._v(" "), (c.limitDates) ? _c('li', [_vm._v("\n                    限定用卡日期：" + _vm._s(_vm.g.MemberLib.formatLimitDates(c.limitDates)) + "\n                  ")]) : _vm._e(), _vm._v(" "), (c.limitWeeks) ? _c('li', [_vm._v("\n                    限定" + _vm._s(c.cardClass === 0 ? '用卡' : '上课') + "星期：" + _vm._s(_vm.g.MemberLib.formatWeekNames(c.limitWeeks)) + "\n                  ")]) : _vm._e()])])]) : _vm._e()
  })], 2)])]) : _vm._e(), _vm._v(" "), (_vm.selectCardIndex !== null && !_vm.clickedSubmit && _vm.selectPsIdx !== null) ? _c('section', {
    staticClass: "submit"
  }, [(_vm.enablePlCardVenueConf) ? _c('div', {
    staticClass: "vb"
  }, [_c('div', {
    staticClass: "hd"
  }, [(_vm.vb.isSelect) ? _c('div', {
    staticClass: "tit l"
  }, [_vm._v("请选择场地预约信息")]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('checkbox', {
    on: {
      "on-change": _vm.queryVenueList
    },
    model: {
      value: (_vm.vb.isSelect),
      callback: function($$v) {
        _vm.$set(_vm.vb, "isSelect", $$v)
      },
      expression: "vb.isSelect"
    }
  }, [_vm._v("启用场地预约")])], 1)]), _vm._v(" "), (_vm.vb.isSelect) ? _c('div', {
    staticClass: "mytbl"
  }, [(_vm.vb.venueList && _vm.vb.venueList.length) ? _c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("场馆选择")]), _vm._v(" "), _c('td', [_c('radio-group', {
    on: {
      "on-change": _vm.queryVenueArea
    },
    model: {
      value: (_vm.vb.venueId),
      callback: function($$v) {
        _vm.$set(_vm.vb, "venueId", $$v)
      },
      expression: "vb.venueId"
    }
  }, _vm._l((_vm.vb.venueList), function(v) {
    return _c('radio', {
      key: v.venueId,
      attrs: {
        "label": v.venueId
      }
    }, [_vm._v(_vm._s(v.venueName))])
  }), 1)], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("场地选择")]), _vm._v(" "), _c('td', [(_vm.vb.vaList && _vm.vb.vaList.length) ? _c('radio-group', {
    model: {
      value: (_vm.vb.vaId),
      callback: function($$v) {
        _vm.$set(_vm.vb, "vaId", $$v)
      },
      expression: "vb.vaId"
    }
  }, _vm._l((_vm.vb.vaList), function(va) {
    return _c('radio', {
      key: va.vaId,
      attrs: {
        "label": va.vaId
      }
    }, [_vm._v(_vm._s(va.areaName))])
  }), 1) : _vm._e(), _vm._v(" "), (_vm.vb.vaList && !_vm.vb.vaList.length) ? _c('div', {
    staticClass: "warning"
  }, [_vm._v("未查找到符合条件的场地")]) : _vm._e()], 1)]), _vm._v(" "), (_vm.vb.bookingTimesList) ? _c('tr', [_c('th', [_vm._v("场地预约时间")]), _vm._v(" "), _c('td', {
    staticClass: "vb-times"
  }, _vm._l((_vm.vb.bookingTimesList), function(t) {
    return _c('span', [_vm._v(_vm._s(t[0]) + " ~ " + _vm._s(t[1]))])
  }), 0)]) : _vm._e()]) : _vm._e(), _vm._v(" "), (_vm.vb.venueList && !_vm.vb.venueList.length) ? _c('div', {
    staticClass: "warning"
  }, [_vm._v("未查找到相关配置")]) : _vm._e()]) : _vm._e()]) : _vm._e(), _vm._v(" "), _c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', [(_vm.selectPsIdx !== null) ? _c('div', {
    staticClass: "sum"
  }, [_vm._v("\n                " + _vm._s(_vm.pcScheduleList[_vm.selectPsIdx].courseName) + " "), _c('u', [_vm._v("/")]), _vm._v(" 教练：" + _vm._s(_vm.pcScheduleList[_vm.selectPsIdx].coachName) + "\n                "), (_vm.bookingDate) ? _c('span', [_c('u', [_vm._v("/")]), _vm._v(" " + _vm._s(_vm.g.Util.formatDate(_vm.bookingDate, false)) + " "), _c('u', [_vm._v("/")]), _vm._v(" "), (_vm.selectTimeIdx !== null) ? _c('span', [_vm._v("\n                    " + _vm._s(_vm.times[_vm.selectTimeIdx][0]) + ":" + _vm._s(_vm.times[_vm.selectTimeIdx][1])), (_vm.times[_vm.selectTimeIdx][1] === 0) ? [_vm._v("0")] : _vm._e()], 2) : (!_vm.enableMoreBookings) ? _c('span', {
    staticClass: "orange"
  }, [_vm._v("未选择时间")]) : _vm._e()]) : _vm._e()]) : _vm._e()]), _vm._v(" "), _c('td', {
    attrs: {
      "align": "right"
    }
  }, [(Date.new(_vm.bookingDate).compareDatePart(_vm.g.Util.formatDate(_vm.pcScheduleList[_vm.selectPsIdx].endDate)) > 0 || Date.new(_vm.bookingDate).compareDatePart(_vm.g.Util.formatDate(_vm.pcScheduleList[_vm.selectPsIdx].beginDate)) < 0) ? _c('span', {
    staticClass: "orangered"
  }, [_c('i', {
    staticClass: "iconfont icon-alert1"
  }), _vm._v(" 不在课程有效期内，不能约私教课\n              ")]) : (!_vm.enableMoreBookings) ? [(!_vm.pcScheduleList[_vm.selectPsIdx].limitTimes || _vm.pcScheduleList[_vm.selectPsIdx].limitTimes > (_vm.pcScheduleList[_vm.selectPsIdx].usedTimes ? _vm.pcScheduleList[_vm.selectPsIdx].usedTimes : 0)) ? _c('i-button', {
    staticClass: "primary",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.handleSubmit()
      }
    }
  }, [_vm._v("确定预约")]) : _c('span', {
    staticClass: "orangered"
  }, [_c('i', {
    staticClass: "iconfont icon-alert1"
  }), _vm._v(" 排课次数须大于已用次数，请更新排课次数或重排课")])] : _vm._e()], 2)])])]) : _vm._e()] : _c('div', {
    staticClass: "remark"
  }, [_c('b', [_vm._v("预约步骤")]), _vm._v("： \n      1. 选择会员 "), _c('span', [_vm._v("——▶")]), _vm._v("\n      2. 选择私教课 "), _c('span', [_vm._v("——▶")]), _vm._v("\n      3. 选择上课时间 "), _c('span', [_vm._v("——▶")]), _vm._v("\n      4. 选择会员结算卡 "), _c('span', [_vm._v("——▶")]), _vm._v("\n      5. 确定预约\n    ")])], 2)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('td', [_c('ul', {
    staticClass: "times"
  }, [_c('li', {
    staticClass: "open"
  }, [_vm._v("可预约")]), _vm._v(" "), _c('li', {
    staticClass: "used"
  }, [_vm._v("已预约")]), _vm._v(" "), _c('li', {
    staticClass: "off"
  }, [_vm._v("教练休息")]), _vm._v(" "), _c('li', {
    staticClass: "disused"
  }, [_vm._v("不可预约")])]), _vm._v(" "), _c('span', {
    staticClass: "gray l10"
  }, [_vm._v("（状态说明）")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("上课开始时间")]), _vm._v(" "), _c('th', [_vm._v("上课结束时间")]), _vm._v(" "), _c('th', [_vm._v("最多预约人数")]), _vm._v(" "), _c('th', [_vm._v("已预约人数")]), _vm._v(" "), _c('th', [_vm._v("剩余预约人数")]), _vm._v(" "), _c('th', [_vm._v("操作")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("选择")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("会员卡名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "85"
    }
  }, [_vm._v("余额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "145"
    }
  }, [_vm._v("上课计费")]), _vm._v(" "), _c('th', [_vm._v("备注")])])
}]}

/***/ }),

/***/ 1204:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "card-conf"
  }, [_c('section', [_c('div', {
    staticClass: "tbl-header"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('radio-group', {
    attrs: {
      "type": "button"
    },
    on: {
      "on-change": _vm.queryCards
    },
    model: {
      value: (_vm.queryCardType),
      callback: function($$v) {
        _vm.queryCardType = $$v
      },
      expression: "queryCardType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("所有类型")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("期限卡")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("次数卡")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 3
    }
  }, [_vm._v("储值卡")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 4
    }
  }, [_vm._v("计时卡")])], 1), _vm._v(" "), _c('radio-group', {
    staticClass: "l5",
    attrs: {
      "type": "button"
    },
    on: {
      "on-change": _vm.queryCards
    },
    model: {
      value: (_vm.queryCardClass),
      callback: function($$v) {
        _vm.queryCardClass = $$v
      },
      expression: "queryCardClass"
    }
  }, [_c('radio', {
    attrs: {
      "label": -1
    }
  }, [_vm._v("所有类别")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("会籍卡")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("团课卡")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("私教卡")])], 1), _vm._v(" "), _c('span', {
    staticClass: "l5",
    staticStyle: {
      "position": "relative",
      "top": "-3px"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "type": "text",
      "placeholder": "会员卡名",
      "icon": "ios-search"
    },
    on: {
      "on-enter": function($event) {
        return _vm.queryCards(null)
      },
      "on-click": function($event) {
        return _vm.queryCards(null)
      }
    },
    model: {
      value: (_vm.queryCardName),
      callback: function($$v) {
        _vm.queryCardName = (typeof $$v === 'string' ? $$v.trim() : $$v)
      },
      expression: "queryCardName"
    }
  })], 1), _vm._v(" "), _c('span', [_vm._v("\n\t\t\t\t\t \n\t\t\t\t\t"), _c('Checkbox', {
    on: {
      "on-change": _vm.queryCards
    },
    model: {
      value: (_vm.showDisabledCard),
      callback: function($$v) {
        _vm.showDisabledCard = $$v
      },
      expression: "showDisabledCard"
    }
  }, [_vm._v("显示停用卡")])], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.cardEditable) ? _c('i-button', {
    attrs: {
      "type": "primary",
      "icon": "md-add"
    },
    on: {
      "click": _vm.toCardCreatePage
    }
  }, [_vm._v("添加会员卡")]) : _vm._e()], 1)]), _vm._v(" "), (_vm.from === 'tenant') ? _c('div', {
    staticClass: "tbl-header"
  }, [_c('i-select', {
    staticClass: "card-query",
    attrs: {
      "filterable": ""
    },
    on: {
      "on-change": _vm.queryCards
    },
    model: {
      value: (_vm.selectEncSid),
      callback: function($$v) {
        _vm.selectEncSid = $$v
      },
      expression: "selectEncSid"
    }
  }, [_c('i-option', {
    attrs: {
      "value": "none"
    }
  }, [_vm._v("【跨店通卡】")]), _vm._v(" "), _vm._l((_vm.g.data.shopList), function(s, idx) {
    return (!s.forbiddenInChain) ? _c('i-option', {
      key: idx,
      attrs: {
        "value": s.encSid
      }
    }, [_vm._v(_vm._s(s.shopName))]) : _vm._e()
  })], 2)], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    staticClass: "inner-tbl"
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "48"
    }
  }, [_vm._v("序号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("卡名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "60"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("卡类别")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("卡类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("默认充值金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("默认使用额")]), _vm._v(" "), _vm._m(0), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("对外展示")]), _vm._v(" "), (_vm.from === 'tenant' || _vm.hasCrossCard) ? _c('th', [_vm._v("适用门店")]) : _vm._e(), _vm._v(" "), (_vm.cardEditable) ? _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("操作")]) : _vm._e()]), _vm._v(" "), _vm._l((_vm.cards), function(c) {
    return _c('tr', {
      key: c.cardId
    }, [_c('td', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(c.orderNo))]), _vm._v(" "), _c('td', [(_vm.cardEditable) ? _c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.toCardEditPage(c.cardId)
        }
      }
    }, [_vm._v(_vm._s(c.cardName))]) : [_vm._v(_vm._s(c.cardName))]], 2), _vm._v(" "), _c('td', {
      domProps: {
        "innerHTML": _vm._s(c.statusName)
      }
    }), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardClass[c.cardClass]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.cardTypeName))]), _vm._v(" "), _c('td', [(c.defaultAmount) ? [_vm._v("￥" + _vm._s(c.defaultAmount))] : _vm._e()], 2), _vm._v(" "), _c('td', [(c.cardType === 1 && c.defaultDays) ? [_vm._v(_vm._s(c.defaultDays) + " 天")] : _vm._e(), _vm._v(" "), (c.cardType === 2 && c.defaultTimes) ? [_vm._v(_vm._s(c.defaultTimes) + " 次")] : _vm._e(), _vm._v(" "), (c.cardType === 4 && c.defaultTimes) ? [_vm._v(_vm._s(c.defaultTimes) + " " + _vm._s(_vm.g.Dict.CardTimeTypes[c.cardTimeType]))] : _vm._e()], 2), _vm._v(" "), _c('td', [(c.isOnlineSale) ? _c('span', [_vm._v("￥" + _vm._s(c.onlinePrice))]) : _c('span', {
      staticClass: "gray"
    }, [_vm._v("否")])]), _vm._v(" "), _c('td', [(c.isPublic) ? [_vm._v("是")] : [_vm._v("否")]], 2), _vm._v(" "), (_vm.from === 'tenant' || _vm.hasCrossCard) ? _c('td', [_vm._v("\n\t\t\t\t\t\t" + _vm._s(c.shopNames.join('、')) + "\n\t\t\t\t\t")]) : _vm._e(), _vm._v(" "), (_vm.cardEditable) ? _c('td', [_c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.toCardEditPage(c.cardId)
        }
      }
    }, [_vm._v("详情")])]), _vm._v(" "), (_vm.from === 'tenant' || (_vm.from === 'shop' && !c.isUniversal)) ? [_c('li', [(c.status === 0) ? _c('a', {
      attrs: {
        "title": "停用"
      },
      on: {
        "click": function($event) {
          return _vm.updateCardStatus(c.cardId, 1)
        }
      }
    }, [_c('Icon', {
      attrs: {
        "type": "ios-remove-circle-outline",
        "size": "14"
      }
    })], 1) : _vm._e()]), _vm._v(" "), _c('li', [(c.status === 1) ? _c('a', {
      attrs: {
        "title": "恢复"
      },
      on: {
        "click": function($event) {
          return _vm.updateCardStatus(c.cardId, 0)
        }
      }
    }, [_c('Icon', {
      attrs: {
        "type": "ios-undo",
        "size": "15"
      }
    })], 1) : _vm._e()]), _vm._v(" "), _c('li', [_c('a', {
      attrs: {
        "title": "删除"
      },
      on: {
        "click": function($event) {
          return _vm.delCard(c.cardId, c.cardName)
        }
      }
    }, [_c('i', {
      staticClass: "iconfont icon-delete normal"
    })])])] : _vm._e()], 2)]) : _vm._e()])
  })], 2), _vm._v(" "), _c('div', {
    staticClass: "tbl-footer center"
  }, [_vm._v("查询到 "), _c('b', [_vm._v(_vm._s(_vm.cards.length))]), _vm._v(" 种会员卡")])])]), _vm._v(" "), _vm._m(1)])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('th', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("在线售卡 "), _c('a', {
    staticClass: "th-help",
    attrs: {
      "title": "需开通在线支付，见左侧导航：更多 > 在线支付申请"
    }
  }, [_vm._v("?")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit-help"
  }, [_vm._v("您需要知道的")])]), _vm._v(" "), _c('ol', [_c('li', [_vm._v("不再使用的会员卡种类，可以“停用”，停用的卡不会影响会员使用，只是不再对外发布和出售；")]), _vm._v(" "), _c('li', [_vm._v("如果是跨店使用的卡，门店不能编辑。只能在连锁店管理下编辑；")]), _vm._v(" "), _c('li', [_vm._v("支持 "), _c('span', {
    staticClass: "orangered"
  }, [_vm._v("在线售卡")]), _vm._v(" 功能，需要此功能请联系我们；")])])])
}]}

/***/ }),

/***/ 1271:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_cust_cust_detail_vue__ = __webpack_require__(405);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_cust_cust_detail_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__pages_cust_cust_detail_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { CustDetail: __WEBPACK_IMPORTED_MODULE_0__pages_cust_cust_detail_vue___default.a },
	data() {
		return {
			g: $,
			custCount: null,
			visitCustList: [],
			custDlgTitle: null,
			custDlgView: false,
			visitCnt: null,
			bookingCnt: null,
			custVisitConfirmDlg: false,
			selectCustId: null,
			selectCustName: null,
			visitTime: null,
			queryDates: [null, null],
			dateList: [],
			visitStatMap: {},
			bookingStatMap: {},
			dateOptions: {
				disabledDate(date) {
					return date && date.valueOf() > Date.now();
				},
				shortcuts: [{
					text: '最近一周',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);
						return [start, end];
					}
				}, {
					text: '最近30天',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);
						return [start, end];
					}
				}, {
					text: '最近60天',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 60);
						return [start, end];
					}
				}, {
					text: '最近90天',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);
						return [start, end];
					}
				}]
			}
		};
	},

	created() {
		let statDays = 15;
		let statDate = new Date();
		this.queryDates[0] = statDate;
		this.queryDates[1] = statDate;
		for (let i = 0; i < statDays; i++) {
			if (i > 0) {
				statDate = new Date(statDate.getTime() - 24 * 3600 * 1000);
			}
			this.dateList.push({ date: statDate, val: $.Util.formatDate(statDate) });
		}
		this.statVisitCountByDay(() => {
			this.queryVisitCust();
		});
	},

	methods: {
		statVisitCountByDay(callback) {
			let args = {
				beginDate: this.dateList[this.dateList.length - 1].date,
				endDate: this.dateList[0].date, statType: 1
			};
			$.Req.service($.SvName.VISIT_CUST_COUNT_STAT, args, ret => {
				if (ret.VistCntList) {
					for (let r of ret.VistCntList) {
						this.visitStatMap[$.Util.formatDate(r.statDate)] = r.count;
					}
				}
				if (ret.bookingCntList) {
					for (let r of ret.bookingCntList) {
						this.bookingStatMap[$.Util.formatDate(r.statDate)] = r.count;
					}
				}
				if (callback) callback();
			});
		},

		queryVisitCust(page = null) {
			if (!page) this.custCount = null;
			if (!this.queryDates[0] || !this.queryDates[1]) {
				$.Msg.error('请输入完整的查询日期');
				return;
			}

			let args = {
				visitDateBegin: this.queryDates[0],
				visitDateEnd: this.queryDates[1],
				orderBy: 'visit_time', ascOrDesc: 'asc', page: page
			};
			$.Req.service($.SvName.CUST_QUERY, args, ret => {
				this.visitCustList = ret.custList;
				if (!page) {
					this.custCount = ret.count;
					this.queryVisitCustCount();
				}
				window.scrollTo(0, 0);
			}, true);
		},

		queryVisitCustCount() {
			let args = { visitDateBegin: this.queryDates[0], visitDateEnd: this.queryDates[1], custType: 1, onlyCount: true };
			$.Req.service($.SvName.CUST_QUERY, args, ret => {
				this.visitCnt = ret.count;
				this.bookingCnt = this.custCount - this.visitCnt;
			});
		},

		viewCust(cust) {
			this.selectCustId = cust.custId;
			this.custDlgTitle = '客户详情 - {0} （{1}）'.format(cust.name, cust.phoneNo);
			this.custDlgView = true;
		},

		openCustVisitDlg(custId, custName) {
			this.selectCustId = custId;
			this.selectCustName = custName;
			this.visitTime = new Date();
			this.custVisitConfirmDlg = true;
		},

		confirmCustVisit() {
			let now = new Date();
			let visitDateTime = Date.new($.Util.formatDate(now) + ' ' + this.visitTime);
			if (visitDateTime > new Date()) {
				$.Dlg.error('到店时间不能大于当前时间：' + $.Util.formatDateTime(now));
				return;
			}
			let args = { custId: this.selectCustId, visitTime: visitDateTime };
			$.Req.service($.SvName.CUST_VISIT_CONFIRM, args, ret => {
				this.loadVisitCust();
				this.custVisitConfirmDlg = false;
			}, true);
		},

		queryVisitCustByDate(date) {
			this.queryDates = [Date.new(date), Date.new(date)];
			this.queryVisitCust();
		}
	}
});

/***/ }),

/***/ 1332:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	props: {
		afterSubmit: {
			type: Function,
			default() {
				return {};
			}
		},
		onClose: {
			type: Function,
			default() {
				return {};
			}
		}
	},

	data() {
		return {
			g: window.$,
			today: new Date(),
			selectMlIdx: null,
			lessonList: null,
			memberLessonList: null,
			queryNo: null,
			member: null,
			queryError: null,
			memberCardList: [],
			password: null,
			selectCardIndex: null,
			cardPaymentConf: {},
			memberLesson: null,
			submitLoading: false,
			paymentCount: 1,
			OPT_TYPE: {
				BOOKING: 1, CHECKIN: 2
			},
			pos: {
				rows: null,
				cols: null,
				positions: null,
				usedPositionList: [],
				selectPos: null,
				selectPosArr: [],
				selections: {}
			},
			memberList: null,
			hasMemberCardNo: false,
			queryDate: new Date()
		};
	},

	computed: {
		canSubmit: function () {
			return false;
		}
	},

	created() {
		if (this.defaultPhoneNo) {
			this.queryNo = this.defaultPhoneNo;
		}
	},

	methods: {
		initData() {
			this.queryNo = null;
			this.member = null;
			this.selectCardIndex = null;
			this.password = null;
			this.cardPaymentConf = {};
			this.memberLesson = null;
		},

		isInVacation(begin, end) {
			if (begin && end) {
				let today = new Date();
				if (today.compareDatePart(Date.new(begin)) >= 0 && today.compareDatePart(Date.new(end)) <= 0) {
					return true;
				}
			}

			return false;
		},

		doQuery() {
			if (!this.queryNo) {
				$.Msg.warning($.Lang.NO_INPUT);
				return;
			}

			let args = {};
			if ($.Util.validatePhoneNo(this.queryNo)) {
				this.queryNoType = 'phone';
				args = { nameOrPhone: this.queryNo };
			} else {
				if (!$.Util.isInteger(this.queryNo)) {
					args = { fuzzyName: this.queryNo };
				} else {
					this.queryNoType = 'card';
					if (!$.Util.validateCardNo(this.queryNo)) {
						$.Msg.error($.Lang.CARD_NO_TOO_LONG);
						return;
					}
					args = { cardNo: this.queryNo };
				}
			}
			args.needPhoneSuffix = true;
			$.Req.service($.SvName.MEMBER_ADV_QUERY, args, ret => {
				this.member = null;
				if (!ret || !ret.memberList || ret.memberList.length === 0) {
					if (this.queryNoType === 'phone') {
						this.queryError = "不存在手机号为【{0}】的会员，请检查手机号是否正确".format(this.queryNo);
					} else if (!$.Util.isInteger(this.queryNo)) {
						this.queryError = "不存在姓名为【{0}】的会员，请检查姓名是否正确".format(this.queryNo);
					} else {
						this.queryError = "不存在卡号为【{0}】的会员，请检查卡号是否正确".format(this.queryNo);
					}
					return;
				}
				this.queryError = null;
				if (ret.memberList.length === 1) {
					this.memberList = null;
					this.member = ret.memberList[0];
					this.doProcessAfterQueryMember();
				} else {
					this.memberList = ret.memberList;
				}
			}, true);
		},

		doProcessAfterQueryMember() {
			if (this.member.birthdayDate) {
				this.member.birthDayDesc = parseInt(this.member.birthdayDate / 100) + "月" + this.member.birthdayDate % 100 + '日';
				if (parseInt(new Date().format('MMdd')) === this.member.birthdayDate) {
					this.member.birthDayDesc += ' <b class="red">（今日生日）</b>';
				}
			}
			this.member.memberPhotoUrl = $.Util.getImgUrl(this.member.avatarPathname, 200, 200, 'EEEEEE');
			this.queryMemberCard();
			this.queryMemberLessonForCheckin();
		},

		queryMemberLessonForCheckin() {
			let args = { memberId: this.member.memberId, lessonDate: this.queryDate };
			$.Req.service($.SvName.MEMBER_LESSON_FOR_CHECKIN_QUERY, args, ret => {
				this.memberLessonList = ret.memberLessonList;
			});
		},

		queryMemberCard() {
			this.selectCardIndex = null; // init
			$.Req.service($.SvName.MEMBER_CARD_QUERY, { memberId: this.member.memberId }, ret => {
				this.memberCardList = ret.memberCardList;
			});
		},

		initMemberCardUsage() {
			let firstCkinCardIdx = -1,
			    i = 0,
			    ckinCnt = 0;
			this.hasMemberCardNo = false;
			for (let mc of this.memberCardList) {
				if (mc.cardNo && this.queryNoType === 'card' && parseInt(this.queryNo) === parseInt(mc.cardNo)) {
					this.hasMemberCardNo = true;
					mc.isFind = true;
				}
				let checkRet = this.checkMemberCard(mc);
				mc.canSelect = checkRet[0];
				if (mc.canSelect) {
					ckinCnt++;
					if (firstCkinCardIdx < 0) firstCkinCardIdx = i;
				} else {
					mc.error = checkRet[1];
				}
				i++;
			}
			if (ckinCnt >= 1) {
				this.selectCardIndex = firstCkinCardIdx;
			}
		},

		/*			queryMemberLesson () {
  				let args = {
  					memberId: this.member.memberId,
  					lessonId: this.lessonId,
  					page: 1,
  				};
  				this.memberCardList = null; // init
  				$.Req.service($.SvName.MEMBER_GROUP_LESSON_QUERY, args, (ret) => {
  					if (ret.memberLessonList && ret.memberLessonList.length >= 1) {
  						this.memberLesson = ret.memberLessonList[0];
  					} else {
  						this.memberLesson = null;
  					}
  					this.queryMemberLessonPosition();
  				});
  			},*/

		/*			queryLesson (callback) {
  				let args = {
  					lessonId: this.lessonId,
  				};
  
  				$.Req.service($.SvName.LESSON_QUERY, args, (ret) => {
  					if (!ret || !ret.lesson) {
  						$.Msg.error($.Lang.NOT_FOUND_RECORD);
  						return;
  					}
  					this.lesson = ret.lesson;
  					this.setCardPaymentConf();
  					if (callback) callback();
  				});
  			},*/

		setCardPaymentConf() {
			if (this.memberLesson.cardPaymentConf && this.memberLesson.cardPaymentConf.length > 0) {
				let records = this.memberLesson.cardPaymentConf.split(',');
				this.cardPaymentConf = {};
				for (let r of records) {
					let [cardId, payment] = r.split(':');
					this.cardPaymentConf[cardId] = payment;
				}
			} else {
				this.cardPaymentConf = null;
			}
		},

		formatTime(timeId) {
			return parseInt(timeId / 100) + ':' + (timeId + '').substr(-2, 2);
		},

		checkMemberCard(mc) {
			let now = new Date();

			let ret = $.MemberLib.checkMemberCard(mc);
			if (!ret[0]) {
				return ret;
			}

			if (!this.cardPaymentConf) {
				// 无需计费
				return [true, null];
			}

			if (!(mc.cardId in this.cardPaymentConf)) {
				// 该课程未设置本卡
				return [false, '不在本课计费卡范围内'];
			}

			// 检查余额
			let cardPayment = this.cardPaymentConf[mc.cardId];
			if (mc.cardType === 1) {
				// 期限卡
				if (mc.endDate) {
					if (now.compareDatePart(Date.new(mc.endDate)) > 0) {
						return [false, '会员卡已过期'];
					}
				}
			} else if (mc.cardType === 2) {
				// 次卡
				if (mc.currentTimes - cardPayment < 0) {
					return [false, '剩余次数不足'];
				}
			} else if (mc.cardType === 3) {
				// 储值卡
				if (mc.currentAmount - cardPayment < 0) {
					return [false, '剩余金额不足'];
				}
			}

			return [true, null];
		},

		handleSubmit() {
			// 未预约的签到需要验证密码
			if (this.member && !this.memberLesson && !this.password && !this.member.authGroupLessonCheckin) {
				$.Dlg.error('请会员输入系统登录密码，以备校验。');
				return;
			}

			if (this.memberCardList && this.memberCardList.length > 0 && this.memberLesson && !this.memberLesson.bookingTime) {
				if (this.selectCardIndex === null) {
					$.Dlg.error('请选择一张会员卡');
					return;
				} else if (this.memberCardList[this.selectCardIndex].cardType !== 1 && !this.paymentCount) {
					$.Dlg.error('人数必须大于0');
					return;
				}
				if (this.memberCardList[this.selectCardIndex].cardType === 1) {
					this.paymentCount = 1;
				}

				if (this.pos.rows && this.pos.cols) {
					if (this.paymentCount === 1) {
						if (this.pos.selectPos === null) {
							$.Msg.error('请选择一个上课位置');
							return;
						}
					} else {
						if (this.pos.selectPosArr.length !== this.paymentCount) {
							$.Msg.error('选择的位置数必须为 {0} 个'.format(this.paymentCount));
							return;
						}
					}
				}
			} else {
				$.Dlg.error('请选择会员卡');
			}

			let msg = '确定代签到吗？';
			if (!confirm(msg)) {
				return;
			}
			let args = {
				lessonId: this.memberLesson.lessonId,
				memberId: this.member.memberId,
				optType: 2,
				courseType: 1,
				paymentCount: this.paymentCount
				//positions: this.pos.selectPosArr,
			};
			if (this.selectCardIndex !== null) {
				args.mcId = this.memberCardList[this.selectCardIndex].mcId;
			} else if (this.memberLesson) {
				args.mcId = this.memberLesson.mcId;
			}
			if (this.password) {
				args.passwdMd5 = $.Util.md5(this.password);
			}

			this.submitLoading = true;
			$.Req.service($.SvName.MEMBER_LESSON_OPERATE, args, ret => {
				this.submitLoading = false;
				if (this.afterSubmit) {
					this.initData();
					this.afterSubmit();
				}
			}, true, err => {
				this.submitLoading = false;
				$.Dlg.error(err);
			});
		},

		queryMemberLessonPosition(refresh = false) {
			let args = { lessonId: this.memberLesson.lessonId };
			$.Req.service($.SvName.MEMBER_LESSON_POSITION_QUERY, args, ret => {
				this.pos.selections = {};
				this.pos.selectPos = null;
				this.pos.selectPosArr = [];
				this.pos.rows = ret.positionRows;
				this.pos.cols = ret.positionCols;
				this.pos.usedPositionList = ret.positionList ? ret.positionList : [];
				this.pos.positions = {};
				if (this.pos.rows && this.pos.cols && ret.groundPositions) {
					let rows = ret.groundPositions.split(';');
					let i = 0,
					    j = 0;
					for (let r of rows) {
						i++;
						let cols = r.split(',');
						j = 0;
						for (let c of cols) {
							j++;
							if (c) {
								this.pos.positions[i + '-' + j] = c;
							}
						}
					}
				}
				if (refresh) $.Msg.info($.Lang.REFRESH_DONE);
			}, refresh);
		},

		selectPosition(position) {
			if (position && !this.pos.usedPositionList.contains(position)) {
				if (this.paymentCount > 1) {
					if (this.pos.selectPosArr.contains(position)) {
						this.pos.selectPosArr.removeValue(position);
						this.$set(this.pos.selections, position, false);
					} else {
						if (this.pos.selectPosArr.length > this.paymentCount - 1) {
							$.Msg.error('选择的位置数不能超过 {0} 个'.format(this.paymentCount));
							return;
						}
						this.pos.selectPosArr.push(position);
						this.$set(this.pos.selections, position, true);
					}
				} else if (this.pos.selectPos !== position) {
					if (this.pos.selectPos) {
						this.$set(this.pos.selections, this.pos.selectPos, false);
					}
					this.$set(this.pos.selections, position, true);
					this.pos.selectPos = position;
					this.pos.selectPosArr = [position];
				}
			}
		},

		handleClose() {
			this.initData();
			if (this.onClose) this.onClose();
		},

		selectMember(m) {
			this.member = m;
			this.queryNo = m.name;
			this.memberList = null;
			this.doProcessAfterQueryMember();
		},

		getCardPaymentDesc(cardType, cardId) {
			if (this.cardPaymentConf) {
				let cardPayment = this.cardPaymentConf[cardId];
				if (cardType === 1) return '<span class="gray">期限卡不单独计费</span>';
				if (cardType === 2) return '每次计费 <b>{0}</b> 次'.format(cardPayment);else if (cardType === 3) return '每次计费 <b>{0}</b> 元'.format(cardPayment);else return '';
			} else {
				return '<span class="green">本节课不计费</span>';
			}
		},

		changeMemberLesson(idx) {
			this.memberLesson = this.memberLessonList[idx];

			if (!this.memberLesson.bookintTime) {
				this.queryMemberLessonPosition();
				this.setCardPaymentConf();
				this.initMemberCardUsage();
			}
		},

		altCardVacation(mc) {
			if (!confirm('确定提前销假吗？ 确定后会将请假结束日期自动修改到昨天。')) {
				return;
			}

			let args = {
				mcId: mc.mcId,
				vacationEnd: new Date(new Date().getTime() - 24 * 3600 * 1000)
			};
			$.Req.service($.SvName.MEMBER_CARD_VACATION_UPDATE, args, (ret, systime) => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.queryMemberCard();
			}, true);
		}
	}
});

/***/ }),

/***/ 1333:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { ImgUpload: __WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue___default.a },
	props: {
		memberId: {
			type: Number,
			required: true
		},
		mecId: {
			type: Number,
			required: false
		},
		afterUpdateAvatar: {
			type: Function,
			default: function (val) {
				return {};
			}
		}
	},

	data() {
		return {
			g: window.$,
			advMembEditable: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_ADV_EDIT.value),
			checkinPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_AGENT.value),
			member: null,
			memberEntryCheckin: null,
			memberStat: {},
			isShopMember: true,
			memberCardList: null,
			imgUpload: {
				action: $.Conf.IMG_UPLOAD_URL,
				imgMaxWidth: 512,
				defaultList: []
			}
		};
	},

	watch: {
		memberId(val, oldVal) {
			this.loadData();
		}
	},

	created() {
		this.loadData();
	},

	methods: {
		loadData() {
			if (!this.memberId) {
				return;
			}
			let args = {
				memberId: this.memberId
			};
			$.Req.service($.SvName.MEMBER_ADV_QUERY, args, ret => {
				if (!ret || !ret.memberList || ret.memberList.length === 0) {
					this.member = null;
					return;
				}

				this.member = ret.memberList[0];
				$.Util.sessionStore.set($.Conf.LocalSessionKey.MEMBER_NAME, this.member.name);
				this.isShopMember = this.member.encSid === $.data.shop.encSid;
				if (this.member.birthdayDate) {
					this.member.birthDayDesc = parseInt(this.member.birthdayDate / 100) + "月" + this.member.birthdayDate % 100 + '日';
					if (parseInt(new Date().format('MMdd')) === this.member.birthdayDate) {
						this.member.birthDayDesc += ' <b class="red">（今日生日哦）</b>';
					}
				}
				if (this.member.avatarPathname) {
					this.imgUpload.defaultList.push({
						name: this.member.avatarPathname,
						url: $.Util.getImgUrl(this.member.avatarPathname, 90, 90)
					});
				}
				let coachNames = [];
				if (this.member.coachName) coachNames.push(this.member.coachName);
				if (this.member.moreCoachNameList && this.member.moreCoachNameList.length) {
					for (let cname of this.member.moreCoachNameList) coachNames.push(cname);
				}
				this.member.coachName = coachNames.join('、');

				this.member.memberPhotoUrl = $.Util.getImgUrl(this.member.avatarPathname, 220);
				this.queryMemberEntryCheckin();
				this.queryMemberCards();
			}, true);

			this.queryMemberStat();
		},

		queryMemberEntryCheckin() {
			if (!this.mecId) return;

			let args = { mecId: this.mecId };
			$.Req.service($.SvName.MEMBER_ENTRY_CHECKIN_QUERY, args, ret => {
				if (ret.mecList && ret.mecList.length === 1) {
					this.memberEntryCheckin = ret.mecList[0];
				}
			});
		},

		queryMemberCards() {
			let args = { memberId: this.memberId, encSid: this.member.encSid };
			$.Req.service($.SvName.MEMBER_CARD_QUERY, args, ret => {
				for (let c of ret.memberCardList) {
					if (c.beginDate && c.endDate && c.cardType === 1) {
						if (Date.new(c.beginDate).compareDatePart(new Date()) < 0) c.leftDays = Date.new(c.endDate).subtract(new Date());else c.leftDays = Date.new(c.endDate).subtract(Date.new(c.beginDate));
					}
				}
				this.memberCardList = ret.memberCardList;
			});
		},

		updateLockerId() {
			if (!this.memberEntryCheckin.lockerId) {
				$.Dlg.warning('更衣柜号不能为空');
				return;
			}
			let args = { mecId: this.mecId, lockerId: this.memberEntryCheckin.lockerId };
			$.Req.service($.SvName.LOCKER_ID_UPDATE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
			});
		},

		queryMemberStat() {
			let args = { memberId: this.memberId };
			$.Req.service($.SvName.MEMBER_STAT_QUERY, args, ret => {
				this.memberStat = ret.memberStat;
			});
		},

		handleImgUploadSuccess(res, file) {
			file.url = res.data.url;
			file.name = res.data.name;
			this.member.avatarPathname = res.data.name;

			// update member photo
			let newMember = { memberId: this.memberId, avatarPathname: res.data.name };
			$.Req.service($.SvName.MEMBER_AVATAR_UPDATE, { member: newMember }, ret => {
				this.imgUpload.defaultList = [];
				this.imgUpload.defaultList.push({
					name: this.member.avatarPathname,
					url: $.Util.getImgUrl(this.member.avatarPathname, 90, 90)
				});
				this.member.memberPhotoUrl = $.Util.getImgUrl(this.member.avatarPathname, 220);
				$.Msg.success($.Lang.UPDATE_MEMBER_PHOTO_OK);
				if (this.afterUpdateAvatar) {
					this.afterUpdateAvatar(this.member.avatarPathname);
				}
			}, true);
		}
	}
});

/***/ }),

/***/ 1335:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	props: {
		memberId: {
			type: Number,
			required: true
		},
		lessonId: {
			type: Number,
			required: true
		},
		afterSubmit: {
			type: Function,
			default() {
				return {};
			}
		},
		onClose: {
			type: Function,
			default() {
				return {};
			}
		}
	},

	data() {
		return {
			g: window.$,
			today: new Date(),
			member: null,
			queryError: null,
			memberCardList: [],
			cardNo: null,
			selectCardIndex: null,
			cardPaymentConf: {},
			lesson: null,
			memberPcLesson: null,
			submitLoading: false,
			psMcIdList: null,
			enablePlCardVenueConf: null
		};
	},

	created() {},

	watch: {
		memberId(val, oldVal) {
			if (val && val > 0) {
				this.doQuery();
			}
		}
	},

	methods: {
		initData() {
			this.member = null;
			this.selectCardIndex = null;
			this.lesson = null;
			this.cardPaymentConf = {};
			this.memberPcLesson = null;
		},

		isInVacation(begin, end) {
			if (begin && end) {
				let today = new Date();
				if (today.compareDatePart(new Date(begin)) >= 0 && today.compareDatePart(new Date(end)) <= 0) {
					return true;
				}
			}

			return false;
		},

		doQuery() {
			$.Req.service($.SvName.MEMBER_ADV_QUERY, { memberId: this.memberId }, ret => {
				if (!ret || !ret.memberList || ret.memberList.length === 0) {
					this.member = null;
					this.queryError = "会员记录不存在";
					return;
				}

				this.queryError = null;
				this.member = ret.memberList[0];
				this.member.memberPhotoUrl = $.Util.getImgUrl(this.member.avatarPathname, 200, 200, 'EEEEEE');
				this.queryLesson(() => {
					this.queryMemberPcLesson();
				});
			});
		},

		queryMemberCard() {
			this.selectCardIndex = null; // init
			$.Req.service($.SvName.MEMBER_CARD_QUERY, { memberId: this.member.memberId }, ret => {
				this.memberCardList = ret.memberCardList;
				let ckinCnt = 0;
				let i = 0;
				let firstCkinCardIdx = -1;
				for (let mc of this.memberCardList) {
					mc.canSelect = this.canSelect(mc);
					if (mc.canSelect) {
						ckinCnt++;
						if (firstCkinCardIdx < 0) firstCkinCardIdx = i;
					}
					i++;
				}
				if (ckinCnt >= 1) {
					this.selectCardIndex = firstCkinCardIdx;
				}
			});
		},

		queryMemberPcLesson() {
			let args = {
				memberId: this.member.memberId,
				lessonId: this.lessonId,
				page: 1
			};
			$.Req.service($.SvName.MEMBER_PRIVATE_LESSON_QUERY, args, ret => {
				if (ret.memberPcLessonList && ret.memberPcLessonList.length === 1) {
					this.memberPcLesson = ret.memberPcLessonList[0];
				} else {
					this.memberPcLesson = null;
					this.queryMemberCard();
				}
			});
		},

		queryLesson(callback) {
			let args = {
				lessonId: this.lessonId
			};
			$.Req.service($.SvName.PC_LESSON_QUERY, args, ret => {
				if (!ret || !ret.pcLesson) {
					$.Msg.error($.Lang.NOT_FOUND_RECORD);
					return;
				}
				this.lesson = ret.pcLesson;
				this.setCardPaymentConf();
				if (callback) callback();
			});
		},

		setCardPaymentConf() {
			if (this.lesson.cardPaymentConf && this.lesson.cardPaymentConf.length > 0) {
				let records = this.lesson.cardPaymentConf.split(',');
				for (let r of records) {
					let [cardId, payment] = r.split(':');
					this.cardPaymentConf[cardId] = payment;
				}
			} else {
				this.cardPaymentConf = null;
			}
		},

		formatTime(timeId) {
			return parseInt(timeId / 100) + ':' + (timeId + '').substr(-2, 2);
		},

		canSelect(mc) {
			let ret = $.MemberLib.checkMemberCard(mc);
			if (!ret[0]) {
				return ret;
			}

			if (!this.cardPaymentConf) {
				// 无需计费
				return true;
			}

			if (!(mc.cardId in this.cardPaymentConf)) {
				// 该课程未设置本卡
				return false;
			}

			// 检查余额
			let cardPayment = this.cardPaymentConf[mc.cardId];
			if (mc.cardType === 1) {
				// 期限卡
				if (mc.endDate) {
					if (today.compareDatePart(new Date(mc.endDate)) > 0) {
						return false;
					}
				}
			} else if (mc.cardType === 2) {
				// 次卡
				if (mc.currentTimes - cardPayment < 0) {
					return false;
				}
			} else if (mc.cardType === 3) {
				// 储值卡
				if (mc.currentAmount - cardPayment < 0) {
					return false;
				}
			}

			return true;
		},

		handleSubmit() {
			if (this.memberCardList.length > 0 && this.selectCardIndex === null) {
				$.Dlg.error('请选择一张会员卡');
				return;
			}

			let args = {
				lessonId: this.lessonId,
				memberId: this.member.memberId,
				optType: 2,
				courseType: 2
			};
			if (this.selectCardIndex !== null) {
				args.mcId = this.memberCardList[this.selectCardIndex].mcId;
			} else if (this.memberPcLesson) {
				args.mcId = this.memberPcLesson.mcId;
			}

			this.submitLoading = true;
			$.Req.service($.SvName.MEMBER_LESSON_OPERATE, args, ret => {
				this.submitLoading = false;
				if (this.afterSubmit) {
					this.afterSubmit();
				}
			}, false, err => {
				this.submitLoading = false;
				$.Dlg.error(err);
			});
		},

		handleClose() {
			if (this.onClose) this.onClose();
		}
	}
});

/***/ }),

/***/ 1423:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
  data() {
    return {
      tagArr: [{ labelName: "" }]
    };
  },
  created() {
    this.queryLabel();
  },
  methods: {
    queryLabel() {
      $.Req.service($.SvName.MEMBER_IMG_LABEL_QUERY, {}, res => {
        if (res.memberImgLabelList && res.memberImgLabelList.length) {
          this.tagArr = res.memberImgLabelList;
        } else {
          this.tagArr = [{ labelName: "" }];
        }
      });
    },

    saveLabel() {
      let filter = this.tagArr.filter(v => v.labelName);
      if (filter.length < 1) {
        $.Msg.error("至少设置一个标签");
        return;
      }
      $.Req.service($.SvName.MEMBER_IMG_LABEL_SAVE, { memberImgLabelList: filter }, res => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.queryLabel();
      });
    },
    addSettingLine() {
      this.tagArr.push({ labelName: "" });
    },
    delSettingLine(idx) {
      if (idx == 0) {
        // 清空
        this.$set(this.tagArr[idx], "labelName", "");
      } else {
        this.tagArr.splice(idx, 1);
      }
    }
  }
});

/***/ }),

/***/ 1424:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__contract_mode_img_vue__ = __webpack_require__(2223);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__contract_mode_img_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__contract_mode_img_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__contract_mode_word_vue__ = __webpack_require__(2224);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__contract_mode_word_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__contract_mode_word_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { ContractModeImg: __WEBPACK_IMPORTED_MODULE_0__contract_mode_img_vue___default.a, ContractModeWord: __WEBPACK_IMPORTED_MODULE_1__contract_mode_word_vue___default.a },
	data() {
		return {
			g: $,
			tabName: 'imgMode',
			memberContractMode: 0,
			hasLoad: false
		};
	},

	created() {
		this.queryShopArgs();
	},

	methods: {
		queryShopArgs() {
			let args = {
				typeIdList: [2099]
			};
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
				this.hasLoad = true;
				for (let t of ret.argList) {
					if (t.typeId === 2099) {
						this.memberContractMode = t.typeValue ? parseInt(t.typeValue) : 0;
						if (this.memberContractMode === 1) {
							this.tabName = 'wordMode';
						} else {
							this.tabName = 'imgMode';
						}
					}
				}
			});
		},

		changeTab() {
			if (this.memberContractMode === 1) {
				this.tabName = 'wordMode';
			} else {
				this.tabName = 'imgMode';
			}
		}
	}
});

/***/ }),

/***/ 1425:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue__ = __webpack_require__(404);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_help_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { Help: __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default.a, ImgUpload: __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default.a },
	data() {
		return {
			g: $,
			imgUpload: {
				action: $.Conf.IMG_UPLOAD_URL,
				imgMaxWidth: 1024,
				defaultList: [],
				defaultLogo: [],
				memberContractPicList: []
			},
			defaultList: [{ fieldId: 101, posX: null, posY: null, page: null }, { fieldId: 102, posX: null, posY: null, page: null }, { fieldId: 103, posX: null, posY: null, page: null }, { fieldId: 104, posX: null, posY: null, page: null }, { fieldId: 105, posX: null, posY: null, page: null }],
			contractPrintConfList: [],
			areaConf: {},
			textConf: {},
			printSet: {
				101: "会员姓名",
				102: "会员性别",
				103: "会员手机号",
				104: "会员卡号",
				105: "会员生日",
				106: "会员身份证号",
				107: "会员备注",
				108: "会员创建时间",
				109: "会员会籍",
				110: "会员销售",
				111: "会员教练",
				112: '会员地址',
				201: "会员卡名",
				202: "会员卡开卡日期",
				203: "会员卡到期日期",
				204: "使用天数",
				205: "充值金额",
				206: "实收金额",
				207: "充值次数",
				208: "充值备注",
				209: "充值时间",
				210: "支付方式",
				211: "操作人",
				212: '会员卡种类',
				213: '充值金额(大写)',
				214: '实收金额(大写)',
				301: '场馆名称',
				302: '年',
				303: '月',
				304: '日',
				305: '年月日',
				215: "开卡日期(年)",
				216: "开卡日期(月)",
				217: "开卡日期(日)",
				218: "截止日期(年)",
				219: "截止日期(月)",
				220: "截止日期(日)"
			},
			enableMemberContract: null,
			memberContractMode: 0
		};
	},

	created() {
		this.queryPrintConfList();
		this.queryShopArgs();
		this.queryMemberContractPics();
	},

	methods: {
		delConf(idx) {
			if (idx < 5) {
				this.$set(this.contractPrintConfList[idx], "fieldId", null);
				this.$set(this.contractPrintConfList[idx], "posX", null);
				this.$set(this.contractPrintConfList[idx], "posY", null);
				this.$set(this.contractPrintConfList[idx], "page", null);
			} else {
				this.contractPrintConfList.splice(idx, 1);
			}
		},

		addConf() {
			this.contractPrintConfList.push({
				fieldId: null,
				posX: null,
				posY: null,
				page: null
			});
		},

		queryShopArgs() {
			let args = { typeIdList: [2048, 2063, 2064] };
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
				for (let t of ret.argList) {
					if (t.typeId === 2048) this.enableMemberContract = t.typeValue === 'true';else if (t.typeId === 2063) this.setAreaArgs(t.typeValue);else if (t.typeId === 2064) this.setTextArgs(t.typeValue);
				}
			});
		},

		setAreaArgs(value) {
			if (value) {
				let val = value.split(",");
				this.$set(this.areaConf, "posX", val[0]);
				this.$set(this.areaConf, "posY", val[1]);
				this.$set(this.areaConf, "width", val[2]);
				this.$set(this.areaConf, "height", val[3]);
				this.$set(this.areaConf, "page", val[4]);
			}
		},

		setTextArgs(value) {
			if (value) {
				let val = value.split(",").map(v => Number(v));
				this.$set(this.textConf, "size", val[0]);
				this.$set(this.textConf, "dpi", val[1]);
				let rate = 1;
				if (val.length > 2) {
					rate = val[2];
				}
				this.$set(this.textConf, "rate", rate);
			}
		},

		handleAreaSubmit() {
			if (!this.areaConf.posX) {
				$.Msg.error("请输入签名区域左边距");
				return;
			}
			if (!this.areaConf.posY) {
				$.Msg.error("请输入签名区域上边距");
				return;
			}
			if (!this.areaConf.width) {
				$.Msg.error("请输入签名区域宽度");
				return;
			}
			if (!this.areaConf.height) {
				$.Msg.error("请输入签名区域长度");
				return;
			}
			if (!this.areaConf.page) {
				$.Msg.error("请输入签名区域页码");
				return;
			}
			let arr = Object.values(this.areaConf);
			let args = { typeId: 2063, typeValue: arr.join() };
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
		},

		handleTextSubmit() {
			if (!this.textConf.size) {
				$.Msg.error("请输入合同文本字体大小");
				return;
			}
			if (!this.textConf.dpi) {
				$.Msg.error("请输入合同文本dpi");
				return;
			}
			if (!this.textConf.rate) this.textConf.rate = 1;
			let arr = Object.values(this.textConf);
			let args = { typeId: 2064, typeValue: arr.join() };
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
		},

		queryPrintConfList() {
			$.Req.service($.SvName.CONTRACT_PRINT_CONF_QUERY, {}, ret => {
				if (ret.contractPrintConfList) {
					let list = ret.contractPrintConfList;
					if (list.length < 5) {
						let listArr = [];
						for (let i = 0; i < 5; i++) {
							listArr.push(list[i] ? list[i] : { fieldId: this.defaultList[i].fieldId, posX: null, posY: null, page: null });
						}
						this.contractPrintConfList = listArr;
					} else {
						this.contractPrintConfList = list;
					}
				}
			});
		},

		handleSubmit() {
			let contractPrintConfList = [];
			for (let s of this.contractPrintConfList) {
				if (s.posX && (s.posY == "" || s.posY == undefined)) {
					if (typeof parseInt(s.posX) !== "number") {
						$.Msg.error(this.printSet[s.fieldId] + "左边距请输入数字");
						return false;
					}
					$.Msg.error(this.printSet[s.fieldId] + "未设置【上边距】");
					return false;
				}
				if ((s.posX == "" || s.posX == undefined) && s.posY) {
					if (typeof parseInt(s.posY) !== "number") {
						$.Msg.error(this.printSet[s.fieldId] + "上边距请输入数字");
						return false;
					}
					$.Msg.error(this.printSet[s.fieldId] + "未设置【左边距】");
					return false;
				}

				if (s.posX && s.posY) {
					if (typeof parseInt(s.posY) !== "number") {
						$.Msg.error(this.printSet[s.fieldId] + "上边距请输入数字");
						return false;
					}
					if (typeof parseInt(s.posX) !== "number") {
						$.Msg.error(this.printSet[s.fieldId] + "左边距请输入数字");
						return false;
					}
					contractPrintConfList.push(s);
				}
				if (s.confId && !s.posX && !s.posY) {
					contractPrintConfList.push(s);
				}
			}
			$.Req.service($.SvName.CONTRACT_PRINT_CONF_SAVE, { contractPrintConfList: contractPrintConfList }, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
				this.queryPrintConfList();
			}, true);
		},

		handleImgUploadSuccessForMemberContract(res, file) {
			file.url = res.data.url;
			file.name = res.data.name;
			this.imgUpload.memberContractPicList.push(file);
		},

		handleImgRemoveForMemberContract(file, fileList) {
			this.imgUpload.memberContractPicList.splice(this.imgUpload.memberContractPicList.indexOf(file), 1);
		},

		saveMemberContractPics() {
			let imgNames = [];
			for (let i = 0; i < this.imgUpload.memberContractPicList.length; i++) {
				imgNames.push(this.imgUpload.memberContractPicList[i].name);
			}
			let args = { picList: imgNames };
			$.Req.service($.SvName.MEMBER_CONTRACT_PICS_SAVE, args, ret => {
				$.Dlg.success($.Lang.OPT_SUCCESS);
				this.queryMemberContractPics();
			});
		},

		queryMemberContractPics() {
			let args = { typeId: 2022 };
			this.imgUpload.memberContractPicList = [];
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
				if (ret.value) {
					let picList = ret.value.split(',');
					for (let pic of picList) {
						this.imgUpload.memberContractPicList.push({
							name: pic,
							url: $.Util.getImgUrl(pic, 200, 200, 'EEEEEE')
						});
					}
				}
			});
		},

		updateShopArg(typeId, typeValue, showTips = true) {
			let args = { typeId: typeId, typeValue: '' + typeValue };
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				if (showTips) $.Msg.success($.Lang.SAVE_SUCCESS);
			});
		}
	}
});

/***/ }),

/***/ 1426:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
  components: {},
  data() {
    return {
      g: window.$,
      acceptFileType: ".docx,application/msword",
      contractEditRole: true,
      contractModalShow: false,
      contractData: {
        tmptName: null,
        signWidth: 40,
        signHeight: 30,
        contractTmptFile: null,
        cardIdArr: []
      },
      cardList: [],
      tmptList: [],
      tmptErrorList: [],
      paramNames: null
    };
  },

  created() {
    this.queryTmptParams();
    this.queryContractTmpt();
    this.queryCardList();
  },

  methods: {
    queryCardList() {
      $.Req.service($.SvName.CARD_QUERY, { status: 0 }, res => {
        this.cardList = res.cardList;
      });
    },

    queryTmptParams() {
      $.Req.service($.SvName.CONTRACT_PARAMS_QUERY, {}, ret => {
        this.paramNames = ret.paramNames;
      });
    },

    queryContractTmpt() {
      $.Req.service($.SvName.CONTRACT_TMPT_QUERY, {}, ret => {
        this.tmptList = ret.tmptList;
      });
    },

    submit() {
      if (!this.contractData.tmptName) {
        $.Msg.error("请输入合同模板名称");
        return;
      }
      if ($.Util.isEmptyArray(this.contractData.cardIdArr)) {
        $.Msg.error("请选择适用的会员卡");
        return;
      }
      if (!this.contractData.contractTmptFile) {
        $.Msg.error("请上传合同模板");
        return;
      }
      if (this.tmptErrorList && this.tmptErrorList.length) {
        $.Dlg.error("请修改合同模板中的变量错误后在重新上传合同模板");
        return;
      }
      let args = {
        actionType: this.contractData.tmptId ? "U" : "I",
        tmpt: Object.assign(this.contractData, {
          cardIds: this.contractData.cardIdArr.join(",")
        })
      };
      $.Req.service($.SvName.CONTRACT_TMPT_SAVE, args, ret => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.contractModalShow = false;
        this.queryContractTmpt();
      });
    },

    handleBeforeUpload() {
      $.Util.startLoading();
      this.tmptErrorList = null;
      return true;
    },

    handleUploadSuccess(respons, file) {
      $.Util.endLoading();
      if (respons.data.wrongParams) {
        this.tmptErrorList = respons.data.wrongParams;
      } else {
        this.contractData.contractTmptFile = respons.data.name;
      }
    },

    deleteContractTmpt(tmptId) {
      let msg = "您确定要删除该模板吗？";
      $.Dlg.confirm(msg, yes => {
        let args = {
          actionType: "D",
          deleteId: tmptId
        };
        $.Req.service($.SvName.CONTRACT_TMPT_SAVE, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.queryContractTmpt();
        }, true);
      });
    },

    editTmptShow(type, tmpt) {
      this.tmptErrorList = null;
      if (type === "I") {
        this.contractData = {
          tmptName: null,
          signWidth: 40,
          signHeight: 30,
          contractTmptFile: null,
          cardIdArr: []
        };
      } else {
        $.Util.copyAttributes(tmpt, this.contractData);
        this.contractData.cardIdArr = tmpt.cardIds.split(",").map(item => +item) || [];
      }
      this.contractModalShow = true;
    },

    handlerList(index, idx) {
      return 10 * index <= idx && idx < 10 * (index + 1);
    },

    closeContractDlg() {
      this.contractModalShow = false;
    }
  }
});

/***/ }),

/***/ 1427:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	data() {
		return {
			g: $,
			skinDlg: false,
			corpInfotDlg: false,
			skin: $.data.sys.skin,
			csStaff: {
				name: null,
				phoneNo: null
			}
		};
	},

	created() {},

	methods: {
		showSkinConf() {
			this.skinDlg = true;
		},

		setSkin(skin) {
			$.Util.cookie.set($.Conf.CookieKeys.SYS_SKIN, skin, 365);
			window.location.reload();
		},

		queryTenantCsStaff() {
			$.Req.service($.SvName.TENANT_CS_STAFF_QUERY, {}, ret => {
				this.csStaff.name = ret.name;
				this.csStaff.phoneNo = ret.phoneNo;
			});
		},

		openCorpInfotDlg() {
			this.queryTenantCsStaff();
			this.corpInfotDlg = true;
		}
	}
});

/***/ }),

/***/ 1428:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_group_lesson_opt_vue__ = __webpack_require__(1150);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_group_lesson_opt_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__pages_member_member_group_lesson_opt_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_gl_checkin_vue__ = __webpack_require__(2205);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_gl_checkin_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_gl_checkin_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_course_group_lesson_records_vue__ = __webpack_require__(1149);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_course_group_lesson_records_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_course_group_lesson_records_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_member_member_lesson_list_vue__ = __webpack_require__(1190);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_member_member_lesson_list_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__pages_member_member_lesson_list_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ __webpack_exports__["default"] = ({
  components: {
    MemberGroupLessonOpt: __WEBPACK_IMPORTED_MODULE_0__pages_member_member_group_lesson_opt_vue___default.a,
    MemberGlCheckin: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_gl_checkin_vue___default.a,
    GroupLessonRecords: __WEBPACK_IMPORTED_MODULE_2__pages_course_group_lesson_records_vue___default.a,
    MemberLessonList: __WEBPACK_IMPORTED_MODULE_3__pages_member_member_lesson_list_vue___default.a
  },
  data() {
    return {
      g: $,
      today: new Date(),
      checkinPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_AGENT.value),
      glNavHours: [6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22],
      glBeginTimes: {}, // beginTime, lessonCount
      glCoaches: {}, // coachName, lessonCount
      selectGlTime: null,
      selectGlCoach: null,
      viewGroupLessonRecordsDlg: false,
      viewGroupLessonRecordsDlgTitle: "",
      selectGroupLessonId: 0,
      glQueryType: "day",
      glQueryDate: new Date(),
      shopParam: null,
      lessonQrcodeImgUrl: null,
      lessonQrcodeDlg: false,
      showGlStat: false,
      memberGlCheckinDlg: false,
      memberLessonListDlg: false,
      mplMemberCardPaymentCost: null,
      groupLessonList: [],
      groupLessonCnt: null,
      viewGroupLessonOptDlg: false,
      lessonOpt: {
        title: null,
        courseType: -1,
        lessonId: -1,
        optType: -1,
        memberId: 0
      },
      selectMemberId: 0,
      staffBookingGlMaxHours: null,
      enableGlCheckout: null
    };
  },

  watch: {
    viewGroupLessonRecordsDlg(val, oldVal) {
      if (val === false) {
        this.loadGroupLesson(true);
      }
    }
  },

  created() {
    this.queryShopArgs(() => {
      $.Req.queryShopParam((ret, systime) => {
        this.today = Date.new(systime);
        if (this.staffBookingGlMaxHours) {
          ret.shopParam.bookingGlMaxTime = this.staffBookingGlMaxHours;
        }
        this.shopParam = ret.shopParam;

        if ($.data.shop.hasGroupCourse) {
          this.loadGroupLesson();
        }
      });
    });
  },

  methods: {
    queryShopArgs(callback = null) {
      let args = {
        typeIdList: [138, 2087]
      };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, (ret, systime) => {
        for (let t of ret.argList) {
          if (t.typeId === 138) {
            this.staffBookingGlMaxHours = t.typeValue ? parseInt(t.typeValue) : null;
          } else if (t.typeId === 2087) {
            this.enableGlCheckout = t.typeValue === "true";
          }
        }
        if (callback) callback();
      });
    },

    loadGroupLesson(hasNotice = false, page = null) {
      let args = {};
      if (!this.glQueryDate) this.glQueryDate = new Date();
      if (this.glQueryType === "day") args = { beginDate: this.glQueryDate, needCoachAvatar: true };else if (this.glQueryType === "unfinished") args = { status: 1, endDate: new Date(), needPaging: true };else return;

      if (page) {
        args.page = page;
      }
      $.Req.service($.SvName.LESSON_QUERY, args, ret => {
        let now = Date.new(ret.now);
        let todayStr = $.Util.formatDate(ret.now);
        let nowStr = $.Util.formatDateTime(ret.now);
        if (ret.lessonList.length > 5) {
          this.setLessonStat(ret.lessonList);
          this.showGlStat = true;
        } else {
          this.showGlStat = false;
          this.selectGlHour = null;
        }

        this.groupLessonList = ret.lessonList;
        if (!page) this.groupLessonCnt = ret.count;
        for (let l of this.groupLessonList) {
          l.statusName = l.status !== 9 ? "未结束" : "<b>已结束</b>";
          l.beginHour = parseInt(l.beginTime / 100);
          let lessonStartTime = Date.new(l.lessonDate.split(" ")[0] + " {0}:00".format($.Util.formatTime(l.beginTime)));

          // -1: 未开放，-2：预约已过, -3: 预约已满
          if ($.Util.isEmpty(this.shopParam.bookingGlMinTime)) this.shopParam.bookingGlMinTime = 0;
          if (this.shopParam.bookingGlType === 1) {
            let startTime = todayStr + " {0}:00".format($.Util.formatTime(this.shopParam.bookingGlStartTime));
            if (nowStr < startTime || lessonStartTime.compareDatePart(now) > 0) {
              l.bookingCheck = -1;
            }
          } else if (lessonStartTime.diffSeconds(now) > this.shopParam.bookingGlMaxTime * 3600) {
            l.bookingCheck = -1;
          }
          if (l.bookingCheck !== -1) {
            if (lessonStartTime.diffSeconds(now) < this.shopParam.bookingGlMinTime * 60) {
              l.bookingCheck = -2;
            } else if (l.bookings >= l.maxStudents) {
              l.bookingCheck = -3;
            } else {
              l.bookingCheck = 1;
            }
          }
        }
        if (hasNotice) {
          $.Msg.info($.Lang.REFRESH_DONE);
        }
      }, hasNotice);
    },

    setLessonStat(lessonList) {
      let timeStat = {};
      let coachStat = {};
      for (let l of lessonList) {
        if (timeStat[l.beginTime]) {
          timeStat[l.beginTime]++;
        } else {
          timeStat[l.beginTime] = 1;
        }
        if (coachStat[l.coachName]) {
          coachStat[l.coachName]++;
        } else {
          coachStat[l.coachName] = 1;
        }
      }
      this.glBeginTimes = timeStat;
      this.glCoaches = coachStat;
    },

    doLessonOperate(courseType, optType, lessonIdx) {
      let lesson = courseType === 1 ? this.groupLessonList[lessonIdx] : this.privateLessonList[lessonIdx];
      this.lessonOpt.courseType = courseType;
      this.lessonOpt.optType = optType;
      this.lessonOpt.lessonId = lesson.lessonId;
      let title = "";
      if (courseType === 1) title += "团课";else if (courseType === 2) title += "私教课";
      if (optType === 1) title += "代预约";else if (optType === 2) title += "代签到";
      this.lessonOpt.title = "{0} - {1} （教练：{2}）".format(title, lesson.lessonTitle, lesson.coachName);

      if (courseType === 1) {
        this.viewGroupLessonOptDlg = true;
      }
    },

    afterSubmitLessonOpt() {
      if (this.lessonOpt.courseType === 1) {
        this.viewGroupLessonOptDlg = false;
        this.loadGroupLesson();
      }
    },

    closeLessOptDlg() {
      if (this.lessonOpt.courseType === 1) {
        this.viewGroupLessonOptDlg = false;
      }
    },

    viewMember(memberId, idx) {
      this.selectMemberId = memberId;
      this.selectMemberIdx = idx;
    },

    viewGroupLessonRecords(idx) {
      let lesson = this.groupLessonList[idx];
      this.selectGroupLessonId = lesson.lessonId;
      this.viewGroupLessonRecordsDlgTitle = "▶ {0} / 教练：{1} / 上课日期：{2} / 上课时间：{3} ~ {4}".format(lesson.lessonTitle, lesson.coachName, $.Util.formatDate(lesson.lessonDate, false), $.Util.formatTime(lesson.beginTime), $.Util.formatTime(lesson.endTime));
      this.viewGroupLessonRecordsDlg = true;
    },

    changeGlQueryType(type) {
      this.glQueryType = type;
      this.loadGroupLesson(true);
    },

    changeGlQueryDate(val) {
      if (val) {
        this.glQueryDate = Date.new(val);
        this.glQueryType = "day";
        this.loadGroupLesson();
      }
    },

    openLessonQrcodeImgUrlDlg(lessonId, lessonTitle) {
      this.lessonOpt.title = lessonTitle;
      let memberCheckinUrl = "https://app.jzongguan.com/run.html#/member-gl-checkin/{0}?t={1}&encSid={2}".format(lessonId, $.data.tenant.encTid, $.data.shop.encSid);
      this.lessonQrcodeImgUrl = $.Conf.QR_CODE_URL + encodeURIComponent(memberCheckinUrl);
      this.lessonQrcodeDlg = true;
    },

    chooseGlTime(time) {
      if (time == this.selectGlTime) {
        this.selectGlTime = null;
      } else {
        this.selectGlTime = time;
      }
    },

    chooseGlCoach(coachName) {
      if (coachName === this.selectGlCoach) {
        this.selectGlCoach = null;
      } else {
        this.selectGlCoach = coachName;
      }
    },

    afterSubmitMemberGlCheckin() {
      this.loadGroupLesson();
      this.memberGlCheckinDlg = false;
    },

    closeMemberGlCheckinDlg() {
      this.memberGlCheckinDlg = false;
    },

    viewMemberLessonList() {
      this.memberLessonListDlg = true;
    },

    queryGlListByPage(page) {
      this.loadGroupLesson(true, page);
    }
  }
});

/***/ }),

/***/ 1429:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_private_lesson_opt_vue__ = __webpack_require__(2207);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_private_lesson_opt_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__pages_member_member_private_lesson_opt_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_course_private_lesson_booking_vue__ = __webpack_require__(1189);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_course_private_lesson_booking_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_course_private_lesson_booking_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ __webpack_exports__["default"] = ({
	components: {
		MemberPrivateLessonOpt: __WEBPACK_IMPORTED_MODULE_0__pages_member_member_private_lesson_opt_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_2__pages_member_member_base_info_vue___default.a, PrivateLessonBooking: __WEBPACK_IMPORTED_MODULE_1__pages_course_private_lesson_booking_vue___default.a
	},

	data() {
		return {
			g: $,
			today: new Date(),
			bookingPcDlg: false,
			privateCoachScoreDlg: false,
			checkinPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_AGENT.value),
			permitOfCheckinPastPl: $.Util.hasRoleFunc($.Dict.RoleFunc.CHECKIN_PAST_PL.value),
			plNavHours: [6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22],
			selectGlHour: null,
			selectPlTime: null,
			selectPlCoach: null,
			plMemberList: [],
			privateCoachScoreValue: null,
			selectPrivateLesson: null,
			selectPrivateLessonIdx: null,
			enablePrivateCoachScore: false,
			checkinPlTimes: null,
			plCheckinInterval: null,
			viewPlCheckinByPwd: false,
			memberPwd: null,
			plQueryOrder: 'time',
			plCheckinType: 1,
			viewPlCheckinByQrcodeDlg: false,
			viewPlCheckinByPasswdDlg: false,
			selectPcLessonId: null,
			plCheckinQrcodeUrl: null,
			plQueryDate: new Date(),
			plQueryType: 'day',
			viewPrivateLessonOptDlg: false,
			privateLessonList: [],
			privateLessonCnt: null,
			showPlStat: false,
			plCheckinPrintEnable: false,
			plCheckinQrcodeMaxTime: 120,
			lessonOpt: { title: null, courseType: -1, lessonId: -1, optType: -1, memberId: 0 },
			selectMemberId: 0,
			selectMecId: 0,
			viewMemberDlg: null,
			checkinMember: null,
			showCardPriceInPlCheckinBill: null,
			plBeginTimes: {},
			plCoaches: {},
			showCoachStat: true,
			lessonMplCntMap: {},
			hasGroundData: null
		};
	},

	created() {
		if ($.data.shop.hasPrivateCourse) {
			this.queryPlCheckinType(() => {
				this.queryPcLessons();
			});
			this.queryPrivateCoachScorePermit();
		}
	},

	methods: {
		queryPcLessons(hasNotice = false) {
			let args = {};
			if (this.plQueryType === 'day') args = { beginDate: this.plQueryDate };else if (this.plQueryType === 'unfinished') args = { notStatus: 9, endDate: new Date() };else return;

			args.orderBy = this.plQueryOrder;
			args.needLessonCount = true;
			if (this.plCheckinPrintEnable) {
				args.needMemberCardInfo = true;
				if (this.showCardPriceInPlCheckinBill) {
					args.needTimesCardAmount = true;
				}
			}
			if (!this.showCoachStat) this.showCoachStat = true;
			$.Req.service($.SvName.PC_LESSON_QUERY, args, ret => {
				this.privateLessonList = ret.pcLessonList;
				this.privateLessonCnt = ret.count;
				this.lessonMplCntMap = {};
				this.hasGroundData = null;
				for (let l of this.privateLessonList) {
					l.statusName = $.Dict.PcLessonStatus[l.status];
					l.beginHour = parseInt(l.beginTime / 100);
					if (this.plQueryOrder === 'time') {
						if (!this.lessonMplCntMap[l.lessonId]) {
							this.lessonMplCntMap[l.lessonId] = 1;
						} else {
							this.lessonMplCntMap[l.lessonId] += 1;
						}
					} else {
						this.lessonMplCntMap[l.lessonId] = 1;
					}
					if (l.groundName) this.hasGroundData = true;
				}
				if (hasNotice) {
					$.Msg.info($.Lang.REFRESH_DONE);
				}
				if (ret.pcLessonList.length > 10) {
					this.setLessonStat(ret.pcLessonList);
					this.showPlStat = true;
				} else {
					this.showPlStat = false;
					this.selectPlTime = null;
					this.selectPlCoach = null;
				}

				if (this.showPlStat) {
					let memberIds = [];
					this.plMemberList = [];
					for (let pl of ret.pcLessonList) {
						if (pl.memberId && !memberIds.contains(pl.memberId)) {
							memberIds.push(pl.memberId);
							this.plMemberList.push({ name: pl.memberName, memberId: pl.memberId });
						}
					}
				}
			}, hasNotice);
		},

		setLessonStat(lessonList) {
			let timeStat = {};
			let coachStat = {};
			for (let l of lessonList) {
				if (timeStat[l.beginTime]) {
					timeStat[l.beginTime]++;
				} else {
					timeStat[l.beginTime] = 1;
				}
				if (coachStat[l.coachName]) {
					coachStat[l.coachName]++;
				} else {
					coachStat[l.coachName] = 1;
				}
			}
			this.plBeginTimes = timeStat;
			this.plCoaches = coachStat;
		},

		changePlQueryOrder() {
			if (this.plQueryOrder === 'time') {
				this.plQueryOrder = 'coach';
			} else {
				this.plQueryOrder = 'time';
			}
			this.queryPcLessons();
		},

		viewPrivateLesson(mplId, lessonId) {
			this.$router.push('/private-lesson-edit/{0}/{1}'.format(lessonId, mplId));
		},

		printPrivateLesson(id) {
			let shopName = $.data.tenant.tenantName === $.data.shop.shopName ? $.data.shop.shopName : $.data.tenant.tenantName + '<br>' + $.data.shop.shopName;
			$.Util.printForPos(id, shopName, true);
		},

		choosePlTime(time) {
			if (time == this.selectPlTime) {
				this.selectPlTime = null;
			} else {
				this.selectPlTime = time;
			}
		},

		choosePlCoach(coachName) {
			if (coachName === this.selectPlCoach) {
				this.selectPlCoach = null;
			} else {
				this.selectPlCoach = coachName;
			}
		},

		openPrivateCoachScoreDlg(idx) {
			let pl = this.privateLessonList[idx];
			this.selectPrivateLesson = pl;
			this.selectPrivateLessonIdx = idx;
			this.privateCoachScoreValue = pl.coachScore;
			this.privateCoachScoreDlg = true;
		},

		savePcLessonCoachScore() {
			let pl = this.privateLessonList[this.selectPrivateLessonIdx];
			let args = { lessonId: pl.lessonId, coachScore: this.privateCoachScoreValue };
			$.Req.service($.SvName.PC_LESSON_COACH_SCORE_SAVE, args, ret => {
				this.privateLessonList[this.selectPrivateLessonIdx].coachScore = this.privateCoachScoreValue;
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.privateCoachScoreDlg = false;
			});
		},

		queryPrivateCoachScorePermit() {
			if (!this.checkinPermit) {
				this.enablePrivateCoachScore = false;
				return;
			}

			let args = { typeId: $.Dict.ShopArg.PRIVATE_COACH_LESSON_SALARY_TYPE };
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
				if (ret.value) {
					this.enablePrivateCoachScore = ret.value === '4' || ret.value.indexOf('4,') === 0;
				}
			});
		},

		checkinMemberPrivateLesson() {
			if (!this.memberPwd) {
				$.Msg.error('请输入登录密码');
				return;
			}

			let args = {
				memberPwd: $.Util.md5(this.memberPwd),
				memberId: this.checkinMember.memberId,
				lessonId: this.selectPcLessonId
			};
			$.Req.service($.SvName.MEMBER_PRIVATE_LESSON_CHECKIN, args, ret => {
				$.Dlg.success('【{0}】私教课签到成功！'.format(this.checkinMember.name), null, false);
				this.closePlCheckinByPwd();
			}, true);
		},

		openPlCheckinByPwd(lessonId, memberId) {
			this.selectPcLessonId = lessonId;
			$.Req.service($.SvName.MEMBER_ADV_QUERY, { memberId: memberId }, (ret, systime) => {
				if (!ret || !ret.memberList || ret.memberList.length === 0) {
					this.checkinMember.member = null;
					return;
				}
				this.memberPwd = null;
				this.checkinPlTimes = null;
				this.checkinMember = ret.memberList[0];
				this.viewPlCheckinByPwd = true;
			});
		},

		closePlCheckinByPwd() {
			this.queryPcLessons();
			this.viewPlCheckinByPwd = false;
		},

		closePlCheckinByQrcode() {
			this.queryPcLessons();
			this.viewPlCheckinByQrcodeDlg = false;
			if (this.plCheckinInterval) {
				clearInterval(this.plCheckinInterval);
				this.plCheckinInterval = null;
			}
		},

		openPlCheckinByQrcode(lessonId, mplId, memberId) {
			this.selectPcLessonId = lessonId;
			let expTimes = this.plCheckinQrcodeMaxTime * 1000;
			$.Req.service($.SvName.MEMBER_ADV_QUERY, { memberId: memberId }, (ret, systime) => {
				if (!ret || !ret.memberList || ret.memberList.length === 0) {
					this.checkinMember.member = null;
					return;
				}
				this.checkinPlTimes = null;
				if (this.plCheckinInterval) {
					clearInterval(this.plCheckinInterval);
					this.plCheckinInterval = null;
				}
				this.checkinMember = ret.memberList[0];

				let now = Date.new(systime).getTime();
				let url = '{0}#/member-pl-checkin?t={1}&encSid={2}&lessonId={3}&mplId={4}&endTime={5}'.format($.Conf.MOBILE_CLIENT_URL, $.data.tenant.encTid, $.data.shop.encSid, lessonId, mplId, now + expTimes);
				this.plCheckinQrcodeUrl = $.Conf.QR_CODE_URL + encodeURIComponent(url);
				let count = this.plCheckinQrcodeMaxTime;
				this.plCheckinInterval = setInterval(() => {
					count--;
					this.checkinPlTimes = count;
					if (count <= 0) {
						clearInterval(this.plCheckinInterval);
					}
				}, 1000);
			}, true);
			this.viewPlCheckinByQrcodeDlg = true;
		},

		changePlQueryDate(val) {
			if (val) {
				this.plQueryDate = Date.new(val);
				this.queryPcLessons();
			}
		},

		afterSubmitBookingPl() {
			this.bookingPcDlg = false;
			this.queryPcLessons();
		},

		queryPlCheckinType(callback = null) {
			let args = {
				typeIdList: [$.Dict.ShopArg.PL_CHECKIN_TYPE, $.Dict.ShopArg.PL_CHECKIN_PRINT_ENABLE, $.Dict.ShopArg.PL_CHECKIN_QRCODE_MAX_TIME, $.Dict.ShopArg.SHOW_TIMS_CARD_AMOUNT_IN_PL_CHECKIN_BILL]
			};
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, (ret, systime) => {
				this.today = Date.new(systime);
				for (let t of ret.argList) {
					if (t.typeId === $.Dict.ShopArg.PL_CHECKIN_TYPE) {
						this.plCheckinType = t.typeValue ? parseInt(t.typeValue) : 1;
					} else if (t.typeId === $.Dict.ShopArg.PL_CHECKIN_PRINT_ENABLE) {
						this.plCheckinPrintEnable = t.typeValue === 'true';
					} else if (t.typeId === $.Dict.ShopArg.PL_CHECKIN_QRCODE_MAX_TIME) {
						this.plCheckinQrcodeMaxTime = t.typeValue ? parseInt(t.typeValue) : 120;
					} else if (t.typeId === $.Dict.ShopArg.SHOW_TIMS_CARD_AMOUNT_IN_PL_CHECKIN_BILL) {
						this.showCardPriceInPlCheckinBill = t.typeValue === 'true';
					}
				}
				if (callback) callback();
			});
		},

		afterSubmitLessonOpt() {
			this.viewPrivateLessonOptDlg = false;
			$.Msg.success('会员签到成功');
			this.checkinPlForCoach(this.lessonOpt.lessonId);
		},

		closeLessOptDlg() {
			this.viewPrivateLessonOptDlg = false;
		},

		viewMember(memberId) {
			this.selectMemberId = memberId;
			this.viewMemberDlg = true;
		},

		checkinPlForCoach(lessonId) {
			let args = { courseType: 2, lessonId: lessonId };
			$.Req.service($.SvName.COACH_CHECKIN_LESSON, args, ret => {
				$.Msg.success('本节课签到结束');
				this.loadPcLesson();
			}, true);
		}
	}
});

/***/ }),

/***/ 1430:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
  components: {},
  props: {},
  data() {
    return {
      g: $,
      selectSet: new Set(),
      selectChildrenSet: new Set(),
      oldContentNum: null,
      draggingIndex: null,
      draggingChildrenIndex: null,
      draggingActive: null,
      draggingActiveType: 1, // 1 父元素；2 子元素
      enableHrs: false,
      enableRun: false,
      enableBodyTest: false,
      // selectIds 为系统默认
      selectMoreMenuLevel1: [{ id: -1, title: "--自定义--", isShow: true }, {
        id: 1,
        title: "我的数据",
        isShow: true,
        selectIds: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 20] // 新增分享链接
      }, {
        id: 2,
        title: "门店信息",
        isShow: true,
        selectIds: [16, 17, 18, 19]
      }],
      defaultMoreMenuList: [
      // type: 1 我的；2 门店
      {
        id: 1,
        title: "会员卡",
        type: 1,
        isShow: function () {
          return true;
        }
      }, {
        id: 2,
        title: "团课记录",
        type: 1,
        isShow: function () {
          const { g } = this;
          return g.data.shop.shopType != 101 && g.data.shop.hasGroupCourse;
        }
      }, {
        id: 3,
        title: "私教课记录",
        type: 1,
        isShow: function () {
          const { g } = this;
          return g.data.shop.shopType != 101 && g.data.shop.hasPrivateCourse;
        }
      }, {
        id: 4,
        title: "入场记录",
        type: 1,
        isShow: function () {
          const { g } = this;
          return g.data.shop.shopType != 101;
        }
      }, {
        id: 5,
        title: "积分记录",
        type: 1,
        isShow: function () {
          const { g } = this;
          return g.data.shop.shopType != 101;
        }
      }, {
        id: 6,
        title: "会员相册",
        type: 1,
        isShow: function () {
          const { g } = this;
          return g.data.shop.shopType != 101;
        }
      }, {
        id: 7,
        title: "测试记录",
        type: 1,
        isShow: function () {
          const { g } = this;
          return g.data.shop.shopType != 101;
        }
      }, {
        id: 8,
        title: "测试排行榜",
        type: 1,
        isShow: function () {
          const { g } = this;
          return g.data.shop.shopType != 101;
        }
      }, {
        id: 9,
        title: "微商城订单",
        type: 1,
        isShow: function () {
          const { g } = this;
          return g.data.shop.shopType != 101 && g.data.shop.hasMall;
        }
      }, {
        id: 10,
        title: "场地预约",
        type: 1,
        isShow: function () {
          const { g } = this;
          return g.data.shop.shopType != 101 && g.data.shop.hasVenueBooking;
        }
      }, {
        id: 11,
        title: "心率数据",
        type: 1,
        isShow: function () {
          const { g, enableHrs } = this;
          return g.data.shop.shopType != 101 && enableHrs;
        }
      }, {
        id: 12,
        title: "跑步数据",
        type: 1,
        isShow: function () {
          const { g, enableRun } = this;
          return g.data.shop.shopType != 101 && enableRun;
        }
      }, {
        id: 13,
        title: "体测记录",
        type: 1,
        isShow: function () {
          const { g, enableBodyTest } = this;
          return g.data.shop.shopType != 101 && enableBodyTest;
        }
      }, {
        id: 14,
        title: "意见反馈",
        type: 1,
        isShow: function () {
          const { g } = this;
          return g.data.shop.shopType != 101;
        }
      }, {
        id: 15,
        title: "主题切换",
        type: 1,
        isShow: function () {
          return true;
        }
      }, {
        id: 16,
        title: "会员卡",
        type: 2,
        isShow: function () {
          return true;
        }
      }, {
        id: 17,
        title: "私教课",
        type: 2,
        isShow: function () {
          const { g } = this;
          return g.data.shop.hasPrivateCourse;
        }
      }, {
        id: 18,
        title: "团课预约",
        type: 2,
        isShow: function () {
          const { g } = this;
          return g.data.shop.hasGroupCourse;
        }
      }, {
        id: 19,
        title: "团课周表",
        type: 2,
        isShow: function () {
          const { g } = this;
          return g.data.shop.hasGroupCourse;
        }
      },
      // 新增分享链接
      {
        id: 20,
        title: "分享链接",
        type: 2,
        isShow: function () {
          return true;
        }
      }],
      menuList: [{
        val: 1,
        name: "我的数据",
        disabled: true,
        children: [{ val: 15, name: "主题切换", disabled: true }]
      }],
      selectMenuList: []
    };
  },
  computed: {
    selectMoreMenuLevel2() {
      let list = [];
      let menus = this.defaultMoreMenuList;
      menus.forEach(item => {
        if (item.isShow.call(this)) {
          list.push(item);
        }
      });
      return list;
    }
  },
  watch: {
    menuList: {
      handler(newVal) {
        this.selectSet = new Set();
        this.selectChildrenSet = new Set();
        newVal.forEach((item, idx) => {
          if (item.val !== -1) {
            if (item.val) {
              this.selectSet.add(item.val);
            }
          }
          if (item.children && item.children.length) {
            item.children.forEach(cItem => {
              this.selectChildrenSet.add(cItem.val);
            });
          }
        });
      },
      deep: true
    }
  },
  created() {},
  mounted() {
    this.queryShopArg();
  },
  methods: {
    dragstart(idx, cIdx) {
      this.draggingIndex = idx;
      this.draggingChildrenIndex = cIdx;
    },

    dragover(type, idx, cIdx) {
      if (type == 2) {
        if (this.draggingIndex === idx && this.draggingChildrenIndex !== cIdx) {
          this.draggingActive = `${idx}-${cIdx}`;
        } else {
          this.draggingActive = null;
        }
      } else {
        if (this.draggingIndex !== idx && this.draggingIndex !== 0 && idx !== 0) {
          this.draggingActive = idx;
        } else {
          this.draggingActive = null;
        }
      }
    },

    drop(type, idx, cIdx) {
      if (type == 1) {
        if (this.draggingIndex !== idx && this.draggingIndex !== 0 && idx !== 0) {
          const draggedItem = this.menuList[this.draggingIndex];
          this.menuList.splice(this.draggingIndex, 1);
          this.menuList.splice(idx, 0, draggedItem);
          this.draggingIndex = null;
        }
      } else {
        if (this.draggingIndex == idx && this.draggingChildrenIndex !== cIdx) {
          const draggedItem = this.menuList[idx].children[this.draggingChildrenIndex];
          this.menuList[idx].children.splice(this.draggingChildrenIndex, 1);
          this.menuList[idx].children.splice(cIdx, 0, draggedItem);
          this.draggingChildrenIndex = null;
        }
      }
      this.draggingActive = null;
    },

    addMoreMenuSet() {
      const obj = { val: "", name: "", children: [] };
      this.menuList.push(obj);
    },

    deleteMoreMenuSet(idx) {
      this.menuList.splice(idx, 1);
      if (!this.menuList.length) {
        this.addMoreMenuSet();
      }
    },

    addMoreMenuChildrenSet(idx) {
      const obj = { val: "", name: "" };
      this.menuList[idx].children.push(obj);
    },
    deleteMoreMenuChildrenSet(idx, cIdx) {
      this.menuList[idx].children.splice(cIdx, 1);
    },

    inputSelectFun(idx) {
      this.menuList[idx].children = [{ val: "", name: "" }];
    },

    saveMoreMenuSet() {
      let msg = "";
      let arr = this.menuList.filter(v => v.val);
      let list = arr.map((m, idx) => {
        m.val = Number(m.val);
        if (m.val === -1 && !m.name) {
          msg = `第【${idx + 1}组】请输入菜单名`;
          return;
        }
        for (let i = 0; i < m.children.length; i++) {
          const item = m.children[i];
          if (!item.val) {
            msg = `第【${idx + 1}】组下的第【${i + 1}】行子菜单不能为空，请选择`;
            break;
          }
        }
        let cArr = m.children.map(item => {
          if (item.name) {
            return `${item.val}:${item.name}`;
          }
          return `${item.val}`;
        });
        return `${m.val}:${m.name};${cArr.join(";")}`;
      });

      if (msg) {
        return $.Dlg.error(msg);
      }

      // typeId: 2232 学员更多页面自定义设置
      let args = {
        typeId: 2232,
        typeValue: list.join(",")
      };

      $.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
        $.Msg.success($.Lang.SAVE_SUCCESS);
      });
    },

    initOptions(options) {
      // options = "1:我的数据;15:主题切换;1;2;3,2:;16;17;18;19";
      if (!options) return;
      let arr = options.split(",");
      let moreMenuSelect = [];
      for (let i = 0; i < arr.length; i++) {
        try {
          let arr1 = arr[i].split(";");
          // arr1 下标0是标题，下标 > 0 是子选项
          let arr2 = arr1[0].split(":");
          let obj = {
            val: +arr2[0],
            name: arr2[1] || "",
            children: []
          };
          // 找出【我的】
          if (+arr2[0] == 1) {
            obj.disabled = true;
          }
          arr1.forEach((item, idx) => {
            // 对子选项做转换
            if (idx > 0) {
              let cArr2 = item.split(":");
              // if(!this.selectMoreMenuLevel2.find(v=>v.id == +cArr2[0])) return
              let cObj = {
                val: +cArr2[0],
                name: cArr2[1] || ""
              };
              // 固定要显示的
              if (cObj.val == 15) {
                cObj.disabled = true;
              }
              obj.children.push(cObj);
            }
          });
          moreMenuSelect.push(obj);
          this.$set(this, "menuList", moreMenuSelect);
          // throw new Error('错误')
        } catch (err) {
          console.log("报错了", err);
          $.Msg.info("获取更多菜单设置失败，已经为你重置!");
          this.defaultMoreMenuSortFunc();
        }
      }
    },

    // 默认展示
    defaultMoreMenuSortFunc() {
      let menus = this.selectMoreMenuLevel2;
      let list = [];
      this.selectMoreMenuLevel1.forEach((item, idx) => {
        if (!item.isShow) return;
        if (item.id > 0) {
          let obj = {
            val: item.id,
            name: "",
            children: []
          };
          // 【我的数据】必有且不可更改名称
          if (item.id == 1) {
            obj.disabled = true;
            obj.name = "我的数据";
          }
          item.selectIds.forEach(cItem => {
            let idx = menus.findIndex(i => i.id == cItem);
            if (idx > -1) {
              let cObj = {
                val: cItem,
                name: ""
              };
              // 必选项
              if (cObj.val == 15) {
                cObj.disabled = true;
                cObj.name = menus[idx].title;
              }
              obj.children.push(cObj);
            }
          });
          list.push(obj);
        }
      });
      this.menuList = list;
    },

    inputMenuNameFun(e, idx, cIdx = null) {
      //cIdx 存在表示有子级菜单编辑
      let name = e.target.value.trim();
      if (!name) return;
      // 中文和字母
      const pattern = /^[\u4e00-\u9fa5A-Za-z]+$/;
      let value = name;
      if (!pattern.test(name)) {
        for (let i = name.length - 1; i >= 0; i--) {
          if (!pattern.test(name[i])) {
            name = name.replace(name[i], "");
          }
        }
        value = name;
        $.Msg.info("输入不合法，请输入汉字或字母");
      }
      const obj = this.countLetters(name);
      if (!obj.flag) {
        value = name.slice(0, obj.len);
        $.Msg.info("输入超出最大限制，最多六个汉字或12个字母");
      }
      if ($.Util.isNotEmpty(cIdx)) {
        this.menuList[idx].children[cIdx].name = value;
      } else {
        this.menuList[idx].name = value;
      }
    },

    countLetters(str) {
      let letterCount = 0;
      let maxSize = 12;
      const obj = {
        flag: true,
        len: 0
      };
      for (let i = 0; i < str.length; i++) {
        const char = str.charAt(i);
        obj.len = i;
        if (this.isChineseChar(char)) {
          // 对于中文字符，算两个字母
          letterCount += 2;
        } else if (this.isAlphabeticChar(char)) {
          // 对于字母字符，算一个字母
          letterCount += 1;
        }
        // 检查是否超出 maxSize 个字母
        if (letterCount > maxSize) {
          obj.flag = false;
          return obj; // 超出限制
        }
      }
      return obj; // 在限制范围内
    },

    isChineseChar(char) {
      // 使用正则表达式检查是否为汉字
      return (/[\u4e00-\u9fa5]/.test(char)
      );
    },

    isAlphabeticChar(char) {
      // 使用正则表达式检查是否为字母
      return (/^[a-zA-Z]$/.test(char)
      );
    },

    queryShopArg() {
      let args = {
        typeIdList: [2031, 2055, 2105, 2232]
      };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
        for (let t of ret.argList) {
          if (t.typeId === 2031) {
            this.enableHrs = t.typeValue === "true";
          } else if (t.typeId === 2055) {
            this.enableRun = t.typeValue === "true";
          } else if (t.typeId === 2105) {
            this.enableBodyTest = t.typeValue === "true";
          } else if (t.typeId === 2232) {
            if (t.typeValue) {
              this.initOptions(t.typeValue);
            }
          }
        }
      });
    }
  }
});

/***/ }),

/***/ 1431:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
    components: {},
    props: {},
    data() {
        return {
            paymentTypeUname: null,
            paymentChannel: {}
        };
    },
    computed: {},
    watch: {},
    created() {
        this.getPaymentType();
    },
    mounted() {},
    methods: {
        getPaymentType() {
            $.Req.queryPaymentType(false, channelList => {
                let paymentChannelForView = {};
                channelList.forEach(p => {
                    paymentChannelForView[p.channelId] = Object.assign({}, p);
                });
                this.paymentChannel = paymentChannelForView;
            });
        },

        addPaymentType(args1 = null) {
            let paymentTypeUname = args1 ? args1.channel.channelName : this.paymentTypeUname;
            if (!paymentTypeUname) return $.Msg.error("请输入支付名称");
            for (let key in this.paymentChannel) {
                if (this.paymentChannel[key].channelName == paymentTypeUname) {
                    return $.Msg.error("该支付方式已存在！");
                }
            }
            let args = args1;
            if (!args1) args = {
                actionType: 'I',
                channel: {
                    channelName: this.paymentTypeUname
                }
            };

            $.Req.service($.SvName.PAYMENT_CHANNEL_SAVE, args, ret => {
                // 获取更新后的支付方式
                this.getPaymentType();
                $.Msg.success("操作成功！");
                this.paymentTypeUname = null;
            }, true);
        },

        updatePaymentType(p, key) {
            let name = prompt("请输入支付名称", p.channelName).trim();
            if (name == null) return;
            if (!name) return $.Msg.error("请输入支付名称");
            const args = {
                actionType: 'U',
                channel: {
                    channelName: name,
                    channelId: key
                }
            };
            this.addPaymentType(args);
        },

        deletePaymentType(p, key) {
            if (!confirm("确定删除吗？")) return;
            const args = {
                actionType: 'D',
                deleteId: key
            };

            $.Req.service($.SvName.PAYMENT_CHANNEL_SAVE, args, ret => {
                // 获取更新后的支付方式
                this.getPaymentType();
                $.Msg.success("删除成功！");
                this.paymentTypeUname = null;
            }, true);
        }
    }
});

/***/ }),

/***/ 1432:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
  components: {},
  data() {
    return {
      editable: $.data.user.isTenantOwner,
      clearItems: [],
      sysCheckCode: null,
      tenantOwnerPhone: null,
      authcodeDisabled: false,
      smsCode: null,
      authcodeLabel: null,
      clearItemMap: {
        card: "会员卡",
        member: "会员",
        cust: "客户",
        gc: "团课",
        pc: "私教课",
        staff: "员工",
        acc: "记账",
        mall: "商城",
        market: "营销",
        "member-points": "会员积分"
      },
      clickedSubmit: false
    };
  },

  created() {
    this.queryTenantOwnerPhone();
  },

  methods: {
    checkAll() {
      this.clearItems = [];
      for (let key in this.clearItemMap) {
        this.clearItems.push(key);
      }
    },

    submit() {
      if (!this.clearItems.length) {
        $.Dlg.error("请选择需要清除的数据");
        return;
      }
      if (!this.sysCheckCode) {
        $.Dlg.error("请输入安全校验码");
        return;
      }
      if (this.sysCheckCode.length !== 32) {
        $.Dlg.error("安全校验码位数不对");
        return;
      }
      if (!this.smsCode) {
        $.Dlg.error("请输入短信验证码");
        return;
      }

      let clearItemNames = [];
      for (let i of this.clearItems) {
        clearItemNames.push(this.clearItemMap[i]);
      }
      let msg = '您确定要清除这些数据吗？<p class="bold red">{0}</p>'.format(clearItemNames.join("、"));
      $.Dlg.confirm(msg, yes => {
        this.clickedSubmit = true;
        let args = {
          smsCode: this.smsCode,
          sysCheckCode: this.sysCheckCode,
          clearItemList: this.clearItems,
          phoneNo: this.tenantOwnerPhone
        };
        $.Req.service($.SvName.SHOP_DATA_CLEAR, args, ret => {
          this.clickedSubmit = false;
          $.Msg.success($.Lang.OPT_SUCCESS);
        }, true);
      });
    },

    queryTenantOwnerPhone() {
      $.Req.service($.SvName.TENANT_OWNER_QUERY, {}, ret => {
        this.tenantOwnerPhone = ret.phoneNo;
      });
    },

    onClickSmsAuthcodeBtn() {
      let nowTime = new Date().getTime();
      if (this.lastSendSmsTime && nowTime - this.lastSendSmsTime < 3000) {
        $.Msg.info($.Lang.CLICK_FREQUENTLY);
        return;
      }
      this.lastSendSmsTime = nowTime;

      let args = {
        phoneNo: this.tenantOwnerPhone,
        authcodeType: 6
      };
      $.Req.service($.SvName.SMS_AUTHCODE_SEND, args, ret => {
        if (ret.sendStatus === 0) {
          $.Msg.info($.Lang.AUTHCODE_SENT);
        } else {
          $.Dlg.error($.Lang.AUTHCODE_SEND_ERR);
        }
      });

      let count = 60;
      let resend = setInterval(() => {
        count--;
        if (count > 0) {
          this.authcodeDisabled = true;
          this.authcodeLabel = count + "秒后可重新获取";
        } else {
          clearInterval(resend);
          this.authcodeDisabled = false;
        }
      }, 1000);
    }
  }
});

/***/ }),

/***/ 1433:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_video_upload_vue__ = __webpack_require__(1132);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_video_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_sys_video_upload_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
  components: {
    ImgUpload: __WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue___default.a,
    VideoUpload: __WEBPACK_IMPORTED_MODULE_1__components_sys_video_upload_vue___default.a
  },
  props: {
    editable: {
      type: Boolean,
      default: true
    }
  },
  data() {
    return {
      g: $,
      equipmentDlg: false,
      readonly: !this.editable,
      feId: null,
      requiredFields: ["name", "imgPathname", "body"],
      equipmentFormRule: {},
      imgUpload: {
        action: $.Conf.IMG_UPLOAD_URL,
        imgMaxWidth: 1024,
        defaultList: []
      },
      defaultVideos: [],
      equipment: {
        name: null,
        imgPathname: null,
        videoPathname: null,
        body: null,
        content: null
      },
      eqList: [],
      eqCount: null,
      videoCount: 0,
      eqPage: 1,
      maxVideoSize: 10,
      isVideoShow: false
    };
  },
  computed: {},
  watch: {},
  created() {
    if (this.requiredFields) {
      $.Util.addRequiredFieldsRules(this.equipmentFormRule, this.requiredFields);
    }
    this.shopArgQuery();
    this.equipmentQuery();
  },
  mounted() {},
  methods: {
    shopArgQuery() {
      $.Req.service($.SvName.SHOP_ARG_QUERY, { typeId: 2225 }, // 2225 是否可上传器械视频
      ret => {
        if (ret.value) {
          this.isVideoShow = ret.value == "true" ? true : false;
        }
      }, true);
    },

    addEquipment() {
      this.restFunc();
      this.equipmentDlg = true;
    },

    equipmentSave() {
      this.$refs.equipment.validate(valid => {
        if (!valid) {
          $.Msg.error($.Lang.SUBMIT_ERR);
          return;
        }
        const { name, imgPathname, body } = this.equipment;
        if (!name) return $.Dlg.error("请输入器械名称");
        if (!imgPathname) return $.Dlg.error("请上传器械图片");
        if (!body) return $.Dlg.error("请输入锻炼部位");

        const args = {
          eq: this.equipment
        };
        let actionType;
        if (args.eq.feId) {
          actionType = "U";
        } else {
          actionType = "I";
        }
        args.actionType = actionType;
        $.Req.service($.SvName.FITNESS_EQUIPMENT_SAVE, args, ret => {
          $.Msg.success("操作成功！");
          this.equipmentQuery();
          this.equipmentDlg = false;
          // if (actionType == "I") {
          //   this.equipmentDlg = false;
          // }
        });
      });
    },

    restFunc() {
      this.equipment = {
        name: null,
        imgPathname: null,
        videoPathname: null,
        body: null,
        content: null
      };
      this.imgUpload.defaultList = [];
      this.defaultVideos = [];
    },

    equipmentQuery(page = null) {
      const args = {};
      if (page) {
        this.eqPage = page;
        args.page = page;
      }
      $.Req.service($.SvName.FITNESS_EQUIPMENT_QUERY, args, ret => {
        this.eqList = ret.eqList;
        if (!args.page) {
          this.eqCount = ret.count;
        }
        this.videoCount = ret.videoCount;
      });
    },

    openEquipmentDetail(feId) {
      $.Req.service($.SvName.FITNESS_EQUIPMENT_QUERY, { feId }, ret => {
        this.equipment = ret.eq;
        if (this.equipment.imgPathname) {
          this.imgUpload.defaultList = [{
            name: this.equipment.imgPathname,
            url: $.Util.getImgUrl(this.equipment.imgPathname, 200, 200, "EEEEEE")
          }];
        } else {
          this.imgUpload.defaultList = [];
        }

        if (this.equipment.videoPathname) {
          let videos = this.equipment.videoPathname.split(",");
          videos = videos.map(ele => {
            let obj = {};
            obj.name = ele;
            obj.url = $.Util.getVideoUrl(ele);
            return obj;
          });
          this.defaultVideos = videos;
        } else {
          this.defaultVideos = [];
        }
        this.equipmentDlg = true;
      });
    },

    equipmentDelete(feId, name) {
      let msg = "您确定要删除{0}。".format(name);
      $.Dlg.confirm(msg, yes => {
        const args = { actionType: "D", deleteId: feId };
        $.Req.service($.SvName.FITNESS_EQUIPMENT_SAVE, args, ret => {
          $.Msg.success("删除成功！");
          this.equipmentQuery();
        });
      });
    },

    handleImgUploadSuccess(res, file) {
      file.url = res.data.url;
      file.name = res.data.name;
      this.equipment.imgPathname = res.data.name;
    },

    handleVideoList(list) {
      this.defaultVideos = list;
      let listmap = list.map(m => m.name);
      this.equipment.videoPathname = listmap.join(",");
    }
  }
});

/***/ }),

/***/ 1434:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	components: {},
	data() {
		return {
			g: $,
			acceptFileType: 'application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
			fileFormat: ['.xls'],
			errors: null,
			warnings: null,
			createdMemberCnt: null
		};
	},

	created() {},

	methods: {
		handleBeforeUpload() {
			$.Util.startLoading();
			this.errors = null;
			this.warnings = null;
			return true;
		},

		handleUploadSuccess(respons, file) {
			$.Util.endLoading();
			this.errors = respons.data ? respons.data.errors : [];
			this.warnings = respons.data ? respons.data.warnings : [];
			if (this.errors && this.errors.length > 0) {
				$.Msg.error($.Lang.SUBMIT_ERR);
			}
			if (respons.msg) {
				$.Dlg.error(respons.msg);
			} else {
				this.createdMemberCnt = respons.data.createdMemberCnt;
			}
		}
	}
});

/***/ }),

/***/ 1435:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	components: {},
	data() {
		return {
			editable: $.Util.hasRoleFunc($.Dict.RoleFunc.BIZ_MODULE_CONF.value),
			shopParam: {},
			disableGroupCourse: null,
			disablePrivateCourse: null
		};
	},

	created() {
		this.loadData();
	},

	methods: {
		loadData() {
			$.Req.service($.SvName.SHOP_PARAM_QUERY, {}, ret => {
				this.shopParam = ret.shopParam;
				this.queryShopArg();
			}, true);
		},

		queryShopArg() {
			let args = { typeIdList: [2048, 2056, 2057] };
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
				for (let t of ret.argList) {
					if (t.typeId === 2048) this.enableMemberContract = t.typeValue === 'true';else if (t.typeId == 2056) this.disableGroupCourse = t.typeValue === 'true';else if (t.typeId == 2057) this.disablePrivateCourse = t.typeValue === 'true';
				}
				if (this.disableGroupCourse) {
					this.shopParam.hasGroupCourse = false;
				}
				if (this.disablePrivateCourse) {
					this.shopParam.hasPrivateCourse = false;
				}
			});
		},

		submit() {
			let args = { shopParam: this.shopParam, type: 'functionModules' };
			$.Req.service($.SvName.SHOP_PARAM_UPDATE, args, ret => {
				$.data.shop.hasEntryCheckin = this.shopParam.hasEntryCheckin;
				$.data.shop.hasGroupCourse = this.shopParam.hasGroupCourse;
				$.data.shop.hasPrivateCourse = this.shopParam.hasPrivateCourse;
				$.data.shop.hasMall = this.shopParam.hasMall;
				$.data.shop.hasVenueBooking = this.shopParam.hasVenueBooking;
				$.Msg.success($.Lang.OPT_SUCCESS);
				document.location.reload();
			}, true);
		}
	}
});

/***/ }),

/***/ 1436:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_cust_cust_detail_vue__ = __webpack_require__(405);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_cust_cust_detail_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__pages_cust_cust_detail_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_cust_visit_cust_stat_vue__ = __webpack_require__(2193);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_cust_visit_cust_stat_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_cust_visit_cust_stat_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { CustDetail: __WEBPACK_IMPORTED_MODULE_0__pages_cust_cust_detail_vue___default.a, VisitCustStat: __WEBPACK_IMPORTED_MODULE_1__pages_cust_visit_cust_stat_vue___default.a },
	data() {
		return {
			g: $,
			custCount: null,
			visitCustList: [],
			custDlgTitle: null,
			custDlgView: false,
			visitCnt: null,
			bookingCnt: null,
			custVisitConfirmDlg: false,
			selectCustId: null,
			selectCustName: null,
			visitTime: null,
			dlg: {
				visitCustStat: false
			}
		};
	},

	created() {
		this.loadVisitCust();
	},

	methods: {
		loadVisitCust(page = null, hasNotice = false) {
			if (!page) this.visitCustCount = null;

			let today = new Date();
			let args = { visitDateBegin: today, visitDateEnd: today,
				orderBy: 'visit_time', ascOrDesc: 'asc', page: page };
			$.Req.service($.SvName.CUST_QUERY, args, ret => {
				this.visitCustList = ret.custList;
				if (hasNotice) {
					$.Msg.info($.Lang.REFRESH_DONE);
				}
				if (!page) {
					this.custCount = ret.count;
					this.queryVisitCustCount();
				}
			});
		},

		queryVisitCustCount() {
			let today = new Date();
			let args = { visitDateBegin: today, visitDateEnd: today, custType: 1, onlyCount: true };
			$.Req.service($.SvName.CUST_QUERY, args, ret => {
				this.visitCnt = ret.count;
				this.bookingCnt = this.custCount - this.visitCnt;
			});
		},

		viewCust(cust) {
			this.selectCustId = cust.custId;
			this.custDlgTitle = '客户详情 - {0} （{1}）'.format(cust.name, cust.phoneNo);
			this.custDlgView = true;
		},

		openCustVisitDlg(custId, custName) {
			this.selectCustId = custId;
			this.selectCustName = custName;
			this.visitTime = new Date();
			this.custVisitConfirmDlg = true;
		},

		confirmCustVisit() {
			let now = new Date();
			let visitDateTime = Date.new($.Util.formatDate(now) + ' ' + this.visitTime);
			if (visitDateTime > new Date()) {
				$.Dlg.error('到店时间不能大于当前时间：' + $.Util.formatDateTime(now));
				return;
			}
			let args = { custId: this.selectCustId, visitTime: visitDateTime };
			$.Req.service($.SvName.CUST_VISIT_CONFIRM, args, ret => {
				this.loadVisitCust();
				this.custVisitConfirmDlg = false;
			}, true);
		},

		openVisitCustStatDlg() {
			this.dlg.visitCustStat = true;
		}
	}
});

/***/ }),

/***/ 1437:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	data() {
		return {
			g: $,
			tagArr: [{ labelName: "" }],
			tagNames: [null, null, null],
			shopTagList: null
		};
	},
	created() {
		this.queryShopTagList();
		this.queryImgLabel();
	},
	methods: {
		queryShopTagList(tagType = null) {
			$.Req.service($.SvName.SHOP_TAG_QUERY, { tagType: tagType }, ret => {
				this.shopTagList = ret.shopTagList;
			});
		},

		addShopTag(tagType) {
			let tagName = this.tagNames[tagType];
			if (tagName) {
				let args = {
					actionType: 'I',
					shopTag: {
						tagType: tagType, tagName: tagName
					}
				};
				$.Req.service($.SvName.SHOP_TAG_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.tagNames[tagType] = null;
					this.queryShopTagList();
				}, true);
			} else {
				$.Msg.error('请输入标签名');
			}
		},

		delShopTag(tagId) {
			if (!confirm('确定要删除此标签吗？')) return;

			let args = {
				actionType: 'D',
				deleteId: tagId
			};
			$.Req.service($.SvName.SHOP_TAG_SAVE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.queryShopTagList();
			}, true);
		},

		updateShopTag(tag) {
			let newName = prompt('请输入新标签名');
			if (!newName) {
				$.Msg.warning('未输入新标签名');
				return;
			}

			let args = {
				actionType: 'U',
				shopTag: tag
			};
			args.shopTag.tagName = newName;
			$.Req.service($.SvName.SHOP_TAG_SAVE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.queryShopTagList();
			}, true);
		},

		queryImgLabel() {
			$.Req.service($.SvName.MEMBER_IMG_LABEL_QUERY, {}, res => {
				if (res.memberImgLabelList && res.memberImgLabelList.length) {
					this.tagArr = res.memberImgLabelList;
				} else {
					this.tagArr = [{ labelName: "" }];
				}
			});
		},

		saveLabel() {
			let filter = this.tagArr.filter(v => v.labelName);
			if (filter.length < 1) {
				$.Msg.error("至少设置一个标签");
				return;
			}
			$.Req.service($.SvName.MEMBER_IMG_LABEL_SAVE, { memberImgLabelList: filter }, res => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.queryImgLabel();
			});
		},

		addSettingLine() {
			this.tagArr.push({ labelName: "" });
		},

		delSettingLine(idx) {
			if (idx == 0) {
				// 清空
				this.$set(this.tagArr[idx], "labelName", "");
			} else {
				this.tagArr.splice(idx, 1);
			}
		}
	}
});

/***/ }),

/***/ 1438:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
  data() {
    return {
      phoneNo: "",
      logList: [],
      logCount: 0,
      msgType: null,
      wxMsgLogList: null,
      msgTypeConf: {
        1: "团课上课提醒（会员）",
        2: "团课上课提醒（教练）",
        3: "团课即将取消提醒（会员）",
        4: "团课即将取消提醒（教练）",
        5: "团课取消提醒（会员）",
        11: "私教课上课提醒（会员）",
        12: "私教课上课提醒（教练）"
      },
      msgTypeConfArr: []
    };
  },
  created() {
    this.msgTypeConfArr = Object.keys(this.msgTypeConf).map(v => {
      let obj = {
        id: Number(v),
        name: this.msgTypeConf[v]
      };
      return obj;
    });
    this.queryList();
  },
  methods: {
    queryList(page = null) {
      $.Req.service($.SvName.WX_MSG_LOG_QUERY, {
        msgType: this.msgType,
        phoneNo: this.phoneNo,
        page: page
      }, ret => {
        this.wxMsgLogList = ret.wxMsgLogList || [];
        if (!page) this.logCount = ret.count;
      }, true);
    }
  }
});

/***/ }),

/***/ 1439:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ __webpack_exports__["default"] = ({
	components: {},
	data() {
		return {
			g: $,
			custSrcEditable: $.Util.hasRoleFunc($.Dict.RoleFunc.CUST_SOURCE.value),
			custSourceList: [],
			custSource: { sourceId: null, sourceName: null, sourceDesc: null },
			dlgShow: false
		};
	},

	created() {
		this.loadData();
	},

	methods: {
		loadData() {
			$.Req.service($.SvName.CUST_SOURCE_QUERY, {}, ret => {
				this.custSourceList = ret.custSourceList;
			});
		},

		create() {
			this.custSource.sourceId = null;
			this.custSource.sourceName = null;
			this.custSource.sourceDesc = null;
			this.custSource.orderNo = null;
			this.dlgShow = true;
		},

		update(idx) {
			this.custSource.sourceId = this.custSourceList[idx].sourceId;
			this.custSource.sourceName = this.custSourceList[idx].sourceName;
			this.custSource.sourceDesc = this.custSourceList[idx].sourceDesc;
			this.custSource.orderNo = this.custSourceList[idx].orderNo;
			this.dlgShow = true;
		},

		submit() {
			if (!this.custSource.sourceName) {
				$.Dlg.error('请输入来源名称');
				return;
			}
			if (this.custSource.sourceName.length > 50) {
				$.Dlg.error('来源名称不能超过50字');
				return;
			}

			let args = {
				actionType: this.custSource.sourceId ? 'U' : 'I',
				custSource: this.custSource
			};
			$.Req.service($.SvName.CUST_SOURCE_SAVE, args, ret => {
				this.loadData();
				this.dlgShow = false;
			});
		},

		delCustSource(idx) {
			let msg = '确定要删除【{0}】吗？'.format(this.custSourceList[idx].sourceName);
			$.Dlg.confirm(msg, yes => {
				let args = {
					actionType: 'D',
					deleteId: this.custSourceList[idx].sourceId
				};
				$.Req.service($.SvName.CUST_SOURCE_SAVE, args, ret => {
					this.loadData();
				});
			});
		},

		updateOrderNo(id) {
			let orderNo = prompt('请输入序号：');
			if ($.Util.isEmpty(orderNo)) return;
			if (!$.Util.isInteger(orderNo)) {
				$.Msg.error('请输入整数');
				return;
			}
			let args = {
				actionType: 'U',
				sourceId: id,
				orderNo: orderNo
			};
			$.Req.service($.SvName.CUST_SOURCE_SAVE, args, ret => {
				this.loadData();
			});
		}
	}
});

/***/ }),

/***/ 1440:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1112);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_help_vue__ = __webpack_require__(404);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_help_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, ImgUpload: __WEBPACK_IMPORTED_MODULE_1__components_sys_img_upload_vue___default.a, Help: __WEBPACK_IMPORTED_MODULE_2__components_help_vue___default.a },
	data() {
		return {
			g: $,
			editable: $.Util.hasRoleFunc($.Dict.RoleFunc.ENTRY_CHECKIN_CONF.value),
			disableAppCheckin: false,
			enableNoticeAdvisor: false,
			enableNoticeMember: false,
			imgUpload: {
				action: $.Conf.IMG_UPLOAD_URL,
				maxSize: 200000,
				imgMaxWidth: 2000,
				defaultList: []
			},
			voiceType: 0,
			roleList: null,
			entryChargeItemList: [],
			entryChargeItemDlg: false,
			entryChargeItemCardList: [],
			entryChargeItemCardDlg: false,
			entryChargeItemCardCount: null,
			entryChargeItem: {
				itemId: null,
				itemName: null,
				staffRoles: null,
				staffRoleList: []
			},
			entryChargeItemCard: {
				itemId: null,
				cardId: null,
				cardPayment: null,
				chargeByHourEnable: false,
				chargeByHourVal: null,
				chargeByHourConf: null,
				chargeByHourBegin: null
			},
			roleNameMap: {},
			cardList: [],
			cardMap: {},
			selectCardType: null,
			chargeByHourConf: {
				fromMin1: null,
				toMin1: null,
				fromMin2: null,
				toMin2: null
			},
			EntryCheckinsInMemberClient: [],
			cardCheckAll: false,
			cardPayments: {},
			includeMoreCards: false,
			query: {
				itemId: '',
				cardId: ''
			},
			maxEntryPersons: null,
			MsiteEntryCheckinsInMemberClient: []
		};
	},

	created() {
		this.queryShopArgs();
		this.queryRole(() => {
			this.queryEntryChargeItem();
		});
		this.queryEntryChargeItemCard();
		this.queryCards();
	},

	methods: {
		queryShopArgs() {
			let args = {
				typeIdList: [82, 2001, 2002, 2010, 2016, 2028, 135, 2231]
			};
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
				for (let r of ret.argList) {
					if (r.typeId === 2001) {
						if (r.typeValue && r.typeValue === 'true') {
							this.disableAppCheckin = true;
						} else {
							this.disableAppCheckin = false;
						}
					} else if (r.typeId === 2002) {
						this.imgUpload.defaultList.push({
							name: r.typeValue,
							url: $.Util.getImgUrl(r.typeValue, 200, 200, 'EEEEEE')
						});
					} else if (r.typeId === 102) {
						this.enableNoticeAdvisor = r.typeValue === 'true';
					} else if (r.typeId === 2010) {
						if (r.typeValue) this.voiceType = parseInt(r.typeValue);
					} else if (r.typeId === 2016) {
						if (r.typeValue) this.EntryCheckinsInMemberClient = r.typeValue.split(',');
					} else if (r.typeId === 2028) {
						this.maxEntryPersons = r.typeValue ? parseInt(r.typeValue) : null;
					} else if (r.typeId === 135) {
						this.enableNoticeMember = r.typeValue === 'true';
					} else if (r.typeId === 2231) {
						if (r.typeValue) this.MsiteEntryCheckinsInMemberClient = r.typeValue.split(',');
					}
				}
			});
		},

		updateAppCheckinArg(val) {
			if (!this.editable) return;

			this.disableAppCheckin = val;
			let args = { typeId: 2001, typeValue: '' + this.disableAppCheckin };
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
		},

		updateEntryCheckinsInMemberClient() {
			if (!this.editable) return;
			let val = this.EntryCheckinsInMemberClient;
			let args = { typeId: 2016, typeValue: val ? val.join(',') : '' };
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
		},

		updateMsiteEntryCheckinsInMemberClient() {
			if (!this.editable) return;
			let val = this.MsiteEntryCheckinsInMemberClient;
			let args = { typeId: 2231, typeValue: val ? val.join(',') : '' };
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
		},

		handleImgUploadBgImg(res, file) {
			if (!this.editable) return;

			file.url = res.data.url;
			file.name = res.data.name;

			let args = { bgImgName: file.name };
			$.Req.service($.SvName.ENTRY_CHECKIN_BG_IMG_UPLOAD, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
		},

		updateVoiceType(typeValue) {
			if (!this.editable) return;

			let args = { typeId: $.Dict.ShopArg.ENTRY_CHECKIN_VOICE_TYPE, typeValue: '' + typeValue };
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
		},

		queryRole(callback) {
			$.Req.service($.SvName.ROLE_QUERY, {}, ret => {
				this.roleList = ret.roleList;
				this.roleNameMap = {};
				for (let r of this.roleList) this.roleNameMap[r.roleId] = r.roleName;

				if (callback) callback();
			});
		},

		queryEntryChargeItem() {
			$.Req.service($.SvName.ENTRY_CHARGE_ITEM_QUERY, {}, ret => {
				this.entryChargeItemList = ret.entryChargeItemList;
				for (let item of this.entryChargeItemList) {
					let roles = item.staffRoles.split(',');
					let roleNames = [];
					for (let r of roles) {
						roleNames.push(this.roleNameMap[r]);
					}
					item.roleNames = roleNames.join('、');
				}
			});
		},

		openNewEntryChargeItemDlg() {
			this.entryChargeItem = {
				staffRoleList: []
			};
			this.entryChargeItemDlg = true;
		},

		openEditEntryChargeItemDlg(idx) {
			this.entryChargeItem = {};
			$.Util.copyAttributes(this.entryChargeItemList[idx], this.entryChargeItem);
			if (this.entryChargeItem.staffRoles) {
				let roleIdStrList = this.entryChargeItem.staffRoles.split(',');
				let roleIdList = [];
				for (let roleId of roleIdStrList) {
					roleIdList.push(parseInt(roleId));
				}
				this.entryChargeItem.staffRoleList = roleIdList;
			}
			this.entryChargeItemDlg = true;
		},

		saveEntryChargeItem() {
			// check
			if (!this.entryChargeItem.itemName) {
				$.Msg.error('请输入项目名称');
				return;
			}
			if (!this.entryChargeItem.staffRoleList.length) {
				$.Msg.error('请输入员工角色');
				return;
			}

			this.entryChargeItem.staffRoles = this.entryChargeItem.staffRoleList.join(',');
			let args = {
				actionType: this.entryChargeItem.itemId ? 'U' : 'I',
				entryChargeItem: this.entryChargeItem
			};
			$.Req.service($.SvName.ENTRY_CHARGE_ITEM_SAVE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.queryEntryChargeItem();
				this.entryChargeItemDlg = false;
			});
		},

		deleteEntryChargeItem(idx) {
			let msg = "您确定要删除该计费项目吗？";
			$.Dlg.confirm(msg, ret => {
				let args = {
					actionType: 'D',
					deleteId: this.entryChargeItemList[idx].itemId
				};
				$.Req.service($.SvName.ENTRY_CHARGE_ITEM_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.queryEntryChargeItem();
				});
			});
		},

		queryCards() {
			$.Req.service($.SvName.CARD_QUERY, { queryType: 2, status: 0 }, ret => {
				this.cardList = ret.cardList;
				for (let c of ret.cardList) {
					this.cardMap[c.cardId] = c;
					this.$set(this.cardPayments, c.cardId, { checked: false, payment: null });
				}
			});
		},

		queryEntryChargeItemCard(page = null) {
			if (!page) {
				this.entryChargeItemCardCount = null;
			}
			let args = {
				itemId: this.query.itemId,
				cardId: this.query.cardId,
				page: page
			};
			$.Req.service($.SvName.ENTRY_CHARGE_ITEM_CARD_QUERY, args, ret => {
				this.entryChargeItemCardList = ret.entryChargeItemCardList;
				if (!page) {
					this.entryChargeItemCardCount = ret.count;
				}
			});
		},

		saveEntryChargeItemCard() {
			this.entryChargeItemCard.chargeByHourConf = this.genChargeByHourConf(this.chargeByHourConf);
			if (this.entryChargeItemCard.chargeByHourEnable) {
				if (!this.entryChargeItemCard.chargeByHourVal) {
					$.Msg.error('请输入每小时计费额');
					return;
				}
			}
			let args = {
				actionType: this.entryChargeItemCard.icId ? 'U' : 'I',
				entryChargeItemCard: this.entryChargeItemCard
			};
			if (this.includeMoreCards && args.actionType === 'I') {
				try {
					args.includeMoreCards = true;
					args.cardPayments = this.genCardPaymentList();
				} catch (err) {
					if (err) $.Dlg.error(err);
					return;
				}
			}

			$.Req.service($.SvName.ENTRY_CHARGE_ITEM_CARD_SAVE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.queryEntryChargeItemCard();
				this.entryChargeItemCardDlg = false;
			});
		},

		openNewEntryChargeItemCardDlg() {
			this.includeMoreCards = false;
			for (let c of this.cardList) {
				this.$set(this.cardPayments, c.cardId, { checked: false, payment: null });
			}
			this.entryChargeItemCard = {};
			this.entryChargeItemCardDlg = true;
		},

		openEidtEntryChargeItemCardDlg(idx) {
			this.includeMoreCards = false;
			this.entryChargeItemCard = {
				chargeByHourEnable: false
			};
			$.Util.copyAttributes(this.entryChargeItemCardList[idx], this.entryChargeItemCard);
			this.showChargeByHoureConf(this.entryChargeItemCard.chargeByHourConf);
			this.selectCardType = this.entryChargeItemCardList[idx].cardType;
			this.entryChargeItemCardDlg = true;
		},

		changeCard(cardId) {
			if (!cardId) return;

			this.selectCardType = this.cardMap[cardId].cardType;
		},

		genChargeByHourConf() {
			let confs = [];
			if (!$.Util.isEmpty(this.chargeByHourConf.fromMin1) && this.chargeByHourConf.toMin1) {
				confs.push('1:{0},{1}'.format(this.chargeByHourConf.fromMin1, this.chargeByHourConf.toMin1));
			}
			if (!$.Util.isEmpty(this.chargeByHourConf.fromMin2) && this.chargeByHourConf.toMin2) {
				confs.push('2:{0},{1}'.format(this.chargeByHourConf.fromMin2, this.chargeByHourConf.toMin2));
			}

			return confs.join(';');
		},

		showChargeByHoureConf(confStr) {
			this.chargeByHourConf.fromMin1 = null;
			this.chargeByHourConf.toMin1 = null;
			this.chargeByHourConf.fromMin2 = null;
			this.chargeByHourConf.toMin2 = null;

			if (!confStr) return;

			let confs = confStr.split(';');
			for (let c of confs) {
				let items = c.split(':');
				let minArr = items[1].split(',');
				if (items[0] === '1') {
					this.chargeByHourConf.fromMin1 = parseInt(minArr[0]);
					this.chargeByHourConf.toMin1 = parseInt(minArr[1]);
				} else if (items[0] === '2') {
					this.chargeByHourConf.fromMin2 = parseInt(minArr[0]);
					this.chargeByHourConf.toMin2 = parseInt(minArr[1]);
				}
			}
		},

		deleteEntryChargeItemCard(idx) {
			let msg = "您确定要删除该会员卡计费吗？";
			$.Dlg.confirm(msg, ret => {
				let args = {
					actionType: 'D',
					deleteId: this.entryChargeItemCardList[idx].icId
				};
				$.Req.service($.SvName.ENTRY_CHARGE_ITEM_CARD_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.queryEntryChargeItemCard();
				});
			});
		},

		checkAllCards(val) {
			this.cardCheckAll = val;
			for (let c of this.cardList) {
				if (c.status !== 0) continue;
				this.$set(this.cardPayments, c.cardId, {
					checked: this.cardCheckAll,
					payment: this.cardPayments[c.cardId].payment });
				if (val && c.cardType === 2 && !this.cardPayments[c.cardId].payment) {
					this.cardPayments[c.cardId].payment = 1;
				}
			}
		},

		checkCardPayment(card) {
			if (this.cardPayments[card.cardId].checked) {
				if (card.cardType === 2 && !this.cardPayments[card.cardId].payment) {
					this.cardPayments[card.cardId].payment = 1;
				}
			}
		},

		findCard(cardId) {
			for (let i = 0, len = this.cardList.length; i < len; i++) {
				if (cardId === this.cardList[i].cardId) {
					return this.cardList[i];
				}
			}

			return null;
		},

		genCardPaymentList() {
			let cardPaymentList = [];
			let card;
			for (let cardId in this.cardPayments) {
				const c = this.cardPayments[cardId];
				if (!c.checked) continue;

				card = this.findCard(parseInt(cardId));
				if ($.Util.isEmpty(c.payment)) {
					if (card && card.cardType > 1) {
						throw '【{0}】未设置会员卡计费'.format(card.cardName);
					}
				} else {
					if (card && c.payment < 0) {
						throw '【{0}】计费额必须大于等于0'.format(card.cardName);
					}
					if (card && card.cardType === 2 && c.payment > 1) {
						if (!confirm('嘿，您设置的【{0}】每次计费【{1}】次，是不是写错了，确定提交吗？'.format(card.cardName, c.payment))) {
							throw null;
						}
					}
				}
				cardPaymentList.push(cardId + ':' + c.payment);
			}
			if (cardPaymentList.length === 0) {
				throw '请选择计费会员卡';
			}

			return cardPaymentList.join(',');
		},

		updateMaxEntryPersons() {
			if (!this.editable) return;

			if (!this.maxEntryPersons) this.maxEntryPersons = '';
			let args = { typeId: 2028, typeValue: '' + this.maxEntryPersons };
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
		}
	}
});

/***/ }),

/***/ 1441:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1112);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__ = __webpack_require__(1113);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__tenant_tenant_mp_auth__ = __webpack_require__(875);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__tenant_tenant_mp_auth___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__tenant_tenant_mp_auth__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//






/* harmony default export */ __webpack_exports__["default"] = ({
  components: { TenantMpAuth: __WEBPACK_IMPORTED_MODULE_3__tenant_tenant_mp_auth___default.a, PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default.a, MemberSelect: __WEBPACK_IMPORTED_MODULE_2__pages_member_member_select_vue___default.a },
  data() {
    return {
      g: $,
      membeAgentPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_AGENT.value),
      viewMemberDlg: false,
      today: new Date(),
      viewMemberId: 0,
      queryDate: null,
      queryDates: [],
      dateOptions: {
        disabledDate(date) {
          return date && date.valueOf() > Date.now();
        }
      },
      mecList: [],
      totalCount: null,
      memberCount: null,
      member: {},
      memberSelectDlg: false,
      checkoutTime: null,
      checkoutDlg: false,
      selectIdx: null,
      checkinCancelDlg: false,
      logRemark: null,
      hasEntryChargeItem: false,
      isUseMach: false,
      mecStatListByMach: null,
      queryDateType: 1, // 1-按日查，2-按日期范围
      dateOptions1: {
        disabledDate(date) {
          return date && date.valueOf() > Date.now();
        },
        shortcuts: [{
          text: "最近一周",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);
            return [start, end];
          }
        }, {
          text: "最近一个月",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);
            return [start, end];
          }
        }, {
          text: "最近两个月",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 60);
            return [start, end];
          }
        }, {
          text: "最近三个月",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);
            return [start, end];
          }
        }]
      },
      entryChargeItemIdList: null,
      countByHourStatList: null,
      hourStatData: [],
      hourTitles: [],
      exportFileUrl: null,
      exportDlg: null,
      queryPage: null,
      query: {
        needMemberAvatar: false,
        needSalesName: false,
        needAdvisorName: false,
        needLatestEntryCheckinTime: false,
        needTotalEntryCheckinTimes: false,
        needCardOpenDateDiff: false
      }
    };
  },
  watch: {
    query: {
      handler(query) {
        this.queryEntryCheckin();
        $.Util.cookie.set("jzg.entry.checkin.query", JSON.stringify(query), 365);
      },
      deep: true
    }
  },

  created() {
    if ($.Util.cookie.get("jzg.entry.checkin.query")) {
      this.query = JSON.parse($.Util.cookie.get("jzg.entry.checkin.query"));
    }

    this.initQueryDate();

    if ($.data.user.isShopOwner) {
      this.queryEntryCheckin();
    } else {
      this.queryStaffEntryChargeItem(() => {
        this.queryEntryCheckin();
      });
    }
  },

  computed: {
    countByHourStatChartOpt() {
      return {
        grid: { x: 40, y: 40, x2: 30, y2: 30 },
        color: ["#FC6F6F"],
        legend: {
          orient: "vertical",
          x: "left",
          data: this.hourTitles
        },
        tooltip: {
          trigger: "item",
          formatter: "{b} {c}个"
        },
        xAxis: {
          type: "category",
          data: this.hourTitles
        },
        yAxis: {
          type: "value"
        },
        series: [{
          data: this.hourStatData,
          type: "bar",
          barWidth: "40px"
        }]
      };
    }
  },

  methods: {
    dateCalc(beginDate) {
      let [bDate, eDate] = [Date.parse(beginDate), Date.parse(this.today)];
      let difference = eDate - bDate;
      let days = difference / 1000 / 60 / 60 / 24;
      return Math.floor(days);
    },

    initQueryDate() {
      this.queryDate = new Date();
      /*let endDate = new Date();
      let beginDate = new Date(endDate.getTime() - 31 * 3600 * 24 * 1000);
      this.queryDates = [beginDate, endDate];*/

      for (let h = 6; h < 23; h++) {
        this.hourTitles.push("{0}~{1}点".format(h, h + 1));
      }
    },

    queryByDayNav(alt) {
      if (!this.queryDate) {
        $.Msg.warning("请选择日期");
        return;
      }

      if (alt > 0 && this.queryDate.compareDatePart(new Date()) >= 0) {
        $.Msg.info("明天的事还未发生");
        return;
      }
      this.queryDate = new Date(this.queryDate.getTime() + alt * 3600 * 24 * 1000);
      this.member = {};
      this.queryEntryCheckin();
    },

    queryEntryCheckin(page = null, isExport = null) {
      if (!this.queryDate) {
        $.Msg.warning("请选择日期");
        return;
      }
      if (!page) {
        this.hourStatData = [];
      }

      let args = {
        page: page,
        needMemberAvatar: this.query.needMemberAvatar,
        needSalesName: this.query.needSalesName,
        needAdvisorName: this.query.needAdvisorName,
        needLatestEntryCheckinTime: this.query.needLatestEntryCheckinTime,
        needTotalEntryCheckinTimes: this.query.needTotalEntryCheckinTimes,
        needCardOpenDateDiff: this.query.needCardOpenDateDiff
      };
      if (this.entryChargeItemIdList) {
        args.entryChargeItemIdList = this.entryChargeItemIdList;
      }
      if (this.queryDateType === 1) {
        args.beginDate = this.queryDate;
      } else if (this.queryDateType === 2) {
        if (!this.queryDates || !this.queryDates[0] || !this.queryDates[1]) {
          $.Msg.warning("请设置日期范围");
          return;
        }
        args.beginDate = this.queryDates[0];
        args.endDate = this.queryDates[1];
        if ($.Util.calcDateDiffDays(args.endDate, args.beginDate) > 365) {
          $.Dlg.warning("日期范围不能超过365天");
          return;
        }
      }
      if (this.member && this.member.memberId) {
        args.memberId = this.member.memberId;
      }
      if (!page) {
        args.needStatCountByHour = true;
        if (!args.memberId) args.needStatMemberCount = true;
      }
      if (isExport) {
        args.isExport = true;
        this.exportFileUrl = null;
        this.exportDlg = true;
      }
      this.queryPage = page;
      $.Req.service($.SvName.MEMBER_ENTRY_CHECKIN_QUERY, args, (ret, systime) => {
        if (isExport) {
          this.exportFileUrl = ret.fileurl;
          return;
        }

        this.today = Date.new(systime);
        this.mecList = ret.mecList;
        this.hasEntryChargeItem = false;
        this.isUseMach = false;
        for (let mec of ret.mecList) {
          if (mec.icId) {
            this.hasEntryChargeItem = true;
          }
          if (mec.icMachName || mec.aiMachName) {
            this.isUseMach = true;
          }
          if (mec.endDate) {
            mec.leftDays = $.Util.calcDateDiffDays(mec.endDate, this.today);
          }
        }
        if (!page) {
          this.totalCount = ret.count;
          this.memberCount = ret.memberCount;
          this.countByHourStatList = ret.countByHourStatList;

          this.hourStatData = [];
          let _dataMap = {};
          for (let s of this.countByHourStatList) {
            _dataMap[s.flag] = s.count;
          }
          for (let h = 6; h < 23; h++) {
            if (_dataMap[h]) this.hourStatData.push(_dataMap[h]);else this.hourStatData.push(0);
          }

          this.statMemberEntryCheckinByIcMach();
        }
        window.scrollTo(0, 0);
      }, true);
    },

    onChangeDate(date) {
      if (!date) {
        $.Msg.warning("请选择日期");
        return;
      }
      this.queryDate = new Date(date);
      this.queryEntryCheckin();
    },

    changePageNo(page) {
      this.queryEntryCheckin(page);
    },

    viewMember(memberId) {
      this.viewMemberDlg = true;
      this.viewMemberId = memberId;
    },

    openCheckoutDlg(idx) {
      this.checkoutTime = new Date().format("hh:mm:ss");
      this.selectIdx = idx;
      this.checkoutDlg = true;
    },

    checkoutMemberEntry() {
      let idx = this.selectIdx;
      let mec = this.mecList[idx];

      // check checkout-time
      if (this.checkoutTime < Date.new(mec.createTime).format("hh:mm:ss")) {
        $.Dlg.error("签出时间必须大于签到时间");
        return;
      }
      let args = {
        memberId: mec.memberId,
        mecId: mec.mecId,
        checkoutTime: Date.new($.Util.formatDate(this.queryDate) + " " + this.checkoutTime)
      };
      $.Req.service($.SvName.MEMBER_ENTRY_CHECKOUT, args, ret => {
        mec.cardPayment = ret.cardPayment;
        mec.checkoutTime = args.checkoutTime;
        this.$set(this.mecList, idx, mec);
        this.checkoutDlg = false;
      }, true);
    },

    afterSelectMember(member) {
      this.member.memberId = member.memberId;
      this.member.name = member.name;
      this.memberSelectDlg = false;
    },

    openCheckinCancelLog(idx) {
      this.logRemark = null;
      this.selectIdx = idx;
      this.checkinCancelDlg = true;
    },

    cancelCheckin() {
      let idx = this.selectIdx;
      let msg = "取消签到会留下操作日志，如有计费，系统会自动退费，确定取消签到吗？";
      $.Dlg.confirm(msg, yes => {
        if (!this.logRemark) {
          $.Msg.warning("请输入取消原因");
          return;
        }
        let args = {
          mecId: this.mecList[idx].mecId,
          logRemark: this.logRemark
        };
        $.Req.service($.SvName.MEMBER_ENTRY_CHECKIN_CANCEL, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.mecList.splice(idx, 1);
          this.checkinCancelDlg = false;
        }, true);
      });
    },

    clearMember() {
      this.member = {};
      this.queryEntryCheckin();
    },

    statMemberEntryCheckinByIcMach() {
      let args = {};
      if (this.queryDateType === 1) {
        args.beginDate = this.queryDate;
      } else if (this.queryDateType === 2) {
        if (!this.queryDates || !this.queryDates[0] || !this.queryDates[1]) {
          $.Msg.warning("请设置日期范围");
          return;
        }
        args.beginDate = this.queryDates[0];
        args.endDate = this.queryDates[1];
      }
      $.Req.service($.SvName.MEMBER_ENTRY_CHECKIN_STAT_BY_IC_MACH, args, ret => {
        this.mecStatListByMach = ret.statList;
      });
    },

    changeQueryDates() {
      this.queryEntryCheckin();
    },

    changeQueryDateType(val) {
      if (val === 1) {
        if (this.queryDate) {
          this.queryEntryCheckin();
        }
      } else if (val === 2) {
        if (this.queryDates && this.queryDates[0] && this.queryDates[1]) {
          this.queryEntryCheckin();
        }
      }
    },

    queryStaffEntryChargeItem(callback) {
      $.Req.service($.SvName.STAFF_ENTRY_CHARGE_ITEM_QUERY, {}, ret => {
        if (ret.entryChargeItemList && ret.entryChargeItemList.length) {
          this.entryChargeItemIdList = [];
          for (let i of ret.entryChargeItemList) {
            this.entryChargeItemIdList.push(i.itemId);
          }
        }
        if (callback) callback();
      });
    },

    exportMecList() {
      this.queryEntryCheckin(this.queryPage, true);
    }
  }
});

/***/ }),

/***/ 1442:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_footer__ = __webpack_require__(1124);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_footer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_footer__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { MyFooter: __WEBPACK_IMPORTED_MODULE_0__components_footer___default.a },

	data() {
		return {
			g: window.$,
			bgUrl: null,
			checkinQrCode: null,
			checkinMsgDlg: false,
			qrcodeImgUrl: null,
			conf: {
				needMemberCheckinInfo: true,
				needCheckinCount: true,
				needCheckinRecords: true,
				needPointsRankByMonth: true,
				needPointsRankOfAll: true,
				playVoice: true
			},
			screenData: {
				memberId: null,
				memberName: null,
				memberCheckinsOfThisMonth: 0,
				memberCheckins: 0,
				todayCheckins: 0,
				entryCheckinRankList: [],
				pointsRankList: []
			},
			pageConfDlg: false,
			nowTime: null,
			QRCODE_EXPR_TIME: 100000 // 签到二维码变化时间设置
		};
	},

	created() {
		let cookieVal = $.Util.cookie.get($.Conf.CookieKeys.CHECKIN_SCREEN_CONF);
		if (cookieVal) {
			this.conf = JSON.parse(cookieVal);
		}

		this.setEntryCheckinBgImg();
		this.queryEntryCheckinMsg(null);
		this.createSocket();
	},

	methods: {
		getShopImg() {
			if ($.data.shop.logoPathname) {
				return $.Util.getImgUrl($.data.shop.logoPathname, 500, 500, '25282C');
			} else {
				return $.Conf.IMG_LIB_URL + '/default-shop-logo.jpg';
			}
		},

		setEntryCheckinBgImg() {
			let args = { typeId: 2002 };
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, (ret, systime) => {
				this.nowTime = Date.new(systime).getTime();
				if (ret.value) {
					this.bgUrl = $.Util.getImgUrl(ret.value);
				} else {
					this.bgUrl = $.Conf.IMG_LIB_URL + '/entry-checkin-bg.jpg';
				}
				this.setQrCode();
			});
		},

		setQrCode() {
			this.qrcodeImgUrl = this.getQrCodeUrl();
			setInterval(() => {
				this.qrcodeImgUrl = this.getQrCodeUrl();
			}, this.QRCODE_EXPR_TIME);
		},

		getQrCodeUrl() {
			let url = '{0}#/member-entry-checkin?t={1}&encSid={2}&time={3}'.format($.Conf.MOBILE_CLIENT_URL, $.data.tenant.encTid, $.data.shop.encSid, this.nowTime);
			this.nowTime += this.QRCODE_EXPR_TIME;
			return $.Conf.QR_CODE_URL + encodeURIComponent(url);
		},

		createSocket() {
			// 初始化io对象
			let socket = io($.Conf.CHECKIN_SOCKET_ADDR);
			let uid = $.Util.md5($.data.shop.encSid);
			// 当socket连接后发送登录请求
			socket.on('connect', function () {
				socket.emit('login', uid);
			});
			// 当服务端推送来消息时触发，这里简单的aler出来，用户可做成自己的展示效果
			socket.on('new_msg', msg => {
				this.handleCheckinMsg(msg);
			});
		},

		handleCheckinMsg(msg) {
			let arr = msg.split(',');
			if (!arr || arr.length != 2) {
				alert('Invalid socket msg');
				return;
			}

			let memberId = parseInt(arr[0]),
			    mcId = parseInt(arr[1]);
			this.playCheckinVoice(memberId, () => {
				this.queryEntryCheckinMsg(memberId, mcId);
			});
		},

		queryEntryCheckinMsg(memberId = null, mcId = null) {
			if (this.conf.needMemberCheckinInfo) {
				if (memberId) this.checkinMsgDlg = true;
			} else {
				memberId = null;
			}
			let args = {
				memberId: memberId,
				mcId: mcId,
				ignoreInvalidMember: true,
				needMemberCheckinInfo: this.conf.needMemberCheckinInfo,
				needCheckinCount: this.conf.needCheckinCount,
				needCheckinRecords: this.conf.needCheckinRecords,
				needPointsRankByMonth: this.conf.needPointsRankByMonth,
				needPointsRankOfAll: this.conf.needPointsRankOfAll
			};
			if (!args.memberId && !args.needMemberCheckinInfo && !args.needMemberCheckinInfo && !args.needCheckinCount && !args.needCheckinRecords && !args.needPointsRankByMonth && !args.needPointsRankOfAll) {
				return;
			}
			$.Req.service($.SvName.ENTRY_CHECKIN_MSG_QUERY, args, ret => {
				this.screenData = ret;
				if (memberId) {
					setTimeout(() => {
						this.checkinMsgDlg = false;
					}, 3000);
				}
			});
		},

		playCheckinVoice(memberId, callback) {
			if (this.conf.playVoice) {
				// 播放签到成功声音
				$.Req.service($.SvName.CHECKIN_SUCCESS_VOICE_FILE_GET, { memberId: memberId }, r => {
					if (r.voiceUrl) {
						let audio = new Audio(r.voiceUrl);
						audio.play();
						callback();
					}
				}, true, err => {});
			} else {
				callback();
			}
		},

		openPageConfDlg() {
			this.pageConfDlg = true;
		},

		submitConf() {
			let val = JSON.stringify(this.conf);
			$.Util.cookie.set($.Conf.CookieKeys.CHECKIN_SCREEN_CONF, val, 365);
			this.pageConfDlg = false;
			$.Msg.success($.Lang.OPT_SUCCESS);
			this.queryEntryCheckinMsg();
		},

		setPageVersion() {
			$.Util.cookie.set($.Conf.CookieKeys.CHECKIN_SCREEN_VERSION, 'new', 365);
			location.href = '#/entry-checkin-screen';
		}
	}
});

/***/ }),

/***/ 1443:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	data() {
		return {
			g: window.$,
			bgUrl: null,
			checkinQrCode: null,
			checkinMsgDlg: false,
			qrcodeImgUrl: null,
			defaultAvartar: "/static/img/default-photo.png",
			defaultLogo: "http://www.jzongguan.com/imglib/default-tenant-logo.jpg",
			conf: {
				needCheckinCount: true, //今日签到人数
				needUncheckoutCount: true, //当前在场人数
				needMemberPLessonCount: false, //当日私教课上课人数
				needMemberGLessonCount: false, //当日团课上课人数
				needCheckinRecords: true, //今日签到记录（最多10人）
				needPointsRankByMonth: true, //本月入场签到排名
				needPointsRankOfAll: false, //会员积分排名
				needPLessonStatByMonth: false, //当月私教上课榜单
				needGLessonStatByMonth: false, //当月团课上课榜单
				needMemberHeartRateRankOfAll: false, //心率榜单
				needMachRunRankOfAll: false, //跑步榜单
				ignoreInvalidMember: true, // 是否有效会员
				needMemberCheckinInfo: true, //签到成功提示
				needCodeShow: true,
				playVoice: true,
				isShowFullName: true
			},
			replaceConf: {},
			watchMiddleChecked: [],
			watchSideChecked: [],
			middleChecked: [],
			sideChecked: [],
			sideTip: "",
			middleTip: "",
			screenData: {
				memberId: null,
				memberName: null,
				memberCheckinsOfThisMonth: 0,
				memberCheckins: 0,
				todayCheckins: 0,
				entryCheckinRankList: [],
				pointsRankList: []
			},
			pageConfDlg: false,
			nowTime: null,
			QRCODE_EXPR_TIME: 180000, // 签到二维码三分钟变化一次
			timeArr: ["0", "0", ":", "0", "0", ":", "0", "0"],
			week: "一",
			date: "2021-01-01",
			marginRight: null
		};
	},

	created() {
		let cookieVal = $.Util.cookie.get($.Conf.CookieKeys.CHECKIN_SCREEN_CONF);
		if (cookieVal) {
			let arg = JSON.parse(cookieVal);
			arg.ignoreInvalidMember = arg.ignoreInvalidMember ? true : false;
			arg.needMemberCheckinInfo = arg.needMemberCheckinInfo ? true : false;
			if ($.Util.isEmpty(arg.isShowFullName)) arg.isShowFullName = true;
			this.conf = arg;
		} else {
			this.exeDataCombine(this.conf);
		}
		this.replaceConf = this.conf;

		this.setEntryCheckinBgImg();
		this.queryEntryCheckinMsg(null);
		this.createSocket();
		this.getTime();
	},

	mounted() {
		let screenWidth = this.$refs.screen.offsetWidth;
		let sideWidth = this.$refs.side.offsetWidth;
		let middleWidth = this.$refs.middle.offsetWidth;
		let marg = (screenWidth - middleWidth - sideWidth * 2) / 2;
		this.marginRight = marg;
		this.$refs.side.style.marginRight = marg + 'px';
		this.$refs.middle.style.marginRight = marg + 'px';
	},

	watch: {
		conf: {
			handler(newName, oldName) {
				this.conf.ignoreInvalidMember = newName.ignoreInvalidMember ? true : false;
				this.conf.needMemberCheckinInfo = newName.needMemberCheckinInfo ? true : false;
				this.exeDataCombine(newName);
			},
			// 开启深度监听
			deep: true
		}
	},

	methods: {
		cutFive(arr, needCut) {
			let newArr = [];
			if (arr.length > 5 && needCut) {
				newArr = arr.slice(0, 5);
			} else {
				newArr = arr;
			}
			return newArr;
		},

		exeDataCombine(confObj) {
			let middleConf = {
				needCheckinCount: confObj.needCheckinCount, //今日签到人数
				needUncheckoutCount: confObj.needUncheckoutCount, //当前在场人数
				needMemberPLessonCount: confObj.needMemberPLessonCount, //当日私教课上课人数
				needMemberGLessonCount: confObj.needMemberGLessonCount //当日团课上课人数
			};
			let middleArr = Object.keys(middleConf).map(item => {
				let obj = {};
				obj.key = item;
				obj.value = confObj[item];
				return obj;
			});
			this.watchMiddleChecked = middleArr.filter(v => v.value === true);
			let middleSelectedLength = this.watchMiddleChecked.length;
			if (middleSelectedLength < 1) {
				this.middleTip = "最少选择1项";
			} else if (middleSelectedLength > 2) {
				this.middleTip = "最多选择2项";
			} else {
				this.middleTip = "";
			}
			let sideConf = {
				needCheckinRecords: confObj.needCheckinRecords, //今日签到记录（最多10人）
				needPointsRankByMonth: confObj.needPointsRankByMonth, //本月入场签到排名
				needPointsRankOfAll: confObj.needPointsRankOfAll, //会员积分排名
				needPLessonStatByMonth: confObj.needPLessonStatByMonth, //当月私教上课榜单
				needGLessonStatByMonth: confObj.needGLessonStatByMonth, //当月团课上课榜单
				needMemberHeartRateRankOfAll: confObj.needMemberHeartRateRankOfAll, //心率榜单
				needMachRunRankOfAll: confObj.needMachRunRankOfAll
			};
			let sideArr = Object.keys(sideConf).map(item => {
				let obj = {};
				obj.key = item;
				obj.value = confObj[item];
				return obj;
			});
			this.watchSideChecked = sideArr.filter(v => v.value === true);
			let sideSelectedLength = this.watchSideChecked.length;
			if (sideSelectedLength < 2) {
				this.sideTip = "最少选择2项";
			} else if (sideSelectedLength > 4) {
				this.sideTip = "最多选择4项";
			} else {
				this.sideTip = "";
			}
		},

		getDate() {
			var myDate = new Date();
			let year = myDate.getFullYear();
			let mon = Number(myDate.getMonth()) + Number(1);
			let month = mon < 10 ? "0" + mon : mon;
			let day = myDate.getDate() < 10 ? "0" + myDate.getDate() : myDate.getDate();
			this.week = "日一二三四五六".charAt(myDate.getDay());
			let hour = myDate.getHours() < 10 ? "0" + myDate.getHours() : myDate.getHours();
			let min = myDate.getMinutes() < 10 ? "0" + myDate.getMinutes() : myDate.getMinutes();
			let sec = myDate.getSeconds() < 10 ? "0" + myDate.getSeconds() : myDate.getSeconds();
			let mytime = hour + ":" + min + ":" + sec;
			this.timeArr = mytime.split("");
			this.date = year + "-" + month + "-" + day;
		},

		getTime() {
			setInterval(() => {
				//定时器每秒调用一次getDate()，实现实时更新时间
				this.getDate();
			}, 1000);
		},

		getShopImg() {
			if ($.data.shop.logoPathname) {
				return $.Util.getImgUrl($.data.shop.logoPathname, 500, 500, "25282C");
			} else {
				return $.Conf.IMG_LIB_URL + "/default-shop-logo.jpg";
			}
		},

		setEntryCheckinBgImg() {
			let args = { typeId: 2002 };
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, (ret, systime) => {
				this.nowTime = Date.new(systime).getTime();
				this.setQrCode();
			});
		},

		setQrCode() {
			this.qrcodeImgUrl = this.getQrCodeUrl();
			setInterval(() => {
				this.qrcodeImgUrl = this.getQrCodeUrl();
			}, this.QRCODE_EXPR_TIME);
		},

		getQrCodeUrl() {
			let url = "{0}#/member-entry-checkin?t={1}&encSid={2}&time={3}".format($.Conf.MOBILE_CLIENT_URL, $.data.tenant.encTid, $.data.shop.encSid, this.nowTime);
			this.nowTime += this.QRCODE_EXPR_TIME;
			return $.Conf.QR_CODE_URL + encodeURIComponent(url);
		},

		createSocket() {
			// 初始化io对象
			let socket = io($.Conf.CHECKIN_SOCKET_ADDR);
			let uid = $.Util.md5($.data.shop.encSid);
			// 当socket连接后发送登录请求
			socket.on("connect", function () {
				socket.emit("login", uid);
			});
			// 当服务端推送来消息时触发，这里简单的aler出来，用户可做成自己的展示效果
			socket.on("new_msg", msg => {
				this.handleCheckinMsg(msg);
			});
		},

		handleCheckinMsg(msg) {
			let arr = msg.split(',');
			if (!arr || arr.length != 2) {
				alert('Invalid socket msg');
				return;
			}

			let memberId = parseInt(arr[0]),
			    mcId = parseInt(arr[1]);
			this.playCheckinVoice(memberId, () => {
				this.queryEntryCheckinMsg(memberId, mcId);
			});
		},

		queryEntryCheckinMsg(memberId = null, mcId = null) {
			if (this.conf.needMemberCheckinInfo) {
				if (memberId) this.checkinMsgDlg = true;
			} else {
				memberId = null;
			}
			let extra = {
				memberId: memberId,
				mcId: mcId,
				ignoreInvalidMember: this.conf.ignoreInvalidMember, // 是否有效会员
				needMemberCheckinInfo: this.conf.needMemberCheckinInfo //签到成功提示
			};
			let args = Object.assign(this.conf, extra);
			$.Req.service($.SvName.ENTRY_CHECKIN_MSG_QUERY, args, ret => {
				this.dealScreenData(ret);
				if (memberId) {
					setTimeout(() => {
						this.checkinMsgDlg = false;
					}, 3000);
				}
			});
		},

		productMiddleInfo(key) {
			let obj = {};
			let data = this.screenData;
			switch (key) {
				case "needCheckinCount":
					//今日签到人数
					obj.name = "今日签到人数";
					obj.count = data.todayCheckins;
					break;
				case "needUncheckoutCount":
					//当前在场人数
					obj.name = "当前在场人数";
					obj.count = data.todayUncheckoutCount;
					break;
				case "needMemberPLessonCount":
					//当日私教课上课人数
					obj.name = "私教课上课人数";
					obj.count = data.todayMemberPLessonCount;
					break;
				case "needMemberGLessonCount":
					//当日团课上课人数
					obj.name = "团课上课人数";
					obj.count = data.todayMemberGLessonCount;
					break;
			}
			return obj;
		},

		productSideInfo(key) {
			let obj = {};
			let data = this.screenData;
			switch (key) {
				case "needCheckinRecords":
					//今日签到记录（最多10人）
					obj.name = "今日最新入场记录";
					if (data.mecList.length > 0) {
						data.mecList.forEach(ele => ele.display = ele.createTime.substr(ele.createTime.length - 8));
					}
					obj.list = data.mecList;
					break;
				case "needPointsRankByMonth":
					//本月入场签到排名
					obj.name = "本月签到榜单";
					if (data.entryCheckinRankList.length > 0) {
						data.entryCheckinRankList.forEach(ele => ele.display = ele.entryCheckins + "次");
					}
					obj.list = data.entryCheckinRankList;
					break;
				case "needPointsRankOfAll":
					//会员积分排名
					obj.name = "总积分榜单";
					if (data.pointsRankList.length > 0) {
						data.pointsRankList.forEach(ele => ele.display = ele.points);
					}
					obj.list = data.pointsRankList;
					break;
				case "needPLessonStatByMonth":
					//当月私教上课榜单
					obj.name = "当月私教上课榜单";
					obj.tag = true;
					if (data.memberPLessonList.length > 0) {
						data.memberPLessonList.forEach(ele => ele.display = ele.lessonTimes + "次");
					}
					obj.list = data.memberPLessonList;
					break;
				case "needGLessonStatByMonth":
					//当月团课上课榜单
					obj.name = "当月团课上课榜单";
					obj.tag = true;
					if (data.memberGLessonList.length > 0) {
						data.memberGLessonList.forEach(ele => ele.display = ele.lessonTimes + "次");
					}
					obj.list = data.memberGLessonList;
					break;
				case "needMemberHeartRateRankOfAll":
					//心率榜单
					obj.name = "心率榜单";
					if (data.memberHeartRateList.length > 0) {
						data.memberHeartRateList.forEach(ele => {
							ele.display = ele.cal + " 千卡";
							ele.avatarPathname = ele.memberAvatarPathname;
						});
					}
					obj.list = data.memberHeartRateList;
					break;
				case "needMachRunRankOfAll":
					//跑步榜单
					obj.name = "跑步榜单";
					let rank = data.machRunLogList;
					if (rank.length > 0) {
						//排序
						rank.sort(this.compare("distance"));
						rank.forEach(ele => ele.display = ele.distance + " KM");
					}
					obj.list = rank;
					break;
			}
			return obj;
		},

		compare(p) {
			return function (m, n) {
				var a = m[p];
				var b = n[p];
				return b - a;
			};
		},

		dealScreenData(res) {
			this.screenData = res;
			this.middleChecked = this.watchMiddleChecked.map(m => {
				let r = this.productMiddleInfo(m.key);
				m = Object.assign(m, r);
				return m;
			});
			this.sideChecked = this.watchSideChecked.map(m => {
				let r = this.productSideInfo(m.key);
				m = Object.assign(m, r);
				return m;
			});
		},

		playCheckinVoice(memberId, callback) {
			if (this.conf.playVoice) {
				// 播放签到成功声音
				$.Req.service($.SvName.CHECKIN_SUCCESS_VOICE_FILE_GET, { memberId: memberId }, r => {
					if (r.voiceUrl) {
						let audio = new Audio(r.voiceUrl);
						audio.play();
						callback();
					}
				}, true, err => {});
			} else {
				callback();
			}
		},

		openPageConfDlg() {
			this.pageConfDlg = true;
		},

		submitConf() {
			if (this.middleTip || this.sideTip) {
				return;
			}
			let val = JSON.stringify(this.conf);
			$.Util.cookie.set($.Conf.CookieKeys.CHECKIN_SCREEN_CONF, val, 365);
			this.pageConfDlg = false;
			$.Msg.success($.Lang.OPT_SUCCESS);
			this.queryEntryCheckinMsg();
		},

		setPageVersion() {
			$.Util.cookie.set($.Conf.CookieKeys.CHECKIN_SCREEN_VERSION, 'old', 365);
			location.href = '#/entry-checkin-screen-old';
		},

		formatName(name) {
			if (this.conf.isShowFullName) return name;else return name.substr(0, 1) + '**';
		}
	}
});

/***/ }),

/***/ 1444:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue__ = __webpack_require__(404);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_help_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { Help: __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default.a },
	data() {
		return {
			g: $,
			editable: $.Util.hasRoleFunc($.Dict.RoleFunc.IC_MACH_CONF.value),
			enableMachAuth: null,
			icMachNoList: [],
			icMachList: [],
			icMachDlg: false,
			icMach: {
				machNo: null,
				machType: 1,
				machClass: 2,
				allowMoreEntry: 0
			},
			requiredFields: ['machClass', 'machName', 'machType', 'machNo'],
			icMachRule: {},
			icMachCardDlg: false,
			icMachCard: {},
			cardList: [],
			icMachCardList: [],
			selectMachId: null,
			icMachUserDlg: false,
			icMachUserList: null,
			icMachUser: {
				machId: null,
				userNo: null,
				uid: null,
				memberId: null,
				phoneNo: null,
				userName: null
			},
			queryUserPhone: null,
			icMachUserEditPanel: false,
			icMachUserCount: null,
			syncMachIdList: []
		};
	},

	created() {
		if (this.requiredFields) {
			$.Util.addRequiredFieldsRules(this.icMachRule, this.requiredFields);
		}
		this.queryIcMachList();
		this.queryShopArgs();
		this.queryCardList();
	},

	methods: {
		queryIcMachList() {
			$.Req.service($.SvName.IC_MACH_QUERY, {}, ret => {
				this.icMachList = ret.icMachList;
			}, true);
		},

		queryShopArgs() {
			let args = { typeIdList: [$.Dict.ShopArg.IC_MACH_NO, 2086] };
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
				for (let t of ret.argList) {
					if (t.typeId == $.Dict.ShopArg.IC_MACH_NO) {
						//t.typeValue
						if (t.typeValue) {
							let items = t.typeValue.split(',');
							for (let i = 0, len = items.length; i < len; i++) {
								this.icMachNoList.push(items[i]);
							}
						} else {
							this.icMachNoList = [];
						}
					} else if (t.typeId === 2086) {
						this.enableMachAuth = t.typeValue === 'true';
					}
				}
			});
		},

		queryIcMachNoList() {
			$.Req.service($.SvName.SHOP_ARG_QUERY, { typeId: $.Dict.ShopArg.IC_MACH_NO }, ret => {
				if (ret.value) {
					let items = ret.value.split(',');
					for (let i = 0, len = items.length; i < len; i++) {
						this.icMachNoList.push(items[i]);
					}
				} else {
					this.icMachNoList = [];
				}
			});
		},

		openNewIcMach() {
			this.icMach = {
				machNo: null, machName: null, allowMoreEntry: 0, machClass: 2
			};
			this.icMachCardList = [];
			this.icMachDlg = true;
		},

		editIcMach(idx) {
			this.icMach = { machType: 1, machClass: 0 };
			$.Util.copyAttributes(this.icMachList[idx], this.icMach);
			if ($.Util.isEmpty(this.icMach.allowMoreEntry)) this.icMach.allowMoreEntry = 0;else if (this.icMach.allowMoreEntry) this.icMach.allowMoreEntry = 1;else this.icMach.allowMoreEntry = 0;

			this.queryIcMachCardList(this.icMachList[idx].machId);
			this.icMachDlg = true;
		},

		delIcMach(idx) {
			let msg = '删除消费机配置后会影响会员签到签出，您确定删除吗？';
			$.Dlg.confirm(msg, yes => {
				let args = { actionType: 'D', deleteId: this.icMachList[idx].machId };
				$.Req.service($.SvName.IC_MACH_SAVE, args, ret => {
					$.Msg.success($.Lang.SAVE_SUCCESS);
					this.queryIcMachList();
				});
			});
		},

		openNewIcMachCard() {
			this.icMachCard = {
				cardId: null,
				paymentType: null
			};
			this.icMachCardDlg = true;
		},

		queryCardList() {
			$.Req.service($.SvName.CARD_QUERY, { status: 0 }, ret => {
				this.cardList = ret.cardList;
			});
		},

		changeCard(cardId) {
			if (!cardId) return;

			for (let c of this.cardList) {
				if (parseInt(c.cardId) === parseInt(cardId)) {
					this.icMachCard.cardName = c.cardName;
					this.icMachCard.cardType = c.cardType;
					break;
				}
			}
		},

		submitIcMachCard() {
			// check
			if (!this.icMachCard.cardId) {
				$.Msg.error('请选择会员卡');
				return;
			}
			if (this.icMachCard.cardType !== 1) {
				if (!this.icMachCard.paymentType) {
					$.Msg.error('请选择计费方式');
					return;
				}
				if (!this.icMachCard.payment) {
					$.Msg.error('请选择计费额');
					return;
				}
			}
			if (!this.icMachCard.orderNo && this.icMachCard.orderNo !== 0) {
				$.Msg.error('请输入排序号');
				return;
			}

			if (this.icMach.machId) {
				this.icMachCard.machId = this.icMach.machId;
				let args = {
					icMachCard: this.icMachCard,
					actionType: this.icMachCard.imcId ? 'U' : 'I'
				};
				$.Req.service($.SvName.IC_MACH_CARD_SAVE, args, ret => {
					$.Msg.success($.Lang.SAVE_SUCCESS);
					this.queryIcMachCardList(this.icMach.machId);
					this.icMachCardDlg = false;
				});
			} else {
				this.icMachCardDlg = false;
				let obj = {};
				$.Util.copyAttributes(this.icMachCard, obj);
				this.icMachCardList.push(obj);
			}
		},

		submitIcMach() {
			this.$refs.icMach.validate(valid => {
				if (!valid) return false;
				if (this.icMach.machType < 4) {
					if (!this.icMachCardList || !this.icMachCardList.length) {
						$.Msg.error('请设置会员卡计费');
						return;
					}
				}

				let actionType = this.icMach.machId ? 'U' : 'I';
				if (actionType === 'I') {
					if (!confirm('您确定要创建一个消费机吗？')) {
						return;
					}
				} else {
					if (!confirm('修改消费机配置，可能会影响到会员入场签到签出，您确定提交吗？')) {
						return;
					}
				}

				let args = {
					actionType: actionType,
					icMach: this.icMach,
					icMachCardList: this.icMachCardList
				};
				$.Req.service($.SvName.IC_MACH_SAVE, args, ret => {
					$.Msg.success($.Lang.SAVE_SUCCESS);
					this.queryIcMachList();
					this.icMachDlg = false;
				});
			});
		},

		queryIcMachCardList(machId) {
			$.Req.service($.SvName.IC_MACH_CARD_QUERY, { machId: machId }, ret => {
				this.icMachCardList = ret.icMachCardList;
			}, true);
		},

		editIcMachCard(idx) {
			$.Util.copyAttributes(this.icMachCardList[idx], this.icMachCard);
			this.icMachCardDlg = true;
		},

		delIcMachCard(idx) {
			let msg = '删除消费机会员卡配置后可能会影响会员签到签出，您确定删除吗？';
			$.Dlg.confirm(msg, yes => {
				let args = { actionType: 'D', deleteId: this.icMachCardList[idx].imcId };
				$.Req.service($.SvName.IC_MACH_CARD_SAVE, args, ret => {
					$.Msg.success($.Lang.SAVE_SUCCESS);
					this.queryIcMachCardList(this.icMachCardList[idx].machId);
				});
			});
		},

		queryIcMachUser(page = null) {
			if (!page) {
				this.icMachUserCount = null;
			}
			if (this.queryUserPhone && !$.Util.validatePhoneNo(this.queryUserPhone)) {
				$.Msg.error('手机号格式错误');
				return;
			}
			let args = {
				machId: this.selectMachId,
				phoneNo: this.queryUserPhone,
				page: page
			};
			if (this.queryUserPhone) args.page = 1;
			$.Req.service($.SvName.IC_MACH_USER_QUERY, args, ret => {
				this.icMachUserList = ret.icMachUserList;
				if (!page) {
					this.icMachUserCount = ret.count;
				}
			}, true);
		},

		viewIcMachUser(machId) {
			this.selectMachId = machId;
			this.icMachUserEditPanel = false;
			this.queryUserPhone = null;
			this.queryIcMachUser();
			this.icMachUserDlg = true;
		},

		openIcMachUserDlg() {
			this.icMachUser.userNo = null;
			this.icMachUser.phoneNo = null;
			this.icMachUserEditPanel = true;
		},

		queryMemberBaseQuery() {
			this.icMachUser.userName = null;
			if (!this.icMachUser.phoneNo) {
				return;
			}
			if (!$.Util.validatePhoneNo(this.icMachUser.phoneNo)) {
				$.Msg.error('手机号格式错误');
				return;
			}

			let args = { phoneNo: this.icMachUser.phoneNo };
			$.Req.service($.SvName.MEMBER_BASE_QUERY, args, ret => {
				if (ret.member && ret.member.memberId) {
					this.icMachUser.uid = ret.member.uid;
					this.icMachUser.memberId = ret.member.memberId;
					this.icMachUser.userName = ret.member.name;
				} else {
					$.Msg.error('无此用户');
					this.icMachUser.uid = null;
					this.icMachUser.memberId = null;
				}
			});
		},

		createIcMachUser() {
			if (!this.icMachUser.userNo) {
				$.Msg.error('请输入用户编号');
				return;
			}

			if (!this.icMachUser.userName) {
				$.Msg.error('请输入有效的用户手机号');
				return;
			}

			let args = {
				icMachUser: {
					machId: this.selectMachId,
					userNo: this.icMachUser.userNo,
					uid: this.icMachUser.uid,
					memberId: this.icMachUser.memberId
				},
				syncMachIdList: this.syncMachIdList
			};
			$.Req.service($.SvName.IC_MACH_USER_CREATE, args, ret => {
				this.icMachUser.uid = null;
				this.icMachUser.memberId = null;
				this.icMachUser.userName = null;
				this.icMachUser.phoneNo = null;
				this.icMachUser.userNo = null;
				$.Msg.success($.Lang.SAVE_SUCCESS);
				this.queryIcMachUser();
			});
		},

		deleteIcMachUser(imuId, userName) {
			if (!confirm('您确定要删除【{0}】吗？'.format(userName))) {
				return;
			}

			$.Req.service($.SvName.IC_MACH_USER_DELETE, { imuId: imuId }, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.queryIcMachUser();
			});
		}
	}
});

/***/ }),

/***/ 1445:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_help__ = __webpack_require__(404);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_help___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_help__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mobile_more_menu_set_vue__ = __webpack_require__(2228);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mobile_more_menu_set_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__mobile_more_menu_set_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { ImgUpload: __WEBPACK_IMPORTED_MODULE_0__components_sys_img_upload_vue___default.a, Help: __WEBPACK_IMPORTED_MODULE_1__components_help___default.a, MobileMoreMenuSet: __WEBPACK_IMPORTED_MODULE_2__mobile_more_menu_set_vue___default.a },
	data() {
		return {
			g: $,
			encTid: $.data.tenant.encTid,
			qrcodeImgUrl: null,
			defaultSkin: "",
			mBaseUrl: "https://app.jzongguan.com",
			urlParam: null,
			mcImgUpload: {
				action: $.Conf.IMG_UPLOAD_URL,
				imgMaxWidth: 1024,
				defaultList: []
			},
			imgFileList: [],
			hideCardPaymentInMcp: false,
			hideCardUsableAmountInMcp: false,
			allowMemberUploadPhoto: false,
			allowMemberUploadPhotoLimitHours: null,
			hidePlEndDate: null,
			mobileClientMenuConf: [{ id: 1, name: "约团课" }, { id: 2, name: "约私教" }, { id: 3, name: "微商城" }, { id: 4, name: "我的会员卡" }, { id: 5, name: "私教课记录" }, { id: 6, name: "团课记录" }, { id: 7, name: "入场记录" }, { id: 8, name: "场地预约" }, { id: 9, name: "会员相册" }, { id: 10, name: "测试记录" }, { id: 11, name: "心率数据" }, { id: 12, name: "积分排名" }, { id: 13, name: "心率排名" }, { id: 15, name: "上课记录" }, { id: 16, name: "阶段付商品" }, { id: 17, name: "门店会员卡" }],
			mobileClientMenus: [{ id: 0, name: "首页" }, { id: 1, name: "约团课" }, { id: 2, name: "约私教" }, { id: 3, name: "微商城" }, { id: 99, name: "更多" }],
			qrCodeDlg: null,
			qrcodeUrl: null,
			qrcodeDlgTitle: "",
			enableQrcodeMach: null,
			memberCheckoutConfs: [null, null],
			forbiddenMemberViewInvalidCard: null,
			memberPointsRankCount: null,
			sysUrlType: 0, // 0-按商户，1-按门店

			homeContentMap: {
				// type 1 可设置轮播；2 不可设置轮播
				"annual-report": { id: 1, title: "年度健身报告", type: 1 },
				"points-rank": { id: 2, title: "积分排行榜", type: 1 },
				"heart-rate-rank": { id: 3, title: "心率排行榜", type: 1 },
				"entry-rank": { id: 4, title: "入场签到排行榜", type: 1 },
				"pl-rank": { id: 5, title: "私教课排行榜", type: 1 },
				"gl-rank": { id: 6, title: "团课排行榜", type: 1 },
				share: { id: 7, title: "会员分销", type: 1 },
				"today-venue": { id: 8, title: "今日场馆", type: 2 },
				exercise: { id: 9, title: "我的锻炼", type: 2 },
				"check-in": { id: 10, title: "入场签到", type: 2 },
				"check-in-log": { id: 11, title: "入场签到记录", type: 2 },
				"points-label": { id: 12, title: "我的积分头衔", type: 2 },
				"today-pl": { id: 13, title: "今日私教课", type: 2 },
				"today-gl": { id: 14, title: "今日团课", type: 2 },
				card: { id: 15, title: "我的会员卡", type: 2 },
				"instalment-banner": { id: 16, title: "阶段付公告", type: 2 },
				notice: { id: 17, title: "门店公告", type: 2 },
				contract: { id: 18, title: "我的会员卡合同", type: 2 }
			},
			defaultTankLabel: ["月度", "季度", "年度", "倒排"],
			rankLabelMap: {
				gl: {
					title: "团课排行榜",
					value: [null, null, null, null]
				},
				pl: {
					title: "私教课排行榜",
					value: [null, null, null, null]
				},
				entry: {
					title: "入场签到排行榜",
					value: [null, null, null, null]
				}
				// points: {
				//   title: "积分排行榜",
				//   value: [null, null, null, null],
				// },
			},
			homeContentSetList: [{ val: "", children: [] }],
			selectSet: new Set(),
			oldContentNum: null,
			draggingIndex: null,
			draggingChildrenIndex: null,
			draggingActive: null,
			draggingActiveType: 1 // 1 父元素；2 子元素
		};
	},
	watch: {
		homeContentSetList: {
			handler(newVal) {
				this.selectSet = new Set();
				newVal.forEach((item, idx) => {
					if (item.val !== -1) {
						if (item.val) {
							this.selectSet.add(item.val);
						}
					}
					item.children.forEach(cItem => {
						this.selectSet.add(cItem.val);
					});
				});
			},
			deep: true
		}
	},
	created() {
		this.urlParam = "?t=" + encodeURIComponent(this.encTid);
		let webUrl = "http://app.jzongguan.com";
		this.qrcodeImgUrl = $.Conf.QR_CODE_URL + encodeURIComponent(webUrl + "/#/?t=" + $.data.tenant.encTid);

		this.queryMemberClientBgImg();
		this.queryShopArgs();
	},

	methods: {
		dragstart(idx, cIdx) {
			this.draggingIndex = idx;
			this.draggingChildrenIndex = cIdx;
		},

		dragover(type, idx, cIdx) {
			if (type == 2) {
				if (this.draggingIndex === idx && this.draggingChildrenIndex !== cIdx) {
					this.draggingActive = `${idx}-${cIdx}`;
				} else {
					this.draggingActive = null;
				}
			} else {
				if (this.draggingIndex !== idx) {
					this.draggingActive = idx;
				} else {
					this.draggingActive = null;
				}
			}
		},

		drop(type, idx, cIdx) {
			if (type == 1) {
				if (this.draggingIndex !== idx) {
					const draggedItem = this.homeContentSetList[this.draggingIndex];
					this.homeContentSetList.splice(this.draggingIndex, 1);
					this.homeContentSetList.splice(idx, 0, draggedItem);
					this.draggingIndex = null;
				}
			} else {
				if (this.draggingIndex == idx && this.draggingChildrenIndex !== cIdx) {
					const draggedItem = this.homeContentSetList[idx].children[this.draggingChildrenIndex];
					this.homeContentSetList[idx].children.splice(this.draggingChildrenIndex, 1);
					this.homeContentSetList[idx].children.splice(cIdx, 0, draggedItem);
					this.draggingChildrenIndex = null;
				}
			}
			this.draggingActive = null;
		},

		saveRankLabel() {
			// typeId: 2223 学员排行榜标签设置
			let args = {
				typeId: 2223,
				typeValue: JSON.stringify(this.rankLabelMap)
			};
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
		},

		addHomeContentSet() {
			const obj = { val: "", children: [] };
			this.homeContentSetList.push(obj);
		},

		deleteHomeContentSet(idx) {
			this.homeContentSetList.splice(idx, 1);
			if (!this.homeContentSetList.length) {
				this.addHomeContentSet();
			}
		},

		addHomeContentChildrenSet(idx) {
			const obj = { val: "", name: "" };
			this.homeContentSetList[idx].children.push(obj);
		},
		deleteHomeContentChildrenSet(idx, cIdx) {
			this.homeContentSetList[idx].children.splice(cIdx, 1);
		},

		inputSelectFun(e, idx) {
			if (e == -1) {
				this.homeContentSetList[idx].children = [{ val: "", name: "" }, { val: "", name: "" }];
			} else {
				this.homeContentSetList[idx].children = [];
			}
		},

		saveHomeContentSet() {
			let isEmpty = false;
			for (let i = 0; i < this.homeContentSetList.length; i++) {
				const item = this.homeContentSetList[i];
				if ($.Util.isNotEmpty(item.val) && item.val !== "") {
					if (item.val == -1) {
						item.type = 1;
						for (let j = 0; j < item.children.length; j++) {
							const cItem = item.children[j];
							if (!cItem.val) {
								$.Dlg.error(`第${i + 1}组第${j + 2}行，未选择展示内容！`);
								return;
							}
						}
					}
				} else {
					if (i == 0) {
						isEmpty = true;
					} else {
						return $.Dlg.error(`第${i + 1}组，未选择展示内容！`);
					}
				}
			}
			// typeId: 2222 学员首页展示内容设置
			let args = {
				typeId: 2222,
				typeValue: JSON.stringify(this.homeContentSetList)
			};
			if (isEmpty) args.typeValue = null;
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
		},

		queryMemberClientBgImg() {
			let args = { typeId: $.Dict.ShopArg.MEMBER_CLIENT_BG };
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
				let imgs = ret.value;
				if (imgs) {
					for (let p of imgs.split(",")) {
						this.mcImgUpload.defaultList.push({
							name: p,
							url: $.Util.getImgUrl(p, 200, 200, "EEEEEE")
						});
					}
				} else if ($.data.shop.logoPathname) {
					this.mcImgUpload.defaultList.push({
						name: $.data.shop.logoPathname,
						url: $.Util.getImgUrl($.data.shop.logoPathname, 200, 200, "EEEEEE")
					});
				}
				this.imgFileList = this.mcImgUpload.defaultList;
			});
		},

		handleImgUploadSuccess(res, file) {
			file.url = res.data.url;
			file.name = res.data.name;
			this.imgFileList.push(file);
		},

		handleImgRemove(file, fileList) {
			this.imgFileList.splice(this.imgFileList.indexOf(file), 1);
		},

		saveMemberClientBgImg() {
			let bgImgs = null;
			if (this.imgFileList && this.imgFileList.length > 0) {
				let imgNames = [];
				for (let i = 0; i < this.imgFileList.length; i++) {
					imgNames.push(this.imgFileList[i].name);
				}
				bgImgs = imgNames.join(",");
			} else {
				bgImgs = null;
			}
			let args = { imgs: bgImgs };
			$.Req.service($.SvName.MEMBER_CLIENT_BG_IMG_UPDATE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
		},

		queryShopArgs() {
			let args = {
				typeIdList: [2021, 2023, 2045, 2046, 2051, 2077, 2095, 2096, 2098, 2210, 2222, 2223]
			};
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
				for (let t of ret.argList) {
					if (t.typeId === 2021) {
						this.hideCardPaymentInMcp = t.typeValue === "true";
					} else if (t.typeId === 2023) {
						if (!$.Util.isEmptyStr(t.typeValue)) {
							this.allowMemberUploadPhoto = true;
							this.allowMemberUploadPhotoLimitHours = parseInt(t.typeValue);
						}
					} else if (t.typeId === 2045) {
						this.hideCardUsableAmountInMcp = t.typeValue === "true";
					} else if (t.typeId === 2046) {
						this.hidePlEndDate = t.typeValue === "true";
					} else if (t.typeId === 2051) {
						if (t.typeValue) {
							let i = 0;
							for (let conf of t.typeValue.split(",")) {
								if (conf) {
									let items = conf.split(":");
									this.$set(this.mobileClientMenus, i, {
										id: parseInt(items[0]),
										name: items[1]
									});
								} else {
									this.$set(this.mobileClientMenus, i, {
										id: null,
										name: null
									});
								}
								i++;
							}
						}
					} else if (t.typeId === 2077) {
						this.enableQrcodeMach = t.typeValue === "true";
					} else if (t.typeId === 2095) {
						if (t.typeValue) {
							let vals = t.typeValue.split(",");
							this.memberCheckoutConfs[0] = vals[0] === "true" ? true : false;
							this.memberCheckoutConfs[1] = vals[1] ? parseInt(vals[1]) : null;
						}
					} else if (t.typeId === 2096) {
						this.forbiddenMemberViewInvalidCard = t.typeValue === "true";
					} else if (t.typeId === 2098) {
						this.memberPointsRankCount = t.typeValue ? parseInt(t.typeValue) : null;
					} else if (t.typeId === 2210) {
						this.defaultSkin = t.typeValue;
					} else if (t.typeId === 2222 && t.typeValue) {
						this.homeContentSetList = JSON.parse(t.typeValue);
					} else if (t.typeId === 2223 && t.typeValue) {
						let obj = JSON.parse(t.typeValue);
						for (let key in obj) {
							this.rankLabelMap[key].value = obj[key].value;
						}
					}
				}
			});
		},

		updateShopArg(typeId, typeValue, showTips = true) {
			let args = { typeId: typeId, typeValue: "" + typeValue };
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				if (showTips) $.Msg.success($.Lang.SAVE_SUCCESS);
			});
		},

		updateMemberUploadPhotoArg() {
			if (this.allowMemberUploadPhoto) {
				if (this.allowMemberUploadPhotoLimitHours <= 0) {
					$.Msg.error("请填写大于0的小时数");
					return;
				}
			} else {
				this.allowMemberUploadPhotoLimitHours = "";
			}

			this.updateShopArg(2023, this.allowMemberUploadPhotoLimitHours);
		},

		onBlurMemberUploadPhotoLimitHours() {
			if (this.allowMemberUploadPhoto) {
				if (this.allowMemberUploadPhotoLimitHours <= 0) {
					$.Msg.error("请填写大于0的小时数");
					return;
				}
				this.updateShopArg(2023, this.allowMemberUploadPhotoLimitHours);
			}
		},

		saveMobileClientMenusConf() {
			// check
			let i = 0,
			    idMap = [];
			for (let c of this.mobileClientMenus) {
				i++;
				if (!c.id) continue;

				if (!c.name) {
					$.Dlg.error("请设置菜单{0}的名称".format(i));
					return;
				}
				if (c.name.indexOf(",") >= 0 || c.name.indexOf(":") >= 0) {
					$.Msg.error("菜单名称不能包含特殊符号");
				}
				if (idMap.contains(c.id)) {
					$.Dlg.error("菜单设置不能重复");
					return;
				}
				idMap.push(c.id);
			}

			let confArr = [];
			for (let c of this.mobileClientMenus) {
				if (!$.Util.isEmpty(c.id)) confArr.push("{0}:{1}".format(c.id, c.name));else confArr.push("");
			}

			let val = confArr.join(",");
			let args = { typeId: 2051, typeValue: val };
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				$.Msg.success($.Lang.SAVE_SUCCESS);
			});
		},

		openQrCodeDlgForHome() {
			this.qrcodeDlgTitle = "系统首页二维码（固定不变，可打印）";
			this.qrcodeUrl = "https://app.jzongguan.com/#/" + this.urlParam;
			this.qrCodeDlg = true;
		},

		openQrCodeDlgForPlCheckin() {
			this.qrcodeDlgTitle = "私教课当日签到二维码（固定不变，可打印）";
			this.qrcodeUrl = "https://app.jzongguan.com/run.html#/member-pl-checkin-list-today" + this.urlParam;
			this.qrCodeDlg = true;
		},

		openQrCodeDlgForMemberEntryCheckin() {
			this.qrcodeDlgTitle = "入场签到二维码（固定不变，可打印）";
			this.qrcodeUrl = "https://app.jzongguan.com/run.html#/member-entry-checkin" + this.urlParam;
			this.qrCodeDlg = true;
		},

		openQrCodeDlgForGlBooking() {
			this.qrcodeDlgTitle = "团课预约二维码（固定不变，可打印）";
			this.qrcodeUrl = "https://app.jzongguan.com/run.html#/group-lesson-list" + this.urlParam;
			this.qrCodeDlg = true;
		},

		saveMemberCheckoutConf() {
			if (this.memberCheckoutConfs[0] && !this.memberCheckoutConfs[1]) {
				$.Dlg.error("请设置入场签到多少分钟后才能签出");
				return;
			}
			let value = (this.memberCheckoutConfs[0] ? "true" : "false") + "," + (this.memberCheckoutConfs[1] ? this.memberCheckoutConfs[1] : "");
			$.Req.updateShopArg(2095, value);
		},

		changeUrlType(val) {
			this.urlParam = "?t=" + encodeURIComponent(this.encTid);
			if (val === 1) this.urlParam += "&encSid=" + encodeURIComponent($.data.shop.encSid);
		},

		changeSkin(skin) {
			this.defaultSkin = skin;
			$.Req.updateShopArg(2210, skin, true);
		}
	}
});

/***/ }),

/***/ 1446:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
  components: {},
  data() {
    return {
      g: window.$,
      pointEditable: $.Util.hasRoleFunc($.Dict.RoleFunc.POINT_EDIT.value),
      points: [],
      pointsBaseList: [],
      pointsRuleList: [],
      pointsRule: {},
      selectRuleIdx: -1,
      pointsRuleDlgView: false,
      requiredFields: ["ruleType"],
      formRule: {},
      rulePoints: [],
      ruleWeeks: [],
      pointsTitleNum: 10,
      pointsTitles: [],
      viewBgcolorDlg: false,
      defaultColor: "DAA520",
      colorList: ["DAA520", "80848F", "2D8CF0", "82BFDF", "5CADFF", "3986DB", "FF9900", "F29003", "E3886D", "00CED8", "FC5FCB", "D63693", "93BC83", "6476CB", "B26464", "72C496", "EAC448", "5989A7", "ED8124", "ED6E6B", "80D640", "31A75D", "CB7139", "CC3CF7", "5A5A52", "3B3B2E", "31342C", "222222", "262773", "D32134", "C91527", "B90F21", "AD0D1C", "52EB10", "4DDB0F", "46C90A"],
      selectPointsIdx: null,
      selectPointsColorIdx: null,
      cardPointsList: [],
      cardPointsDlg: false,
      enableEmptyPoints: false,
      cardPointsDlgTitle: null,
      cardPointsArgType: null,
      pointsClearMonth: null,
      pointsClearDay: null,
      pointsAmountConfDlg: null,
      pointAmountUnit: 1,
      cardList: null,
      cardIdListForMecLimit: [],
      enableMecPointsLimit: null
    };
  },

  created() {
    this.queryPointConf();
    $.Util.addRequiredFieldsRules(this.formRule, this.requiredFields);
    this.queryPointsTitles();
    this.queryShopArgs();
    this.queryCardList();
  },

  methods: {
    queryPointConf() {
      let args = {
        isQueryPointsBase: true,
        isQueryPointsRule: true
      };
      $.Req.service($.SvName.POINT_CONF_QUERY, args, ret => {
        this.setPointsBaseList(ret.pointsBaseList);
        this.setPointsRuleList(ret.pointsRuleList);
      });
    },

    setPointsBaseList(pointsBaseList) {
      this.pointsBaseList = pointsBaseList;
      for (let i = 0; i < this.pointsBaseList.length; i++) {
        this.points[i] = this.pointsBaseList[i].points;
      }
    },

    setPointsRuleList(pointsRuleList) {
      for (let rule of pointsRuleList) {
        if (rule.ruleType === 4) {
          rule.beginTime = $.Util.formatDateTime(rule.beginTime).split(" ")[1];
          rule.endTime = $.Util.formatDateTime(rule.endTime).split(" ")[1];
        }
      }
      this.pointsRuleList = pointsRuleList;
    },

    queryPointsBase() {
      let args = {
        isQueryPointsBase: true
      };
      $.Req.service($.SvName.POINT_CONF_QUERY, args, ret => {
        this.setPointsBaseList(ret.pointsBaseList);
      });
    },

    queryPointsRules() {
      let args = {
        isQueryPointsRule: true
      };
      $.Req.service($.SvName.POINT_CONF_QUERY, args, ret => {
        this.setPointsRuleList(ret.pointsRuleList);
      });
    },

    savePointsBase() {
      for (let i = 0; i < this.pointsBaseList.length; i++) {
        this.pointsBaseList[i].points = this.points[i];
      }
      let args = {
        pointsBaseList: this.pointsBaseList
      };
      $.Req.service($.SvName.POINT_BASE_SAVE, args, ret => {
        $.Msg.success($.Lang.OPT_SUCCESS);
        this.queryPointsBase();
      });
    },

    openNewPointsRuleDlg() {
      this.pointsRule = { prId: null, ruleType: null };
      this.rulePoints = [];
      this.ruleWeeks = [];
      this.pointsRuleDlgView = true;
    },

    openEditPointsRuleDlg(idx) {
      let rule = {};
      $.Util.copyAttributes(this.pointsRuleList[idx], rule);
      this.pointsRule = rule;
      this.rulePoints = this.getRulePoints(this.pointsRule);
      this.ruleWeeks = rule.weeks ? rule.weeks.split(",") : [];
      this.pointsRuleDlgView = true;
    },

    getRulePoints(pointsRule) {
      let points = new Array(this.pointsBaseList.length);
      let items = pointsRule.pointsListStr.split(",");
      for (let item of items) {
        let [pointsType, pointsVal] = item.split(":");
        points[parseInt(pointsType) - 1] = pointsVal;
      }
      return points;
    },

    savePointsRule() {
      this.$refs.pointsRule.validate(valid => {
        if (!valid) {
          $.Msg.error($.Lang.SUBMIT_ERR);
          return;
        }

        // check
        if (!this.pointsRule.ruleName) {
          alert("请输入规则名称");
          return;
        }
        if (this.pointsRule.ruleType === 1) {
          if (!this.ruleWeeks) {
            alert("请选择【每周生效日】");
            return;
          } else if (this.pointsRule.ruleType === 3) {
            if (!this.pointsRule.beginTime || !this.pointsRule.endTime) {
              alert("请填写完整的【生效日期】");
              return;
            }
          }
        } else if (this.pointsRule.ruleType === 3) {
          if (!this.pointsRule.beginTime || !this.pointsRule.endTime) {
            alert("请填写完整的【有效期】");
            return;
          }
        } else if (this.pointsRule.ruleType === 4) {
          if (!this.pointsRule.beginTime || !this.pointsRule.endTime) {
            alert("请填写完整的【时间范围】");
            return;
          }
        }

        // make pointsListStr
        let ruleConfs = [];
        for (let i = 0; i <= this.rulePoints.length; i++) {
          if (this.rulePoints[i]) {
            ruleConfs.push("{0}:{1}".format(i + 1, this.rulePoints[i]));
          }
        }
        if (ruleConfs.length === 0) {
          alert("请至少填写一项积分设置吧。");
          return;
        }
        this.pointsRule.pointsListStr = ruleConfs.join(",");

        // make weeks
        this.pointsRule.weeks = this.ruleWeeks.sort().join(",");

        if (this.pointsRule.ruleType === 4) {
          this.pointsRule.beginTime = Date.new("2020-01-01 " + this.pointsRule.beginTime);
          this.pointsRule.endTime = Date.new("2020-01-01 " + this.pointsRule.endTime);
        }
        let actionType = this.pointsRule.prId ? "U" : "I";
        let args = { actionType: actionType, pointsRule: this.pointsRule };
        $.Req.service($.SvName.POINT_RULE_SAVE, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.queryPointsRules();
          this.pointsRuleDlgView = false;
        });
      });
    },

    delPointsRule(idx) {
      let rule = this.pointsRuleList[idx];
      $.Dlg.confirm($.Lang.DEL_POINTS_RULE_NOTICE.format(rule.ruleName), yes => {
        let args = { actionType: "D", deleteId: rule.prId };
        $.Req.service($.SvName.POINT_RULE_SAVE, args, ret => {
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.pointsRuleList.splice(idx, 1);
        });
      });
    },

    addMorePointsTitlesObjs() {
      for (let i = 0; i < this.pointsTitleNum; i++) {
        this.pointsTitles.push({ begin: null, end: null, title: null });
      }
    },

    openCardPointsDlg(typeId) {
      this.cardPointsArgType = typeId;
      if (typeId === 2011) {
        this.cardPointsDlgTitle = "根据会员卡设置入场签到积分";
      } else if (typeId === 2038) {
        this.cardPointsDlgTitle = "根据会员卡设置团课签到积分";
      } else if (typeId === 2039) {
        this.cardPointsDlgTitle = "根据会员卡设置私教课签到积分";
      } else if (typeId === 2040) {
        this.cardPointsDlgTitle = "根据会员卡设置会员卡充值积分";
      }
      this.queryCardPointsList(this.cardPointsArgType);
      this.cardPointsDlg = true;
    },

    queryPointsTitles() {
      this.addMorePointsTitlesObjs();

      let args = { typeId: $.Dict.ShopArg.POINTS_TITLE_CONF };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
        let items = ret.value ? ret.value.split(";") : [];
        let i = 0;
        for (let t of items) {
          let arr = t.split(",");
          let color = arr.length === 4 ? arr[3] : this.defaultColor;
          this.$set(this.pointsTitles, i, {
            begin: arr[0],
            end: arr[1],
            title: arr[2],
            color: color
          });
          i++;
        }
      });
    },

    savePointsTitles() {
      let confs = [];
      for (let t of this.pointsTitles) {
        if (t.begin && t.end && t.title) {
          t.title = t.title ? t.title.replace(/,/g, " ") : "";
          if (("" + t.begin).length > 10 || ("" + t.end).length > 10) {
            $.Dlg.error("积分范围值设置的太大了：{0} ~ {1}".format(t.begin, t.end));
            return;
          }
          confs.push("{0},{1},{2},{3}".format(t.begin, t.end, t.title, t.color));
        }
      }
      let conf = confs.join(";");
      let args = { typeId: $.Dict.ShopArg.POINTS_TITLE_CONF, typeValue: conf };
      $.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
        $.Msg.success($.Lang.SAVE_SUCCESS);
      });
    },

    openPointsTitleColorDlg(idx) {
      this.selectPointsIdx = idx;
      this.viewBgcolorDlg = true;
    },

    setColor(idx) {
      let pt = this.pointsTitles[this.selectPointsIdx];
      pt.color = this.colorList[idx];
      this.$set(this.pointsTitles, this.selectPointsIdx, pt);
      this.viewBgcolorDlg = false;
    },

    queryCardPointsList(typeId) {
      let args = { typeId: typeId };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, r => {
        let cardPointsMap = {};
        let items = r.value ? r.value.split(";") : null;
        if (items) {
          for (let item of items) {
            let arr = item.split(":");
            let cardId = arr[0],
                points = arr[1];
            cardPointsMap[cardId] = points;
          }
        }
        this.cardPointsList = [];
        for (let c of this.cardList) {
          this.cardPointsList.push({
            cardId: c.cardId,
            cardName: c.cardName,
            points: cardPointsMap[c.cardId]
          });
        }
      });
    },

    saveCardPoints() {
      let items = [];
      for (let c of this.cardPointsList) {
        if (!$.Util.isEmpty(c.points)) {
          items.push("{0}:{1}".format(c.cardId, c.points));
        }
      }
      let value = items.join(";");
      let args = { typeId: this.cardPointsArgType, typeValue: value };
      $.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
        this.cardPointsDlg = false;
        $.Msg.success($.Lang.OPT_SUCCESS);
      }, true);
    },

    queryShopArgs() {
      let args = {
        typeIdList: [2024, 2044, 2049]
      };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
        for (let t of ret.argList) {
          if (t.typeId === 2024 && t.typeValue) {
            let items = t.typeValue.split("/");
            if (items && items.length === 2) {
              this.pointsClearMonth = parseInt(items[0]);
              this.pointsClearDay = parseInt(items[1]);
              this.enableEmptyPoints = true;
            }
          } else if (t.typeId === 2044 && t.typeValue) {
            this.pointAmountUnit = parseInt(t.typeValue);
          } else if (t.typeId === 2049 && t.typeValue) {
            this.parseMecPointsLimitConf(t.typeValue);
          }
        }
      });
    },

    changeEmptyPointsEnable(val) {
      if (!val) {
        this.updatePointsClearConf();
      }
    },

    updatePointsClearConf() {
      let val = null;
      if (this.enableEmptyPoints) {
        if (!this.pointsClearMonth) {
          $.Msg.error("请输入积分清零月份");
          return;
        }
        if (!this.pointsClearDay) {
          $.Msg.error("请输入积分清零日");
          return;
        }
        if (!$.Util.validateMonthDay(this.pointsClearMonth, this.pointsClearDay)) {
          $.Dlg.error("清零日期不合法", null, false);
          return;
        }
        val = this.pointsClearMonth + "/" + this.pointsClearDay;
        if (!confirm("您确定设置积分清零吗？")) {
          return;
        }
      } else {
        val = null;
      }
      let args = { typeId: 2024, typeValue: val };
      $.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
        $.Msg.success($.Lang.SAVE_SUCCESS);
      });
    },

    updatePointAmountUnit() {
      if (!this.pointAmountUnit || this.pointAmountUnit <= 0) {
        $.Dlg.error("请设置大于0的整数");
        return;
      }
      this.updateShopArg(2044, this.pointAmountUnit);
      this.pointsAmountConfDlg = false;
    },

    updateShopArg(typeId, typeValue) {
      let args = { typeId: typeId, typeValue: "" + typeValue };
      $.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
        $.Msg.success($.Lang.SAVE_SUCCESS);
      });
    },

    queryCardList() {
      let args = { status: 0 };
      $.Req.service($.SvName.CARD_QUERY, args, ret => {
        this.cardList = ret.cardList;
      });
    },

    saveMecPointsLimit() {
      let val = "";
      if (this.enableMecPointsLimit) val = "true";else val = "false";
      if (!$.Util.isEmptyArray(this.cardIdListForMecLimit)) {
        val += ";" + this.cardIdListForMecLimit.join(",");
      }
      this.updateShopArg(2049, val);
    },

    parseMecPointsLimitConf(val) {
      let arr = val.split(";");
      if ($.Util.isEmptyArray(arr)) return;

      if (arr[0] === "true") this.enableMecPointsLimit = true;else this.enableMecPointsLimit = false;
      if (arr.length > 1 && arr[1]) {
        let cardIds = arr[1].split(",");
        for (let cardId of cardIds) {
          this.cardIdListForMecLimit.push(parseInt(cardId));
        }
      }
    }
  }
});

/***/ }),

/***/ 1447:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	components: {},
	data() {
		return {
			g: $,
			alipayMembersUrl: null,
			memberCnts: {
				creates: null,
				buys: null,
				remnant: null
			},
			smsCnts: {
				sends: null,
				buys: null,
				remnant: null
			},
			shopId: null,
			buyMemberCnt: null,
			paymentTipDlg: {
				show: false,
				type: 1
			},
			alipaySmsUrl: null,
			buySmsCnt: null,
			orderDlg: {
				show: false,
				orderType: 1,
				orderList: []
			}
		};
	},

	created() {
		this.queryShopId(() => {
			this.buyMemberCnt = 1;
			this.buySmsCnt = 1;
		});
		this.queryMemberCounts();
		this.querySmsCounts();
	},

	watch: {
		buyMemberCnt: function (val) {
			if (val <= 0) {
				$.Msg.error('认真点，不要开玩笑');
				return;
			}
			this.alipayMembersUrl = "{0}/__pay__/alipay/pagepay/pay.php?type=members&cnt={1}&s={2}&u={3}".format($.Conf.ALIPAY_BASE_URL, val * 100, this.shopId, $.data.user.uid);
		},

		buySmsCnt: function (val) {
			if (val <= 0) {
				$.Msg.error('认真点，不要开玩笑');
				return;
			}
			this.alipaySmsUrl = "{0}/__pay__/alipay/pagepay/pay.php?type=sms&cnt={1}&s={2}&u={3}".format($.Conf.ALIPAY_BASE_URL, val * 1000, this.shopId, $.data.user.uid);
		}
	},

	methods: {
		queryShopId(callback) {
			$.Req.service($.SvName.SHOP_ID_QUERY_FOR_MSITE, {}, ret => {
				this.shopId = ret.shopId;
				if (callback) callback();
			});
		},

		addMemberCntForSale() {
			this.buyMemberCnt++;
		},

		addSmsCntForSale() {
			this.buySmsCnt++;
		},

		queryMemberCounts() {
			$.Req.service($.SvName.MEMBER_COUNTS_QUERY, {}, ret => {
				this.memberCnts.creates = ret.creates;
				this.memberCnts.buys = ret.buys;
				this.memberCnts.remnant = ret.remnant;
			}, true);
		},

		querySmsCounts() {
			$.Req.service($.SvName.SMS_COUNTS_QUERY, {}, ret => {
				this.smsCnts.sends = ret.sends;
				this.smsCnts.buys = ret.buys;
				this.smsCnts.remnant = ret.remnant;
			}, true);
		},

		openPaymentTipDlg(type) {
			this.paymentTipDlg.show = true;
			this.paymentTipDlg.prdType = type;
		},

		paymentDone() {
			this.paymentTipDlg.show = false;
			if (this.paymentTipDlg.type === 1) {
				this.queryMemberCounts();
			} else if (this.paymentTipDlg.type === 2) {
				this.querySmsCounts();
			}
		},

		queryOrder(orderType) {
			$.Req.service($.SvName.SHOP_ORDER_QUERY, { orderType: orderType }, ret => {
				this.orderDlg.orderList = ret.shopOrderList;
				this.orderDlg.orderType = orderType;
				if (!this.orderDlg.show) this.orderDlg.show = true;
			});
		}
	}
});

/***/ }),

/***/ 1448:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue__ = __webpack_require__(404);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_help_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ __webpack_exports__["default"] = ({
  components: {
    help: __WEBPACK_IMPORTED_MODULE_0__components_help_vue___default.a
  },
  props: {},
  data() {
    return {
      g: $,
      applyRole: $.Util.hasRoleFunc(),
      pointsRule: {},
      requiredFields: ["cusid", "appid", "appkey", "rsacusprikey", "sm2cusprikey"],
      posParam: {
        ppId: null,
        cusid: null,
        appid: null,
        appkey: null,
        rsacusprikey: null,
        sm2cusprikey: null
      },
      isPosFlag: false,
      isPosArg: "false"
    };
  },
  computed: {},
  watch: {},
  created() {
    if (!this.applyRole) return;
    $.Util.addRequiredFieldsRules(this.pointsRule, this.requiredFields);
    this.shopArgQuery(() => {
      this.pointsRuleQuery();
    });
  },
  mounted() {},
  methods: {
    shopArgQuery(callback) {
      let args = { typeId: $.Dict.ShopArg.POS_ENABLE };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
        this.isPosArg = ret.value;
        if (callback) {
          callback();
        }
      });
    },

    shopArgUpdate(value) {
      let args = { typeId: $.Dict.ShopArg.POS_ENABLE, typeValue: value + "" };
      console.log(args);
      $.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
        $.Msg.success("操作成功！");
        this.shopArgQuery();
      });
    },

    onClickSubmitBtn() {
      this.$refs.posParamRefs.validate(valid => {
        if (!valid) {
          $.Msg.error($.Lang.SUBMIT_ERR);
          return;
        }
        const args = {
          actionType: "I",
          posParam: Object.assign({}, this.posParam)
        };
        if (this.isPosFlag) {
          args.actionType = "U";
          $.Dlg.confirm("是否确定修改POS机的配置？", () => {
            $.Req.service($.SvName.POS_PARAM_SAVE, args, ret => {
              $.Msg.success($.Lang.OPT_SUCCESS);
              this.pointsRuleQuery();
            });
          });
        } else {
          $.Req.service($.SvName.POS_PARAM_SAVE, args, ret => {
            $.Msg.success($.Lang.OPT_SUCCESS);
            this.pointsRuleQuery();
          });
        }
      });
    },
    deleteBtn() {
      $.Dlg.confirm("是否确定删除POS机的配置，该操作使用之后该门店将无法继续使用POS机进行支付，请慎重操作！", () => {
        const args = {
          actionType: "D",
          deleteId: this.posParam.ppId
        };
        $.Req.service($.SvName.POS_PARAM_SAVE, args, ret => {
          this.isPosFlag = false;
          $.Msg.success($.Lang.OPT_SUCCESS);
          this.pointsRuleQuery();
        });
      });
    },

    pointsRuleQuery() {
      $.Req.service($.SvName.POS_PARAM_QUERY, {}, ret => {
        this.isPosFlag = false;
        if (ret.posParam) {
          this.posParam = ret.posParam;
          this.isPosFlag = true;
        } else {
          this.$refs.posParamRefs.resetFields();
        }
      });
    }
  }
});

/***/ }),

/***/ 1449:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_card_conf_vue__ = __webpack_require__(1188);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_card_conf_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_card_conf_vue__);
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { CardConf: __WEBPACK_IMPORTED_MODULE_0__components_card_conf_vue___default.a },
	data() {
		return {};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1450:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_card_edit_vue__ = __webpack_require__(1142);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_card_edit_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_card_edit_vue__);
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { CardEdit: __WEBPACK_IMPORTED_MODULE_0__components_card_edit_vue___default.a },
	data() {
		return {};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1451:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ __webpack_exports__["default"] = ({
	components: {},
	data() {
		return {
			g: $,
			conf: {
				srcTid: null,
				srcSid: null,
				checkCode: null,
				itemName: null
			}
		};
	},

	created() {},

	methods: {
		run() {
			if (!this.conf.itemName) {
				$.Msg.error('Missing item');
				return;
			}
			if (!this.conf.srcTid) {
				$.Msg.error('Missing srcTid');
				return;
			}
			if (!this.conf.srcSid) {
				$.Msg.error('Missing srcSid');
				return;
			}
			if (!this.conf.checkCode) {
				$.Msg.error('Missing checkCode');
				return;
			}

			$.Req.service('shopDataDuplicate', this.conf, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
			}, true);
		}
	}
});

/***/ }),

/***/ 1452:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shop_edit_vue__ = __webpack_require__(1151);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shop_edit_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__shop_edit_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shop_equipment_vue__ = __webpack_require__(2231);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shop_equipment_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__shop_equipment_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
  components: { ShopEdit: __WEBPACK_IMPORTED_MODULE_0__shop_edit_vue___default.a, ShopEquipment: __WEBPACK_IMPORTED_MODULE_1__shop_equipment_vue___default.a },
  data() {
    return {
      encSid: $.data.shop.encSid,
      activeType: this.$route.query.activeType || "shop"
    };
  },

  created() {},

  methods: {
    tabChange(e) {
      this.$router.push({
        path: "/shop-edit",
        query: {
          activeType: e
        }
      });
    }
  }
});

/***/ }),

/***/ 1453:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	components: {},
	data() {
		return {
			groundEditable: $.Util.hasRoleFunc($.Dict.RoleFunc.SHOP_GROUND_EDIT.value),
			shopGroundList: [],
			groundDlgShow: false,
			shopGround: {
				groundId: null,
				groundName: '',
				maxPersons: null,
				remark: '',
				status: 0,
				rows: null,
				cols: null
			},
			positionList: {},
			requiredFields: ['groundName'],
			shopGroundFormRule: {}
		};
	},

	created() {
		if (this.requiredFields) {
			$.Util.addRequiredFieldsRules(this.shopGroundFormRule, this.requiredFields);
		}
		this.loadData();
	},

	methods: {
		loadData() {
			const args = { queryType: 2, status: null };
			$.Req.service($.SvName.GROUND_QUERY, args, ret => {
				if (ret && ret.groundList) {
					this.shopGroundList = ret.groundList;
				}
			});
		},

		handleSaveGround() {
			this.$refs.shopGround.validate(valid => {
				if (!valid) return false;

				if (this.shopGround.rows && this.shopGround.cols) {
					let positions = [];
					for (let r = 1, rows = parseInt(this.shopGround.rows); r <= rows; r++) {
						let colsList = [];
						for (let c = 1, cols = parseInt(this.shopGround.cols); c <= cols; c++) {
							let pno = this.positionList[r + '-' + c];
							if (pno) {
								colsList.push(pno);
							} else {
								colsList.push('');
							}
						}
						positions.push(colsList.join(','));
					}
					this.shopGround.positions = positions.join(';');
				} else {
					this.shopGround.positions = null;
				}

				const args = { actionType: this.shopGround.groundId ? 'U' : 'I', ground: this.shopGround };
				$.Req.service($.SvName.GROUND_SAVE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.loadData();
					this.closeGroundDlg();
				}, true);
			});
		},

		handleAddGroundDlg() {
			this.handleResetGroundDlg();
			this.groundDlgShow = true;
		},

		handleEditGroundDlg(index) {
			this.positionList = {};
			this.shopGround.rows = null;
			this.shopGround.cols = null;
			this.shopGround.positions = null;
			$.Util.copyAttributes(this.shopGroundList[index], this.shopGround);
			let positions = this.shopGround.positions;
			if (positions) {
				let rows = positions.split(';');
				let i = 0,
				    j = 0;
				for (let r of rows) {
					i++;
					let cols = r.split(',');
					j = 0;
					for (let c of cols) {
						j++;
						if (c) {
							let key = i + '-' + j;
							this.positionList[key] = c;
							//this.$set(this.positionList, key, c);
						}
					}
				}
			} else {
				this.positionList = {};
			}
			this.groundDlgShow = true;
		},

		closeGroundDlg() {
			this.groundDlgShow = false;
		},

		handleDropGround(index) {
			$.Dlg.confirm($.Lang.DROP_CONFIRM.format('场地'), yes => {
				let args = { groundId: this.shopGroundList[index].groundId, status: 1 };
				$.Req.service($.SvName.GROUND_STATUS_UPDATE, args, ret => {
					$.Msg.success($.Lang.OPT_SUCCESS);
					this.loadData();
				});
			});
		},

		handleDelGround(index) {
			const ground = this.shopGroundList[index];
			let args = { actionType: 'D', deleteId: ground.groundId };
			$.Req.service($.SvName.GROUND_SAVE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.loadData();
			}, true);
		},

		handleRestoreGround(index) {
			let args = { groundId: this.shopGroundList[index].groundId, status: 0 };
			$.Req.service($.SvName.GROUND_STATUS_UPDATE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
				this.loadData();
			});
		},

		handleResetGroundDlg() {
			this.positionList = {};
			this.shopGround.positions = null;
			this.shopGround.groundId = null;
			this.$refs.shopGround.resetFields();
		}
	}
});

/***/ }),

/***/ 1454:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__home_footer_vue__ = __webpack_require__(2225);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__home_footer_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__home_footer_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_info_entry_checkin_vue__ = __webpack_require__(2206);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_info_entry_checkin_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_info_entry_checkin_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shop_visit_cust_vue__ = __webpack_require__(2234);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shop_visit_cust_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__shop_visit_cust_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__home_pc_lessons_vue__ = __webpack_require__(2227);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__home_pc_lessons_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__home_pc_lessons_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__home_gc_lessons_vue__ = __webpack_require__(2226);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__home_gc_lessons_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__home_gc_lessons_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//








/* harmony default export */ __webpack_exports__["default"] = ({
  components: {
    MyFooter: __WEBPACK_IMPORTED_MODULE_0__home_footer_vue___default.a,
    MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_info_entry_checkin_vue___default.a,
    ShopVisitCust: __WEBPACK_IMPORTED_MODULE_2__shop_visit_cust_vue___default.a,
    HomePcLessons: __WEBPACK_IMPORTED_MODULE_3__home_pc_lessons_vue___default.a,
    HomeGcLessons: __WEBPACK_IMPORTED_MODULE_4__home_gc_lessons_vue___default.a
  },
  data() {
    return {
      g: $,
      today: new Date(),
      checkinPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_AGENT.value),
      viewEntryCheckinPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.VIEW_MEMBER_ENTRY_CHECKIN.value),
      viewAllEntryRecordsPermit: $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_AGENT.value) || $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_QUERY_ALL.value),
      shopInitCheck: {
        isDone: false,
        hasCard: false,
        hasStaff: false,
        hasCourse: false,
        hasMember: false
      },
      statBordItemWidth: $.data.shop.hasEntryCheckin ? "25%" : "33%",
      memberEntryCheckinList: null,
      memberEntryCheckinCount: 0,
      memberEntryUncheckoutCount: 0,
      selectMemberId: 0,
      selectMecId: 0,
      viewMemberDlg: false,
      visitCustEditable: false,
      entryChargeItemIdList: null,
      checkinScreenPageUrl: null
    };
  },

  created() {
    this.setCheckinScreenPageUrl();
    this.visitCustEditable = $.data.user.isShopOwner || $.Util.hasRoleFunc($.Dict.RoleFunc.MEMBER_AGENT.value);

    this.checkShopInit();
    if ($.data.shop.hasEntryCheckin && (this.checkinPermit || this.viewEntryCheckinPermit)) {
      if ($.data.user.isShopOwner) {
        this.loadEntryCheckin();
      } else {
        this.queryStaffEntryChargeItem(() => {
          this.loadEntryCheckin();
        });
      }
    }
  },

  methods: {
    checkShopInit() {
      if ($.data.shop.isTrial) {
        $.Req.service($.SvName.SHOP_INIT_CHECK, {}, ret => {
          this.shopInitCheck = ret;
          this.shopInitCheck.isDone = this.shopInitCheck.hasCard && this.shopInitCheck.hasStaff && this.shopInitCheck.hasCourse && this.shopInitCheck.hasMember;
        });
      } else {
        this.shopInitCheck.isDone = true;
      }
    },

    loadEntryCheckin(hasNotice = false) {
      let args = {
        beginDate: new Date(),
        needDetail: true,
        needPersonCount: true,
        needUncheckoutCount: true
      };
      if (this.entryChargeItemIdList) {
        args.entryChargeItemIdList = this.entryChargeItemIdList;
      }
      if (!this.viewAllEntryRecordsPermit) {
        args.ownerStaffId = $.data.user.staffId;
      }
      $.Req.service($.SvName.MEMBER_ENTRY_CHECKIN_QUERY, args, ret => {
        this.memberEntryCheckinList = ret.mecList;
        this.memberEntryCheckinCount = ret.count;
        this.memberEntryUncheckoutCount = ret.uncheckoutCount;
        for (let mec of this.memberEntryCheckinList) {
          mec.photoUrl = $.Util.getAvatarUrl(mec.avatarPathname, 200, 200, "DDDDDD", mec.memberSex);
          if (mec.memberName.length > 3) mec.memberName = mec.memberName.substr(0, 3);
        }
        if (hasNotice) {
          $.Msg.info($.Lang.REFRESH_DONE);
        }
      });
    },

    afterEntryCheckin() {
      this.loadEntryCheckin();
    },

    afterUpateAvatar(avatarPath) {
      let mec = this.memberEntryCheckinList[this.selectMemberIdx];
      mec.photoUrl = $.Util.getImgUrl(avatarPath, 85, 85, "EEEEEE");
      this.$set(this.memberEntryCheckinList, this.selectMemberIdx, mec);
    },

    queryStaffEntryChargeItem(callback) {
      $.Req.service($.SvName.STAFF_ENTRY_CHARGE_ITEM_QUERY, {}, ret => {
        if (ret.entryChargeItemList && ret.entryChargeItemList.length) {
          this.entryChargeItemIdList = [];
          for (let i of ret.entryChargeItemList) {
            this.entryChargeItemIdList.push(i.itemId);
          }
        }
        if (callback) callback();
      });
    },

    viewMember(memberId, mecId, idx) {
      this.selectMemberId = memberId;
      this.selectMecId = mecId;
      this.selectMemberIdx = idx;
      this.viewMemberDlg = true;
    },

    setCheckinScreenPageUrl() {
      let version = $.Util.cookie.get($.Conf.CookieKeys.CHECKIN_SCREEN_VERSION);
      if (!version) version = "new";
      if (version === "new") this.checkinScreenPageUrl = "entry-checkin-screen";else this.checkinScreenPageUrl = "entry-checkin-screen-old";
    }
  }
});

/***/ }),

/***/ 1455:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shop_import_vue__ = __webpack_require__(2232);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shop_import_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__shop_import_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shop_module_conf_vue__ = __webpack_require__(2233);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shop_module_conf_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__shop_module_conf_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shop_data_clear_vue__ = __webpack_require__(2230);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shop_data_clear_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__shop_data_clear_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__contract_conf_vue__ = __webpack_require__(2222);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__contract_conf_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__contract_conf_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__album_label_vue__ = __webpack_require__(2221);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__album_label_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__album_label_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__tag_conf_vue__ = __webpack_require__(2235);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__tag_conf_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__tag_conf_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__payment_type_vue__ = __webpack_require__(2229);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__payment_type_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__payment_type_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//







// 新增-自定义支付方式 

/* harmony default export */ __webpack_exports__["default"] = ({
	components: { ShopImport: __WEBPACK_IMPORTED_MODULE_0__shop_import_vue___default.a, ShopModuleConf: __WEBPACK_IMPORTED_MODULE_1__shop_module_conf_vue___default.a, ShopDataClear: __WEBPACK_IMPORTED_MODULE_2__shop_data_clear_vue___default.a, ContractConf: __WEBPACK_IMPORTED_MODULE_3__contract_conf_vue___default.a, AlbumLabel: __WEBPACK_IMPORTED_MODULE_4__album_label_vue___default.a, PaymentType: __WEBPACK_IMPORTED_MODULE_6__payment_type_vue___default.a, TagConf: __WEBPACK_IMPORTED_MODULE_5__tag_conf_vue___default.a },
	data() {
		return {
			g: $,
			shopConfEditable: $.Util.hasRoleFunc($.Dict.RoleFunc.SHOP_EDIT.value),
			shop: {},
			accessPwd: null,
			backupWeekNames: [],
			tenantOwnerPhone: null,
			ownerEmail: null,
			smsCode: null,
			authcodeLabel: null,
			authcodeDisabled: null,
			lastSendSmsTime: null,
			selectTab: null
		};
	},

	created() {
		if ($.data.user.isShopOwner) {
			this.queryShop();
			this.queryTenantOwnerPhone();
		}
	},

	methods: {
		queryShop() {
			const args = { queryType: 2, encSid: $.data.shop.encSid };
			$.Req.service($.SvName.SHOP_QUERY, args, ret => {
				if (!ret.shop.paymentType) ret.shop.paymentType = 1;
				this.shop = ret.shop;

				this.ownerEmail = this.shop.ownerEmail;
				if (this.shop.backupWeeks) {
					for (let w of this.shop.backupWeeks.split(',')) {
						this.backupWeekNames.push($.Dict.WeekName[w]);
					}
				}
			});
		},

		updateShopAccessPwd() {
			let args = { encSid: $.data.shop.encSid, accessPwd: this.shop.accessPwd };
			$.Req.service($.SvName.SHOP_ACCESS_PWD_UPDATE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
			});
		},

		checkOwnerEmail() {
			if (this.ownerEmail && !$.Util.validateEmail(this.ownerEmail)) {
				$.Dlg.error('接受邮箱格式不正确');
			}
		},

		updateShopBackupConf() {
			if (!this.ownerEmail) {
				$.Dlg.error('请输入接收邮箱');
				return;
			}
			if (this.ownerEmail && !$.Util.validateEmail(this.ownerEmail)) {
				$.Dlg.error('接受邮箱格式不正确');
				return;
			}
			if (!this.smsCode) {
				$.Dlg.error('请输入验证码');
				return;
			}

			let msg = "您确定保存导出设置吗？ <p>确定了，表示您已了解导出数据文件的风险和责任。</p>";

			$.Dlg.confirm(msg, yes => {
				let weeks = { '周一': 1, '周二': 2, '周三': 3, '周四': 4, '周五': 5, '周六': 6, '周日': 0 };
				let backupWeeks = [];
				for (let wn of this.backupWeekNames) {
					backupWeeks.push(weeks[wn]);
				}

				let args = { ownerEmail: this.ownerEmail, backupWeeks: backupWeeks.join(','),
					smsCode: this.smsCode, phoneNo: this.tenantOwnerPhone
				};
				$.Req.service($.SvName.SHOP_BACKUP_CONF_UPDATE, args, ret => {
					this.smsCode = null;
					this.authcodeDisabled = false;
					$.Msg.success($.Lang.OPT_SUCCESS);
				});
			});
		},

		queryTenantOwnerPhone() {
			$.Req.service($.SvName.TENANT_OWNER_QUERY, {}, ret => {
				this.tenantOwnerPhone = ret.phoneNo;
			});
		},

		onClickSmsAuthcodeBtn() {
			let nowTime = new Date().getTime();
			if (this.lastSendSmsTime && nowTime - this.lastSendSmsTime < 3000) {
				$.Msg.info($.Lang.CLICK_FREQUENTLY);
				return;
			}
			this.lastSendSmsTime = nowTime;

			let args = {
				phoneNo: this.tenantOwnerPhone,
				authcodeType: 4
			};
			$.Req.service($.SvName.SMS_AUTHCODE_SEND, args, ret => {
				if (ret.sendStatus === 0) {
					$.Msg.info($.Lang.AUTHCODE_SENT);
				} else {
					$.Dlg.error($.Lang.AUTHCODE_SEND_ERR);
				}
			});

			let count = 60;
			let resend = setInterval(() => {
				count--;
				if (count > 0) {
					this.authcodeDisabled = true;
					this.authcodeLabel = count + "秒后可重新获取";
				} else {
					clearInterval(resend);
					this.authcodeDisabled = false;
				}
			}, 1000);
		}
	}
});

/***/ }),

/***/ 1456:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	components: {},
	data() {
		return {};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1457:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__wx_sms_log_vue__ = __webpack_require__(2236);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__wx_sms_log_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__wx_sms_log_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ __webpack_exports__["default"] = ({
	components: { WxSmsLog: __WEBPACK_IMPORTED_MODULE_0__wx_sms_log_vue___default.a },
	data() {
		return {
			g: $,
			smsCnts: {
				sends: null,
				buys: null,
				remnant: null
			},
			page: null,
			smsLogList: [],
			smsCount: 0,
			enableSendSmsCountReminder: true,
			query: {
				receiverPhone: null,
				smsType: null
			}
		};
	},

	created() {
		this.querySmsCounts();
		this.querySmsLog();
		this.querySmsCountReminderArg();
	},

	methods: {
		querySmsCounts() {
			$.Req.service($.SvName.SMS_COUNTS_QUERY, {}, ret => {
				this.smsCnts.sends = ret.sends;
				this.smsCnts.buys = ret.buys;
				this.smsCnts.remnant = ret.remnant;
			}, true);
		},

		querySmsCountReminderArg() {
			let args = { typeId: 2019 };
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
				this.enableSendSmsCountReminder = ret.value ? ret.value === "true" : true;
			});
		},

		updateSmsCountReminderArg() {
			if (!$.data.user.isShopOwner) return;

			let args = { typeId: 2019, typeValue: this.enableSendSmsCountReminder };
			$.Req.service($.SvName.SHOP_ARG_UPDATE, args, ret => {
				$.Msg.success($.Lang.OPT_SUCCESS);
			}, true);
		},

		querySmsLog(page = null) {
			let args = { page: page };
			if (this.query.smsType) {
				args.smsType = this.query.smsType;
			}
			if (this.query.receiverPhone) {
				if (!$.Util.validatePhoneNo(this.query.receiverPhone)) {
					$.Msg.error($.Lang.PHONE_NO_ERR);
					return;
				}
				args.phoneNo = this.query.receiverPhone;
			}
			$.Req.service($.SvName.SMS_LOG_QUERY, args, ret => {
				this.smsLogList = ret.smsLogList;
				if (page === null) {
					this.smsCount = ret.count;
				}
				window.scrollTo(0, 0);
			}, true);
		},

		changeOrderType() {
			this.page = null;
			this.querySmsLog();
		},

		changePageNo(page) {
			this.page = page;
			this.querySmsLog(page);
		}
	}
});

/***/ }),

/***/ 1540:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".points-clear-input[data-v-02c7daf3]{margin-left:25px;display:inline-block;position:relative;top:2px;border:1px solid #ddd;padding:5px 10px;line-height:1}.points-clear-input input[type=number][data-v-02c7daf3]{height:24px;line-height:24px;border:0;width:50px;text-align:center;font-weight:700;background:#f2f2f2;outline:none}.color-conf[data-v-02c7daf3]{margin-left:15px}.-points-conf .tbl-tips[data-v-02c7daf3]{padding-top:15px;color:orange}.infoicon[data-v-02c7daf3]{position:relative;top:2px;padding-right:6px}input[type=number][data-v-02c7daf3]{width:98px;margin:0 10px;font-size:13px;height:28px;text-align:center;font-weight:700}.-rule-form .date[data-v-02c7daf3]{width:190px;display:inline-block}.-rule-form .points-item[data-v-02c7daf3]{border:1px dotted #d7dde4;margin-top:5px}.-rule-form .points-item .label[data-v-02c7daf3]{display:inline-block;width:78px;text-align:right}.-rule-form .points-item .label[data-v-02c7daf3]:after{content:\"\\FF1A\"}.-rule-form .points-item li[data-v-02c7daf3]{border-bottom:1px dotted #d7dde4;padding:8px 15px}.-rule-form .points-item li[data-v-02c7daf3]:last-child{border-bottom:0}.-rule-form .rule-tips[data-v-02c7daf3]{color:orange;margin-top:10px}.points-title input[data-v-02c7daf3]{width:100px;display:inline-block;font-weight:400;margin:0;font-size:12px;height:32px;text-align:center}.points-title .input-tit[data-v-02c7daf3]{width:250px;margin-left:20px}.points-title li[data-v-02c7daf3]{padding:5px 0}.points-title li[data-v-02c7daf3]:hover{background:#fafafa}.points-title .no[data-v-02c7daf3]{width:40px;padding:6px 0;display:inline-block;border-radius:2px;color:#999;text-align:center;background:#f2f2f2;margin-right:10px}.points-title-add-btn[data-v-02c7daf3]{margin-top:10px;height:32px;width:570px;background:#f5f5f5}.color-list li[data-v-02c7daf3]{margin:5px;line-height:50px;width:50px;background:#777}.color-list li[data-v-02c7daf3],.tit-color[data-v-02c7daf3]{display:inline-block;text-align:center;color:#fff;cursor:pointer}.tit-color[data-v-02c7daf3]{margin-left:8px;max-width:120px;overflow:hidden;line-height:30px;height:30px;position:relative;top:12px;padding:0;width:120px}.card-points-conf[data-v-02c7daf3]{padding-left:50px}", ""]);

// exports


/***/ }),

/***/ 1543:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, "[data-v-04345d66].ivu-tabs-tabpane{min-height:0}", ""]);

// exports


/***/ }),

/***/ 1545:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".order-no[data-v-0509ce7a]{cursor:pointer}", ""]);

// exports


/***/ }),

/***/ 1561:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1564:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".warning[data-v-1153d63b]{color:#ff4500;line-height:1.7;margin-bottom:20px}.user-panel[data-v-1153d63b]{margin:10px 0;padding:15px 0;background:#eee}.user-panel td[data-v-1153d63b]{padding:0 10px}.user-panel .member-name[data-v-1153d63b]{padding:0 20px 0 10px;color:green}.card-pay table[data-v-1153d63b]{margin-top:15px}.card-pay .tips[data-v-1153d63b]{margin-left:20px;color:#bbb}.card-pay .tips[data-v-1153d63b]:hover{color:#ff4500}.card-form[data-v-1153d63b]{width:100%}.card-form td[data-v-1153d63b],.card-form th[data-v-1153d63b]{padding:10px 0}.card-form th[data-v-1153d63b]{text-align:right;font-weight:400;color:#888}.card-form td[data-v-1153d63b]{padding-left:15px}.charge-by-hour-conf[data-v-1153d63b]{margin-top:10px;border:1px dashed #ddd;padding:10px}.charge-by-hour-conf ul[data-v-1153d63b]{padding-top:10px}.charge-by-hour-conf li[data-v-1153d63b]{display:block;padding:5px 0}.charge-by-hour-conf li .input-s[data-v-1153d63b]{width:80px;margin:0 5px}.sync-user[data-v-1153d63b]{border-top:1px dashed #ccc;margin:15px 15px 0 10px;padding:15px 0 0}", ""]);

// exports


/***/ }),

/***/ 1565:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".conf ul[data-v-122c49cc]{width:160px;margin:0 auto}.conf li[data-v-122c49cc]{padding:8px 0}.conf li label[data-v-122c49cc]{font-size:16px}.conf .submit[data-v-122c49cc]{border-top:1px solid #eee;padding-top:20px;margin-bottom:-10px;margin-top:20px;text-align:center}.conf .submit button[data-v-122c49cc]{width:100px}.conf .submit a[data-v-122c49cc]{position:absolute;right:30px;padding-top:5px}", ""]);

// exports


/***/ }),

/***/ 1576:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".equipment-img[data-v-17425c89]{width:50px;height:50px}.row[data-v-17425c89]{display:flex;justify-content:space-between}", ""]);

// exports


/***/ }),

/***/ 1579:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".-lesson-opt[data-v-188fd812]{padding:5px}.-lesson-opt .query-zone[data-v-188fd812]{background:#eee;padding:6px}.-lesson-opt .query-zone .query-input[data-v-188fd812]{height:32px;line-height:32px;font-size:16px;font-weight:700;border:1px solid #d7dde4;width:100%;padding:0 10px;background:#fff}.-lesson-opt .err[data-v-188fd812]{font-weight:700;color:#d82400;margin:10px 0;font-size:14px;text-align:center;padding:10px;background:#fafad2}.-lesson-opt section[data-v-188fd812]{clear:both;margin-bottom:15px}.-lesson-opt section.border[data-v-188fd812]{border:1px solid #d7dde4;border-radius:2px}.-lesson-opt .member[data-v-188fd812]{padding:8px}.-lesson-opt .member table[data-v-188fd812]{width:100%}.-lesson-opt .member .photo[data-v-188fd812]{vertical-align:middle}.-lesson-opt .member .photo img[data-v-188fd812]{width:105px;height:100px;border:0}.-lesson-opt .member .name[data-v-188fd812]{font-size:26px;padding-right:15px}.-lesson-opt .member .detail[data-v-188fd812]{margin:15px 0 0;padding:18px 0 0;border-top:1px dashed #ddd}.-lesson-opt .lesson[data-v-188fd812]{padding:15px 0;line-height:1.5}.-lesson-opt .lesson li[data-v-188fd812]{display:inline;padding:0 10px;border-right:1px solid #e0e0e0}.-lesson-opt .lesson li[data-v-188fd812]:last-child{border:0}.-lesson-opt .passwd[data-v-188fd812]{background:#f0f0f0;padding:8px}.-lesson-opt .passwd .warn[data-v-188fd812]{margin-left:15px;color:orange}.-lesson-opt .passwd .warn i[data-v-188fd812]{padding-right:4px}.-lesson-opt .passwd .input[data-v-188fd812]{width:160px;display:inline-block}.-lesson-opt .submit[data-v-188fd812]{padding:5px 0;margin-top:15px}.-lesson-opt .submit .primary[data-v-188fd812]{width:90px;margin-left:15px}.-lesson-opt .submit .payment-cnt[data-v-188fd812]{width:70px;text-align:center;font-weight:700;margin:0 6px 0 10px;height:28px}.-lesson-opt .submit .tips[data-v-188fd812]{color:#999;padding-left:5px}.-lesson-opt .query-opt[data-v-188fd812]{padding:5px 0 0;margin:0}.-lesson-opt .query-opt button[data-v-188fd812]{margin:0 7px;width:100px}.-lesson-opt .postbl[data-v-188fd812]{padding:15px}.-lesson-opt .postbl .-tit[data-v-188fd812]{line-height:20px;height:20px;margin-bottom:10px;font-size:13px;font-weight:700}.-lesson-opt .postbl .-tit .spt[data-v-188fd812]{padding:0 12px;font-weight:400;font-size:12px}.-lesson-opt .postbl .-tit a[data-v-188fd812]{font-size:12px;font-weight:400;border-radius:10px;background:#f2f2f2;padding:3px 15px}.-lesson-opt .postbl td div[data-v-188fd812]{height:30px;line-height:30px;width:60px;display:inline-block;text-align:center;border:1px solid #e4e4e4;background:#f0f0f0;margin:5px;color:#222;box-shadow:3px 3px 3px #eee}.-lesson-opt .postbl .empty[data-v-188fd812]{border:1px solid #e4e4e4;background:#fff;cursor:pointer}.-lesson-opt .postbl .on[data-v-188fd812]{border-color:orange}.-lesson-opt .memb-list[data-v-188fd812]{padding:10px;margin:10px 0;border:1px solid #eee}.-lesson-opt .memb-list .tit[data-v-188fd812]{padding-bottom:10px;color:orange}.-lesson-opt .memb-list .name[data-v-188fd812]{font-size:14px;color:#444}.-lesson-opt .memb-list li[data-v-188fd812]{display:inline-block;margin:3px;line-height:1;padding:10px;background:#eee;cursor:pointer;font-size:12px;color:#999}.-lesson-opt .memb-list li[data-v-188fd812]:hover{background:#ddd}.opts li[data-v-188fd812]{display:block;padding:0 0 5px}.opts li[data-v-188fd812]:last-child{padding:0}", ""]);

// exports


/***/ }),

/***/ 1589:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".pcoach-score[data-v-1d48ca6d]{font-size:13px;text-align:center;padding:10px 0}.pcoach-score .spt[data-v-1d48ca6d]{padding:0 8px}.pcoach-score .value[data-v-1d48ca6d]{background:#f5f5f5;padding:20px 0;margin-top:20px}.pcoach-score .value input[data-v-1d48ca6d]{font-size:16px;text-align:center;margin-right:3px;font-weight:700}.qrcode[data-v-1d48ca6d]{font-size:14px;color:#666;cursor:pointer;display:block}.qrcode[data-v-1d48ca6d]:hover{color:#ff4500}.qrcode-img[data-v-1d48ca6d]{margin:0 auto;text-align:center;width:350px}.qrcode-img img[data-v-1d48ca6d]{display:block;width:350px}.gl-time-nav[data-v-1d48ca6d]{padding:2px 0 12px;margin-bottom:20px;border-bottom:1px solid #f0f0f0}.gl-time-nav td[data-v-1d48ca6d]{padding:4px 0;color:#999}.gl-time-nav tr[data-v-1d48ca6d]:first-child{padding-top:0}.gl-time-nav tr[data-v-1d48ca6d]:last-child{padding-bottom:0}.gl-time-nav .items a[data-v-1d48ca6d]{border:1px solid #d4d4d4;color:#999;margin:4px 5px;line-height:1;padding:4px 8px;border-radius:11px;word-break:keep-all;display:inline-block}.gl-time-nav .items a[data-v-1d48ca6d]:hover{color:#ff4500}.gl-time-nav .items a.on[data-v-1d48ca6d]{border-color:orange;color:orange}", ""]);

// exports


/***/ }),

/***/ 1593:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1594:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".tips[data-v-1f328ff0]{padding:15px;text-align:center;background:#fafafa}.article[data-v-1f328ff0]{width:800px;margin-left:10px}.access-pwd-conf .form-submit[data-v-1f328ff0]{border:0;margin:0}section .exam[data-v-1f328ff0]{border-top:1px dotted #ddd;padding-top:15px;margin-top:15px}section ol[data-v-1f328ff0]{width:830px}section ol li[data-v-1f328ff0]{font-size:13px;padding:3px 5px;line-height:2}section ol li i[data-v-1f328ff0]{color:#999}.backup .frm[data-v-1f328ff0]{font-size:13px}.backup .frm li[data-v-1f328ff0]{padding:6px 0}.backup .frm label.tit[data-v-1f328ff0]{width:90px;display:inline-block}.backup .frm .input-s[data-v-1f328ff0]{display:inline-block;width:400px}.backup .frm button[data-v-1f328ff0]{margin-top:10px;width:100px}", ""]);

// exports


/***/ }),

/***/ 1597:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1609:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".tag-conf .input[data-v-28fa8bee]{display:inline-block;width:200px}.tag-conf .spt[data-v-28fa8bee]{padding:0 20px}.tag-conf .mytbl[data-v-28fa8bee]{width:700px}.flex-center[data-v-28fa8bee]{display:flex;align-items:center}.clear-icon[data-v-28fa8bee]{color:#ccc;font-size:24px;margin:0 20px;cursor:pointer}.tag-setting .tag-line[data-v-28fa8bee]{margin-bottom:15px}.tag-setting .tag-line span[data-v-28fa8bee]{margin-right:10px;font-weight:500}", ""]);

// exports


/***/ }),

/***/ 1617:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".qrcode-img[data-v-2c7cb3d6]{margin:0 auto;text-align:center;width:350px}.qrcode-img img[data-v-2c7cb3d6]{display:block;width:350px}.gl-time-nav[data-v-2c7cb3d6]{padding:2px 0 12px;margin-bottom:20px;border-bottom:1px solid #f0f0f0}.gl-time-nav td[data-v-2c7cb3d6]{padding:4px 0;color:#999}.gl-time-nav tr[data-v-2c7cb3d6]:first-child{padding-top:0}.gl-time-nav tr[data-v-2c7cb3d6]:last-child{padding-bottom:0}.gl-time-nav .items a[data-v-2c7cb3d6]{border:1px solid #d4d4d4;color:#999;margin:4px 5px;line-height:1;padding:4px 8px;border-radius:11px;word-break:keep-all;display:inline-block}.gl-time-nav .items a[data-v-2c7cb3d6]:hover{color:#ff4500}.gl-time-nav .items a.on[data-v-2c7cb3d6]{border-color:orange;color:orange}", ""]);

// exports


/***/ }),

/***/ 1626:
/***/ (function(module, exports, __webpack_require__) {

var escape = __webpack_require__(877);
exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".checkin-screen[data-v-336c3e1c]{width:100%;min-width:1280px;height:100vh;overflow-y:auto;padding:30px 40px 2px;box-sizing:border-box;background-image:url(" + escape(__webpack_require__(2170)) + ");background-size:100% 100%;background-repeat:no-repeat;display:flex;flex-direction:column}.checkin-screen .show[data-v-336c3e1c]{width:100%;margin:auto;flex:1}.checkin-screen .show .module[data-v-336c3e1c]{width:100%;position:relative}.checkin-screen .show .side[data-v-336c3e1c]{width:31vw;min-width:345px;box-sizing:border-box;padding-top:20px}.checkin-screen .show .side .module[data-v-336c3e1c]{margin-bottom:55px;padding:34px 33px 5px 43px;box-sizing:border-box}.checkin-screen .show .side .module .title[data-v-336c3e1c]{position:absolute;top:-25px;left:0;width:100%;color:#00caff;text-align:center;font-size:28px;font-weight:700}.checkin-screen .show .side .module .record .record-item[data-v-336c3e1c]{height:65px}.checkin-screen .show .side .module .record .record-item .avatar[data-v-336c3e1c]{flex-shrink:0;width:52px;height:52px;border-radius:50%;margin-right:14px;position:relative}.checkin-screen .show .side .module .record .record-item .avatar img[data-v-336c3e1c]{width:100%;height:100%;border-radius:50%;position:relative;z-index:5;border:2px solid #00caff}.checkin-screen .show .side .module .record .record-item .record-main[data-v-336c3e1c]{flex:1;flex-shrink:0;overflow:hidden;color:#ccd3ea;font-size:23px;justify-content:space-between;padding-right:20px;box-sizing:border-box;position:relative;height:100%}.checkin-screen .show .side .module .record .record-item .record-main .name[data-v-336c3e1c]{max-width:182px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.checkin-screen .show .side .module .record .record-item .record-main .time[data-v-336c3e1c]{font-weight:700}.checkin-screen .show .side .module .record .record-item .record-main[data-v-336c3e1c]:after{content:\"\";width:100%;height:3px;background-image:url(" + escape(__webpack_require__(2175)) + ");background-size:100% 100%;position:absolute;bottom:6px;right:0}.checkin-screen .show .side .module[data-v-336c3e1c]:last-child{margin-bottom:0}.checkin-screen .show .side .group .record .record-item .avatar[data-v-336c3e1c]:before,.checkin-screen .show .side .private .record .record-item .avatar[data-v-336c3e1c]:before{position:absolute;top:-12px;left:-16px;z-index:3;content:\"\";width:35px;height:36px}.checkin-screen .show .side .group .record .record-item:first-child .avatar[data-v-336c3e1c]::before,.checkin-screen .show .side .private .record .record-item:first-child .avatar[data-v-336c3e1c]::before{background-image:url(" + escape(__webpack_require__(2173)) + ");background-size:100% 100%;background-repeat:no-repeat}.checkin-screen .show .side .group .record .record-item:nth-child(2) .avatar[data-v-336c3e1c]:before,.checkin-screen .show .side .private .record .record-item:nth-child(2) .avatar[data-v-336c3e1c]:before{background-image:url(" + escape(__webpack_require__(2177)) + ");background-size:100% 100%;background-repeat:no-repeat}.checkin-screen .show .side .group .record .record-item:nth-child(3) .avatar[data-v-336c3e1c]:before,.checkin-screen .show .side .private .record .record-item:nth-child(3) .avatar[data-v-336c3e1c]:before{background-image:url(" + escape(__webpack_require__(2179)) + ");background-size:100% 100%;background-repeat:no-repeat}.checkin-screen .show .middle[data-v-336c3e1c]{width:36vw;min-width:454px}.checkin-screen .show .middle .module[data-v-336c3e1c]{height:100%;display:flex;flex-direction:column}.checkin-screen .show .middle .module .company[data-v-336c3e1c]{height:129px;color:#d0e4ff;font-size:34px;font-weight:700;justify-content:center;background-image:url(" + escape(__webpack_require__(2174)) + ");background-size:100% 100%;background-repeat:no-repeat}.checkin-screen .show .middle .module .company img[data-v-336c3e1c]{height:52px;width:52px;border-radius:50%;margin-right:10px}.checkin-screen .show .middle .module .company span[data-v-336c3e1c]{display:inline-block;max-width:400px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.checkin-screen .show .middle .module .down[data-v-336c3e1c]{flex:1;background-image:url(" + escape(__webpack_require__(2171)) + ");background-size:100% 100%;background-repeat:no-repeat}.checkin-screen .show .middle .module .down .dy-time[data-v-336c3e1c]{margin-top:40px;justify-content:center}.checkin-screen .show .middle .module .down .dy-time .colon[data-v-336c3e1c]{margin:0 -10px}.checkin-screen .show .middle .module .down .dy-time i[data-v-336c3e1c]{font-size:40px;color:#93e9ff;display:block;width:45px;text-align:center}.checkin-screen .show .middle .module .down .dt-info[data-v-336c3e1c]{text-align:center;color:#93e9ff;margin-top:4px;font-size:28px;font-family:Adobe Heiti Std R}.checkin-screen .show .middle .module .down .dt-info .week[data-v-336c3e1c]{margin-right:10px}.checkin-screen .show .middle .module .down .cur-info[data-v-336c3e1c]{margin-top:19px;justify-content:center}.checkin-screen .show .middle .module .down .cur-info>div[data-v-336c3e1c]{width:192px;height:215px;justify-content:center;color:#e9fbff;font-size:51px;font-family:MicrosoftYaHei;background-image:url(" + escape(__webpack_require__(2172)) + ");background-size:100% 100%;background-repeat:no-repeat;position:relative}.checkin-screen .show .middle .module .down .cur-info>div .tag[data-v-336c3e1c]{height:25px;position:absolute;bottom:52px;left:0;width:100%;font-size:18px;text-align:center}.checkin-screen .show .middle .module .down .code[data-v-336c3e1c]{position:absolute;bottom:50px;left:50%;transform:translateX(-50%)}.checkin-screen .show .middle .module .down .code img[data-v-336c3e1c]{width:280px;height:280px;border-radius:5px}.checkin-screen .show .square[data-v-336c3e1c]{background-image:url(" + escape(__webpack_require__(2178)) + ");background-size:100% 100%;background-repeat:no-repeat;width:100%;height:45.5%}.checkin-screen .show .long[data-v-336c3e1c]{background-image:url(" + escape(__webpack_require__(2176)) + ");background-size:100% 100%;background-repeat:no-repeat;width:100%;height:100%}.checkin-screen .footer[data-v-336c3e1c]{width:100%;height:60px;line-height:60px;color:#fff;box-sizing:border-box;position:relative;justify-content:center}.checkin-screen .footer i[data-v-336c3e1c]{height:100%;font-size:30px;padding-right:15px;color:#d2e8ff;position:absolute;left:0}.checkin-screen .footer i[data-v-336c3e1c]:hover{cursor:pointer;color:#fff}.checkin-screen .footer span[data-v-336c3e1c]{color:#fff;opacity:.3;letter-spacing:12px}@media only screen and (min-width:1401px) and (max-width:1680px){.mr-40[data-v-336c3e1c]{margin-right:35px!important}.checkin-screen .show .side[data-v-336c3e1c]{min-width:345px}.checkin-screen .show .side .module .record .record-item .record-main[data-v-336c3e1c]{font-size:19px!important}.checkin-screen .show .side .module .record .record-item .record-main .name[data-v-336c3e1c]{max-width:145px!important}.checkin-screen .show .middle[data-v-336c3e1c]{min-width:454px}.checkin-screen .show .middle .module .company span[data-v-336c3e1c]{max-width:255px}.checkin-screen .show .middle .module .company img[data-v-336c3e1c]{height:47px!important;width:47px!important}.checkin-screen .show .middle .module .down .cur-info>div[data-v-336c3e1c]{width:175px!important;height:202px!important;font-size:43px}.checkin-screen .show .middle .module .down .cur-info>div .tag[data-v-336c3e1c]{font-size:14px;bottom:42px}}@media only screen and (min-width:1280px) and (max-width:1400px){.mr-40[data-v-336c3e1c]{margin-right:30px!important}.checkin-screen .show .side[data-v-336c3e1c]{min-width:345px}.checkin-screen .show .side .module .record .record-item .record-main[data-v-336c3e1c]{font-size:18px!important}.checkin-screen .show .side .module .record .record-item .record-main .name[data-v-336c3e1c]{max-width:100px!important}.checkin-screen .show .middle[data-v-336c3e1c]{min-width:454px}.checkin-screen .show .middle .module .company span[data-v-336c3e1c]{max-width:255px}.checkin-screen .show .middle .module .company img[data-v-336c3e1c]{height:45px!important;width:45px!important}.checkin-screen .show .middle .module .down .cur-info>div[data-v-336c3e1c]{width:170px!important;height:200px!important;font-size:43px}.checkin-screen .show .middle .module .down .cur-info>div .tag[data-v-336c3e1c]{font-size:14px;bottom:42px}}@media only screen and (min-width:0px) and (max-width:1280px){.mr-40[data-v-336c3e1c]{margin-right:25px!important}.checkin-screen .show .side[data-v-336c3e1c]{min-width:345px}.checkin-screen .show .side .module .record .record-item .record-main[data-v-336c3e1c]{font-size:16px!important}.checkin-screen .show .side .module .record .record-item .record-main .name[data-v-336c3e1c]{max-width:95px!important}.checkin-screen .show .middle[data-v-336c3e1c]{min-width:454px}.checkin-screen .show .middle .module .company span[data-v-336c3e1c]{max-width:255px}.checkin-screen .show .middle .module .company img[data-v-336c3e1c]{height:43px!important;width:43px!important}.checkin-screen .show .middle .module .down .cur-info>div[data-v-336c3e1c]{width:160px!important;height:190px!important;font-size:43px}.checkin-screen .show .middle .module .down .cur-info>div .tag[data-v-336c3e1c]{font-size:14px;bottom:42px}}@media only screen and (min-height:850px) and (max-height:960px){.checkin-screen .show .side .module .title[data-v-336c3e1c]{font-size:27px}.checkin-screen .show .side .module .record .record-item[data-v-336c3e1c]{height:60px}.checkin-screen .show .side .module .record .record-item .avatar[data-v-336c3e1c]{width:49px;height:49px}.checkin-screen .show .side .module .record .record-item .record-main[data-v-336c3e1c]{font-size:21px}.checkin-screen .show .middle .module .company[data-v-336c3e1c]{font-size:32px;height:110px;padding-bottom:5px}.checkin-screen .show .middle .module .company img[data-v-336c3e1c]{height:47px;width:47px}.checkin-screen .show .middle .module .down .dy-time[data-v-336c3e1c]{font-size:38px;margin-top:25px}.checkin-screen .show .middle .module .down .dt-info[data-v-336c3e1c]{font-size:26px}.checkin-screen .show .middle .module .down .cur-info>div[data-v-336c3e1c]{width:188px;height:209px;font-size:49px}.checkin-screen .show .middle .module .down .cur-info>div .tag[data-v-336c3e1c]{font-size:16px}.checkin-screen .show .middle .module .down .code[data-v-336c3e1c]{bottom:40px}.checkin-screen .show .middle .module .down .code img[data-v-336c3e1c]{width:230px;height:230px}}@media only screen and (min-height:800px) and (max-height:849px){.checkin-screen .show .side .module[data-v-336c3e1c]{margin-bottom:42.5px}.checkin-screen .show .side .module .title[data-v-336c3e1c]{font-size:26px}.checkin-screen .show .side .module .record .record-item[data-v-336c3e1c]{height:56px}.checkin-screen .show .side .module .record .record-item .avatar[data-v-336c3e1c]{width:46px;height:46px}.checkin-screen .show .side .module .record .record-item .record-main[data-v-336c3e1c]{font-size:19px}.checkin-screen .show .side .private .record .record-item .avatar[data-v-336c3e1c]:before{width:30px;height:31px;left:-13px}.checkin-screen .show .middle .module .company[data-v-336c3e1c]{font-size:30px;height:100px;padding-bottom:5px}.checkin-screen .show .middle .module .company img[data-v-336c3e1c]{height:45px;width:45px}.checkin-screen .show .middle .module .down .dy-time[data-v-336c3e1c]{font-size:35px;margin-top:25px}.checkin-screen .show .middle .module .down .dt-info[data-v-336c3e1c]{font-size:24px}.checkin-screen .show .middle .module .down .cur-info>div[data-v-336c3e1c]{width:178px;height:200px;font-size:46px}.checkin-screen .show .middle .module .down .cur-info>div .tag[data-v-336c3e1c]{font-size:15px;bottom:42px}.checkin-screen .show .middle .module .down .code[data-v-336c3e1c]{bottom:45px}.checkin-screen .show .middle .module .down .code img[data-v-336c3e1c]{width:210px;height:210px}}@media only screen and (min-height:0px) and (max-height:799px){.checkin-screen[data-v-336c3e1c]{min-height:700px}.checkin-screen .show .side .module[data-v-336c3e1c]{margin-bottom:45px}.checkin-screen .show .side .module .title[data-v-336c3e1c]{font-size:25px}.checkin-screen .show .side .module .record .record-item[data-v-336c3e1c]{height:49px}.checkin-screen .show .side .module .record .record-item .avatar[data-v-336c3e1c]{width:40px;height:40px}.checkin-screen .show .side .module .record .record-item .record-main[data-v-336c3e1c]{font-size:17px}.checkin-screen .show .side .private .record .record-item .avatar[data-v-336c3e1c]:before{width:28px;height:27px;left:-12px}.checkin-screen .show .middle .module .company[data-v-336c3e1c]{font-size:28px;height:94px;padding-bottom:5px}.checkin-screen .show .middle .module .company img[data-v-336c3e1c]{height:43px;width:43px}.checkin-screen .show .middle .module .down .dy-time[data-v-336c3e1c]{font-size:33px;margin-top:25px}.checkin-screen .show .middle .module .down .dt-info[data-v-336c3e1c]{font-size:22px}.checkin-screen .show .middle .module .down .cur-info>div[data-v-336c3e1c]{width:168px;height:190px;font-size:43px}.checkin-screen .show .middle .module .down .cur-info>div .tag[data-v-336c3e1c]{font-size:14px;bottom:42px}.checkin-screen .show .middle .module .down .code[data-v-336c3e1c]{bottom:45px}.checkin-screen .show .middle .module .down .code img[data-v-336c3e1c]{width:195px;height:195px}.checkin-screen .footer[data-v-336c3e1c]{height:50px;line-height:50px}.checkin-screen .footer i[data-v-336c3e1c]{font-size:25px}}@media only screen and (min-height:750px) and (max-height:799px){.checkin-screen .show .middle .module .down .code[data-v-336c3e1c]{bottom:45px}.checkin-screen .show .middle .module .down .code img[data-v-336c3e1c]{width:185px;height:185px}}@media only screen and (min-height:700px) and (max-height:749px){.checkin-screen .show .middle .module .down .cur-info>div[data-v-336c3e1c]{width:165px;height:175px;font-size:43px}.checkin-screen .show .middle .module .down .cur-info>div .tag[data-v-336c3e1c]{font-size:14px;bottom:42px}.checkin-screen .show .middle .module .down .code[data-v-336c3e1c]{bottom:45px}.checkin-screen .show .middle .module .down .code img[data-v-336c3e1c]{width:176px;height:176px}}@media only screen and (min-height:0px) and (max-height:700px){.checkin-screen .show .middle .module .down .cur-info>div[data-v-336c3e1c]{width:160px;height:170px;font-size:43px}.checkin-screen .show .middle .module .down .cur-info>div .tag[data-v-336c3e1c]{font-size:14px;bottom:42px}.checkin-screen .show .middle .module .down .code[data-v-336c3e1c]{bottom:45px}.checkin-screen .show .middle .module .down .code img[data-v-336c3e1c]{width:165px;height:165px}}.settings-mod[data-v-336c3e1c] .ivu-modal-footer{padding:0}.mod-head[data-v-336c3e1c]{font-size:15px;font-weight:700;color:#333}.mod-head[data-v-336c3e1c]:before{content:\"\";width:1px;height:100%;padding-right:3px;margin-right:10px;background-color:#febf03}.submit[data-v-336c3e1c]{text-align:center}.submit button[data-v-336c3e1c]{width:120px;display:inline-block}.submit a[data-v-336c3e1c]{position:absolute;right:40px;padding-top:5px}.conf[data-v-336c3e1c]{padding:15px}.conf .conf-item[data-v-336c3e1c]{border-bottom:1px solid #eee;margin-bottom:15px}.conf .conf-item .conf-tit[data-v-336c3e1c]{color:#333;font-size:14px;margin-bottom:20px}.conf .conf-item .conf-tit[data-v-336c3e1c]:before{content:\"\\25AA\";font-size:15px;padding-right:6px}.conf .conf-item .conf-options[data-v-336c3e1c]{margin-bottom:20px}.conf .conf-item .conf-options .option-item[data-v-336c3e1c]{display:inline-block;width:200px}.conf .conf-item .conf-options .option-item[data-v-336c3e1c] label{font-size:14px}.conf .conf-item .conf-radio-options[data-v-336c3e1c]{margin-left:70px}.conf .conf-item .conf-radio-options[data-v-336c3e1c] label{font-size:14px}.conf .conf-item .conf-radio-options[data-v-336c3e1c] .ivu-radio-wrapper{margin-right:50px}.conf .conf-item .warn-tip[data-v-336c3e1c]{color:#ed3f14;font-size:14px;margin-left:10px}.conf .conf-item:nth-child(3) .conf-tit[data-v-336c3e1c],.conf .conf-item:nth-child(4) .conf-tit[data-v-336c3e1c],.conf .conf-item:nth-child(5) .conf-tit[data-v-336c3e1c],.conf .conf-item:nth-child(6) .conf-tit[data-v-336c3e1c]{display:block;width:170px}.conf .a-line[data-v-336c3e1c]{height:40px;padding-bottom:20px}.conf .a-line .conf-tit[data-v-336c3e1c]{margin-bottom:0}.row-space[data-v-336c3e1c]{display:flex}.mr-40[data-v-336c3e1c]{margin-right:40px}.flex-center[data-v-336c3e1c]{display:flex;align-items:center}", ""]);

// exports


/***/ }),

/***/ 1636:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".params[data-v-372d590b]{margin-top:15px;display:flex}.params th[data-v-372d590b]{width:120px}.params .mytbl[data-v-372d590b]{width:280px}.params .row-item[data-v-372d590b]{margin-right:50px}.params .row-tr-item[data-v-372d590b]{cursor:pointer}.tmpt-err[data-v-372d590b]{padding:15px;margin-top:10px}.tmpt-err ul[data-v-372d590b]{padding-left:15px;margin-top:10px}.tmpt-err li[data-v-372d590b]{list-style-type:disc;padding:2px 0;font-size:13px}", ""]);

// exports


/***/ }),

/***/ 1644:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".-mbase section[data-v-39621080]{margin-bottom:15px;clear:both}.-mbase .member[data-v-39621080]{padding:8px;padding-bottom:20px;margin-bottom:-20px}.-mbase .member table[data-v-39621080]{width:100%}.-mbase .member .phone-no[data-v-39621080]{margin-left:20px;font-weight:700;font-size:16px}.-mbase .member .photo[data-v-39621080]{vertical-align:top}.-mbase .member .photo img[data-v-39621080]{width:180px;border:4px solid #eee;padding:1px}.-mbase .member .name[data-v-39621080]{font-size:22px;padding-right:20px}.-mbase .member .phone[data-v-39621080]{font-size:14px;color:#555;font-weight:700}.-mbase .member .detail[data-v-39621080]{border-top:1px dashed #ddd;margin-top:15px}.-mbase .member .detail li[data-v-39621080]{display:block;margin:0;height:48px;line-height:48px;padding:0;border-bottom:1px dashed #ddd}.-mbase .member .detail .stat u[data-v-39621080]{color:orange;text-decoration:none}.-mbase .member .reg-time[data-v-39621080]{padding-left:20px;color:#aaa}.-mbase .member .locker-id[data-v-39621080]{width:100px;display:inline-block}.-mbase .member .locker-update-btn[data-v-39621080]{height:24px;margin-left:5px}.-mbase .member .cards[data-v-39621080]{margin-top:12px}.-mbase .member .phone[data-v-39621080]{font-weight:400;font-size:13px;color:#777}.detail li span:last-child.bar[data-v-39621080]:after{content:\"\"}", ""]);

// exports


/***/ }),

/***/ 1650:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".-lesson-opt[data-v-3dbcd975]{padding:5px}.-lesson-opt .query-zone[data-v-3dbcd975]{background:#eee;padding:6px}.-lesson-opt .err[data-v-3dbcd975]{font-weight:700;color:#d82400;font-size:14px;text-align:center;padding:10px;background:#fafad2}.-lesson-opt section[data-v-3dbcd975]{clear:both;margin-bottom:15px}.-lesson-opt section.border[data-v-3dbcd975]{border:1px solid #d7dde4;border-radius:2px}.-lesson-opt .member[data-v-3dbcd975]{padding:8px}.-lesson-opt .member table[data-v-3dbcd975]{width:100%}.-lesson-opt .member .photo[data-v-3dbcd975]{vertical-align:middle}.-lesson-opt .member .photo img[data-v-3dbcd975]{width:105px;height:100px;border:0}.-lesson-opt .member .name[data-v-3dbcd975]{font-size:26px;padding-right:15px}.-lesson-opt .member .phone[data-v-3dbcd975]{margin-left:15px;font-size:14px;font-weight:700}.-lesson-opt .member .detail[data-v-3dbcd975]{margin:15px 0 0;padding:18px 0 0;border-top:1px dashed #ddd}.-lesson-opt .lesson[data-v-3dbcd975]{padding:15px 0;line-height:1.5}.-lesson-opt .lesson li[data-v-3dbcd975]{display:inline;padding:0 10px;border-right:1px solid #e0e0e0}.-lesson-opt .lesson li[data-v-3dbcd975]:last-child{border:0}.-lesson-opt .submit[data-v-3dbcd975]{padding:5px 0}.-lesson-opt .submit .primary[data-v-3dbcd975]{width:100px;margin-left:10px}.-lesson-opt .submit i[data-v-3dbcd975]{position:relative;top:2px}.-lesson-opt .submit .tips[data-v-3dbcd975]{color:#999;padding-left:4px}.-lesson-opt .query-opt[data-v-3dbcd975]{padding:5px 0 0;margin:0}.-lesson-opt .query-opt button[data-v-3dbcd975]{margin:0 7px;width:100px}", ""]);

// exports


/***/ }),

/***/ 1654:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".form-submit-bottom[data-v-3ffff113]{padding-left:215px}.form-submit-bottom button[data-v-3ffff113]{width:200px}.form-submit-bottom button[data-v-3ffff113]:last-child{margin-left:10px;width:100px}.mobile-more-menu-set .home-conf>ul .add-btn[data-v-3ffff113]{height:32px;margin-left:10px}.mobile-more-menu-set .home-conf>ul .home-li[data-v-3ffff113]{width:650px;background:#f7f7f7;padding:15px;padding-right:100px;margin-bottom:15px;cursor:move;border:1px solid #dddee1}.mobile-more-menu-set .home-conf>ul .home-li[data-v-3ffff113]:hover{border:1px solid #2d8cf0}.mobile-more-menu-set .home-conf>ul .home-li .parent[data-v-3ffff113]{display:flex;align-items:center}.mobile-more-menu-set .home-conf>ul .home-li .parent .sel[data-v-3ffff113]{flex:1}.mobile-more-menu-set .home-conf>ul .home-li .parent-name[data-v-3ffff113]{width:120px;margin-left:10px}.mobile-more-menu-set .home-conf>ul .no-move[data-v-3ffff113]{cursor:not-allowed}.mobile-more-menu-set .home-conf>ul .no-move[data-v-3ffff113]:hover{border:1px solid #dddee1}.mobile-more-menu-set .home-conf>ul .children-li-active[data-v-3ffff113]{border:1px solid #2d8cf0}.mobile-more-menu-set .home-conf>ul .add[data-v-3ffff113]{width:650px;display:flex;justify-content:space-between;align-items:center}.mobile-more-menu-set .home-conf>ul .is-children[data-v-3ffff113]{padding-bottom:10px}.mobile-more-menu-set .home-conf>ul .children[data-v-3ffff113],.mobile-more-menu-set .home-conf>ul .parent[data-v-3ffff113]{display:flex}.mobile-more-menu-set .home-conf>ul .children[data-v-3ffff113]{display:block}.mobile-more-menu-set .home-conf>ul .children .children-li[data-v-3ffff113]{display:flex;padding-left:0;padding:10px;padding-right:81px;margin-top:10px;background:#f5f5f5;border:1px solid #dddee1;cursor:move}.mobile-more-menu-set .home-conf>ul .children .children-li[data-v-3ffff113]:hover{background:#eee}.mobile-more-menu-set .home-conf>ul .children .children-li .sel[data-v-3ffff113]{flex:1}.mobile-more-menu-set .home-conf>ul .children .children-li .children-name[data-v-3ffff113]{width:120px;margin-left:10px}.mobile-more-menu-set .home-conf>ul .children .children-li-active[data-v-3ffff113]{border:1px solid #2d8cf0}", ""]);

// exports


/***/ }),

/***/ 1659:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".mytbl td[data-v-425e8b52],.mytbl th[data-v-425e8b52]{text-align:center}.mytbl .input[data-v-425e8b52]{width:100px;font-weight:800;font-size:13px;text-align:center}.mytbl li[data-v-425e8b52]{text-align:left}.submit[data-v-425e8b52]{margin:20px 0 0}.more-opts[data-v-425e8b52]{margin-top:25px;padding-top:15px;border-top:1px dotted #bbb}", ""]);

// exports


/***/ }),

/***/ 1665:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".postbl[data-v-45ad3d3a]{width:600px;overflow-x:auto}.postbl td[data-v-45ad3d3a]{padding:5px}.postbl .input[data-v-45ad3d3a]{width:50px;text-align:center}.postbl .input input[data-v-45ad3d3a]{text-align:center}", ""]);

// exports


/***/ }),

/***/ 1668:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1669:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".upper[data-v-48858576]{display:flex}.upper .btn[data-v-48858576]{margin-left:15px}", ""]);

// exports


/***/ }),

/***/ 1671:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".cnts[data-v-49e0cf75]{height:62px;line-height:62px;padding:0 15px}.cnts i[data-v-49e0cf75]{padding:0 15px;color:#bbb}", ""]);

// exports


/***/ }),

/***/ 1672:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".link[data-v-49e3f73e]{cursor:pointer}.link[data-v-49e3f73e]:hover{background:#f0f0f0}.url[data-v-49e3f73e]{background:#fdf30e;padding:3px 10px;margin-left:5px}.usages[data-v-49e3f73e]{width:100%}.usages td[data-v-49e3f73e]{width:33%;text-align:center;padding:10px 0;border-right:1px solid #eee;vertical-align:top}.usages td[data-v-49e3f73e]:last-child{border:0}.usages .img[data-v-49e3f73e]{height:210px}.usages .img .allpadding[data-v-49e3f73e]{padding:15px}.usages .img img[data-v-49e3f73e]{vertical-align:middle;display:block;height:200px;margin:auto}.usages .tit[data-v-49e3f73e]{font-size:14px;height:40px;line-height:40px}.usages .desc[data-v-49e3f73e]{font-size:13px;color:#ff8c00;line-height:1.8}.article[data-v-49e3f73e]{width:980px}.links[data-v-49e3f73e]{margin-left:5px}.links td[data-v-49e3f73e],.links th[data-v-49e3f73e]{padding:7px 0;border-bottom:1px solid #eee}.links th[data-v-49e3f73e]{width:120px;text-align:left;color:#777}.links th[data-v-49e3f73e]:before{content:\"\\25CF\";padding-right:10px}.underline-input[data-v-49e3f73e]{border:0;border-bottom:1px solid #aaa;width:70px;text-align:center;padding:0;border-radius:0;height:20px;outline:none;font-size:13px}.pic[data-v-49e3f73e]{margin-top:15px;border:1px solid #ddd}.sec-item[data-v-49e3f73e]{padding:15px 0;width:800px;border-bottom:1px dashed #eee}.sec-item[data-v-49e3f73e]:first-child{padding-top:0}.menu-conf li .sel[data-v-49e3f73e]{width:150px}.menu-conf li .input-name[data-v-49e3f73e]{width:150px;margin-left:5px}.menu-conf .submit[data-v-49e3f73e]{padding-left:20px;margin-top:20px}.menu-conf .submit button[data-v-49e3f73e]{width:100px}.skin-conf[data-v-49e3f73e]{text-align:left}.skin-conf li[data-v-49e3f73e]{display:inline-block;margin-right:10px;font-size:13px}.skin-conf li div[data-v-49e3f73e]{width:90px;height:60px;border-radius:4px;margin-bottom:7px}.skin-conf li.gold[data-v-49e3f73e]{color:#b79855}.skin-conf li.gold div[data-v-49e3f73e]{background:#b79855}.skin-conf li.black div[data-v-49e3f73e]{background:#2c2c2c}.skin-conf li.pink[data-v-49e3f73e]{color:#ffbbd6}.skin-conf li.pink div[data-v-49e3f73e]{background:#ffbbd6}.skin-conf li.green[data-v-49e3f73e]{color:#50c18e}.skin-conf li.green div[data-v-49e3f73e]{background:#50c18e}.skin-conf li i[data-v-49e3f73e]{font-size:14px;margin-right:3px}.home-content-set .home-conf>ul .add-btn[data-v-49e3f73e]{height:32px;margin-left:10px}.home-content-set .home-conf>ul .home-li[data-v-49e3f73e]{width:600px;background:#f7f7f7;padding:15px;padding-right:100px;margin-bottom:15px;cursor:move;border:1px solid #dddee1}.home-content-set .home-conf>ul .home-li[data-v-49e3f73e]:hover{border:1px solid #2d8cf0}.home-content-set .home-conf>ul .home-li .parent[data-v-49e3f73e]{display:flex;align-items:center}.home-content-set .home-conf>ul .home-li .parent .sel[data-v-49e3f73e]{flex:1}.home-content-set .home-conf>ul .children-li-active[data-v-49e3f73e]{border:1px solid #2d8cf0}.home-content-set .home-conf>ul .add[data-v-49e3f73e]{width:600px;display:flex;justify-content:space-between;align-items:center}.home-content-set .home-conf>ul .is-children[data-v-49e3f73e]{padding-bottom:10px}.home-content-set .home-conf>ul .children[data-v-49e3f73e],.home-content-set .home-conf>ul .parent[data-v-49e3f73e]{display:flex}.home-content-set .home-conf>ul .children[data-v-49e3f73e]{display:block}.home-content-set .home-conf>ul .children .children-li[data-v-49e3f73e]{display:flex;padding-left:0;padding:10px;padding-right:50px;margin-top:10px;background:#f5f5f5;border:1px solid #dddee1}.home-content-set .home-conf>ul .children .children-li[data-v-49e3f73e]:hover{background:#eee}.home-content-set .home-conf>ul .children .children-li .sel[data-v-49e3f73e]{width:200px}.home-content-set .home-conf>ul .children .children-li .children-name[data-v-49e3f73e]{flex:1;margin-left:10px}.home-content-set .home-conf>ul .children .children-li-active[data-v-49e3f73e]{border:1px solid #2d8cf0}.rank-set .rank-box[data-v-49e3f73e]{overflow:initial}.rank-set .sec-item[data-v-49e3f73e]{padding-bottom:0;border-bottom:none}.rank-set .sec-item td[data-v-49e3f73e],.rank-set .sec-item td[data-v-49e3f73e] .ivu-input,.rank-set .sec-item th[data-v-49e3f73e]{text-align:center}[data-v-49e3f73e].ivu-tabs-tabpane .ivu-tabs-tabpane section{padding:0 15px}[data-v-49e3f73e].ivu-tabs{overflow:initial}", ""]);

// exports


/***/ }),

/***/ 1704:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".payment-type[data-v-557c8352]{width:280px;border:1px solid #eee;border-radius:3px;background:#f4f4f4;padding:10px;margin-top:15px;margin-right:20px;text-align:center}.payment-type .tit[data-v-557c8352]{border-bottom:1px solid #ccc;padding:6px 0 10px;font-weight:700;margin-bottom:10px}.payment-type li[data-v-557c8352]{padding:5px 0}.payment-type .no[data-v-557c8352]{font-size:16px;font-weight:700}.payment-type img[data-v-557c8352]{width:200px;display:block;margin:auto}.-recharge-[data-v-557c8352]{font-size:13px}.-recharge- .page-h[data-v-557c8352]{margin-bottom:15px}.-recharge- .hd .r i[data-v-557c8352]{padding:0 8px;color:#ccc}.-recharge- .pay-btn[data-v-557c8352]{background:orange;color:#fff;height:35px;line-height:33px;width:120px;display:inline-block;text-align:center;border-radius:2px;font-size:12px;margin-right:10px}.-recharge- .pay-btn-alipay[data-v-557c8352]{background:#009fe8}.-recharge- .pay-btn-alipay[data-v-557c8352]:hover{background:#009be0}.-recharge- .pay-btn .icon-alipay[data-v-557c8352]{font-size:20px;position:relative;top:2px}.-recharge- .products[data-v-557c8352]{padding-top:8px}.-recharge- .products label[data-v-557c8352]{padding:10px 12px;border:1px solid #eee;font-size:13px;border-radius:2px;margin-right:10px}.-recharge- .products label u[data-v-557c8352]{margin-top:8px;font-size:14px;color:orange;font-weight:700;text-decoration:none;display:block}.-recharge- .products label i[data-v-557c8352]{font-weight:400;font-size:13px;color:#aaa;margin-left:5px;font-style:normal}.-recharge- .products .ivu-radio-wrapper-checked[data-v-557c8352]{border-color:orange}.-recharge- .sale-item[data-v-557c8352]{font-size:14px}.-recharge- .sale-item .input-box[data-v-557c8352]{border:1px solid #d7dde4;border-radius:2px;height:36px;line-height:36px;width:130px;margin-right:5px;display:inline-block}.-recharge- .sale-item .input-box input[data-v-557c8352]{border:0;width:75px;text-align:center;outline:none}.-recharge- .sale-item .input-box a.plus[data-v-557c8352]{color:#888;padding:2px 10px;background:#eee}.-recharge- .sale-item .input-box a.plus[data-v-557c8352]:hover{background:#ddd}.-recharge- .sale-item .flag[data-v-557c8352]{padding:0 10px;font-size:16px;color:#888}.-recharge- .submit[data-v-557c8352]{margin-top:20px;padding-top:15px;border-top:1px solid #f1f1f1}.-recharge- section .bd[data-v-557c8352]{width:630px}.-recharge- section .cnts[data-v-557c8352]{text-align:right;vertical-align:middle}.-recharge- section .cnts li[data-v-557c8352]{display:inline-block;padding:5px 22px;text-align:center;font-size:13px;color:#aaa;border-left:1px solid #f2f2f2}.-recharge- section .cnts li span[data-v-557c8352]{display:block;font-size:20px;margin-top:10px;font-weight:400}.-recharge- section .tips[data-v-557c8352]{font-size:12px;color:orange;padding-left:10px}.-recharge- section .tips[data-v-557c8352]:hover{color:#e20}", ""]);

// exports


/***/ }),

/***/ 1713:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".sum-count[data-v-5aa8e8b8]{line-height:32px;color:#777}.sum-count b[data-v-5aa8e8b8]{font-size:13px;color:#555}.stat-head[data-v-5aa8e8b8]{height:40px;line-height:40px;margin-bottom:18px}.stat-head .tit[data-v-5aa8e8b8]{font-size:15px;font-weight:700;padding-left:5px}.date-nav[data-v-5aa8e8b8]{display:inline-block;margin-left:50px}.date-nav a[data-v-5aa8e8b8]{display:inline-block;margin:0 10px}.date-nav a i[data-v-5aa8e8b8]{font-size:16px;text-align:center;width:120px;padding:8px 5px;display:inline-block;border-radius:15px}.date-nav a i[data-v-5aa8e8b8]:hover{background:#e0e0e0}.date-nav .datepicker[data-v-5aa8e8b8]{width:120px;text-align:center;display:inline-block;position:relative;top:-2px}.input-box[data-v-5aa8e8b8]{text-align:left;height:31px;line-height:31px;width:150px;display:inline-block;position:relative;top:2px}.input-box .r:hover i[data-v-5aa8e8b8]{color:red;cursor:pointer}.tblform th[data-v-5aa8e8b8]{text-align:right}.tblform td[data-v-5aa8e8b8],.tblform th[data-v-5aa8e8b8]{font-size:13px;padding-bottom:15px}.tblform .input-time[data-v-5aa8e8b8]{width:100px}.stat-by-mach[data-v-5aa8e8b8]{padding:15px 10px;margin:10px 0;border:1px solid #e0e0e0}.stat-by-mach li.item[data-v-5aa8e8b8]{padding:0 5px 0 8px;margin:5px;display:inline-block;line-height:28px;background:#e5e5e5}.barchart[data-v-5aa8e8b8]{width:100%;height:500px;margin:0;padding:0}.meclist img[data-v-5aa8e8b8]{height:50px;width:50px;display:block;border-radius:2px;margin-top:4px}.stat-member-info[data-v-5aa8e8b8]{padding:8px 0;display:flex;align-items:center;max-width:200px}.stat-member-info img[data-v-5aa8e8b8]{display:inline-block;width:50px;height:50px;border-radius:50%;cursor:pointer;margin-top:0}.stat-member-info a[data-v-5aa8e8b8]{font-size:14px;margin-left:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}.auto-wrap[data-v-5aa8e8b8]{display:flex;align-items:center;flex-wrap:wrap;line-height:20px}", ""]);

// exports


/***/ }),

/***/ 1718:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".tblform .tips[data-v-5fd8d72a]{padding:10px 0 5px;color:#999}.tblform .tips[data-v-5fd8d72a]:hover{color:#ff4500}.tblform .tips i[data-v-5fd8d72a]{padding-right:3px}.tblform .input[data-v-5fd8d72a]{text-align:center}.cont[data-v-5fd8d72a]{font-size:13px}.cont .txt[data-v-5fd8d72a]{line-height:2;font-size:12px;padding:0 15px 5px;color:#777}.voice-conf[data-v-5fd8d72a]{display:block;padding-top:15px}.voice-conf label[data-v-5fd8d72a]{display:inline-block;padding:0 12px 0 0}.checkin-types[data-v-5fd8d72a]{width:100%}.checkin-types td[data-v-5fd8d72a],.checkin-types th[data-v-5fd8d72a]{padding:30px 0 25px;vertical-align:top}.checkin-types th[data-v-5fd8d72a]{width:230px;text-align:center}.checkin-types th img[data-v-5fd8d72a]{width:200px;border-radius:3px;background:#eee}.checkin-types th img.border[data-v-5fd8d72a]{border:1px solid #eee;padding:2px}.checkin-types td[data-v-5fd8d72a]{padding-left:30px}.checkin-types td h2[data-v-5fd8d72a]{padding-bottom:20px;font-size:16px}.checkin-types td h2 span[data-v-5fd8d72a]{padding-right:15px;color:#aaa;font-family:tahoma,sans-serif;font-style:italic;font-size:16px}.checkin-types td .desc[data-v-5fd8d72a]{line-height:2;font-size:13px;width:700px}.checkin-types td .opts[data-v-5fd8d72a]{margin-top:30px;font-size:13px}.checkin-types td .tips[data-v-5fd8d72a]{margin-top:20px;color:orange}.checkin-types tr[data-v-5fd8d72a]{border-bottom:10px solid #f5f5f5}.checkin-types tr[data-v-5fd8d72a]:last-child{border-bottom:0}.checkin-types tr:last-child td[data-v-5fd8d72a],.checkin-types tr:last-child th[data-v-5fd8d72a]{padding-bottom:5px}.conf[data-v-5fd8d72a]{padding-top:15px}.conf .remark[data-v-5fd8d72a]{padding-top:15px;font-size:12px;color:#999}.conf-item[data-v-5fd8d72a]{width:900px}.conf-item .tit[data-v-5fd8d72a]{padding-right:10px}.conf-item label[data-v-5fd8d72a]{margin-right:20px}.charge-by-hour-conf[data-v-5fd8d72a]{margin-top:10px;border:1px dashed #ddd;padding:10px}.charge-by-hour-conf ul[data-v-5fd8d72a]{padding-top:5px}.charge-by-hour-conf li[data-v-5fd8d72a]{display:block;padding:5px 0}.charge-by-hour-conf li .input-s[data-v-5fd8d72a]{width:80px;margin:0 5px}.charge-by-hour-begin[data-v-5fd8d72a]{background:#f5f5f5;margin:10px 0 0;padding:10px}.charge-by-hour-begin .input-s[data-v-5fd8d72a]{width:150px;margin:0 5px 0 0}.form-submit[data-v-5fd8d72a]{margin-top:-20px;text-align:left;padding-left:120px}section .hd .r .query[data-v-5fd8d72a]{margin-right:20px}.smallbtn[data-v-5fd8d72a]{height:25px}.inputbox[data-v-5fd8d72a]{margin:0 5px;width:70px;text-align:center}", ""]);

// exports


/***/ }),

/***/ 1731:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".shop-param[data-v-690f74a0]{font-size:13px}.shop-param .inner-remark[data-v-690f74a0]{margin-top:30px;width:680px}.shop-param .inner-remark ul[data-v-690f74a0]{padding-left:20px}.shop-param .inner-remark li[data-v-690f74a0]{list-style-type:square;padding:5px 0}.shop-param .submit-btn[data-v-690f74a0]{width:120px}.shop-param .items[data-v-690f74a0]{padding-top:15px}.shop-param .items li[data-v-690f74a0]{display:inline-block;padding:10px 12px;margin-right:15px;cursor:pointer;background:#f5f5f5;border-radius:3px}.shop-param .items li[data-v-690f74a0]:hover{background:#e0e0e0}.shop-param .items li label[data-v-690f74a0]{font-size:13px}.shop-param .items li[data-v-690f74a0]:last-child{padding-right:0}", ""]);

// exports


/***/ }),

/***/ 1740:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1752:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".flex-center[data-v-73b1f5f4]{display:flex;align-items:center}.clear-icon[data-v-73b1f5f4]{color:#ccc;font-size:24px;margin:0 20px;cursor:pointer}.tag-setting .tag-line[data-v-73b1f5f4]{margin-bottom:15px}.tag-setting .tag-line span[data-v-73b1f5f4]{margin-right:10px;font-weight:500}", ""]);

// exports


/***/ }),

/***/ 1760:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".payment-type .payment-type-add[data-v-7a164d9a]{margin-bottom:16px}.payment-type .payment-type-add .input-s[data-v-7a164d9a]{width:200px}", ""]);

// exports


/***/ }),

/***/ 1766:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".items[data-v-7c8070ff]{border:1px solid #ddd;padding:0 10px;width:700px}.items label[data-v-7c8070ff]{font-size:13px;display:block;margin:0;border-top:1px dashed #dfdfdf;padding:12px 5px}.items label[data-v-7c8070ff]:first-child{border:0}.items label[data-v-7c8070ff]:hover{background:#fafafa}.items label b[data-v-7c8070ff]{display:inline-block;width:80px;margin-left:12px}.tblform td[data-v-7c8070ff],.tblform th[data-v-7c8070ff]{padding:6px 10px}.tblform th[data-v-7c8070ff]{font-size:13px}.tblform .tips[data-v-7c8070ff]{margin-left:18px;color:#999}.tblform .tips[data-v-7c8070ff]:hover{color:#ff4500}.tblform .input[data-v-7c8070ff]{width:200px}.tblform .submit[data-v-7c8070ff]{margin-top:10px}.tblform .submit-btn[data-v-7c8070ff]{width:100px}.tblform .warn[data-v-7c8070ff]{color:#ff4500;margin-left:30px}.tblform .warn i[data-v-7c8070ff]{font-size:14px;padding-right:3px}", ""]);

// exports


/***/ }),

/***/ 1779:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".vist-cust .booking-time[data-v-8b4c3ba6]{color:#777;margin-left:6px}.vist-cust .sec-hd[data-v-8b4c3ba6]{height:55px;line-height:55px}", ""]);

// exports


/***/ }),

/***/ 1789:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".vist-cust .booking-time[data-v-9c3f7aac]{color:#777;margin-left:6px}.vist-cust .bottom-stat[data-v-9c3f7aac]{padding:20px 0 5px;color:#666;text-align:right}.vist-cust .bottom-stat .spt[data-v-9c3f7aac]{padding:0 10px}", ""]);

// exports


/***/ }),

/***/ 1796:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".s[data-v-a6aff98c]{font-size:13px}.s .mytbl[data-v-a6aff98c]{margin:10px 0}.s .mytbl td[data-v-a6aff98c]{font-size:12px}.s .fields u[data-v-a6aff98c]{padding:2px 8px;border-radius:2px;display:inline-block;margin:0 3px;color:#1aad19;background:#f2f2f2;font-size:12px;text-decoration:none}.s .fields .must u[data-v-a6aff98c]{color:darkred}.s .upload-file[data-v-a6aff98c]{width:700px}.s .tips[data-v-a6aff98c]{margin-top:20px;border-top:1px dotted #ddd;width:900px;padding-top:10px}.s .tips .tit[data-v-a6aff98c]{padding:5px 0 8px;color:red;font-weight:700;font-size:15px}.s .tips ul[data-v-a6aff98c]{padding:0 0 0 20px;margin:0}.s .tips ul.err li[data-v-a6aff98c]{color:red;list-style-type:square;padding:3px 0}.s .tips ul.warn li[data-v-a6aff98c]{color:#0f64a0;list-style-type:square;padding:3px 0}.s .success[data-v-a6aff98c]{margin-top:15px;color:green;border-top:1px dotted #ddd;width:700px;padding-top:10px;font-size:14px}.s .success i.okicon[data-v-a6aff98c]{font-size:24px;margin-right:10px;position:relative;top:2px}", ""]);

// exports


/***/ }),

/***/ 1798:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".input[data-v-a935c3f8]{width:100%}", ""]);

// exports


/***/ }),

/***/ 1818:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1823:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(873)(false);
// imports


// module
exports.push([module.i, ".-shop-init-check .hd .iconfont[data-v-f0871c8a]{position:relative;top:1px}", ""]);

// exports


/***/ }),

/***/ 1841:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1540);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("9e1c1f9c", content, true, {});

/***/ }),

/***/ 1844:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1543);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("95245fc4", content, true, {});

/***/ }),

/***/ 1846:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1545);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("4fda6098", content, true, {});

/***/ }),

/***/ 1862:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1561);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("057747f4", content, true, {});

/***/ }),

/***/ 1865:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1564);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("7427f5f3", content, true, {});

/***/ }),

/***/ 1866:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1565);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("7c5e1a96", content, true, {});

/***/ }),

/***/ 1877:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1576);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("219ff2df", content, true, {});

/***/ }),

/***/ 1880:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1579);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("fa610f1c", content, true, {});

/***/ }),

/***/ 1890:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1589);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("982b726a", content, true, {});

/***/ }),

/***/ 1894:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1593);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("47ea4514", content, true, {});

/***/ }),

/***/ 1895:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1594);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("6e16b668", content, true, {});

/***/ }),

/***/ 1898:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1597);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("3e556f1d", content, true, {});

/***/ }),

/***/ 1910:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1609);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("99f4b0f2", content, true, {});

/***/ }),

/***/ 1918:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1617);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("00476340", content, true, {});

/***/ }),

/***/ 1927:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1626);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("22003787", content, true, {});

/***/ }),

/***/ 1937:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1636);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("123e7486", content, true, {});

/***/ }),

/***/ 1945:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1644);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("4928e73f", content, true, {});

/***/ }),

/***/ 1951:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1650);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("304154dd", content, true, {});

/***/ }),

/***/ 1955:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1654);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("b118559c", content, true, {});

/***/ }),

/***/ 1960:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1659);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("f9d816ba", content, true, {});

/***/ }),

/***/ 1966:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1665);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("6a786b62", content, true, {});

/***/ }),

/***/ 1969:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1668);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("1c706381", content, true, {});

/***/ }),

/***/ 1970:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1669);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("5b09ff15", content, true, {});

/***/ }),

/***/ 1972:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1671);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("23168c61", content, true, {});

/***/ }),

/***/ 1973:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1672);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("27ee20c0", content, true, {});

/***/ }),

/***/ 2005:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1704);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("0a0f47d8", content, true, {});

/***/ }),

/***/ 2014:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1713);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("0e3d3ff0", content, true, {});

/***/ }),

/***/ 2019:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1718);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("28dac4c1", content, true, {});

/***/ }),

/***/ 2032:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1731);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("1b47fd6d", content, true, {});

/***/ }),

/***/ 2041:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1740);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("1412fdff", content, true, {});

/***/ }),

/***/ 2053:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1752);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("9cd03cd8", content, true, {});

/***/ }),

/***/ 2061:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1760);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("7dbf2c2a", content, true, {});

/***/ }),

/***/ 2067:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1766);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("e5b79396", content, true, {});

/***/ }),

/***/ 2080:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1779);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("4f555a64", content, true, {});

/***/ }),

/***/ 2090:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1789);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("39efc71f", content, true, {});

/***/ }),

/***/ 2097:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1796);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("1b848ee0", content, true, {});

/***/ }),

/***/ 2099:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1798);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("9a56f894", content, true, {});

/***/ }),

/***/ 2119:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1818);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("0498a39e", content, true, {});

/***/ }),

/***/ 2124:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1823);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(874)("b21189a4", content, true, {});

/***/ }),

/***/ 2170:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/img/bac.7c9203a.jpg";

/***/ }),

/***/ 2171:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/img/body.1579c29.png";

/***/ }),

/***/ 2172:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/img/count.dc77376.png";

/***/ }),

/***/ 2173:
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABICAYAAABLJIP0AAAIMElEQVR4nO1ce2wURRj/TXu3d9fHbqmAPIK1aCoPgYIRwsMHqyKIj/iMJmiiIcZojCTGmBiDmhhRExM1MRpBTUwUDFFRFI3xVhCiwUStoEgLSikFbYG2y7X37o2Zu73Se+/OPq5n+CX3R2dnvvnudzPffN8335agwkFVuRmABOAIkRTVqm9TscTQgeUr0R94D+rgJETjQHUV4BUOwuV6gFzS9qNZ+RVJDFVlGd2936I/kKt/VRXFuPpHycx9b5iZo+KIoapM0B84hu7eqQU7MXLGS82kpe0o7zxVvAPLiJkYCBQmhSGRIIjFnzejYiUSMxHhaOle8eHLzUxSicScBtFlAYbNTFKJxPyOGs9gyV6u6j1mJqk4YoikUNR41xVdNYI7BrfrCTPzVOKKAbnol3fQULcOrupw3g51vk2kpe2MqTnMDC436J4mN9yum+AVViEUWYu4ZlYEdwQNdY2kpS3Iq2JFrpg0yLKjMbLor0/QNGkvEvTsg2jMg2jsIzOyK5qYEQTD1yGRyGw7E1xNO1pbeUX+P4gJRRfmtDEnLxj+hFdkxRNDVdmDaPSCvA8HQ8304NyHeeRyG1+qyjMwGHoSocgiUBqC4PoUDfUbiKSYcqw49FiIw917EYrk7+BxhyDVNZCWNh3u8lm4uJTpWfYsOv9Zj0BwNLEL0Bd4jO6fPYvM+eMkj1wuDCcWFw0RIjEfYvH3AdxtRLzhrURV+S4AzyAUyV1tQ6HxiMa+4/2OXAiGV4DS4iPPDN1F21tbjIjnsTHr4RWAi6YC7jwLLhSZTfc0GVLCFMLR+SWHDycIwpFtRqYxRAxV5XoAs5N/CO4UOR4htyNzuhxAUp9IdLKumQLBmfTgvDV6tTK6YtxZBADTpwA+T3Y/fcqaxwIECxjdfBgMvkk7WnV9Z0PEEEnpA9CV0eiqBpqnALW+0W1cRt0w4sPLEDFw2ISjdYjF39bTlcfGvJrTwhLRzZMBsTb1dzT+GN03a4gemr+Lnlj8CFXlJo55SmMofI3hMYHg/bSjdVqpbob9GKrK1QC2ALgj9yGA471AfyCzXXABXg9LBRyHx70b9TUfQHDvIpKSPzrWq8uh+afR09doeKBY+yuZe2BBsS5cDp5GzkPaZwb77QB0AEilE/85BZwqcsXDcik+TwI+zzF4hZ2or/kQbtf3RoiiqjwBXT29UEvnrHLnB3Bew61kxm8FTyrL0g5UlesAMMfOm2zo7Qd6+nQqSoAaTwJez1F4hV2o822B4N5NJKVg2oCq8kq0d32FaIxPYZ+nn1zWUXC1WZqPoar8MYDbRhpOq8CJU8YFpVYUhVc4Aa/wA2p9W+EVvhl900hPXvEy2rtMZenQKL5GZu1fl1cFU4KzQFWZud2bM1oHBoHuXpT0TkuBuQRe4SQ8ws/wef5AMLwWPX2SKZmu6mE0ilNIS1tv9iOricncTmkEgkDXv8hIJo0ViLU/krkHlmRrY2nagUgKs4Q7ch7U1wAXTmY3hGOPmEBwMW2fl3Ps26Hp1rytzAFkXjJzCMcS2BYfCm/O1sgOYr5gPmbeJ8xOTC8QfJYTwfAE+uec50ZrYMstQc7plI1YHDhyguVKxg45blcM4+onkpa2AdiY2sy/nc4qkVo5ucFn+RCLuxGJjehtFzGFt1Ma+YLP8oCF578B+AiBod20fV7S6bPtwq3kdkqDHeHHeliWzQlWGAlMr30A/gRwgJWoYWlnRp6aEMKX89WJrbqIqSLABZNSTuBAQKdow2CEbATwIpZ2Htcz2E5i0tvJW7InW7fTJqbSF6ctqy8EDyGjVbINurfTaLDAkwWg5pAm5CUs7ew2KsnurcSwzTAx5zemDDNP8GmSkNGwm5jPWT6PpaoMjTpPSm2rZPCpa4RlhKRhexkIVeXtAG7kGsxOKnZiFQ4+LScEDm0laNuJjxiWQ2bBZyeLzBPZT9lKvAFLOxUrlMyGE+Hupyyfzz26cPD5sF2kwAlitCsXc9e2ucEnO37fsUK/QnAqQcJdpzICT/rm0/0ZgKcs06wAHKnBo6o8kd0dWPBD/IT48HI07uSurdMDZnwdWTFEUlhO1VTdLQB26txuNylpOJlr9JsYG0yeQKLfsiO5FEasWbJki00OzGGZUADfEknZb8UkVJVZKdgi3uEA7oHot0QXvSCa4pdqXmpz1rivAdxHJMVQhZRWLrIcwLUAVgC4xISO2yH6bzYx3jCYjSFUlccl6/OBKQUE/AxgCZGUomUFyZq81IpjztwVFoYbyyH6d1okSxfSnu+6IqQwXAbgXgAZfgNVZZZOuArAau0z3QYdf3KalDRc2q9cCqsYMVSV2ZZYqX2u1pVrMYdXbJZfEIyY8Tr6XUlV+e88NshOHLbEMeRElZb7LIUJDpPC8DpEP3+MZRKMmE3lmrwITmXbNKdRpUW/xe6Bnk/+eoCTt2NvQfQ74uEWQtqPYTH941oakh27Ac2Ff5VIyl6cddKe004oOy+gQwCaIPqdqy7PQtKPMTqIqvLFAJ4GsMYmgjZC9D9og1zd4CImDarKLdo2u9NCnRLJFSv6D1ko0zBMEZMGVWVW/bhBc/3N4kuIfr40qIWwJO1AJOUXIinXa7HRXpPidBUnOwHLE1XJakrgBQClX37IBLspvLCcvksatiSqiKR8rcVXtwJoMzD03bFAShp2X9ESzTizHO28Il0TySBU9HP/9w4rYYnx1QONoFuSL4AB+d5s3QHRv7pcRGTDyZwvJZKyLfkaTf4tNubCkrK8qT9qBbEtNlXzdMeOfdH330bsBXMUKaUYS59zOAeDAPAfhB3pXrlZ2yoAAAAASUVORK5CYII="

/***/ }),

/***/ 2174:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/img/head.a716673.png";

/***/ }),

/***/ 2175:
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAX0AAAAECAYAAABiI+/sAAAB0ElEQVRYR+2Y3W6CQBCFvwXU/sTe+Bh9nr4P79MX6w03rWkiwq4ZFgryY51iaTVMYiLrzuzMAc8ZxjDbMAKxW5JgVBBtWACBykf2fxCpfAwBq+Ksy5thSaas+/JZjIsoNeQjahAEMvJxSfyxtyMj+oUaHJYde3V1a1K1D6QkOJXfGxmv5rrvnapg3WbDiwt55hGI2BJ9EUlGiCmJKGJBWhKZ/JnkFzH53jRLWMRpmsTw67UFA8ToWA2m73PpJ1OJX+XaF8BgsK1cdTjNu2cEZgRuGwGL+UbIDLtBCCx7zKA4SQvVFSHxAXsU0xVMW4ucxRF1xFJWs9Kvbk6CRrywzLUSaC+4GbH5NMTuiS13BdlXHV6zSxIZ8BY0iLVN5JJmt+sUD3rI1g2s9wmJrMntaAtMhdQpobjth3SubkZgRmBqBDx5V4Rbnz60LuxVE3S935IT9sSR/V4M2tYnSl4gchye8CEvrnx+lQjItXxECBLedaOLqQEec55mNHPPkgflKGBXvP3o8PPCqhv95D8aFzUfRnnBP37TGoPrVL7NN8qpzrzsOdc5HgpOdLPn4GNJWSjHMTIqko5UY+uC2HQ+QtbJmeOuDTmx6ZK7Jsd/uvcAoBCFb4CDMmIAAAAASUVORK5CYII="

/***/ }),

/***/ 2176:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/img/long.5e1c7c6.png";

/***/ }),

/***/ 2177:
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABICAYAAABLJIP0AAAIh0lEQVR4nO1ca2wcVxU++5rZnV1nE9t5q8yFkLYuoZBRFOOCZLoFUiIIihANKRIqSICIEAhUhASF8vhBQSqqyg8KpahVVKAFCpSHKh4ljVtRGu+GxnVLgSTHlMZ24rXXcXZ2Z7w7g85mpjjr3Z332FvlkzbO3nvuuXc+38c5554xXMZlXIYfiHQzi4jYr2nawUqlslvX9Tme53+2ffv2ET90dy0xp0+f3lcqlR4ulUq8pmmNskgkAqlUCnme3yNJ0j+96O9KYhDxqmKxOF4qlWKt6hOJRDWTyeyUJOkfbvuIehrhCkFRlG+0I4WwuLiYVFX1sJfRdSUxsiwPW8koivJmL310JTG1Wi1pQybupY+uJCYWi52xkolGo5qXPrqSGI7j7rKSSSaTL3rpoyuJ2bFjx/czmczRdvWxWEzjef5mL310JTGEwcHBYUEQbo/H48XmulgsVgGA573o71piCENDQ18fHh7uB4DebDZbNstVVU3XarUHvOjuamJMbNu2TajVaumlZeVy+UChUNjmVuerghhaWdVq9ZICTdMiiqI86lbhq4IYRVFuqNfry8plWb4mn89/wI1OT74SIiYA4FoAIGPqOcZY2UYz33HixImxc+fO7Will+f5eUEQeiVJcmTXuLIOETGmqupXZ2Zmbq1UKslarUa2RT2fzz8qCMJNAwMDtTAIMcYSLRaLV7arVxQly/M82T2fdqLX8VJCxIimaYcnJydvm5+fJ2eN1jNUq9VYqVTaPzc39zenOj1iQFEUrpOKcrl8qFAobHDSjZs9Zl80Gj24YcOGRvyjGZVKRRoZGdnn11NbQdf1QUVROkrV63Wa4b90otcNMR+if1KpFGzZsoV8klYyn3Gh1xWq1eoeM1DVCbIsX5fP56+324cbYraa/0kmk7B161ayNC8R0DTttX49uBVUVR20I6frOpH4Y7t63RBzbukXjuMa5MTj/9/HdV0PxQxAxJSqqlfYla9Wq5tGR0dvsyPr5gF+3VyQSCQa5NBPuOjybxwbG7vr1KlTb3Ch3wl2Kori6BlkWf5yoVAQrOQc2zGISFODPNuh5joyss6cOUPTu/GdllgymZQ5jnue47gnUqnU47FY7Chj7ILTflvh5MmTn0fEbzttl8lkfjs4OPjeTjKuDDxEXA8AtF7f0VxHG+Hk5CQ0m+gmeJ7XeZ5/meO4EUEQDicSib8wxloLW2B8fPwPU1NT73TaLhqN6tls9lpJkp5rJ+PV8r0OAOhDdkQeAO4FgCtoo5uamqJp27E9Hfc8z1Ps5CWO4/4sCMKD8Xj8ScaYaqf/48ePz8zOzva5GbsgCCeHhoZe33ZsbpS2AyLeCQCfA+MUmJ6eJuPKdnsiKplMahzHIcdxRwRB+IlB1LIZhYh909PTMxcuuF+V2Wz2Y7t27fphy7G41toCiPgWAPjr0pqzZ8/CwsKCK31LZ1QikTgqCMJDxtKTEXH/xMTEI+SOuAXHceV0Or1WkqRlSvwmhvRN0HJaWl4sFqFUKnnWbxClcxxX0nW9Z2FhwdNNAKGnp+eB3bt337KsL6+Km4GI3wWATzWXz83NwezsrN/deQbFh9esWcMkSXppqa4gDLGHWxWuW7cO+vv7A3k4L6jX61FVVZfZZkEQ8xQATLaqyGazQM7naoMsyzvz+fwldo3vxDDGyKP7Rbv6np4e2LRpU0vPfKVAJ2ilUrk/UGIMtCWGkE6nYfPmzauKHEVReo8dO3aH+T0oYkaanc1mWIQtwgIFcp4FgIcA4HZZlkcLhUIjVBDYrwwR7wGAT1jJkV9F/lWrYLbPUIyZfAIAXjAu5E7ncrllHdNMDpKYGwDgT3ZkFxcXG+R4MdY6QDFclTtyudzLdhoETUzMWE7r7MgTKUQOkeQTHBNiIlBi4CI59wHAR+3K03Iiz9wqhmsBk5Bv5XK5/7pREAYxZBs4ug20Clt0gGdCTIRBDG8spx4n7eyGLQz4RoiJwImBi+T8FAAOOG1H5JBn3iGs4DshJogYz96pDTzihhga3MaNGxt2zvnz55urKZC1N5fLPR7UoMOwrn5PAXq3jdevXw9r165tLj4UJCkQBjFG4PuPXnT09fVBb2+v+ZWO3/t8GVwHhGWP/9yrAiNsQeGBL/ozpM4IxYtDRPp1T7vNrjDwDABcL4qiraPKC2h/C2XGMMYodHfEgwo6dd4fBikmwnRtHWUbLAGRsVcURV+PZCssIwYRBboTDqAvdNFGB4CDoiiOBTCejnhlj0HEgwDwBQB4E1nmAEAJQN9jjLl+iwMRKef/rcaN5QdpVTlU8RtRFEPLtTHxiuWLiJ8FgO+0kSNyDtlVioiUC/duAHgXALyNskU8jJE2Wy97kys0iEFEyl8btzgxDjDGWkb/ETFtzIi9BiG20zIs8IwoirZyX/yG6RLcYuMYPWReixiXam8EgD0AcKMxKzrmwLnEnStBigki5GobctsR8WZjedBnc8Dj+rfhY60YiBg7t+5bAODBEAd5tyiKoaXEtgId14+t5ABaYAYAAveFrBA19o4XOsiR1Xo2xDHdE6aF2w5RxtiisW/8vYXMESMxiN7i+AoAzAc8HnrP6O6A+7CFS5xIwwbZRTcaADDKGHuxqZ5u5W81shnSjnuzxr2iKH482Ee2huvQpkHQlwDgk5RW59N4yNq+WhTFf/mkzzU8x3wR8TUA8DUA+LAPDunvRFF8j/fH8g7PYQfG2H8YYx8xDD7XL00Z+IGvT+cRQeTgfRMA3u6wKd0UspW2XUz4HqhijD3NGKMXGejztIOmP1otpJgI+sLtRmMGdfo7C7Tpvk4UxYkgx+IEgYc2GWNkVUsAsL+NnUR4bDWRYiKM6xOdMfarDgS1TEBeaYSe62WELd5HGUwAQJmK4qrbX8K4u24Hg6ABURQ9/amBIBCJROB/lhT8epwWDQYAAAAASUVORK5CYII="

/***/ }),

/***/ 2178:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/img/square.6f5f279.png";

/***/ }),

/***/ 2179:
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABICAYAAABLJIP0AAAIVElEQVR4nO1be6wcVRn/nZmd3b2Pbam0GIIGFYK1O8ZHYqUoRFOjBXYTiH/YYssjRq+CCTG9bSpORLKrYkpJU25MFQEJ3LaUh9AphIQCBQxBEnztrEbFGKWgkd5b4O7u3cfsHPNtZ+29e3d3Zs487l3SX7I3N2fO+c43vznnfI/5BqdxGqcRBNggs6hr6tlNC9fUTf5xACVFZpNX/th4NgjZA0vMY99TN89U+T3lKo9xu40xIBljf4/HcMmm24pv+JE/kMTomvqxE2X+u0qdd9VfkVEZjrPVm24rviY6h+RLw0VCtcF/2IsUQqOJ4UYT9/rRbiCJqZu4yLFPk6/zM8dAEmNxJB37WEj4mWMgiQHgeLBKDKafCQaSGEXGHsc+MfaKnzkGkpiNO4t7kgp7qdd1WYIZk/AVP3MM6lbCtbuL6xIxdossYbrzmixhZtkQEzbVGHTPt429N6x5z0iC/atc4yPttpEE+9mW24vfFJU5sCtmLs5ZIQ01LYzMbas2+Nf3b0ufLSrzXUEMgLV1k89raFqQ6iYeFRX4riCmZmKDxRe2V+t87b7x9JdEZMb8KKRrqgxgDYA4gGI2b1T9yBOF2eSf6TaUuKo1+H0AzvIqWujw1TWVNZrYUanxm2omH6WnFZOYmVBwIJVkV2fzRpfnFw50TZXeqvDZco3He00wmmS5zbuK3/eigNBWsizcNVWyflSq8dFGs7WfUTN57J1ZvnmqxJ+LhJFT+HCj2ZsUnNxSOw5sSy/3ItQzMbqmbpAkXLd8iHVdbtUGv/juG9d8watcUXCOi+jh9INpQambOOhlCpEVs4X+DMUZzhxlreRQJzjHjWGQ0A01k2/gLjbubIN/cd94+lNu5YoQ8772PwmFYeWotIAcznG+gFwhmE24ulkir27iQbdziBAzzwWPx4BVKYmi2VNKALKAXM/QNTXRaOL9bsdVG/zcya3pb7vpK0LM450NigysWiZRjNICYzjn4Pb0zkOaukZAvhd8ot7knu6h2uA7D25P9z2sIejH/BLAtwB8cp4g6eTKOV6yaHkPT5f5uDzLx+/9TrqiyDAUGb+Ox9hRieH5bN54W2DeBWha+KzpcPB2otFEsma20p6b+vUT9WPIYXoEwALHinya4zMWelkK2nqKzP6tyHghqbB9soSns3mjJKLHwe3pI9Nlvt7rOImBp5KtZPlfe/URjq7JyQOw3iZHAfB7ALsppiNypkoWHXZ9wVoJJXBFZscUGc8lFTYpSzjq1oOe3Jp+c6bKV4ron1RY8drdRbXX9UDTDrqm3gGgdbiRFZguc9rTrsfbRFlxmb0eO0nUfllqbb0FK0rX1BXTZT49Wxd3slNJtvGru4oP9NIlMOiaejGA59vySOUTZQ5R5eesqDfojEoo7MGYhCN0RumaeuV/3rYeIa9bFPEY3lmVks7oFsIETQxZiGMA5uVB3qpwlGvBhE/2GTXDOYYrde7bLRhJsJ9uub14Q2d7oGmHbN6g5/dwZ/sZw4wCuUDmoHOrXOOpIEjBSfM9tn9b+r2d7WHkY7rGJBRbLRtaepnUpgW5buJXne1hEPMigDe7XUglWWv1LDVUG3zdvvH0vMA3cGKyeaNp+zhdMZJgWDGytMghC1pr8Mm5bWGlNvsGa8N9IvPFQs3EWfdvTd/cnj4sYo722k5tJJUlQU4NwB8AkC9zc7XOjQe2pVuchKaWrql7AYw59SMrQ15yt2R2wKjZFvOPAP4M4E8A/jE2UVwQvDDG/CXDHfCwG2LIL1mZklrk+HHW+oAIuRPArWMTxdfdDgqTGNpOJwCscOpIaYsWOTMWpSGDghAhbYS6w3VNvYdeM7vtTyuGVo5TDtcBbUJ+MjZRPCYiIOytBNtsuyaGEl3tbeUUmXeBb0LmImxingJQJvfF7QBKkVIeearEKdHtZkighLQRurHUNfUA4L1WhSiZLvVNW4RCCCLaSoRHRYihJ0Z+zokyUFmYtqgDuGxsovhMYFp2IIqX+oftpysECh8ojOjA9WGSgiiIsbNvT/mRQYFn6lTagszvXYEo1wdRlYEsyNF4BaUslg+xxwDcFIXCUZwxhEP00tDnfC+PJtlVG3dGU0kRyYrJ5o3publgAZDV+XImV6hEoS8irqh6SHAckXFZJlcI1CQ7IUpiXhUYQ9tmUyZXKISgT1/8f8/rmnoFgO1U6Gf7CS8AmMjmDV1UuF2KttZ+MbdFQMThTK5wSHR+P2D2DdBLsjt6yLk1mze+63YOXVPPA3C5TcbnyKD40O/zmVzhaFA36xbk+TJdU8+3kzZKn3HZbN443O0ClWIAoBdtGQCXArggIP1ezuQKnw5Ilie0Q4LrHEghXG97sC3omvpBABvs33ovQaIH7AqbgH4gYj7iot9qXVMvnUNGUKuiF17t96YhCsRcxjG0Qp6IUK89mVzB1/dGfkHmOtRgTADHAYQeCzmBiLmfsuV9+k0B+G+EOu2N0sPtBSmbN2btA9To0ucIAProkkwwVVYHUiLWB6SL49drUWBeokPX1NW2Q9YA8Nts3vhLx3WqXhq3i4PCsER3ZnKFbyw6Kax7cbcjbIJ2AKC6EscvWl2CXpyszuQKfwvyJkUgTEwbuqZSje0PAFwD/7W9j2dyhYzfmwoCRIyvIDKbN17L5o2vAfiondv1g58vBVLaCLrU7EIAOQBeP7KgN4UfWGzfpQ3fW6kXdE2l4PEWAJe4HJLL5AqevicKE6ER0wZ9wmOfQf2CQTp0P5TJFf4Z5c33Q+jEtOFA0BOZXOHyKPRwC9+Hr1tk88aT2bxxoZ2W+E3HsF9EoYNXLEo905wVROb+3KVy6LbBFrsGTtfUCzjnWGo/APgf114nUcGuqFkAAAAASUVORK5CYII="

/***/ }),

/***/ 2193:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2080)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1271),
  /* template */
  __webpack_require__(2493),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-8b4c3ba6",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2205:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1880)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1332),
  /* template */
  __webpack_require__(2290),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-188fd812",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2206:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1945)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1333),
  /* template */
  __webpack_require__(2357),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-39621080",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2207:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1951)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1335),
  /* template */
  __webpack_require__(2363),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-3dbcd975",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2221:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2053)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1423),
  /* template */
  __webpack_require__(2465),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-73b1f5f4",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2222:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2119)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1424),
  /* template */
  __webpack_require__(2533),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-deee8e46",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2223:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1960)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1425),
  /* template */
  __webpack_require__(2372),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-425e8b52",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2224:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1937)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1426),
  /* template */
  __webpack_require__(2349),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-372d590b",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2225:
/***/ (function(module, exports, __webpack_require__) {

var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1427),
  /* template */
  __webpack_require__(2517),
  /* styles */
  null,
  /* scopeId */
  null,
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2226:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1918)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1428),
  /* template */
  __webpack_require__(2330),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-2c7cb3d6",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2227:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1890)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1429),
  /* template */
  __webpack_require__(2301),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-1d48ca6d",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2228:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1955)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1430),
  /* template */
  __webpack_require__(2367),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-3ffff113",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2229:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2061)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1431),
  /* template */
  __webpack_require__(2473),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-7a164d9a",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2230:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2067)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1432),
  /* template */
  __webpack_require__(2479),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-7c8070ff",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2231:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1877)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1433),
  /* template */
  __webpack_require__(2286),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-17425c89",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2232:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2097)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1434),
  /* template */
  __webpack_require__(2510),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-a6aff98c",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2233:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2032)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1435),
  /* template */
  __webpack_require__(2444),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-690f74a0",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2234:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2090)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1436),
  /* template */
  __webpack_require__(2503),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-9c3f7aac",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2235:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1910)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1437),
  /* template */
  __webpack_require__(2322),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-28fa8bee",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2236:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1970)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1438),
  /* template */
  __webpack_require__(2382),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-48858576",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2249:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-conf"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-conf",
      "page": "points-conf"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -points-conf"
  }, [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("基础积分设置")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.pointEditable) ? _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.savePointsBase
    }
  }, [_vm._v("保存设置")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _c('tr', [_c('td', {
    staticClass: "gray"
  }, [_vm._v("1")]), _vm._v(" "), _c('td', [_vm._v("新入会员")]), _vm._v(" "), _c('td', [_vm._v("\n              初始积分\n              "), _c('input-int', {
    model: {
      value: (_vm.points[0]),
      callback: function($$v) {
        _vm.$set(_vm.points, 0, _vm._n($$v))
      },
      expression: "points[0]"
    }
  }), _vm._v("分\n            ")], 1)]), _vm._v(" "), _c('tr', [_c('td', {
    staticClass: "gray"
  }, [_vm._v("2")]), _vm._v(" "), _c('td', [_vm._v("入场签到")]), _vm._v(" "), _c('td', [_vm._v("\n              每次获得\n              "), _c('input-int', {
    model: {
      value: (_vm.points[1]),
      callback: function($$v) {
        _vm.$set(_vm.points, 1, _vm._n($$v))
      },
      expression: "points[1]"
    }
  }), _vm._v("分\n              "), _c('span', {
    staticClass: "card-points-conf"
  }, [_c('a', {
    on: {
      "click": function($event) {
        return _vm.openCardPointsDlg(2011)
      }
    }
  }, [_vm._v("根据会员卡设置积分")])])], 1)]), _vm._v(" "), _c('tr', [_c('td', {
    staticClass: "gray"
  }, [_vm._v("3")]), _vm._v(" "), _c('td', [_vm._v("团课签到")]), _vm._v(" "), _c('td', [_vm._v("\n              每次获得\n              "), _c('input-int', {
    model: {
      value: (_vm.points[2]),
      callback: function($$v) {
        _vm.$set(_vm.points, 2, _vm._n($$v))
      },
      expression: "points[2]"
    }
  }), _vm._v("分\n              "), _c('span', {
    staticClass: "card-points-conf"
  }, [_c('a', {
    on: {
      "click": function($event) {
        return _vm.openCardPointsDlg(2038)
      }
    }
  }, [_vm._v("根据会员卡设置积分")])])], 1)]), _vm._v(" "), _c('tr', [_c('td', {
    staticClass: "gray"
  }, [_vm._v("4")]), _vm._v(" "), _c('td', [_vm._v("私教课签到")]), _vm._v(" "), _c('td', [_vm._v("\n              每次获得\n              "), _c('input-int', {
    model: {
      value: (_vm.points[3]),
      callback: function($$v) {
        _vm.$set(_vm.points, 3, _vm._n($$v))
      },
      expression: "points[3]"
    }
  }), _vm._v("分\n              "), _c('span', {
    staticClass: "card-points-conf"
  }, [_c('a', {
    on: {
      "click": function($event) {
        return _vm.openCardPointsDlg(2039)
      }
    }
  }, [_vm._v("根据会员卡设置积分")])])], 1)]), _vm._v(" "), _c('tr', [_c('td', {
    staticClass: "gray"
  }, [_vm._v("5")]), _vm._v(" "), _c('td', [_vm._v("课程评价")]), _vm._v(" "), _c('td', [_vm._v("\n              每次获得\n              "), _c('input-int', {
    model: {
      value: (_vm.points[4]),
      callback: function($$v) {
        _vm.$set(_vm.points, 4, _vm._n($$v))
      },
      expression: "points[4]"
    }
  }), _vm._v("分\n            ")], 1)]), _vm._v(" "), _c('tr', [_c('td', {
    staticClass: "gray"
  }, [_vm._v("6")]), _vm._v(" "), _c('td', [_vm._v("会员卡充值")]), _vm._v(" "), _c('td', [_vm._v("\n              每"), _c('b', [_vm._v(" " + _vm._s(_vm.pointAmountUnit) + " ")]), _vm._v("元兑\n              "), _c('input-int', {
    model: {
      value: (_vm.points[5]),
      callback: function($$v) {
        _vm.$set(_vm.points, 5, _vm._n($$v))
      },
      expression: "points[5]"
    }
  }), _vm._v("分\n              "), _c('span', {
    staticClass: "card-points-conf"
  }, [_c('a', {
    on: {
      "click": function($event) {
        return _vm.openCardPointsDlg(2040)
      }
    }
  }, [_vm._v("根据会员卡设置积分")])]), _vm._v(" "), (_vm.pointEditable) ? _c('span', [_c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v(" "), _c('a', {
    on: {
      "click": function($event) {
        _vm.pointsAmountConfDlg = true
      }
    }
  }, [_vm._v("设置积分兑换金额")])]) : _vm._e()], 1)])])]), _vm._v(" "), _vm._m(1)]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("积分规则设置")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.pointEditable) ? _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.openNewPointsRuleDlg
    }
  }, [_vm._v("添加规则")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(2), _vm._v(" "), _vm._l((_vm.pointsRuleList), function(r, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(r.ruleName))]), _vm._v(" "), _c('td', [(r.ruleType === 1) ? [(r.beginTime && r.endTime) ? [_vm._v(_vm._s(r.beginTime) + ", " + _vm._s(r.endTime))] : _vm._e(), _vm._v("\n                每周\n                "), _vm._l((r.weeks.split(',')), function(w) {
      return _c('span', [_vm._v(" " + _vm._s(_vm.g.Dict.SimpleWeekName[w]))])
    })] : (r.ruleType === 2) ? [_vm._v("会员生日时")] : (r.ruleType === 3) ? [_vm._v(_vm._s(r.beginTime) + " ~ " + _vm._s(r.endTime))] : (r.ruleType === 4) ? [_vm._v(_vm._s(r.beginTime) + " ~ " + _vm._s(r.endTime))] : _vm._e()], 2), _vm._v(" "), _c('td', _vm._l((r.pointsListStr.split(',')), function(item) {
      return _c('span', [(_vm.arr = item.split(':')) ? [_vm._v("\n                  " + _vm._s(_vm.g.Dict.PointsType[_vm.arr[0]]) + " "), _c('b', [_vm._v(_vm._s(_vm.arr[1]))]), _vm._v(" 分 /\n                ")] : _vm._e()], 2)
    }), 0), _vm._v(" "), _c('td', [(_vm.pointEditable) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openEditPointsRuleDlg(idx)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.delPointsRule(idx)
        }
      }
    }, [_vm._v("删除")])])]) : _vm._e()])])
  })], 2), _vm._v(" "), _c('div', {
    staticClass: "tbl-footer"
  }, [_c('div', {
    staticClass: "r gray"
  }, [_vm._v("共有 " + _vm._s(_vm.pointsRuleList.length) + " 条记录")])])])]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("积分头衔设置")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.pointEditable) ? _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.savePointsTitles
    }
  }, [_vm._v("保存设置")]) : _vm._e()], 1)]), _vm._v(" "), _c('ul', {
    staticClass: "points-title"
  }, _vm._l((_vm.pointsTitles), function(t, idx) {
    return _c('li', [_c('span', {
      staticClass: "no"
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('input-int', {
      model: {
        value: (t.begin),
        callback: function($$v) {
          _vm.$set(t, "begin", $$v)
        },
        expression: "t.begin"
      }
    }), _vm._v(" ~\n          "), _c('input-int', {
      model: {
        value: (t.end),
        callback: function($$v) {
          _vm.$set(t, "end", $$v)
        },
        expression: "t.end"
      }
    }), _vm._v(" "), _c('span', {
      staticClass: "gray l10"
    }, [_vm._v("分")]), _vm._v(" "), _c('i-input', {
      staticClass: "input-tit",
      attrs: {
        "type": "text",
        "placeholder": "头衔"
      },
      model: {
        value: (t.title),
        callback: function($$v) {
          _vm.$set(t, "title", (typeof $$v === 'string' ? $$v.trim() : $$v))
        },
        expression: "t.title"
      }
    }), _vm._v(" "), _c('span', {
      staticClass: "tit-color",
      style: ('background-color:#' + t.color),
      on: {
        "click": function($event) {
          return _vm.openPointsTitleColorDlg(idx)
        }
      }
    }, [_vm._v(_vm._s(t.title))]), _vm._v(" "), _c('span', {
      staticClass: "color-conf"
    }, [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openPointsTitleColorDlg(idx)
        }
      }
    }, [_vm._v("颜色设置")])])], 1)
  }), 0), _vm._v(" "), _c('i-button', {
    staticClass: "points-title-add-btn",
    attrs: {
      "icon": "md-add"
    },
    on: {
      "click": _vm.addMorePointsTitlesObjs
    }
  }, [_vm._v("添加更多头衔等级")]), _vm._v(" "), _vm._m(3)], 1), _vm._v(" "), (_vm.g.data.user.isShopOwner) ? _c('section', [_vm._m(4), _vm._v(" "), _c('div', [_c('i-switch', {
    attrs: {
      "size": "large"
    },
    on: {
      "on-change": _vm.changeEmptyPointsEnable
    },
    model: {
      value: (_vm.enableEmptyPoints),
      callback: function($$v) {
        _vm.enableEmptyPoints = $$v
      },
      expression: "enableEmptyPoints"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), (_vm.enableEmptyPoints) ? [_c('span', {
    staticClass: "points-clear-input"
  }, [_vm._v("\n            清零日期：\n            "), _c('input-int', {
    attrs: {
      "placeholder": "月"
    },
    model: {
      value: (_vm.pointsClearMonth),
      callback: function($$v) {
        _vm.pointsClearMonth = _vm._n($$v)
      },
      expression: "pointsClearMonth"
    }
  }), _vm._v(" 月\n            "), _c('input-int', {
    attrs: {
      "placeholder": "日"
    },
    model: {
      value: (_vm.pointsClearDay),
      callback: function($$v) {
        _vm.pointsClearDay = _vm._n($$v)
      },
      expression: "pointsClearDay"
    }
  }), _vm._v(" 日\n          ")], 1), _vm._v(" "), _c('span', {
    staticClass: "l15"
  }, [_c('i-button', {
    attrs: {
      "type": "primary",
      "size": "small"
    },
    on: {
      "click": _vm.updatePointsClearConf
    }
  }, [_vm._v("确定")])], 1), _vm._v(" "), _c('div', {
    staticClass: "mt15 tips orangered"
  }, [_vm._v("\n            如果设置为“是”，系统将在上述清零日期的“23:59:00”，将所有会员的【剩余积分】自动清零\n          ")])] : _vm._e()], 2)]) : _vm._e(), _vm._v(" "), _c('section', [_vm._m(5), _vm._v(" "), _c('ul', [_c('li', [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', {
    attrs: {
      "width": "170"
    }
  }, [_c('checkbox', {
    attrs: {
      "disabled": !_vm.pointEditable
    },
    model: {
      value: (_vm.enableMecPointsLimit),
      callback: function($$v) {
        _vm.enableMecPointsLimit = $$v
      },
      expression: "enableMecPointsLimit"
    }
  }, [_vm._v("每天入场签到仅积分一次")])], 1), _vm._v(" "), _c('td', [_c('i-select', {
    attrs: {
      "multiple": "",
      "placeholder": "请选择限制积分的签到会员卡（可多选）",
      "disabled": !_vm.pointEditable || !_vm.enableMecPointsLimit
    },
    model: {
      value: (_vm.cardIdListForMecLimit),
      callback: function($$v) {
        _vm.cardIdListForMecLimit = $$v
      },
      expression: "cardIdListForMecLimit"
    }
  }, _vm._l((_vm.cardList), function(c) {
    return _c('i-option', {
      key: c.cardId,
      attrs: {
        "value": c.cardId
      }
    }, [_vm._v(_vm._s(c.cardName))])
  }), 1)], 1), _vm._v(" "), _c('td', {
    attrs: {
      "width": "80",
      "align": "right"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary",
      "disabled": !_vm.pointEditable
    },
    on: {
      "click": _vm.saveMecPointsLimit
    }
  }, [_vm._v("确定")])], 1)])])])])]), _vm._v(" "), _vm._m(6)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "积分规则",
      "width": "750",
      "styles": {
        top: '10px'
      },
      "mask-closable": false
    },
    model: {
      value: (_vm.pointsRuleDlgView),
      callback: function($$v) {
        _vm.pointsRuleDlgView = $$v
      },
      expression: "pointsRuleDlgView"
    }
  }, [(_vm.pointsRuleDlgView) ? _c('i-form', {
    ref: "pointsRule",
    staticClass: "myform -rule-form",
    staticStyle: {
      "width": "580px"
    },
    attrs: {
      "model": _vm.pointsRule,
      "rules": _vm.formRule,
      "label-width": 90
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "ruleName",
      "label": "规则名称",
      "required": ""
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": ""
    },
    model: {
      value: (_vm.pointsRule.ruleName),
      callback: function($$v) {
        _vm.$set(_vm.pointsRule, "ruleName", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "pointsRule.ruleName"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "ruleType",
      "label": "规则类型"
    }
  }, [_c('radio-group', {
    model: {
      value: (_vm.pointsRule.ruleType),
      callback: function($$v) {
        _vm.$set(_vm.pointsRule, "ruleType", $$v)
      },
      expression: "pointsRule.ruleType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("每周几生效")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("会员生日时生效")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 3
    }
  }, [_vm._v("有效期内生效")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 4
    }
  }, [_vm._v("时间范围内生效")])], 1)], 1), _vm._v(" "), _c('form-item', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.pointsRule.ruleType === 1),
      expression: "pointsRule.ruleType === 1"
    }],
    attrs: {
      "label": "每周生效日"
    }
  }, [_c('checkbox-group', {
    model: {
      value: (_vm.ruleWeeks),
      callback: function($$v) {
        _vm.ruleWeeks = $$v
      },
      expression: "ruleWeeks"
    }
  }, [_c('checkbox', {
    attrs: {
      "label": "1"
    }
  }, [_vm._v("周一")]), _vm._v(" "), _c('checkbox', {
    attrs: {
      "label": "2"
    }
  }, [_vm._v("周二")]), _vm._v(" "), _c('checkbox', {
    attrs: {
      "label": "3"
    }
  }, [_vm._v("周三")]), _vm._v(" "), _c('checkbox', {
    attrs: {
      "label": "4"
    }
  }, [_vm._v("周四")]), _vm._v(" "), _c('checkbox', {
    attrs: {
      "label": "5"
    }
  }, [_vm._v("周五")]), _vm._v(" "), _c('checkbox', {
    attrs: {
      "label": "6"
    }
  }, [_vm._v("周六")]), _vm._v(" "), _c('checkbox', {
    attrs: {
      "label": "0"
    }
  }, [_vm._v("周日")])], 1)], 1), _vm._v(" "), (_vm.pointsRule.ruleType === 1 || _vm.pointsRule.ruleType === 3) ? _c('form-item', {
    attrs: {
      "label": "有效期"
    }
  }, [_c('date-picker', {
    staticClass: "date",
    attrs: {
      "type": "datetime",
      "placeholder": "开始日期"
    },
    model: {
      value: (_vm.pointsRule.beginTime),
      callback: function($$v) {
        _vm.$set(_vm.pointsRule, "beginTime", $$v)
      },
      expression: "pointsRule.beginTime"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("~")]), _vm._v(" "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "type": "datetime",
      "placeholder": "结束日期"
    },
    model: {
      value: (_vm.pointsRule.endTime),
      callback: function($$v) {
        _vm.$set(_vm.pointsRule, "endTime", $$v)
      },
      expression: "pointsRule.endTime"
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.pointsRule.ruleType === 4) ? _c('form-item', {
    attrs: {
      "label": "时间范围"
    }
  }, [_c('TimePicker', {
    staticClass: "date",
    attrs: {
      "placeholder": "开始时间"
    },
    model: {
      value: (_vm.pointsRule.beginTime),
      callback: function($$v) {
        _vm.$set(_vm.pointsRule, "beginTime", $$v)
      },
      expression: "pointsRule.beginTime"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("~")]), _vm._v(" "), _c('TimePicker', {
    staticClass: "date",
    attrs: {
      "placeholder": "结束时间"
    },
    model: {
      value: (_vm.pointsRule.endTime),
      callback: function($$v) {
        _vm.$set(_vm.pointsRule, "endTime", $$v)
      },
      expression: "pointsRule.endTime"
    }
  })], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "label": "积分设置",
      "required": ""
    }
  }, [_c('ul', {
    staticClass: "points-item"
  }, [_c('li', [_c('span', {
    staticClass: "label"
  }, [_vm._v("新入会员")]), _vm._v(" 初始积分\n            "), _c('input-int', {
    model: {
      value: (_vm.rulePoints[0]),
      callback: function($$v) {
        _vm.$set(_vm.rulePoints, 0, _vm._n($$v))
      },
      expression: "rulePoints[0]"
    }
  }), _vm._v("分\n            "), (_vm.points[0]) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("（基础设置 " + _vm._s(_vm.points[0]) + " 分）")]) : _vm._e()], 1), _vm._v(" "), _c('li', [_c('span', {
    staticClass: "label"
  }, [_vm._v("入场签到")]), _vm._v(" 每次获得\n            "), _c('input-int', {
    model: {
      value: (_vm.rulePoints[1]),
      callback: function($$v) {
        _vm.$set(_vm.rulePoints, 1, _vm._n($$v))
      },
      expression: "rulePoints[1]"
    }
  }), _vm._v("分\n            "), (_vm.points[1]) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("（基础设置 " + _vm._s(_vm.points[1]) + " 分）")]) : _vm._e()], 1), _vm._v(" "), _c('li', [_c('span', {
    staticClass: "label"
  }, [_vm._v("团课签到")]), _vm._v(" 每次获得\n            "), _c('input-int', {
    model: {
      value: (_vm.rulePoints[2]),
      callback: function($$v) {
        _vm.$set(_vm.rulePoints, 2, _vm._n($$v))
      },
      expression: "rulePoints[2]"
    }
  }), _vm._v("分\n            "), (_vm.points[2]) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("（基础设置 " + _vm._s(_vm.points[2]) + " 分）")]) : _vm._e()], 1), _vm._v(" "), _c('li', [_c('span', {
    staticClass: "label"
  }, [_vm._v("私教课会员")]), _vm._v(" 每次获得\n            "), _c('input-int', {
    model: {
      value: (_vm.rulePoints[3]),
      callback: function($$v) {
        _vm.$set(_vm.rulePoints, 3, _vm._n($$v))
      },
      expression: "rulePoints[3]"
    }
  }), _vm._v("分\n            "), (_vm.points[3]) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("（基础设置 " + _vm._s(_vm.points[3]) + " 分）")]) : _vm._e()], 1), _vm._v(" "), _c('li', [_c('span', {
    staticClass: "label"
  }, [_vm._v("课程评价")]), _vm._v(" 每次获得\n            "), _c('input-int', {
    model: {
      value: (_vm.rulePoints[4]),
      callback: function($$v) {
        _vm.$set(_vm.rulePoints, 4, _vm._n($$v))
      },
      expression: "rulePoints[4]"
    }
  }), _vm._v("分\n            "), (_vm.points[4]) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("（基础设置 " + _vm._s(_vm.points[4]) + " 分）")]) : _vm._e()], 1), _vm._v(" "), _c('li', [_c('span', {
    staticClass: "label"
  }, [_vm._v("会员卡充值")]), _vm._v(" 每"), _c('b', [_vm._v(" " + _vm._s(_vm.pointAmountUnit) + " ")]), _vm._v("元兑\n            "), _c('input-int', {
    model: {
      value: (_vm.rulePoints[5]),
      callback: function($$v) {
        _vm.$set(_vm.rulePoints, 5, _vm._n($$v))
      },
      expression: "rulePoints[5]"
    }
  }), _vm._v("分\n            "), (_vm.points[5]) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("（基础设置 " + _vm._s(_vm.points[5]) + " 分）")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "rule-tips"
  }, [_c('i', {
    staticClass: "iconfont infoicon icon-svginfor"
  }), _vm._v(" 若设置为空，则默认使用基础积分设置")])])], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "90px"
    }
  }, [(_vm.pointEditable) ? _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.savePointsRule()
      }
    }
  }, [_vm._v("提交")]) : _vm._e()], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "积分头衔背景色选择",
      "width": "800",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewBgcolorDlg),
      callback: function($$v) {
        _vm.viewBgcolorDlg = $$v
      },
      expression: "viewBgcolorDlg"
    }
  }, [(_vm.viewBgcolorDlg) ? [_c('ul', {
    staticClass: "color-list"
  }, _vm._l((_vm.colorList), function(c, idx) {
    return _c('li', {
      style: ('background:#' + c),
      on: {
        "click": function($event) {
          return _vm.setColor(idx)
        }
      }
    }, [_vm._v(" ")])
  }), 0), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        _vm.viewBgcolorDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)] : _vm._e()], 2), _vm._v(" "), _c('modal', {
    attrs: {
      "title": _vm.cardPointsDlgTitle,
      "width": "700",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.cardPointsDlg),
      callback: function($$v) {
        _vm.cardPointsDlg = $$v
      },
      expression: "cardPointsDlg"
    }
  }, [_c('div', {
    staticClass: "orange"
  }, [_vm._v("可根据会员卡设置不同的积分，如为空则使用默认设置的积分")]), _vm._v(" "), (_vm.cardPointsDlg) ? _c('div', {
    staticClass: "mytbl p15"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "250"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', [_c('span', {
    staticClass: "l10"
  }, [(_vm.cardPointsArgType === 2040) ? [_vm._v("每"), _c('b', [_vm._v(" " + _vm._s(_vm.pointAmountUnit) + " ")]), _vm._v("元兑换积分")] : [_vm._v("获取积分")]], 2)])]), _vm._v(" "), _vm._l((_vm.cardPointsList), function(c) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(c.cardName))]), _vm._v(" "), _c('td', [_c('input-int', {
      model: {
        value: (c.points),
        callback: function($$v) {
          _vm.$set(c, "points", $$v)
        },
        expression: "c.points"
      }
    }), _vm._v(" 分\n          ")], 1)])
  })], 2)]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "form-submit center",
    staticStyle: {
      "margin-top": "-20px",
      "border": "0"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveCardPoints
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.cardPointsDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "设置积分兑换金额",
      "width": "500",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.pointsAmountConfDlg),
      callback: function($$v) {
        _vm.pointsAmountConfDlg = $$v
      },
      expression: "pointsAmountConfDlg"
    }
  }, [_c('div', {
    staticClass: "center mt15"
  }, [_vm._v("\n      每\n      "), _c('input-int', {
    model: {
      value: (_vm.pointAmountUnit),
      callback: function($$v) {
        _vm.pointAmountUnit = _vm._n($$v)
      },
      expression: "pointAmountUnit"
    }
  }), _vm._v(" 元兑换 * 分\n      "), _c('span', {
    staticClass: "l15"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.updatePointAmountUnit
    }
  }, [_vm._v("确定")])], 1)], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("积分类型")]), _vm._v(" "), _c('th', [_vm._v("积分设置")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "tbl-tips"
  }, [_c('i', {
    staticClass: "iconfont infoicon icon-svginfor"
  }), _vm._v("\n        若不想设置积分，保持为空即可 ;   只支持整数积分，输入小数积分保存后将自动取整。\n      ")])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "180"
    }
  }, [_vm._v("规则名称")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("规则生效")]), _vm._v(" "), _c('th', [_vm._v("积分设置")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("操作")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "tbl-tips"
  }, [_c('i', {
    staticClass: "iconfont infoicon icon-svginfor"
  }), _vm._v("\n        积分头衔仅根据会员的【累计积分】计算； 背景色将在会员查询列表中显示\n      ")])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("积分自动清零设置")]), _vm._v(" "), _c('div', {
    staticClass: "r orange"
  }, [_vm._v("仅店长有权限设置")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("积分限制")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit-help"
  }, [_vm._v("您需要知道的")])]), _vm._v(" "), _c('ol', [_c('li', [_vm._v("基础积分设置：不区分日期的一般积分设置；")]), _vm._v(" "), _c('li', [_vm._v("积分规则设置：在特定日期的积分设置（替代基础积分设置），在设定的日期之外，不起作用；")]), _vm._v(" "), _c('li', [_vm._v("如果设定的规则有重叠，同一积分类型有多个积分设置值，则取最大积分值。")]), _vm._v(" "), _c('li', [_vm._v("健总管会员积分可分为【剩余积分】和【累计积分】，积分增加时两者同步增加；")]), _vm._v(" "), _c('li', [_vm._v("当会员使用积分消费微商城商品时，消耗的是【剩余积分】，而【累计积分】不会变；累计积分用于积分排名和积分头衔；")])])])
}]}

/***/ }),

/***/ 2252:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-conf"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-conf",
      "page": "shop-edit"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('Tabs', {
    attrs: {
      "animated": false
    },
    on: {
      "on-click": _vm.tabChange
    },
    model: {
      value: (_vm.activeType),
      callback: function($$v) {
        _vm.activeType = $$v
      },
      expression: "activeType"
    }
  }, [_c('TabPane', {
    attrs: {
      "label": "基本信息",
      "name": "shop"
    }
  }, [_c('shop-edit', {
    attrs: {
      "encSid": _vm.encSid,
      "editable": true,
      "from": "shop"
    }
  })], 1), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "门店器械",
      "name": "eq"
    }
  }, [_c('shop-equipment', {
    attrs: {
      "editable": true
    }
  })], 1)], 1)], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2254:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-conf"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-conf",
      "page": "cust-source"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("客户来源设置")]), _vm._v(" "), _c('div', {
    staticClass: "r small"
  }, [(_vm.custSrcEditable) ? _c('i-button', {
    attrs: {
      "type": "primary",
      "icon": "md-add"
    },
    on: {
      "click": function($event) {
        return _vm.create()
      }
    }
  }, [_vm._v("添加客户来源")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.custSourceList), function(cs, idx) {
    return _c('tr', [_c('td', {
      staticClass: "order-no",
      on: {
        "click": function($event) {
          return _vm.updateOrderNo(cs.sourceId)
        }
      }
    }, [(!_vm.g.Util.isEmpty(cs.orderNo)) ? _c('a', [_vm._v(_vm._s(cs.orderNo))]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(cs.sourceName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(cs.sourceDesc))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(cs.updateUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(cs.updateTime))]), _vm._v(" "), _c('td', [(_vm.custSrcEditable) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.update(idx)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      attrs: {
        "title": "删除"
      },
      on: {
        "click": function($event) {
          return _vm.delCustSource(idx)
        }
      }
    }, [_c('i', {
      staticClass: "iconfont icon-delete normal"
    })])])]) : _vm._e()])])
  })], 2)])])]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "客户来源",
      "width": "450"
    },
    model: {
      value: (_vm.dlgShow),
      callback: function($$v) {
        _vm.dlgShow = $$v
      },
      expression: "dlgShow"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "来源名称",
      "maxlength": 50
    },
    model: {
      value: (_vm.custSource.sourceName),
      callback: function($$v) {
        _vm.$set(_vm.custSource, "sourceName", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "custSource.sourceName"
    }
  }), _c('p'), _vm._v(" "), _c('input-int', {
    attrs: {
      "placeholder": "排序的序号"
    },
    model: {
      value: (_vm.custSource.orderNo),
      callback: function($$v) {
        _vm.$set(_vm.custSource, "orderNo", $$v)
      },
      expression: "custSource.orderNo"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "gray l10"
  }, [_vm._v("序号越小，显示顺序越靠前")]), _c('p'), _vm._v(" "), _c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 5,
      "maxlength": 200,
      "placeholder": "来源备注"
    },
    model: {
      value: (_vm.custSource.sourceDesc),
      callback: function($$v) {
        _vm.$set(_vm.custSource, "sourceDesc", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "custSource.sourceDesc"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submit
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    attrs: {
      "type": "default"
    },
    on: {
      "click": function($event) {
        _vm.dlgShow = false;
      }
    }
  }, [_vm._v("取消")])], 1)], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "45"
    }
  }, [_vm._v("序号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("名称")]), _vm._v(" "), _c('th', [_vm._v("备注")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("更新人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("更新时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作")])])
}]}

/***/ }),

/***/ 2271:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "set-pos"
  }, [_c('shop-nav', {
    attrs: {
      "menu": "shop-conf"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-conf",
      "page": "set-pos"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [(!_vm.applyRole) ? _c('section', {
    staticClass: "no-permit"
  }, [_c('i', {
    staticClass: "iconfont icon-alert2 big"
  }), _vm._v(" 此功能只能店长或超管可操作\n    ")]) : [_c('section', [_c('div', [_c('span', {
    staticClass: "title"
  }, [_vm._v("\n            是否启用POS机支付：\n          ")]), _vm._v(" "), _c('i-switch', {
    attrs: {
      "true-value": 'true',
      "false-value": 'false',
      "size": "large"
    },
    on: {
      "on-change": _vm.shopArgUpdate
    },
    model: {
      value: (_vm.isPosArg),
      callback: function($$v) {
        _vm.isPosArg = $$v
      },
      expression: "isPosArg"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("开")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("关")])]), _vm._v(" "), _c('help', [_vm._v("\n            开启之后才能配置POS机，购课的时候才会出现POS机选项进行支付。\n          ")])], 1)]), _vm._v(" "), (_vm.isPosArg === 'true') ? _c('section', [_vm._m(0), _vm._v(" "), _c('i-form', {
    ref: "posParamRefs",
    staticClass: "myform",
    staticStyle: {
      "width": "1000px",
      "margin-top": "10px"
    },
    attrs: {
      "model": _vm.posParam,
      "rules": _vm.pointsRule,
      "label-width": 120
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "cusid",
      "label": "cusid",
      "request": ""
    }
  }, [_c('i-input', {
    style: ({
      width: '400px'
    }),
    attrs: {
      "type": "text",
      "placeholder": "请设置cusid"
    },
    model: {
      value: (_vm.posParam.cusid),
      callback: function($$v) {
        _vm.$set(_vm.posParam, "cusid", $$v)
      },
      expression: "posParam.cusid"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "appid",
      "label": "appid",
      "request": ""
    }
  }, [_c('i-input', {
    style: ({
      width: '400px'
    }),
    attrs: {
      "type": "text",
      "placeholder": "请设置appid"
    },
    model: {
      value: (_vm.posParam.appid),
      callback: function($$v) {
        _vm.$set(_vm.posParam, "appid", $$v)
      },
      expression: "posParam.appid"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "appkey",
      "label": "MD5加密密码",
      "request": ""
    }
  }, [_c('i-input', {
    style: ({
      width: '400px'
    }),
    attrs: {
      "type": "text",
      "placeholder": "请设置MD5加密密码"
    },
    model: {
      value: (_vm.posParam.appkey),
      callback: function($$v) {
        _vm.$set(_vm.posParam, "appkey", $$v)
      },
      expression: "posParam.appkey"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "sm2cusprikey",
      "label": "SM2密钥"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 5,
      "placeholder": "请设置SM2密钥"
    },
    model: {
      value: (_vm.posParam.sm2cusprikey),
      callback: function($$v) {
        _vm.$set(_vm.posParam, "sm2cusprikey", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "posParam.sm2cusprikey"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "rsacusprikey",
      "label": "RSA密钥"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 16,
      "placeholder": "请设置RSA密钥"
    },
    model: {
      value: (_vm.posParam.rsacusprikey),
      callback: function($$v) {
        _vm.$set(_vm.posParam, "rsacusprikey", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "posParam.rsacusprikey"
    }
  })], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "120px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.onClickSubmitBtn()
      }
    }
  }, [_vm._v("保存")]), _vm._v(" "), (_vm.isPosFlag) ? _c('i-button', {
    on: {
      "click": function($event) {
        return _vm.deleteBtn()
      }
    }
  }, [_vm._v("删除")]) : _vm._e()], 1)], 1) : _vm._e()]], 2)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("POS机基本信息")])])
}]}

/***/ }),

/***/ 2274:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "more-tools"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "more-tools",
      "page": "local-mach-conf"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit l"
  }, [_vm._v("签到消费机设置")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.editable && _vm.enableMachAuth) ? _c('i-button', {
    attrs: {
      "icon": "md-add"
    },
    on: {
      "click": _vm.openNewIcMach
    }
  }, [_vm._v("添加设备")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.icMachList), function(m, idx) {
    return _c('tr', [_c('td', [_c('b', {
      staticClass: "big"
    }, [_vm._v(_vm._s(m.machNo))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.machName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.IcMachType[m.machType]))]), _vm._v(" "), _c('td', [(m.machType < 4) ? _c('a', {
      on: {
        "click": function($event) {
          return _vm.editIcMach(idx)
        }
      }
    }, [_vm._v("点击查看")]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.updateTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.remark))]), _vm._v(" "), _c('td', [_c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.editIcMach(idx)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), (m.machClass > 0) ? _c('li', {
      on: {
        "click": function($event) {
          return _vm.viewIcMachUser(m.machId)
        }
      }
    }, [_c('a', [_vm._v("用户设置")])]) : _vm._e(), _vm._v(" "), _c('li', [_c('a', {
      attrs: {
        "title": "删除"
      },
      on: {
        "click": function($event) {
          return _vm.delIcMach(idx)
        }
      }
    }, [_c('i', {
      staticClass: "iconfont icon-delete normal"
    })])])])])])
  })], 2), _vm._v(" "), (_vm.icMachList && !_vm.icMachList.length) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e()])])]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "签到消费机设置",
      "width": "850",
      "styles": {
        'top': '10px'
      },
      "closable": true,
      "mask-closable": false
    },
    model: {
      value: (_vm.icMachDlg),
      callback: function($$v) {
        _vm.icMachDlg = $$v
      },
      expression: "icMachDlg"
    }
  }, [_c('div', {
    staticClass: "warning"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v("\n\t\t\t\t修改【机器编号、用途、会员卡计费】会立即影响到会员签到签出，请慎重修改，慎重修改，慎重修改！\n      ")]), _vm._v(" "), (_vm.icMachDlg) ? _c('i-form', {
    ref: "icMach",
    staticClass: "myform",
    staticStyle: {
      "width": "600px",
      "margin-top": "10px"
    },
    attrs: {
      "model": _vm.icMach,
      "rules": _vm.icMachRule,
      "label-width": 100
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "machClass",
      "label": "设备型号"
    }
  }, [_c('RadioGroup', {
    model: {
      value: (_vm.icMach.machClass),
      callback: function($$v) {
        _vm.$set(_vm.icMach, "machClass", _vm._n($$v))
      },
      expression: "icMach.machClass"
    }
  }, [(_vm.icMach.machClass < 2) ? [_c('Radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("健总管IC刷卡机")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("健总管一体机（人脸+指纹+刷卡）")])] : _vm._e(), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("ZTK")])], 2)], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "machName",
      "label": "设备名称"
    }
  }, [_c('i-input', {
    staticClass: "input",
    attrs: {
      "type": "text",
      "placeholder": "自由设置设备名称，便于识别和称呼"
    },
    model: {
      value: (_vm.icMach.machName),
      callback: function($$v) {
        _vm.$set(_vm.icMach, "machName", $$v)
      },
      expression: "icMach.machName"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "machNo",
      "label": "机器编号"
    }
  }, [(_vm.icMach.machClass < 2) ? [_c('i-select', {
    staticStyle: {
      "width": "170px"
    },
    attrs: {
      "placeholder": "请选择系统分配的编号"
    },
    model: {
      value: (_vm.icMach.machNo),
      callback: function($$v) {
        _vm.$set(_vm.icMach, "machNo", $$v)
      },
      expression: "icMach.machNo"
    }
  }, [_vm._l((_vm.icMachNoList), function(no) {
    return _c('i-option', {
      key: no,
      attrs: {
        "value": no
      }
    }, [_vm._v(_vm._s(no))])
  }), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("暂无")])])], 2)] : [_c('i-input', {
    staticStyle: {
      "width": "170px"
    },
    model: {
      value: (_vm.icMach.machNo),
      callback: function($$v) {
        _vm.$set(_vm.icMach, "machNo", $$v)
      },
      expression: "icMach.machNo"
    }
  })], _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v(" （也称设备机号或序列号，每个门店的机器编号不能重复）")])], 2), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "machType",
      "label": "用途"
    }
  }, [_c('RadioGroup', {
    model: {
      value: (_vm.icMach.machType),
      callback: function($$v) {
        _vm.$set(_vm.icMach, "machType", _vm._n($$v))
      },
      expression: "icMach.machType"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("入场签到")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("出场签出")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 3
    }
  }, [_vm._v("入场+出场")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 4
    }
  }, [_vm._v("团课签到")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 5
    }
  }, [_vm._v("私教课签到")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 6
    }
  }, [_vm._v("团课+私教课签到")])], 1)], 1), _vm._v(" "), (_vm.icMach.machType === 1) ? _c('form-item', {
    attrs: {
      "prop": "allowMoreEntry",
      "label": "入场限制"
    }
  }, [_c('RadioGroup', {
    model: {
      value: (_vm.icMach.allowMoreEntry),
      callback: function($$v) {
        _vm.$set(_vm.icMach, "allowMoreEntry", _vm._n($$v))
      },
      expression: "icMach.allowMoreEntry"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("签到后只允许入场一次")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("签到后允许多次入场")])], 1), _vm._v(" "), _c('help', [_vm._v("\n\t\t\t\t\t\t如果允许多次入场，签到一次后，再次入场签到时，系统不做签到处理，签到消费机会放行；否则不予放行。\n\t\t\t\t\t")])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "备注"
    }
  }, [_c('i-input', {
    staticClass: "input",
    attrs: {
      "type": "textarea",
      "rows": 3
    },
    model: {
      value: (_vm.icMach.remark),
      callback: function($$v) {
        _vm.$set(_vm.icMach, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "icMach.remark"
    }
  })], 1)], 1) : _vm._e(), _vm._v(" "), (_vm.icMach.machType < 4) ? _c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', {
    staticClass: "required",
    staticStyle: {
      "padding-right": "15px"
    },
    attrs: {
      "width": "100",
      "align": "right",
      "valign": "top"
    }
  }, [_vm._v("会员卡计费")]), _vm._v(" "), _c('td', {
    staticClass: "card-pay",
    attrs: {
      "valign": "top"
    }
  }, [_c('i-button', {
    attrs: {
      "icon": "md-add"
    },
    on: {
      "click": _vm.openNewIcMachCard
    }
  }, [_vm._v("添加")]), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor"
  }), _vm._v(" 可添加多个计费会员卡，结算时系统自动按顺序选择首张有效会员卡计费")]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "250"
    }
  }, [_vm._v("会员卡")]), _c('th', [_vm._v("计费详细")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作")])]), _vm._v(" "), _vm._l((_vm.icMachCardList), function(c, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(c.orderNo))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.cardName))]), _vm._v(" "), _c('td', [(c.cardType === 1) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("期限卡不计费")]) : [(c.paymentType === 1) ? [_vm._v("每次计费 "), _c('b', [_vm._v(_vm._s(c.payment))])] : (c.paymentType === 2) ? [_vm._v("每小时计费 "), _c('b', [_vm._v(_vm._s(c.payment))])] : _vm._e(), _vm._v(" "), (c.cardType === 2) ? [_vm._v("次")] : (c.cardType === 3) ? [_vm._v("元")] : _vm._e()], _vm._v(" "), (c.paymentType === 2 && c.cardType !== 1) ? [_vm._v("\n\t\t\t\t\t\t\t\t\t\t\t，不足一小时的计费方式：\n\t\t\t\t\t\t\t\t\t\t\t"), (c.halfHourBegin && c.halfHourEnd) ? _c('div', {
      staticClass: "p5"
    }, [_c('i', {
      staticClass: "iconfont icon-arrow-r-2 small"
    }), _vm._v(" " + _vm._s(c.halfHourBegin) + " ~ " + _vm._s(c.halfHourEnd) + " 分钟，按半小时计费\n\t\t\t\t\t\t\t\t\t\t\t")]) : _vm._e(), _vm._v(" "), (c.oneHourBegin && c.oneHourEnd) ? _c('div', {
      staticClass: "p5"
    }, [_c('i', {
      staticClass: "iconfont icon-arrow-r-2 small"
    }), _vm._v(" " + _vm._s(c.oneHourBegin) + " ~ " + _vm._s(c.oneHourEnd) + " 分钟，按一小时计费\n\t\t\t\t\t\t\t\t\t\t\t")]) : _vm._e()] : _vm._e()], 2), _vm._v(" "), _c('td', [_c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.editIcMachCard(idx)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.delIcMachCard(idx)
        }
      }
    }, [_vm._v("删除")])])])])])
  })], 2)])], 1)])]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "margin-bottom": "-20px"
    }
  }, [_c('i-button', {
    staticStyle: {
      "margin-left": "100px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.submitIcMach()
      }
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    attrs: {
      "type": "default"
    },
    on: {
      "click": function($event) {
        _vm.icMachDlg = false;
      }
    }
  }, [_vm._v("关闭")])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "签到消费机会员卡计费设置",
      "width": "600",
      "styles": {
        'top': '10px'
      },
      "closable": false,
      "mask-closable": false
    },
    model: {
      value: (_vm.icMachCardDlg),
      callback: function($$v) {
        _vm.icMachCardDlg = $$v
      },
      expression: "icMachCardDlg"
    }
  }, [(_vm.icMachCardDlg) ? _c('table', {
    staticClass: "card-form"
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('td', [_c('i-select', {
    staticStyle: {
      "width": "300px"
    },
    attrs: {
      "filterable": ""
    },
    on: {
      "on-change": _vm.changeCard
    },
    model: {
      value: (_vm.icMachCard.cardId),
      callback: function($$v) {
        _vm.$set(_vm.icMachCard, "cardId", $$v)
      },
      expression: "icMachCard.cardId"
    }
  }, _vm._l((_vm.cardList), function(c) {
    return _c('i-option', {
      key: c.cardId,
      attrs: {
        "value": c.cardId
      }
    }, [_vm._v(_vm._s(c.cardName))])
  }), 1)], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("计费方式")]), _vm._v(" "), _c('td', [(_vm.icMachCard.cardType === 1) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("按天消费")]) : _c('RadioGroup', {
    model: {
      value: (_vm.icMachCard.paymentType),
      callback: function($$v) {
        _vm.$set(_vm.icMachCard, "paymentType", $$v)
      },
      expression: "icMachCard.paymentType"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("按次收费")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("按小时收费")])], 1)], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("计费额")]), _vm._v(" "), _c('td', [(_vm.icMachCard.cardType === 1) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("期限卡不计费")]) : [_c('input-num', {
    model: {
      value: (_vm.icMachCard.payment),
      callback: function($$v) {
        _vm.$set(_vm.icMachCard, "payment", $$v)
      },
      expression: "icMachCard.payment"
    }
  }), _vm._v("  \n\t\t\t\t\t\t\t"), (_vm.icMachCard.cardType === 2) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("次")]) : (_vm.icMachCard.cardType === 3) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("元")]) : _vm._e(), _vm._v(" "), (_vm.icMachCard.paymentType === 2) ? _c('span', {
    staticClass: "gray"
  }, [_vm._v("/ 小时")]) : _vm._e()]], 2)]), _vm._v(" "), (_vm.icMachCard.paymentType === 2 && _vm.icMachCard.cardType !== 1) ? _c('tr', [_c('th', [_vm._v("额外计费")]), _vm._v(" "), _c('td', [_c('div', {
    staticClass: "charge-by-hour-conf"
  }, [_c('span', {
    staticClass: "orange"
  }, [_vm._v("不足一小时的计费方式：")]), _vm._v(" "), _c('ul', [_c('li', [_c('Icon', {
    attrs: {
      "type": "ios-time-outline",
      "size": "18"
    }
  }), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    model: {
      value: (_vm.icMachCard.halfHourBegin),
      callback: function($$v) {
        _vm.$set(_vm.icMachCard, "halfHourBegin", $$v)
      },
      expression: "icMachCard.halfHourBegin"
    }
  }), _vm._v(" 分钟\n\t\t\t\t\t\t\t\t~ "), _c('input-int', {
    staticClass: "input-s",
    model: {
      value: (_vm.icMachCard.halfHourEnd),
      callback: function($$v) {
        _vm.$set(_vm.icMachCard, "halfHourEnd", $$v)
      },
      expression: "icMachCard.halfHourEnd"
    }
  }), _vm._v(" 分钟，按半小时计费")], 1), _vm._v(" "), _c('li', [_c('Icon', {
    attrs: {
      "type": "ios-clock-outline",
      "size": "18"
    }
  }), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    model: {
      value: (_vm.icMachCard.oneHourBegin),
      callback: function($$v) {
        _vm.$set(_vm.icMachCard, "oneHourBegin", $$v)
      },
      expression: "icMachCard.oneHourBegin"
    }
  }), _vm._v(" 分钟\n\t\t\t\t\t\t\t\t~ "), _c('input-int', {
    staticClass: "input-s",
    model: {
      value: (_vm.icMachCard.oneHourEnd),
      callback: function($$v) {
        _vm.$set(_vm.icMachCard, "oneHourEnd", $$v)
      },
      expression: "icMachCard.oneHourEnd"
    }
  }), _vm._v(" 分钟，按一小时计费")], 1)])])])]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("排序号")]), _vm._v(" "), _c('td', [_c('input-int', {
    model: {
      value: (_vm.icMachCard.orderNo),
      callback: function($$v) {
        _vm.$set(_vm.icMachCard, "orderNo", $$v)
      },
      expression: "icMachCard.orderNo"
    }
  })], 1)])]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "95px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submitIcMachCard
    }
  }, [_vm._v("提交")]), _vm._v("  \n\t\t\t\t"), _c('i-button', {
    attrs: {
      "type": "default"
    },
    on: {
      "click": function($event) {
        _vm.icMachCardDlg = false;
      }
    }
  }, [_vm._v("关闭")])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "签到消费机用户",
      "width": "800",
      "styles": {
        'top': '10px'
      },
      "mask-closable": false
    },
    model: {
      value: (_vm.icMachUserDlg),
      callback: function($$v) {
        _vm.icMachUserDlg = $$v
      },
      expression: "icMachUserDlg"
    }
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', [_c('i-button', {
    attrs: {
      "type": "primary",
      "icon": "ios-arrow-down"
    },
    on: {
      "click": _vm.openIcMachUserDlg
    }
  }, [_vm._v("添加用户")])], 1), _vm._v(" "), _c('td', {
    attrs: {
      "align": "right"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "placeholder": "请输入用户手机号查询"
    },
    on: {
      "on-enter": function($event) {
        return _vm.queryIcMachUser(null)
      }
    },
    model: {
      value: (_vm.queryUserPhone),
      callback: function($$v) {
        _vm.queryUserPhone = _vm._n($$v)
      },
      expression: "queryUserPhone"
    }
  })], 1)])]), _vm._v(" "), (_vm.icMachUserEditPanel) ? _c('div', {
    staticClass: "user-panel"
  }, [_c('table', [_c('tr', [_c('td', [_vm._v("会员手机号")]), _vm._v(" "), _c('td', [_c('input-int', {
    staticStyle: {
      "width": "120px"
    },
    on: {
      "blur": _vm.queryMemberBaseQuery
    },
    model: {
      value: (_vm.icMachUser.phoneNo),
      callback: function($$v) {
        _vm.$set(_vm.icMachUser, "phoneNo", $$v)
      },
      expression: "icMachUser.phoneNo"
    }
  }), _vm._v(" "), (_vm.icMachUser.phoneNo && _vm.icMachUser.userName) ? _c('span', {
    staticClass: "member-name"
  }, [_vm._v(_vm._s(_vm.icMachUser.userName))]) : _vm._e()], 1), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t\t\t用户编号\n\t\t\t\t\t\t\t"), _c('help', [_vm._v("即设备上对应的“工号”，只需要输入有效整数，例如，00000001，只需输入"), _c('b', [_vm._v("1")])])], 1), _vm._v(" "), _c('td', [_c('input-int', {
    staticStyle: {
      "width": "100px"
    },
    model: {
      value: (_vm.icMachUser.userNo),
      callback: function($$v) {
        _vm.$set(_vm.icMachUser, "userNo", $$v)
      },
      expression: "icMachUser.userNo"
    }
  })], 1), _vm._v(" "), _c('td', [_c('i-button', {
    on: {
      "click": _vm.createIcMachUser
    }
  }, [_vm._v("提交")])], 1)])]), _vm._v(" "), (_vm.icMachList && _vm.icMachList.length > 1) ? _c('div', {
    staticClass: "sync-user"
  }, [_vm._v("\n\t\t\t\t\t自动同步到其它设备：\n          "), _c('CheckboxGroup', {
    staticStyle: {
      "display": "inline-block"
    },
    model: {
      value: (_vm.syncMachIdList),
      callback: function($$v) {
        _vm.syncMachIdList = $$v
      },
      expression: "syncMachIdList"
    }
  }, _vm._l((_vm.icMachList), function(m) {
    return (m.machId !== _vm.selectMachId) ? _c('Checkbox', {
      key: m.machId,
      attrs: {
        "label": m.machId
      }
    }, [_vm._v(_vm._s(m.machName))]) : _vm._e()
  }), 1)], 1) : _vm._e()]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "mytbl",
    staticStyle: {
      "margin-top": "15px",
      "min-height": "300px"
    }
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("用户编号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("姓名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("手机号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("创建人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("创建时间")]), _vm._v(" "), _c('th', [_vm._v("操作")])]), _vm._v(" "), _vm._l((_vm.icMachUserList), function(u) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(u.userNo))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(u.userName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(u.userPhoneNo))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(u.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(u.createTime))]), _vm._v(" "), _c('td', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.deleteIcMachUser(u.imuId, u.userName)
        }
      }
    }, [_vm._v("删除")])])])
  })], 2), _vm._v(" "), (_vm.icMachUserCount > 0) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.icMachUserCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryIcMachUser
    }
  })], 1) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    staticStyle: {
      "width": "100px"
    },
    on: {
      "click": function($event) {
        _vm.icMachUserDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("机器编号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "180"
    }
  }, [_vm._v("名称")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("用途")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("会员卡计费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("更新时间")]), _vm._v(" "), _c('th', [_vm._v("备注")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("操作")])])
}]}

/***/ }),

/***/ 2275:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [(_vm.bgUrl) ? _c('div', {
    staticClass: "ckin-screen",
    style: ('background: linear-gradient( rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6) ), url(' + _vm.bgUrl + '); background-size: cover; height: 100%;')
  }, [_c('div', {
    staticClass: "item0"
  }, [_c('div', {
    staticClass: "welcome"
  }, [_c('table', {
    attrs: {
      "width": "100%",
      "height": "100%"
    }
  }, [_c('tr', [_c('td', [_c('div', {
    staticClass: "inner"
  }, [_c('div', {
    staticClass: "hd"
  }, [_vm._v("欢迎光临 / WELCOME")]), _vm._v(" "), _c('div', {
    staticClass: "qrcode"
  }, [_c('div', {
    staticClass: "txt"
  }, [_vm._v("微信扫码签到")]), _vm._v(" "), _c('img', {
    attrs: {
      "src": _vm.qrcodeImgUrl
    }
  })]), _vm._v(" "), _c('div', {
    staticClass: "shop-name"
  }, [_vm._v(_vm._s(_vm.g.data.shop.shopName))]), _vm._v(" "), (_vm.conf.needCheckinCount) ? _c('div', {
    staticClass: "stat"
  }, [_vm._v("\n\t\t\t\t\t\t\t\t今日入场签到"), _c('b', [_vm._v(_vm._s(_vm.screenData.todayCheckins))]), _vm._v("人\n\t\t\t\t\t\t\t")]) : _vm._e()])])])]), _vm._v(" "), _c('div', {
    staticClass: "conf",
    attrs: {
      "title": "大屏幕设置"
    },
    on: {
      "click": _vm.openPageConfDlg
    }
  }, [_c('Icon', {
    attrs: {
      "type": "ios-settings"
    }
  })], 1)])]), _vm._v(" "), (_vm.conf.needCheckinRecords) ? _c('div', {
    staticClass: "item1"
  }, [_c('div', {
    staticClass: "box ckin-rank"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_vm._m(0), _vm._v(" "), _vm._l((_vm.screenData.mecList), function(c) {
    return _c('tr', [_c('td', [_c('img', {
      attrs: {
        "src": _vm.g.Util.getImgUrl(c.avatarPathname, 100, 100, 'EEEEEE')
      }
    })]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.memberName.shorten(3)))]), _vm._v(" "), _c('th', [_vm._v(_vm._s(Date.new(c.createTime).format('hh:mm')))])])
  })], 2)])]) : _vm._e(), _vm._v(" "), (_vm.conf.needPointsRankByMonth || _vm.conf.needPointsRankOfAll) ? _c('div', {
    staticClass: "item1"
  }, [_c('table', {
    staticClass: "more-items",
    attrs: {
      "width": "100%",
      "height": "100%"
    }
  }, [(_vm.conf.needPointsRankByMonth) ? _c('tr', [_c('td', {
    attrs: {
      "height": "50%"
    }
  }, [_c('div', {
    staticClass: "box more-rank"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_vm._m(1), _vm._v(" "), _vm._m(2), _vm._v(" "), _vm._l((_vm.screenData.entryCheckinRankList), function(d, idx) {
    return _c('tr', [_c('td', {
      staticClass: "no"
    }, [_vm._v(_vm._s(idx + 1))]), _c('td', [_vm._v(_vm._s(d.name.shorten(4)))]), _c('td', [_vm._v(_vm._s(d.entryCheckins))])])
  })], 2)])])]) : _vm._e(), _vm._v(" "), (_vm.conf.needPointsRankOfAll) ? _c('tr', [_c('td', [_c('div', {
    staticClass: "box more-rank"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_vm._m(3), _vm._v(" "), _vm._m(4), _vm._v(" "), _vm._l((_vm.screenData.pointsRankList), function(d, idx) {
    return _c('tr', [_c('td', {
      staticClass: "no"
    }, [_vm._v(_vm._s(idx + 1))]), _c('td', [_vm._v(_vm._s(d.name.shorten(4)))]), _c('td', [_vm._v(_vm._s(d.points))])])
  })], 2)])])]) : _vm._e()])]) : _vm._e()]) : _vm._e(), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "签到成功",
      "width": "880",
      "closable": false,
      "mask-closable": false
    },
    model: {
      value: (_vm.checkinMsgDlg),
      callback: function($$v) {
        _vm.checkinMsgDlg = $$v
      },
      expression: "checkinMsgDlg"
    }
  }, [_c('div', {
    staticClass: "checkin-msg"
  }, [_c('div', [_c('Icon', {
    staticClass: "icon",
    attrs: {
      "type": "md-checkmark-circle"
    }
  })], 1), _vm._v(" "), _c('div', {
    staticClass: "welcome"
  }, [_vm._v("欢迎光临，" + _vm._s(_vm.screenData.memberName))]), _vm._v(" "), _c('div', {
    staticClass: "tips"
  }, [_vm._v("\n\t\t\t\t您共入场签到 "), _c('b', {
    staticClass: "orange"
  }, [_vm._v(_vm._s(_vm.screenData.memberCheckins))]), _vm._v(" 次，\n\t\t\t\t本月共入场签到 "), _c('b', {
    staticClass: "orangered"
  }, [_vm._v(_vm._s(_vm.screenData.memberCheckinsOfThisMonth))]), _vm._v(" 次\n\t\t\t\t"), (_vm.g.Util.isNotEmpty(_vm.screenData.memberCardLeftDays)) ? _c('div', {
    staticClass: "p15"
  }, [_vm._v("\n\t\t\t\t\t『" + _vm._s(_vm.screenData.memberCardName) + "』剩余 "), _c('b', [_vm._v(_vm._s(_vm.screenData.memberCardLeftDays))]), _vm._v(" 天\n\t\t\t\t")]) : _vm._e()])]), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "大屏幕设置",
      "width": "500"
    },
    model: {
      value: (_vm.pageConfDlg),
      callback: function($$v) {
        _vm.pageConfDlg = $$v
      },
      expression: "pageConfDlg"
    }
  }, [(_vm.pageConfDlg) ? _c('div', {
    staticClass: "conf"
  }, [_c('ul', [_c('li', [_c('Checkbox', {
    model: {
      value: (_vm.conf.playVoice),
      callback: function($$v) {
        _vm.$set(_vm.conf, "playVoice", $$v)
      },
      expression: "conf.playVoice"
    }
  }, [_vm._v("开启签到语音播报")])], 1), _vm._v(" "), _c('li', [_c('Checkbox', {
    model: {
      value: (_vm.conf.needMemberCheckinInfo),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needMemberCheckinInfo", $$v)
      },
      expression: "conf.needMemberCheckinInfo"
    }
  }, [_vm._v("显示签到成功提示")])], 1), _vm._v(" "), _c('li', [_c('Checkbox', {
    model: {
      value: (_vm.conf.needCheckinCount),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needCheckinCount", $$v)
      },
      expression: "conf.needCheckinCount"
    }
  }, [_vm._v("显示入场签到人数")])], 1), _vm._v(" "), _c('li', [_c('Checkbox', {
    model: {
      value: (_vm.conf.needCheckinRecords),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needCheckinRecords", $$v)
      },
      expression: "conf.needCheckinRecords"
    }
  }, [_vm._v("显示今日入场签到")])], 1), _vm._v(" "), _c('li', [_c('Checkbox', {
    model: {
      value: (_vm.conf.needPointsRankByMonth),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needPointsRankByMonth", $$v)
      },
      expression: "conf.needPointsRankByMonth"
    }
  }, [_vm._v("显示本月签到排名")])], 1), _vm._v(" "), _c('li', [_c('Checkbox', {
    model: {
      value: (_vm.conf.needPointsRankOfAll),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needPointsRankOfAll", $$v)
      },
      expression: "conf.needPointsRankOfAll"
    }
  }, [_vm._v("显示总积分排名")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submitConf
    }
  }, [_vm._v("确定")]), _vm._v(" "), _c('a', {
    on: {
      "click": _vm.setPageVersion
    }
  }, [_vm._v("返回新版 →")])], 1)]) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('td', {
    staticClass: "tit",
    attrs: {
      "colspan": "3"
    }
  }, [_c('div', {
    staticClass: "center"
  }, [_vm._v("今日入场签到")])])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('td', {
    staticClass: "tit",
    attrs: {
      "colspan": "3"
    }
  }, [_c('div', {
    staticClass: "center"
  }, [_vm._v("本月签到排名")])])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', {
    staticClass: "columns"
  }, [_c('td', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("排名")]), _c('td', [_vm._v("姓名")]), _c('td', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("次数")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('td', {
    staticClass: "tit",
    attrs: {
      "colspan": "3"
    }
  }, [_c('div', {
    staticClass: "center"
  }, [_vm._v("总积分排名")])])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', {
    staticClass: "columns"
  }, [_c('td', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("排名")]), _c('td', [_vm._v("姓名")]), _c('td', {
    attrs: {
      "width": "105"
    }
  }, [_vm._v("积分")])])
}]}

/***/ }),

/***/ 2286:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "shop-equipment"
  }, [_c('section', {
    staticStyle: {
      "width": "100%"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('div', {
    staticClass: "hd row"
  }, [_c('div', [(!_vm.readonly) ? _c('i-button', {
    attrs: {
      "type": "primary",
      "icon": "md-add"
    },
    on: {
      "click": _vm.addEquipment
    }
  }, [_vm._v("添加")]) : _vm._e()], 1), _vm._v(" "), (_vm.eqCount) ? _c('div', {
    staticClass: "r"
  }, [_c('span', [_vm._v("共有 "), _c('span', {
    staticClass: "big bold"
  }, [_vm._v(_vm._s(_vm.eqCount))]), _vm._v(" 条数据")])]) : _vm._e()]), _vm._v(" "), _c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.eqList), function(t) {
    return _c('tr', {
      key: t.id
    }, [_c('td', [(t.imgPathname) ? _c('img', {
      staticClass: "equipment-img",
      attrs: {
        "src": _vm.g.Util.getImgUrl(t.imgPathname, 200, 200, 'EEEEEE'),
        "alt": ""
      }
    }) : _vm._e()]), _vm._v(" "), _c('td', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openEquipmentDetail(t.feId)
        }
      }
    }, [_vm._v(_vm._s(t.name))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(t.body))]), _vm._v(" "), _c('td', [(!_vm.readonly) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openEquipmentDetail(t.feId)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.equipmentDelete(t.feId, t.name)
        }
      }
    }, [_vm._v("删除")])])]) : _vm._e()])])
  })], 2), _vm._v(" "), (_vm.eqList && !_vm.eqList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()])]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "器械基本信息",
      "width": "880",
      "ok-text": "关闭",
      "cancel-text": "",
      "footer-hide": true,
      "mask-closable": false,
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.equipmentDlg),
      callback: function($$v) {
        _vm.equipmentDlg = $$v
      },
      expression: "equipmentDlg"
    }
  }, [(_vm.equipmentDlg) ? _c('div', {
    staticClass: "shop-equipment-edit"
  }, [_c('section', [_c('i-form', {
    ref: "equipment",
    staticClass: "myform",
    staticStyle: {
      "width": "600px"
    },
    attrs: {
      "model": _vm.equipment,
      "rules": _vm.equipmentFormRule,
      "label-width": 100
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "name",
      "label": "器械名称",
      "required": ""
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": "请输入器械名称"
    },
    model: {
      value: (_vm.equipment.name),
      callback: function($$v) {
        _vm.$set(_vm.equipment, "name", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "equipment.name"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    staticClass: "low-margin",
    attrs: {
      "prop": "imgPathname",
      "label": "器械图片",
      "required": ""
    }
  }, [_c('img-upload', {
    attrs: {
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "on-success": _vm.handleImgUploadSuccess,
      "max-size": _vm.imgUpload.maxSize,
      "default-file-list": _vm.imgUpload.defaultList
    }
  }, [_c('i-button', {
    attrs: {
      "type": "default",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("点击上传图片")])], 1)], 1), _vm._v(" "), (_vm.isVideoShow) ? _c('form-item', {
    attrs: {
      "prop": "equipmentVideo",
      "label": "门店器械视频"
    }
  }, [_c('video-upload', {
    attrs: {
      "fileList": _vm.defaultVideos,
      "uploadTitle": "点击上传门店器械视频",
      "maxSize": 20,
      "maxCount": 1
    },
    on: {
      "handleVideoList": _vm.handleVideoList
    }
  }, [_c('span', {
    staticClass: "gray"
  }, [_vm._v("（最多一个，视频大小不能超过20M）")])])], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "body",
      "label": "锻炼部位",
      "required": ""
    }
  }, [_c('i-input', {
    attrs: {
      "placeholder": "请输入锻炼部位"
    },
    model: {
      value: (_vm.equipment.body),
      callback: function($$v) {
        _vm.$set(_vm.equipment, "body", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "equipment.body"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "content",
      "label": "详细介绍"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 15,
      "placeholder": "请详细介绍该器械"
    },
    model: {
      value: (_vm.equipment.content),
      callback: function($$v) {
        _vm.$set(_vm.equipment, "content", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "equipment.content"
    }
  })], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "100px"
    }
  }, [(!_vm.readonly) ? _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.equipmentSave
    }
  }, [_vm._v("保存")]) : _vm._e(), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.equipmentDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)], 1)]) : _vm._e()])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("图片")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("名称")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("锻炼部位")]), _vm._v(" "), _c('th', [_vm._v("操作")])])
}]}

/***/ }),

/***/ 2290:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "-lesson-opt"
  }, [_c('section', {
    staticClass: "query-zone"
  }, [_c('input', {
    directives: [{
      name: "focus",
      rawName: "v-focus"
    }, {
      name: "model",
      rawName: "v-model.trim",
      value: (_vm.queryNo),
      expression: "queryNo",
      modifiers: {
        "trim": true
      }
    }],
    staticClass: "query-input",
    attrs: {
      "type": "text",
      "title": "",
      "placeholder": "会员手机号 | 姓名（可模糊查） | 刷会员卡"
    },
    domProps: {
      "value": (_vm.queryNo)
    },
    on: {
      "keyup": function($event) {
        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, "enter", 13, $event.key, "Enter")) { return null; }
        return _vm.doQuery()
      },
      "input": function($event) {
        if ($event.target.composing) { return; }
        _vm.queryNo = $event.target.value.trim()
      },
      "blur": function($event) {
        return _vm.$forceUpdate()
      }
    }
  })]), _vm._v(" "), (_vm.queryError) ? _c('div', {
    staticClass: "err"
  }, [_vm._v(_vm._s(_vm.queryError))]) : _vm._e(), _vm._v(" "), (_vm.memberList) ? _c('div', {
    staticClass: "memb-list"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("请选择一个会员：")]), _vm._v(" "), _c('ul', _vm._l((_vm.memberList), function(m) {
    return _c('li', {
      on: {
        "click": function($event) {
          return _vm.selectMember(m)
        }
      }
    }, [_c('span', {
      staticClass: "name"
    }, [_vm._v(_vm._s(m.name))]), _vm._v(" "), _c('span', {
      staticClass: "subinfo"
    }, [_vm._v("（" + _vm._s(_vm.g.Dict.Sex[m.sex]) + "）")]), _vm._v(" "), _c('div', {
      staticClass: "p10"
    }, [_vm._v("手机号*******" + _vm._s(m.phoneSuffix))])])
  }), 0)]) : _vm._e(), _vm._v(" "), (_vm.queryNo && _vm.member) ? _c('div', [_c('section', {
    staticClass: "member border"
  }, [_c('table', [_c('tr', [_c('td', {
    staticClass: "photo",
    attrs: {
      "valign": "top",
      "width": "130"
    }
  }, [_c('img', {
    attrs: {
      "src": _vm.member.memberPhotoUrl
    }
  })]), _vm._v(" "), _c('td', {
    attrs: {
      "valign": "top"
    }
  }, [_c('span', {
    staticClass: "name"
  }, [_vm._v(_vm._s(_vm.member.name))]), _vm._v(" " + _vm._s(_vm.g.Dict.SexDesc[_vm.member.sex]) + "\n\t\t\t\t\t\t"), (_vm.member.birthDayDesc) ? _c('span', {
    staticClass: "pre-bar"
  }, [_vm._v("生日："), _c('span', {
    domProps: {
      "innerHTML": _vm._s(_vm.member.birthDayDesc)
    }
  })]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "detail"
  }, [(_vm.member.coachName) ? _c('span', {
    staticClass: "bar"
  }, [_vm._v("教练： " + _vm._s(_vm.member.coachName))]) : _vm._e(), _vm._v(" "), (_vm.member.salesName) ? _c('span', {
    staticClass: "bar"
  }, [_vm._v("销售： " + _vm._s(_vm.member.salesName))]) : _vm._e(), _vm._v(" "), (_vm.member.advisorName) ? _c('span', {
    staticClass: "bar"
  }, [_vm._v("会籍顾问： " + _vm._s(_vm.member.advisorName))]) : _vm._e(), _vm._v("\n\t\t\t\t\t\t\t注册时间：" + _vm._s(_vm.member.createTime) + "\n\t\t\t\t\t\t")])])])])]), _vm._v(" "), (_vm.memberLessonList && _vm.memberLessonList.length) ? [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.memberLessonList), function(ml, idx) {
    return _c('tr', [_c('td', [(!ml.checkinTime) ? _c('input', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: (_vm.selectMlIdx),
        expression: "selectMlIdx"
      }],
      staticClass: "single-radio",
      attrs: {
        "name": "ml_r",
        "type": "radio"
      },
      domProps: {
        "value": idx,
        "checked": _vm._q(_vm.selectMlIdx, idx)
      },
      on: {
        "click": function($event) {
          return _vm.changeMemberLesson(idx)
        },
        "change": function($event) {
          _vm.selectMlIdx = idx
        }
      }
    }) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.lessonTitle))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatTime(ml.beginTime)) + " ~ " + _vm._s(_vm.g.Util.formatTime(ml.endTime)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.coachName))]), _vm._v(" "), _c('td', [_c('ul', {
      staticClass: "opt-list"
    }, [(ml.classMemberCnt) ? _c('li', [_c('span', {
      staticClass: "orange"
    }, [_vm._v("固定班级课")])]) : _vm._e(), _vm._v(" "), (ml.checkinTime) ? _c('li', [_c('span', {
      staticClass: "red"
    }, [_vm._v("签到时间：" + _vm._s(ml.checkinTime))])]) : _vm._e()]), _vm._v(" "), (ml.bookingTime) ? _c('ul', {
      staticClass: "opt-list mt25"
    }, [(ml.bookingTime) ? _c('li', [_vm._v("预约时间：" + _vm._s(ml.bookingTime))]) : _vm._e(), _vm._v(" "), (ml.cardName) ? _c('li', [_vm._v("预约用卡：" + _vm._s(ml.cardName))]) : _vm._e()]) : _vm._e()])])
  })], 2)])] : _vm._e(), _vm._v(" "), (_vm.memberLessonList && !_vm.memberLessonList.length) ? _c('div', {
    staticClass: "warning center"
  }, [_c('P', [_vm._v("今日没有预约团课或固定班级课")])], 1) : _vm._e(), _vm._v(" "), (_vm.memberLesson && !_vm.memberLesson.bookingTime && _vm.memberCardList && _vm.memberCardList.length) ? _c('section', {
    staticClass: "cards mytbl mt20"
  }, [_c('table', [_vm._m(1), _vm._v(" "), _vm._l((_vm.memberCardList), function(c, idx) {
    return (!_vm.hasMemberCardNo || c.isFind) ? _c('tr', [_c('td', [(c.canSelect) ? _c('input', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: (_vm.selectCardIndex),
        expression: "selectCardIndex"
      }],
      staticClass: "single-radio",
      attrs: {
        "name": "mc_r",
        "type": "radio"
      },
      domProps: {
        "value": idx,
        "checked": _vm._q(_vm.selectCardIndex, idx)
      },
      on: {
        "change": function($event) {
          _vm.selectCardIndex = idx
        }
      }
    }) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(c.cardName) + "\n\t\t\t\t\t\t")]), _vm._v(" "), _c('td', [(c.cardType === 1) ? [(c.beginDate) ? [_vm._v("\n\t\t\t\t\t\t\t\t\t" + _vm._s(Date.new(c.endDate).subtract(_vm.today)) + " 天\n\t\t\t\t\t\t\t\t")] : (c.canSelect) ? [_vm._v("\n\t\t\t\t\t\t\t\t\t尚未使用\n\t\t\t\t\t\t\t\t")] : _vm._e()] : (c.cardType === 2) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(c.currentTimes) + " 次\n\t\t\t\t\t\t\t")] : (c.cardType === 3) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(c.currentAmount) + " 元\n\t\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), _c('td', [(c.status !== 0) ? _c('span', {
      staticClass: "red"
    }, [_vm._v("已" + _vm._s(_vm.g.Dict.MemberCardStatus[c.status]) + "，不可使用")]) : (c.canSelect) ? [(_vm.cardPaymentConf) ? [(c.cardType === 1) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("期限卡不单独计费")]) : (c.cardType === 2) ? [_vm._v("每次计费 "), _c('b', [_vm._v(_vm._s(_vm.cardPaymentConf[c.cardId]))]), _vm._v(" 次")] : (c.cardType === 3) ? [_vm._v("每次计费 "), _c('b', [_vm._v(_vm._s(_vm.cardPaymentConf[c.cardId]))]), _vm._v(" 元")] : _vm._e()] : _c('span', {
      staticClass: "green"
    }, [_vm._v("本节课不计费")])] : _c('span', {
      staticClass: "red"
    }, [_vm._v(_vm._s(c.error))])], 2), _vm._v(" "), _c('td', [_c('ul', {
      staticClass: "opts"
    }, [(c.beginDate && c.endDate) ? _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t\t使用期限：" + _vm._s(_vm.g.Util.formatDate(c.beginDate, false)) + " ~ " + _vm._s(_vm.g.Util.formatDate(c.endDate, false)) + "\n\t\t\t\t\t\t\t\t")]) : _vm._e(), _vm._v(" "), (_vm.isInVacation(c.vacationBegin, c.vacationEnd)) ? _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t\t请假：" + _vm._s(_vm.g.Util.formatDate(c.vacationBegin, false)) + " ~ " + _vm._s(_vm.g.Util.formatDate(c.vacationEnd, false)) + "\n\t\t\t\t\t\t\t\t\t"), _c('a', {
      staticClass: "l10",
      on: {
        "click": function($event) {
          return _vm.altCardVacation(c)
        }
      }
    }, [_vm._v("【提前销假】")])]) : _vm._e(), _vm._v(" "), (c.limitBeginTime && c.limitEndTime) ? _c('li', [(c.cardType === 1) ? [_vm._v("限定用卡时间：")] : [_vm._v("限定约课时间：")], _vm._v("\n\t\t\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.formatTime(c.limitBeginTime)) + " ~ " + _vm._s(_vm.g.Util.formatTime(c.limitEndTime)) + "\n\t\t\t\t\t\t\t\t")], 2) : _vm._e(), _vm._v(" "), (c.limitDates) ? _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t\t限定用卡日期：" + _vm._s(_vm.g.MemberLib.formatLimitDates(c.limitDates)) + "\n\t\t\t\t\t\t\t\t")]) : _vm._e(), _vm._v(" "), (c.limitWeeks) ? _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t\t限定用卡星期：" + _vm._s(_vm.g.MemberLib.formatWeekNames(c.limitWeeks)) + "\n\t\t\t\t\t\t\t\t")]) : _vm._e()]), _vm._v(" "), (c.remark) ? _c('div', [_vm._v(_vm._s(c.remark))]) : _vm._e()])]) : _vm._e()
  })], 2)]) : _vm._e(), _vm._v(" "), (_vm.pos.rows && _vm.pos.cols) ? _c('section', {
    staticClass: "border postbl"
  }, [_c('div', {
    staticClass: "-tit"
  }, [_c('div', {
    staticClass: "l"
  }, [_vm._v("请选择上课位置号")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    on: {
      "click": _vm.queryMemberLessonPosition
    }
  }, [_vm._v("刷新")])])]), _vm._v(" "), _c('table', _vm._l((parseInt(_vm.pos.rows)), function(r) {
    return _c('tr', _vm._l((parseInt(_vm.pos.cols)), function(c) {
      return _c('td', [_c('div', {
        class: {
          'empty': _vm.pos.positions[r + '-' + c] && !_vm.pos.usedPositionList.contains(_vm.pos.positions[r + '-' + c]),
          'on': _vm.pos.selections[_vm.pos.positions[r + '-' + c]]
        },
        on: {
          "click": function($event) {
            return _vm.selectPosition(_vm.pos.positions[r + '-' + c])
          }
        }
      }, [_vm._v(_vm._s(_vm.pos.positions[r + '-' + c] ? _vm.pos.positions[r + '-' + c] : ' '))])])
    }), 0)
  }), 0)]) : _vm._e(), _vm._v(" "), (_vm.member && _vm.canSubmit && !_vm.memberLesson && !_vm.member.authGroupLessonCheckin) ? _c('section', {
    staticClass: "passwd"
  }, [_c('i-input', {
    staticClass: "input",
    attrs: {
      "type": "password",
      "placeholder": "请会员输入系统登录密码"
    },
    on: {
      "on-enter": _vm.handleSubmit
    },
    model: {
      value: (_vm.password),
      callback: function($$v) {
        _vm.password = (typeof $$v === 'string' ? $$v.trim() : $$v)
      },
      expression: "password"
    }
  }), _vm._v(" "), _vm._m(2)], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "submit"
  }, [(_vm.selectCardIndex !== null && _vm.memberCardList[_vm.selectCardIndex].cardType !== 1) ? _c('div', {
    staticClass: "l"
  }, [_vm._v("\n\t\t\t\t\t签到人数\n\t\t\t\t\t： "), _c('input-int', {
    staticClass: "payment-cnt",
    model: {
      value: (_vm.paymentCount),
      callback: function($$v) {
        _vm.paymentCount = _vm._n($$v)
      },
      expression: "paymentCount"
    }
  }), _vm._v(" 人\n\t\t\t\t\t"), _c('span', {
    staticClass: "tips"
  }, [_vm._v(" （带更多人来上课，需填写实际人数）")])], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('i-button', {
    on: {
      "click": _vm.handleClose
    }
  }, [_vm._v("关闭")]), _vm._v(" "), (_vm.memberLesson) ? _c('i-button', {
    staticClass: "primary",
    attrs: {
      "type": "primary",
      "loading": _vm.submitLoading
    },
    on: {
      "click": function($event) {
        return _vm.handleSubmit()
      }
    }
  }, [_vm._v("提交")]) : _vm._e()], 1)])], 2) : _c('div', {
    staticClass: "query-opt",
    attrs: {
      "align": "center"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.doQuery
    }
  }, [_vm._v("查询")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.handleClose
    }
  }, [_vm._v("关闭")])], 1)])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("选择")]), _vm._v(" "), _c('th', [_vm._v("课程名")]), _vm._v(" "), _c('th', [_vm._v("上课时间")]), _vm._v(" "), _c('th', [_vm._v("教练")]), _vm._v(" "), _c('th', [_vm._v("备注")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("选择")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("会员卡名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("余额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "145"
    }
  }, [_vm._v("上课计费")]), _vm._v(" "), _c('th', [_vm._v("备注")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('span', {
    staticClass: "warn"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 为了会员账户安全，请会员输入系统登录密码，以备校验\n\t\t\t\t\t  "), _c('span', {
    staticClass: "red"
  }, [_vm._v("（工作人员暂请回避）")])])
}]}

/***/ }),

/***/ 2301:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('section', [_c('div', {
    staticClass: "hd",
    attrs: {
      "id": "anchor-pclesson"
    }
  }, [_c('div', {
    staticClass: "tit-noflag"
  }, [(_vm.plQueryType === 'day') ? [(_vm.plQueryDate.compareDatePart(_vm.today) === 0) ? [_vm._v("今日私教课")] : [_vm._v(_vm._s(_vm.g.Util.formatDate(_vm.plQueryDate)) + " 私教课")], _vm._v(" "), (!_vm.g.Util.isEmpty(_vm.privateLessonCnt)) ? _c('span', {
    staticClass: "cnt"
  }, [_vm._v("（" + _vm._s(_vm.privateLessonCnt) + "节课\n\t\t\t\t\t\t"), (_vm.privateLessonList && _vm.privateLessonList.length !== _vm.privateLessonCnt) ? [_vm._v("，" + _vm._s(_vm.privateLessonList.length) + "条会员上课记录")] : _vm._e(), _vm._v("）\n\t\t\t\t\t")], 2) : _vm._e()] : [_vm._v("未结束私教课")]], 2), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "cool-link",
    on: {
      "click": function($event) {
        return _vm.queryPcLessons(true)
      }
    }
  }, [_c('icon', {
    attrs: {
      "type": "md-refresh"
    }
  }), _vm._v("刷新")], 1), _vm._v(" "), _c('a', {
    staticClass: "cool-link",
    on: {
      "click": function($event) {
        return _vm.$router.push('/private-lesson')
      }
    }
  }, [_c('icon', {
    attrs: {
      "type": "md-calendar"
    }
  }), _vm._v("私教课表")], 1), _vm._v(" "), (_vm.checkinPermit) ? _c('a', {
    staticClass: "cool-link",
    on: {
      "click": function($event) {
        _vm.bookingPcDlg = true
      }
    }
  }, [_c('Icon', {
    attrs: {
      "type": "md-clock"
    }
  }), _vm._v("代约私教课")], 1) : _vm._e(), _vm._v(" "), _c('DatePicker', {
    staticClass: "l10 date-pick",
    staticStyle: {
      "width": "132px",
      "display": "inline-block"
    },
    attrs: {
      "type": "date",
      "placeholder": "选择私教日期",
      "placement": "bottom-end",
      "size": "small"
    },
    on: {
      "on-change": _vm.changePlQueryDate
    }
  })], 1)]), _vm._v(" "), (_vm.plQueryType === 'day' && _vm.showPlStat) ? _c('div', {
    staticClass: "gl-time-nav"
  }, [_c('table', [_c('tr', [_c('td', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("开课时间：")]), _vm._v(" "), _c('td', {
    staticClass: "items"
  }, _vm._l((_vm.plBeginTimes), function(count, time) {
    return _c('a', {
      class: {
        on: _vm.selectPlTime === time
      },
      on: {
        "click": function($event) {
          return _vm.choosePlTime(time)
        }
      }
    }, [_vm._v(_vm._s(_vm.g.Util.formatTime(time)) + " (" + _vm._s(count) + ")")])
  }), 0)]), _vm._v(" "), (_vm.showCoachStat) ? _c('tr', [_c('td', [_vm._v("上课教练：")]), _vm._v(" "), _c('td', {
    staticClass: "items"
  }, [_vm._l((_vm.plCoaches), function(count, coachName) {
    return _c('a', {
      class: {
        on: _vm.selectPlCoach === coachName
      },
      on: {
        "click": function($event) {
          return _vm.choosePlCoach(coachName)
        }
      }
    }, [_vm._v(_vm._s(coachName) + " (" + _vm._s(count) + ")")])
  }), _vm._v(" "), _c('a', {
    on: {
      "click": function($event) {
        _vm.showCoachStat = false
      }
    }
  }, [_c('i', {
    staticClass: "iconfont icon-arrow-up-2 normal"
  })])], 2)]) : _vm._e()])]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    staticClass: "inner-tbl"
  }, [_c('tr', [_c('th', {
    staticStyle: {
      "min-width": "100px"
    }
  }, [_vm._v("课程名")]), _vm._v(" "), (_vm.plQueryType !== 'day') ? _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("上课日期")]) : _vm._e(), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [(_vm.plQueryOrder !== 'coach') ? _c('span', [_vm._v("上课时间 ↑")]) : _c('a', {
    staticClass: "block",
    on: {
      "click": _vm.changePlQueryOrder
    }
  }, [_vm._v("上课时间")])]), _vm._v(" "), (_vm.hasGroundData) ? _c('th', [_vm._v("上课场地")]) : _vm._e(), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [(_vm.plQueryOrder === 'coach') ? _c('span', [_vm._v("教练 ↑")]) : _c('a', {
    staticClass: "block",
    on: {
      "click": _vm.changePlQueryOrder
    }
  }, [_vm._v("教练")])]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("学员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("预约人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "145"
    }
  }, [_vm._v("预约时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("签到人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "145"
    }
  }, [_vm._v("签到时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("状态")]), _vm._v(" "), (_vm.enablePrivateCoachScore && _vm.g.data.user.isShopOwner) ? _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("教练得分")]) : _vm._e(), _vm._v(" "), (_vm.plQueryType === 'day' && _vm.checkinPermit &&
    (_vm.plCheckinType === 2 || _vm.plCheckinType === 4 || _vm.enablePrivateCoachScore || _vm.plCheckinPrintEnable)) ? _c('th', {
    staticStyle: {
      "min-width": "150px"
    }
  }, [_vm._v("操作")]) : _vm._e()]), _vm._v(" "), _vm._l((_vm.privateLessonList), function(l, idx) {
    return ((!_vm.selectPlTime || _vm.selectPlTime == l.beginTime) && (!_vm.selectPlCoach || _vm.selectPlCoach === l.coachName)) ? _c('tr', {
      key: idx
    }, [(_vm.mplCntInLesson = _vm.lessonMplCntMap[l.lessonId]) ? void 0 : _vm._e(), _vm._v(" "), ((idx === 0 || _vm.privateLessonList[idx].lessonId !== _vm.privateLessonList[idx - 1].lessonId) || _vm.plQueryOrder === 'coach') ? [_c('td', {
      attrs: {
        "rowspan": _vm.mplCntInLesson
      }
    }, [(l.ltype === 1) ? _c('a', {
      staticClass: "block",
      attrs: {
        "target": "_blank",
        "href": '#/private-lesson-edit/{0}'.format(l.lessonId, l.mplId)
      }
    }, [_vm._v(_vm._s(l.courseName))]) : [_vm._v(_vm._s(l.courseName))]], 2), _vm._v(" "), (_vm.plQueryType !== 'day') ? _c('td', {
      attrs: {
        "rowspan": _vm.mplCntInLesson
      }
    }, [_vm._v(_vm._s(_vm.g.Util.formatDate(l.lessonDate)))]) : _vm._e(), _vm._v(" "), _c('td', {
      attrs: {
        "rowspan": _vm.mplCntInLesson
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.formatTime(l.beginTime)) + " ~ " + _vm._s(_vm.g.Util.formatTime(l.endTime)) + "\n\t\t\t\t\t\t\t"), (_vm.mplCntInLesson > 1) ? _c('div', {
      staticClass: "center p5 gray"
    }, [_vm._v(_vm._s(_vm.mplCntInLesson) + "人预约")]) : _vm._e()]), _vm._v(" "), (_vm.hasGroundData) ? _c('td', {
      attrs: {
        "rowspan": _vm.mplCntInLesson
      }
    }, [_vm._v(_vm._s(l.groundName))]) : _vm._e(), _vm._v(" "), _c('td', {
      attrs: {
        "rowspan": _vm.mplCntInLesson
      }
    }, [_vm._v(_vm._s(l.coachName))])] : _vm._e(), _vm._v(" "), _c('td', [(l.ltype === 1) ? _c('a', {
      staticClass: "block",
      attrs: {
        "title": l.memberName
      },
      on: {
        "click": function($event) {
          return _vm.viewMember(l.memberId)
        }
      }
    }, [_vm._v(_vm._s(l.memberName))]) : [_c('span', {
      staticClass: "custflag"
    }, [_vm._v("客")]), _vm._v(_vm._s(l.memberName))]], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.checkinUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.checkinTime))]), _vm._v(" "), _c('td', [(l.checkinTime) ? _c('span', {
      staticClass: "end"
    }, [_c('Icon', {
      attrs: {
        "type": "md-checkmark"
      }
    }), _vm._v("已签到")], 1) : [_c('span', {
      staticClass: "not-end"
    }, [_vm._v("●")]), _vm._v("未签到")]], 2), _vm._v(" "), (_vm.enablePrivateCoachScore && _vm.g.data.user.isShopOwner) ? _c('td', [_vm._v("\n\t\t\t\t\t\t" + _vm._s(l.coachScore) + "\n\t\t\t\t\t")]) : _vm._e(), _vm._v(" "), (_vm.plQueryType === 'day' && _vm.checkinPermit && (_vm.plCheckinType === 2 || _vm.plCheckinType === 4 || _vm.enablePrivateCoachScore || _vm.plCheckinPrintEnable)) ? _c('td', [(!l.checkinTime && l.ltype === 1 &&
      _vm.plQueryDate.compareDatePart(_vm.today) <= 0 && (_vm.plCheckinType === 2 || _vm.plCheckinType === 4)) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openPlCheckinByQrcode(l.lessonId, l.mplId, l.memberId)
        }
      }
    }, [_vm._v("扫码签到")])]), _vm._v(" "), (_vm.plCheckinType === 2) ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openPlCheckinByPwd(l.lessonId, l.memberId)
        }
      }
    }, [_vm._v("密码签到")])]) : _vm._e()]) : _vm._e(), _vm._v(" "), (l.checkinTime && _vm.plCheckinPrintEnable) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.printPrivateLesson('privateLessonPrint_' + l.mplId, idx)
        }
      }
    }, [_vm._v("打印小票")]), _vm._v(" "), _c('div', {
      staticStyle: {
        "display": "none"
      },
      attrs: {
        "id": 'privateLessonPrint_' + l.mplId
      }
    }, [_c('table', [_vm._m(0, true), _vm._v(" "), _c('tr', [_c('th', [_vm._v("上课日期")]), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(l.lessonDate)))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("上课时间")]), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatTime(l.beginTime)) + " ~ " + _vm._s(_vm.g.Util.formatTime(l.endTime)))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("上课教练")]), _c('td', [_vm._v(_vm._s(l.coachName))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("上课学员")]), _c('td', [_vm._v(_vm._s(l.memberName))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("签到时间")]), _c('td', [_vm._v(_vm._s(l.checkinTime))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("消费用卡")]), _c('td', [_vm._v(_vm._s(l.memberCardName))])]), _vm._v(" "), (l.memberCardType > 1) ? _c('tr', [_c('th', [_vm._v("上课消费")]), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t\t\t\t\t\t\t\t" + _vm._s(l.memberCardPayment) + _vm._s(_vm.g.Dict.CardUnitName[l.memberCardType]) + "\n\t\t\t\t\t\t\t\t\t\t\t\t"), (l.memberCardPaymentAmount) ? [_vm._v("（" + _vm._s(l.memberCardPaymentAmount) + "元）")] : _vm._e()], 2)]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("卡剩余")]), _vm._v(" "), _c('td', [(l.memberCardType === 1) ? [_vm._v(_vm._s(-Date.new().subtract(l.memberCardEndDate)))] : (l.memberCardType === 2) ? [_vm._v(_vm._s(l.memberCardCurrentTimes))] : (l.memberCardType === 3) ? [_vm._v(_vm._s(l.memberCardCurrentAmount))] : _vm._e(), _vm._v("\n\t\t\t\t\t\t\t\t\t\t\t\t" + _vm._s(_vm.g.Dict.CardUnitName[l.memberCardType]) + "\n\t\t\t\t\t\t\t\t\t\t\t")], 2)])])])]), _vm._v(" "), (_vm.enablePrivateCoachScore) ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openPrivateCoachScoreDlg(idx)
        }
      }
    }, [_vm._v("教练得分")])]) : _vm._e()]) : _vm._e()]) : _vm._e()], 2) : _vm._e()
  })], 2)]), _vm._v(" "), (_vm.privateLessonList && !_vm.privateLessonList.length) ? _c('p', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": _vm.lessonOpt.title,
      "width": "840",
      "styles": {
        top: '10px'
      },
      "closable": false,
      "mask-closable": false
    },
    model: {
      value: (_vm.viewPrivateLessonOptDlg),
      callback: function($$v) {
        _vm.viewPrivateLessonOptDlg = $$v
      },
      expression: "viewPrivateLessonOptDlg"
    }
  }, [_c('member-private-lesson-opt', {
    attrs: {
      "lesson-id": _vm.lessonOpt.lessonId,
      "member-id": _vm.lessonOpt.memberId,
      "after-submit": _vm.afterSubmitLessonOpt,
      "on-close": _vm.closeLessOptDlg
    }
  }), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.selectMemberId
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "代约私教课",
      "width": "930",
      "styles": {
        top: '10px'
      },
      "mask-closable": false
    },
    model: {
      value: (_vm.bookingPcDlg),
      callback: function($$v) {
        _vm.bookingPcDlg = $$v
      },
      expression: "bookingPcDlg"
    }
  }, [(_vm.bookingPcDlg) ? _c('private-lesson-booking', {
    attrs: {
      "after-submit": _vm.afterSubmitBookingPl
    }
  }) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "请会员用微信扫码，完成私教课签到",
      "width": "500",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.viewPlCheckinByQrcodeDlg),
      callback: function($$v) {
        _vm.viewPlCheckinByQrcodeDlg = $$v
      },
      expression: "viewPlCheckinByQrcodeDlg"
    }
  }, [_c('div', {
    staticClass: "ckinpl"
  }, [(_vm.checkinMember) ? _c('table', {
    attrs: {
      "cellspacing": "5"
    }
  }, [_c('tr', [_c('td', {
    attrs: {
      "width": "100"
    }
  }, [_c('div', {
    staticClass: "mphoto"
  }, [_c('img', {
    attrs: {
      "src": _vm.g.Util.getImgUrl(_vm.checkinMember.avatarPathname, 200)
    }
  })])]), _vm._v(" "), _c('td', [_c('div', {
    staticClass: "mname"
  }, [_vm._v(_vm._s(_vm.checkinMember.name))]), _vm._v(" "), _c('ul', {
    staticClass: "minfo"
  }, [_c('li', [_vm._v("注册日期： " + _vm._s(_vm.g.Util.formatDate(_vm.checkinMember.regDate)))]), _vm._v(" "), (_vm.checkinMember.points) ? _c('li', [_vm._v("当前积分： " + _vm._s(_vm.checkinMember.points) + " 分")]) : _vm._e()])])])]) : _vm._e(), _vm._v(" "), (!_vm.permitOfCheckinPastPl && _vm.today.compareDatePart(_vm.plQueryDate) > 0) ? _c('div', {
    staticClass: "p20 center orangered"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 您尚无【补签私教课】的权限\n\t\t\t\t"), _c('p', [_c('br')])]) : _c('div', {
    staticClass: "qrcode"
  }, [(_vm.plCheckinQrcodeUrl) ? _c('img', {
    attrs: {
      "src": _vm.plCheckinQrcodeUrl
    }
  }) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "tips"
  }, [(_vm.checkinPlTimes) ? [_vm._v(_vm._s(_vm.checkinPlTimes) + " 秒后签到二维码过期")] : (_vm.checkinPlTimes === 0) ? _c('span', {
    staticClass: "orangered"
  }, [_vm._v("二维码已过期，请关闭后再打开")]) : _vm._e()], 2)])]), _vm._v(" "), _c('div', {
    staticClass: "center",
    staticStyle: {
      "margin-bottom": "-10px"
    }
  }, [_c('i-button', {
    staticStyle: {
      "width": "100px"
    },
    on: {
      "click": _vm.closePlCheckinByQrcode
    }
  }, [_vm._v("关闭")])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "请会员输入登录密码，完成私教课签到",
      "width": "500"
    },
    model: {
      value: (_vm.viewPlCheckinByPwd),
      callback: function($$v) {
        _vm.viewPlCheckinByPwd = $$v
      },
      expression: "viewPlCheckinByPwd"
    }
  }, [_c('div', {
    staticClass: "ckinpl"
  }, [(_vm.checkinMember) ? _c('table', {
    attrs: {
      "cellspacing": "5"
    }
  }, [_c('tr', [_c('td', {
    attrs: {
      "width": "100"
    }
  }, [_c('div', {
    staticClass: "mphoto"
  }, [_c('img', {
    attrs: {
      "src": _vm.g.Util.getImgUrl(_vm.checkinMember.avatarPathname, 200)
    }
  })])]), _vm._v(" "), _c('td', [_c('div', {
    staticClass: "mname"
  }, [_vm._v(_vm._s(_vm.checkinMember.name))]), _vm._v(" "), _c('ul', {
    staticClass: "minfo"
  }, [_c('li', [_vm._v("注册日期： " + _vm._s(_vm.g.Util.formatDate(_vm.checkinMember.regDate)))]), _vm._v(" "), (_vm.checkinMember.points) ? _c('li', [_vm._v("当前积分： " + _vm._s(_vm.checkinMember.points) + " 分")]) : _vm._e()])])])]) : _vm._e(), _vm._v(" "), (!_vm.permitOfCheckinPastPl && _vm.today.compareDatePart(_vm.plQueryDate) > 0) ? _c('div', {
    staticClass: "p20 center orangered"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 您尚无【补签私教课】的权限\n\t\t\t")]) : [_c('div', {
    staticClass: "input-pwd"
  }, [_c('input', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: (_vm.memberPwd),
      expression: "memberPwd"
    }],
    staticClass: "box",
    attrs: {
      "type": "password",
      "placeholder": "请会员输入健总管登录密码"
    },
    domProps: {
      "value": (_vm.memberPwd)
    },
    on: {
      "keyup": function($event) {
        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, "enter", 13, $event.key, "Enter")) { return null; }
        return _vm.checkinMemberPrivateLesson.apply(null, arguments)
      },
      "input": function($event) {
        if ($event.target.composing) { return; }
        _vm.memberPwd = $event.target.value
      }
    }
  })]), _vm._v(" "), _c('div', {
    staticClass: "center",
    staticStyle: {
      "margin-bottom": "-10px"
    }
  }, [_c('i-button', {
    staticStyle: {
      "width": "100px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.checkinMemberPrivateLesson
    }
  }, [_vm._v("签到")])], 1)]], 2), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "教练得分设置",
      "width": "630"
    },
    model: {
      value: (_vm.privateCoachScoreDlg),
      callback: function($$v) {
        _vm.privateCoachScoreDlg = $$v
      },
      expression: "privateCoachScoreDlg"
    }
  }, [(_vm.privateCoachScoreDlg) ? _c('div', {
    staticClass: "pcoach-score"
  }, [_vm._v("\n\t\t\t课程： "), _c('b', [_vm._v(_vm._s(_vm.selectPrivateLesson.courseName))]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("/")]), _vm._v("\n\t\t\t教练： "), _c('b', [_vm._v(_vm._s(_vm.selectPrivateLesson.coachName))]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("/")]), _vm._v("\n\t\t\t学员： "), _c('b', [_vm._v(_vm._s(_vm.selectPrivateLesson.memberName))]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("/")]), _vm._v("\n\t\t\t时间： " + _vm._s(_vm.g.Util.formatTime(_vm.selectPrivateLesson.beginTime)) + " ~ " + _vm._s(_vm.g.Util.formatTime(_vm.selectPrivateLesson.endTime)) + "\n\t\t\t"), _c('div', {
    staticClass: "value"
  }, [_c('input-num', {
    model: {
      value: (_vm.privateCoachScoreValue),
      callback: function($$v) {
        _vm.privateCoachScoreValue = $$v
      },
      expression: "privateCoachScoreValue"
    }
  }), _vm._v(" 分\n\t\t\t")], 1)]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "form-submit center",
    staticStyle: {
      "margin-top": "-10px"
    },
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.savePcLessonCoachScore
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.privateCoachScoreDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('td', {
    attrs: {
      "colspan": "2",
      "align": "center"
    }
  }, [_vm._v("【私教课签到小票】")])])
}]}

/***/ }),

/***/ 2306:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-conf"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-conf",
      "page": "shop-more-conf"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('Tabs', {
    attrs: {
      "animated": false
    },
    model: {
      value: (_vm.selectTab),
      callback: function($$v) {
        _vm.selectTab = $$v
      },
      expression: "selectTab"
    }
  }, [_c('TabPane', {
    attrs: {
      "label": "数据导出设置",
      "name": "dataExport"
    }
  }, [_c('section', {
    staticClass: "backup"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l orange"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 仅超级管理员有权限操作")])]), _vm._v(" "), (_vm.g.data.user.isTenantOwner) ? [_c('ul', {
    staticClass: "frm"
  }, [_c('li', [_c('label', {
    staticClass: "tit"
  }, [_vm._v("接收邮箱：")]), _vm._v(" "), _c('i-input', {
    staticClass: "input-s",
    attrs: {
      "type": "text",
      "title": "邮箱地址"
    },
    on: {
      "on-blur": _vm.checkOwnerEmail
    },
    model: {
      value: (_vm.ownerEmail),
      callback: function($$v) {
        _vm.ownerEmail = $$v
      },
      expression: "ownerEmail"
    }
  })], 1), _vm._v(" "), _c('li', [_c('label', {
    staticClass: "tit"
  }, [_vm._v("导出周期：")]), _vm._v(" "), _c('CheckboxGroup', {
    staticStyle: {
      "display": "inline-block"
    },
    model: {
      value: (_vm.backupWeekNames),
      callback: function($$v) {
        _vm.backupWeekNames = $$v
      },
      expression: "backupWeekNames"
    }
  }, [_c('Checkbox', {
    attrs: {
      "label": "周一"
    }
  }), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": "周二"
    }
  }), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": "周三"
    }
  }), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": "周四"
    }
  }), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": "周五"
    }
  }), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": "周六"
    }
  }), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": "周日"
    }
  })], 1)], 1), _vm._v(" "), _c('li', [_c('label', {
    staticClass: "tit"
  }, [_vm._v("短信验证码：")]), _vm._v(" "), _c('input-int', {
    model: {
      value: (_vm.smsCode),
      callback: function($$v) {
        _vm.smsCode = $$v
      },
      expression: "smsCode"
    }
  }), _vm._v(" "), _c('span', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.authcodeDisabled),
      expression: "authcodeDisabled"
    }],
    staticClass: "l10 small"
  }, [_vm._v(_vm._s(_vm.authcodeLabel))]), _vm._v(" "), _c('a', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (!_vm.authcodeDisabled),
      expression: "!authcodeDisabled"
    }],
    staticClass: "l10 small",
    on: {
      "click": _vm.onClickSmsAuthcodeBtn
    }
  }, [_vm._v("获取验证码")]), _vm._v(" "), _c('span', {
    staticClass: "spt gray"
  }, [_vm._v("|")]), _vm._v(" "), _c('span', {
    staticClass: "gray small"
  }, [_vm._v("验证码将发送到超级管理员的手机 "), _c('span', {
    staticClass: "orange"
  }, [_vm._v(_vm._s(_vm.tenantOwnerPhone))])])], 1), _vm._v(" "), _c('li', [_c('label', {
    staticClass: "tit"
  }, [_vm._v("导出时间：")]), _vm._v(" "), _c('span', {
    staticClass: "green"
  }, [_vm._v("凌晨1:00 ~ 2:00 ")]), _vm._v(" （系统自动发送Excel文件到【接收邮箱】）")]), _vm._v(" "), _c('li', [_c('label', {
    staticClass: "tit"
  }), _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.updateShopBackupConf()
      }
    }
  }, [_vm._v("保存")])], 1)])] : _c('div', {
    staticClass: "gray"
  }, [_vm._v("\n\t\t\t\t\t\t\t抱歉，您无操作权限 :-(\n            ")])], 2), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("数据导出必读说明")])]), _vm._v(" "), _c('ol', [_c('li', [_vm._v("为了您的数据安全，我们采用了国内最好的云平台『阿里云』，系统每天自动将所有硬盘数据频繁多地备份；")]), _vm._v(" "), _c('li', [_vm._v("您可以根据需要设置是否导出数据到您指定的邮箱，但是请保管好您的邮箱账号与密码。若因账号密码问题导致数据泄露，我们将不承担责任；")]), _vm._v(" "), _c('li', [_vm._v("系统导出的数据格式是excel的压缩文件（zip文件）;")]), _vm._v(" "), _c('li', [_vm._v("导出的数据内容包括：\n\t\t\t\t\t\t\t\t会员卡种类、员工、会员（"), _c('i', [_vm._v("含会员卡信息")]), _vm._v("）、客户、团课、私教课、账单（"), _c('i', [_vm._v("本月记录")]), _vm._v("）、入场签到记录（"), _c('i', [_vm._v("本月记录")]), _vm._v("）、\n\t\t\t\t\t\t\t\t团课上课记录（"), _c('i', [_vm._v("本月记录")]), _vm._v("）、私教课上课记录（"), _c('i', [_vm._v("本月记录")]), _vm._v("）、场地预约记录（"), _c('i', [_vm._v("本月记录")]), _vm._v("）、场地计时消费记录（"), _c('i', [_vm._v("本月记录")]), _vm._v("）\n\t\t\t\t\t\t\t")])])])]), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "初始会员导入",
      "name": "dataImport"
    }
  }, [(_vm.selectTab === 'dataImport') ? [_c('shop-import')] : _vm._e()], 2), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "业务模块设置",
      "name": "moduleConf"
    }
  }, [(_vm.selectTab === 'moduleConf') ? [_c('shop-module-conf')] : _vm._e()], 2), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "会员合同设置",
      "name": "contractConf"
    }
  }, [(_vm.selectTab === 'contractConf') ? [_c('contract-conf')] : _vm._e()], 2), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "门店数据清除",
      "name": "dataClear"
    }
  }, [(_vm.selectTab === 'dataClear') ? [_c('shop-data-clear')] : _vm._e()], 2), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "门禁密码设置"
    }
  }, [_c('section', {
    staticClass: "access-pwd-conf"
  }, [(_vm.shopConfEditable) ? _c('div', [_c('i-input', {
    staticStyle: {
      "width": "200px"
    },
    attrs: {
      "placeholder": "请输入门禁密码"
    },
    model: {
      value: (_vm.shop.accessPwd),
      callback: function($$v) {
        _vm.$set(_vm.shop, "accessPwd", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "shop.accessPwd"
    }
  }), _vm._v("\n\t\t\t\t\t\t\t  "), _c('span', {
    staticClass: "form-submit"
  }, [_c('i-button', {
    staticStyle: {
      "width": "70px",
      "padding": "0"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.updateShopAccessPwd
    }
  }, [_vm._v("保存")])], 1)], 1) : _c('div', {
    staticClass: "gray"
  }, [_vm._v("\n\t\t\t\t\t\t\t您无【门店编辑】权限，不能操作\n\t\t\t\t\t\t")]), _vm._v(" "), _c('div', {
    staticClass: "inner-remark"
  }, [_c('div', {
    staticClass: "tit"
  }, [_c('div', {
    staticClass: "tit-help"
  }, [_vm._v("使用说明")])]), _vm._v(" "), _c('div', {
    staticClass: "article p10 l15"
  }, [_vm._v("\n\t\t\t\t\t\t\t\t如果贵店有带密码锁的门禁，并且只想让员工和签到会员知道。\n                可将门禁密码保存至本系统，然后员工和签到成功的会员就能在我们的手机版看到。\n                "), _c('p', [_vm._v("为了保障门禁的安全、可靠，建议不定期地修改门禁密码，并保存至系统。")]), _vm._v(" "), _c('p', {
    staticClass: "p15"
  }, [_vm._v("适用场景示例：")]), _vm._v("\n\t\t\t\t\t\t\t\t某健身房旁边有其他机构的成员，为了防止非会员潜入健身区域，可在健身区域安装带普通密码锁的门。\n                这样，会员签到后，就能看到当日门禁密码。而非会员，或会籍过期的会员无法获知门禁密码。\n              ")])])])]), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "会员相册标签",
      "name": "albumLabel"
    }
  }, [(_vm.selectTab === 'albumLabel') ? [_c('album-label')] : _vm._e()], 2), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "标签设置",
      "name": "tagConf"
    }
  }, [(_vm.selectTab === 'tagConf') ? [_c('tag-conf')] : _vm._e()], 2), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "支付方式",
      "name": "paymentType"
    }
  }, [(_vm.selectTab === 'paymentType') ? [_c('payment-type')] : _vm._e()], 2)], 1)], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2309:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-conf"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-conf",
      "page": "shop-card-conf"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('card-edit', {
    attrs: {
      "from": "shop"
    }
  })], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2322:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_vm._l(([1, 2]), function(tagType) {
    return _c('section', [_c('div', {
      staticClass: "hd"
    }, [_c('div', {
      staticClass: "tit"
    }, [_vm._v(_vm._s(tagType === 1 ? '会员' : '客户') + "标签")])]), _vm._v(" "), _c('div', {
      staticClass: "tag-conf"
    }, [_c('div', {
      staticClass: "bd"
    }, [_c('div', {
      staticClass: "mb15"
    }, [_c('i-input', {
      staticClass: "input",
      attrs: {
        "type": "text",
        "placeholder": "请输入需要新增的标签"
      },
      on: {
        "on-enter": function($event) {
          return _vm.addShopTag(tagType)
        }
      },
      model: {
        value: (_vm.tagNames[tagType]),
        callback: function($$v) {
          _vm.$set(_vm.tagNames, tagType, (typeof $$v === 'string' ? $$v.trim() : $$v))
        },
        expression: "tagNames[tagType]"
      }
    }), _vm._v(" "), _c('i-button', {
      on: {
        "click": function($event) {
          return _vm.addShopTag(tagType)
        }
      }
    }, [_vm._v("新增标签")])], 1), _vm._v(" "), _c('div', {
      staticClass: "mytbl"
    }, [_c('table', [_vm._m(0, true), _vm._v(" "), _vm._l((_vm.shopTagList), function(t, idx) {
      return (tagType === t.tagType) ? _c('tr', [_c('td', [_vm._v(_vm._s(t.tagName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(t.updateUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(t.updateTime))]), _vm._v(" "), _c('td', [_c('ul', {
        staticClass: "opt-list"
      }, [_c('li', {
        on: {
          "click": function($event) {
            return _vm.updateShopTag(t)
          }
        }
      }, [_c('a', [_vm._v("修改")])]), _vm._v(" "), _c('li', {
        on: {
          "click": function($event) {
            return _vm.delShopTag(t.tagId)
          }
        }
      }, [_c('a', [_vm._v("删除")])])])])]) : _vm._e()
    }), _vm._v(" "), (!_vm.shopTagList || _vm.shopTagList.length === 0) ? _c('tr', {
      staticClass: "center"
    }, [_c('td', {
      attrs: {
        "colspan": "4"
      }
    }, [_vm._v("数据为空")])]) : _vm._e()], 2)])])])])
  }), _vm._v(" "), _c('section', [_vm._m(1), _vm._v(" "), _c('div', {
    staticClass: "tag-setting"
  }, [_vm._l((_vm.tagArr), function(r, idx) {
    return [_c('div', {
      key: idx,
      staticClass: "tag-line flex-center"
    }, [_c('span', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1) + ".")]), _vm._v(" "), _c('i-input', {
      staticClass: "int",
      staticStyle: {
        "width": "320px"
      },
      model: {
        value: (r.labelName),
        callback: function($$v) {
          _vm.$set(r, "labelName", _vm._n($$v))
        },
        expression: "r.labelName"
      }
    }), _vm._v(" "), (idx > 0) ? _c('Icon', {
      staticClass: "clear-icon",
      attrs: {
        "type": "md-close-circle"
      },
      on: {
        "click": function($event) {
          return _vm.delSettingLine(idx)
        }
      }
    }) : _vm._e(), _vm._v("\n\t           \n            "), (idx == _vm.tagArr.length - 1) ? _c('i-button', {
      attrs: {
        "icon": "md-add"
      },
      on: {
        "click": function($event) {
          return _vm.addSettingLine(idx)
        }
      }
    }, [_vm._v("添加")]) : _vm._e()], 1)]
  })], 2), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "border": "none"
    }
  }, [_c('i-button', {
    staticClass: "primary",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveLabel
    }
  }, [_vm._v("提交")])], 1)])], 2)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("标签名称")]), _vm._v(" "), _c('th', [_vm._v("更新人")]), _vm._v(" "), _c('th', [_vm._v("更新时间")]), _vm._v(" "), _c('th', [_vm._v("操作")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员相册标签")])])
}]}

/***/ }),

/***/ 2330:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [(_vm.g.data.shop.hasGroupCourse) ? _c('section', [_c('div', {
    staticClass: "hd",
    attrs: {
      "id": "anchor-lesson"
    }
  }, [_c('div', {
    staticClass: "tit-noflag"
  }, [(_vm.glQueryType === 'day') ? [(_vm.glQueryDate.compareDatePart(_vm.today) === 0) ? [_vm._v("今日团课")] : [_vm._v(_vm._s(_vm.g.Util.formatDate(_vm.glQueryDate)) + " 团课")], _vm._v(" "), _c('span', {
    staticClass: "cnt"
  }, [_vm._v("（" + _vm._s(_vm.groupLessonList.length) + "节课）")])] : [_vm._v("未结束团课")]], 2), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "cool-link",
    on: {
      "click": function($event) {
        return _vm.loadGroupLesson(true)
      }
    }
  }, [_c('icon', {
    attrs: {
      "type": "md-refresh"
    }
  }), _vm._v("刷新\n        ")], 1), _vm._v(" "), _c('a', {
    on: {
      "click": _vm.viewMemberLessonList
    }
  }, [_c('Icon', {
    attrs: {
      "type": "ios-paper-outline"
    }
  }), _vm._v("上课记录\n        ")], 1), _vm._v(" "), (_vm.checkinPermit) ? _c('a', {
    staticClass: "cool-link",
    on: {
      "click": function($event) {
        _vm.memberGlCheckinDlg = true
      }
    }
  }, [_c('icon', {
    attrs: {
      "type": "md-checkmark-circle-outline"
    }
  }), _vm._v("团课签到\n        ")], 1) : _vm._e(), _vm._v(" "), _c('a', {
    staticClass: "cool-link",
    on: {
      "click": function($event) {
        return _vm.$router.push('/group-lesson')
      }
    }
  }, [_c('icon', {
    attrs: {
      "type": "md-calendar"
    }
  }), _vm._v("团课课表\n        ")], 1), _vm._v(" "), (_vm.glQueryType === 'day') ? _c('a', {
    staticClass: "cool-link",
    on: {
      "click": function($event) {
        return _vm.changeGlQueryType('unfinished')
      }
    }
  }, [_c('Icon', {
    attrs: {
      "type": "ios-browsers-outline"
    }
  }), _vm._v("未结束团课\n        ")], 1) : _vm._e(), _vm._v(" "), _c('DatePicker', {
    staticClass: "l10 date-pick",
    staticStyle: {
      "width": "132px",
      "display": "inline-block"
    },
    attrs: {
      "type": "date",
      "placeholder": "选择团课日期",
      "placement": "bottom-end",
      "size": "small"
    },
    on: {
      "on-change": _vm.changeGlQueryDate
    }
  })], 1)]), _vm._v(" "), (_vm.glQueryType === 'day' && _vm.showGlStat) ? _c('div', {
    staticClass: "gl-time-nav"
  }, [_c('table', [_c('tr', [_c('td', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("开课时间：")]), _vm._v(" "), _c('td', {
    staticClass: "items"
  }, _vm._l((_vm.glBeginTimes), function(count, time) {
    return _c('a', {
      class: {
        on: _vm.selectGlTime === time
      },
      on: {
        "click": function($event) {
          return _vm.chooseGlTime(time)
        }
      }
    }, [_vm._v(_vm._s(_vm.g.Util.formatTime(time)) + " (" + _vm._s(count) + ")")])
  }), 0)]), _vm._v(" "), _c('tr', [_c('td', [_vm._v("上课教练：")]), _vm._v(" "), _c('td', {
    staticClass: "items"
  }, _vm._l((_vm.glCoaches), function(count, coachName) {
    return _c('a', {
      class: {
        on: _vm.selectGlCoach === coachName
      },
      on: {
        "click": function($event) {
          return _vm.chooseGlCoach(coachName)
        }
      }
    }, [_vm._v(_vm._s(coachName) + " (" + _vm._s(count) + ")")])
  }), 0)])])]) : _vm._e(), _vm._v(" "), (_vm.glQueryType === 'day') ? _c('ul', {
    staticClass: "gl"
  }, _vm._l((_vm.groupLessonList), function(l, idx) {
    return ((!_vm.selectGlTime || _vm.selectGlTime == l.beginTime) && (!_vm.selectGlCoach || _vm.selectGlCoach === l.coachName)) ? _c('li', {
      key: l.lessonId,
      staticStyle: {
        "width": "240px"
      }
    }, [_c('div', {
      staticClass: "course"
    }, [(l.status === 9) ? _c('span', {
      staticClass: "end"
    }, [_vm._v("●")]) : _c('span', {
      staticClass: "not-end"
    }, [_vm._v("●")]), _vm._v(" "), _c('a', {
      attrs: {
        "title": l.lessonTitle
      },
      on: {
        "click": function($event) {
          return _vm.$router.push('/group-lesson-edit/' + l.lessonId)
        }
      }
    }, [_vm._v(_vm._s(l.lessonTitle))])]), _vm._v(" "), _c('div', {
      staticClass: "cont"
    }, [(_vm.checkinPermit && _vm.glQueryDate.compareDatePart(_vm.today) <= 0) ? _c('div', {
      on: {
        "click": function($event) {
          return _vm.openLessonQrcodeImgUrlDlg(l.lessonId, l.lessonTitle)
        }
      }
    }, [_c('img', {
      staticStyle: {
        "cursor": "pointer"
      },
      attrs: {
        "src": _vm.g.Util.getImgUrl(l.coachAvatar, 200, 200, '555555'),
        "title": "查看上课签到二维码"
      }
    })]) : _c('div', [_c('img', {
      attrs: {
        "src": _vm.g.Util.getImgUrl(l.coachAvatar, 200, 200, '555555')
      }
    })]), _vm._v(" "), _c('div', {
      staticClass: "coach"
    }, [_vm._v(_vm._s(l.coachName))]), _vm._v(" "), _c('div', {
      staticClass: "ltime"
    }, [_vm._v(_vm._s(_vm.g.Util.formatTime(l.beginTime)) + " - " + _vm._s(_vm.g.Util.formatTime(l.endTime)))]), _vm._v(" "), _c('div', {
      staticClass: "opt"
    }, [(l.isNeedBooking) ? _c('div', {
      staticClass: "btn",
      on: {
        "click": function($event) {
          return _vm.viewGroupLessonRecords(idx)
        }
      }
    }, [_vm._v("\n              预约 "), (l.bookings) ? [_vm._v(_vm._s(l.bookings))] : [_vm._v("0")], _vm._v(" 人\n              "), _c('span', {
      staticClass: "spt"
    }, [_vm._v("/")]), _vm._v("\n              签到 "), (l.checkins) ? [_vm._v(_vm._s(l.checkins))] : [_vm._v("0")], _vm._v(" 人\n            ")], 2) : (l.classMemberCnt && _vm.checkinPermit) ? _c('div', {
      staticClass: "btn",
      on: {
        "click": function($event) {
          return _vm.viewGroupLessonRecords(idx)
        }
      }
    }, [(_vm.glQueryDate.compareDatePart(_vm.today) <= 0) ? [_vm._v("\n                班级签到 "), (l.checkins) ? _c('span', [_vm._v(_vm._s(l.checkins) + " 人")]) : _vm._e()] : [_vm._v("班级详情")]], 2) : _c('div', {
      staticClass: "btn",
      on: {
        "click": function($event) {
          return _vm.viewGroupLessonRecords(idx)
        }
      }
    }, [_vm._v("无需预约"), (l.checkins) ? [_vm._v("（ 签到 " + _vm._s(l.checkins) + " 人 ）")] : _vm._e()], 2)])]), _vm._v(" "), _c('div', {
      staticClass: "bottom"
    }, [(_vm.checkinPermit) ? [(!l.isNeedBooking) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("无需预约")]) : (l.bookingCheck === 1) ? _c('span', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.doLessonOperate(1, 1, idx)
        }
      }
    }, [_c('i', {
      staticClass: "iconfont icon-plus big"
    }), _vm._v(" 代预约")])]) : _c('span', {
      staticClass: "gray"
    }, [(l.bookingCheck === -1) ? [_vm._v("预约未开")] : (l.bookingCheck === -2) ? [_vm._v("预约已过")] : (l.bookingCheck === -3) ? [(l.enableQueue) ? _c('a', {
      on: {
        "click": function($event) {
          return _vm.doLessonOperate(1, 1, idx)
        }
      }
    }, [_c('i', {
      staticClass: "iconfont icon-plus big"
    }), _vm._v(" 排队预约")]) : [_vm._v("预约已满")]] : _vm._e()], 2)] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("\n            无预约权限\n          ")]), _vm._v(" "), (_vm.checkinPermit && _vm.glQueryDate.compareDatePart(_vm.today) <= 0) ? _c('span', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.doLessonOperate(1, 2, idx)
        }
      }
    }, [_c('i', {
      staticClass: "iconfont icon-check3 big"
    }), _vm._v(" 代签到")])]) : _c('span', {
      staticClass: "gray"
    }, [_vm._v("\n            不可代签\n          ")])], 2)]) : _vm._e()
  }), 0) : _c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    staticClass: "inner-tbl"
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "250"
    }
  }, [_vm._v("课程名")]), _vm._v(" "), (_vm.glQueryType !== 'day') ? _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课日期")]) : _vm._e(), _vm._v(" "), _c('th', {
    attrs: {
      "width": "115"
    }
  }, [_vm._v("上课时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("教练")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("场地")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "82"
    }
  }, [_vm._v("人数限制")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "82"
    }
  }, [_vm._v("预约人数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "82"
    }
  }, [_vm._v("签到人数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', [_vm._v("操作")])]), _vm._v(" "), _vm._l((_vm.groupLessonList), function(l, idx) {
    return _c('tr', {
      key: idx
    }, [_c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewGroupLessonRecords(idx)
        }
      }
    }, [_vm._v("\n              " + _vm._s(l.lessonTitle) + "\n            ")])]), _vm._v(" "), (_vm.glQueryType !== 'day') ? _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(l.lessonDate)))]) : _vm._e(), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatTime(l.beginTime)) + " ~ " + _vm._s(_vm.g.Util.formatTime(l.endTime)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.coachName.shorten(4)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.groundName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.maxStudents))]), _vm._v(" "), _c('td', [(!l.isNeedBooking) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("无需预约")]) : (l.bookings) ? _c('span', {
      staticClass: "orange"
    }, [_vm._v(_vm._s(l.bookings))]) : _c('span', {
      staticClass: "gray"
    }, [_vm._v("0")])]), _vm._v(" "), _c('td', [(l.checkins) ? [_vm._v(_vm._s(l.checkins))] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("0")])], 2), _vm._v(" "), _c('td', [(l.checkinTime) ? _c('span', {
      staticClass: "end"
    }, [_c('Icon', {
      attrs: {
        "type": "md-checkmark"
      }
    }), _vm._v("已签到\n            ")], 1) : [_c('span', {
      staticClass: "not-end"
    }, [_vm._v("●")]), _vm._v("未签到")]], 2), _vm._v(" "), _c('td', [(!l.isClass) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.viewGroupLessonRecords(idx)
        }
      }
    }, [_vm._v("上课记录")])]), _vm._v(" "), (_vm.checkinPermit && l.canBooking) ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.doLessonOperate(1, 1, idx)
        }
      }
    }, [_vm._v("代预约")])]) : _vm._e(), _vm._v(" "), (_vm.checkinPermit && l.status !== 9 && (l.maxStudents >= l.checkins) && _vm.glQueryType === 'day') ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.doLessonOperate(1, 2, idx)
        }
      }
    }, [_vm._v("代签到")])]) : _vm._e()]) : (_vm.checkinPermit) ? _c('a', {
      on: {
        "click": function($event) {
          return _vm.viewGroupLessonRecords(idx)
        }
      }
    }, [(l.status !== 9) ? [_vm._v("上课签到")] : [_vm._v("上课记录")]], 2) : _vm._e()])])
  })], 2), _vm._v(" "), (_vm.glQueryType === 'unfinished') ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.groupLessonCnt,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryGlListByPage
    }
  })], 1) : _vm._e()]), _vm._v(" "), (_vm.groupLessonList && !_vm.groupLessonList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()]) : _vm._e(), _vm._v(" "), _c('modal', {
    attrs: {
      "title": _vm.lessonOpt.title,
      "width": "840",
      "styles": {
        top: '10px'
      },
      "closable": true,
      "mask-closable": false
    },
    model: {
      value: (_vm.viewGroupLessonOptDlg),
      callback: function($$v) {
        _vm.viewGroupLessonOptDlg = $$v
      },
      expression: "viewGroupLessonOptDlg"
    }
  }, [(_vm.viewGroupLessonOptDlg) ? _c('member-group-lesson-opt', {
    attrs: {
      "lesson-id": _vm.lessonOpt.lessonId,
      "opt-type": _vm.lessonOpt.optType,
      "after-submit": _vm.afterSubmitLessonOpt,
      "on-close": _vm.closeLessOptDlg
    }
  }) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": _vm.viewGroupLessonRecordsDlgTitle,
      "width": "1080",
      "styles": {
        top: '10px'
      },
      "ok-text": "",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewGroupLessonRecordsDlg),
      callback: function($$v) {
        _vm.viewGroupLessonRecordsDlg = $$v
      },
      expression: "viewGroupLessonRecordsDlg"
    }
  }, [(_vm.viewGroupLessonRecordsDlg) ? [_c('group-lesson-records', {
    attrs: {
      "lesson-id": _vm.selectGroupLessonId,
      "enable-gl-checkout": _vm.enableGlCheckout
    }
  })] : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    staticClass: "long-btn",
    on: {
      "click": function($event) {
        _vm.viewGroupLessonRecordsDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)], 2), _vm._v(" "), _c('modal', {
    attrs: {
      "title": '上课签到二维码 ：' + _vm.lessonOpt.title,
      "width": "500",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.lessonQrcodeDlg),
      callback: function($$v) {
        _vm.lessonQrcodeDlg = $$v
      },
      expression: "lessonQrcodeDlg"
    }
  }, [_c('div', {
    staticClass: "center orange"
  }, [_vm._v("请上课学员打开微信，扫码下面的二维码签到")]), _vm._v(" "), (_vm.lessonQrcodeDlg) ? _c('div', {
    staticClass: "qrcode-img"
  }, [_c('img', {
    attrs: {
      "src": _vm.lessonQrcodeImgUrl,
      "alt": ""
    }
  })]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        _vm.lessonQrcodeDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "团课签到",
      "width": "860",
      "styles": {
        top: '10px'
      },
      "closable": true,
      "mask-closable": false
    },
    model: {
      value: (_vm.memberGlCheckinDlg),
      callback: function($$v) {
        _vm.memberGlCheckinDlg = $$v
      },
      expression: "memberGlCheckinDlg"
    }
  }, [(_vm.memberGlCheckinDlg) ? [_c('member-gl-checkin', {
    attrs: {
      "after-submit": _vm.afterSubmitMemberGlCheckin,
      "on-close": _vm.closeMemberGlCheckinDlg
    }
  }), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })] : _vm._e()], 2), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "团课上课记录",
      "width": "1150",
      "styles": {
        top: '10px'
      },
      "closable": true,
      "mask-closable": true
    },
    model: {
      value: (_vm.memberLessonListDlg),
      callback: function($$v) {
        _vm.memberLessonListDlg = $$v
      },
      expression: "memberLessonListDlg"
    }
  }, [(_vm.memberLessonListDlg) ? [_c('member-lesson-list', {
    attrs: {
      "lesson-date": _vm.glQueryDate
    }
  }), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })] : _vm._e()], 2)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2339:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    ref: "screen",
    staticClass: "checkin-screen"
  }, [_c('div', {
    staticClass: "show row-space"
  }, [_c('div', {
    ref: "side",
    staticClass: "column side",
    style: ('margin-right:' + _vm.marginRight)
  }, [(_vm.sideChecked[0]) ? _c('div', {
    class: ['module', _vm.sideChecked.length == 2 ? 'long' : 'square', _vm.sideChecked[0].tag ? 'private' : '']
  }, [_c('div', {
    staticClass: "title"
  }, [_vm._v(_vm._s(_vm.sideChecked[0].name))]), _vm._v(" "), _c('div', {
    staticClass: "record"
  }, _vm._l((_vm.cutFive(_vm.sideChecked[0].list, _vm.sideChecked.length != 2)), function(item, idx) {
    return _c('div', {
      key: idx,
      staticClass: "record-item flex-center"
    }, [_c('div', {
      staticClass: "avatar"
    }, [_c('img', {
      attrs: {
        "src": item.avatarPathname ? _vm.g.Util.getImgUrl(item.avatarPathname) : _vm.defaultAvartar,
        "alt": ""
      }
    })]), _vm._v(" "), _c('div', {
      staticClass: "record-main flex-center"
    }, [_c('div', {
      staticClass: "name"
    }, [_vm._v(_vm._s(_vm.formatName(item.name || item.memberName)))]), _vm._v(" "), _c('div', {
      staticClass: "time"
    }, [_vm._v(_vm._s(item.display))])])])
  }), 0)]) : _vm._e(), _vm._v(" "), (_vm.sideChecked[1] && _vm.sideChecked.length > 2) ? _c('div', {
    class: ['module', 'square', _vm.sideChecked[1].tag ? 'private' : '']
  }, [_c('div', {
    staticClass: "title"
  }, [_vm._v(_vm._s(_vm.sideChecked[1].name))]), _vm._v(" "), _c('div', {
    staticClass: "record"
  }, _vm._l((_vm.cutFive(_vm.sideChecked[1].list, true)), function(item, idx) {
    return _c('div', {
      key: idx,
      staticClass: "record-item flex-center"
    }, [_c('div', {
      staticClass: "avatar"
    }, [_c('img', {
      attrs: {
        "src": item.avatarPathname ? _vm.g.Util.getImgUrl(item.avatarPathname) : _vm.defaultAvartar,
        "alt": ""
      }
    })]), _vm._v(" "), _c('div', {
      staticClass: "record-main flex-center"
    }, [_c('div', {
      staticClass: "name"
    }, [_vm._v(_vm._s(_vm.formatName(item.name || item.memberName)))]), _vm._v(" "), _c('div', {
      staticClass: "time"
    }, [_vm._v(_vm._s(item.display))])])])
  }), 0)]) : _vm._e()]), _vm._v(" "), _c('div', {
    ref: "middle",
    staticClass: "column middle",
    style: ('margin-right:' + _vm.marginRight)
  }, [_c('div', {
    staticClass: "module"
  }, [_c('div', {
    staticClass: "company flex-center"
  }, [_c('img', {
    attrs: {
      "src": _vm.screenData.logoPathname ? _vm.g.Util.getImgUrl(_vm.screenData.logoPathname) : _vm.defaultLogo,
      "alt": ""
    }
  }), _vm._v(" "), _c('span', [_vm._v(_vm._s(_vm.screenData.shopName))])]), _vm._v(" "), _c('div', {
    staticClass: "down"
  }, [_c('div', {
    staticClass: "dy-time flex-center"
  }, [_vm._l((_vm.timeArr), function(item, idx) {
    return [(item == ':') ? _c('i', {
      key: idx,
      staticClass: "iconfont icon-screen-colon colon"
    }) : _c('i', {
      key: idx,
      class: 'iconfont icon-screen-' + item
    })]
  })], 2), _vm._v(" "), _c('div', {
    staticClass: "dt-info"
  }, [_c('span', {
    staticClass: "week"
  }, [_vm._v("星期" + _vm._s(_vm.week))]), _vm._v(" "), _c('span', {
    staticClass: "dt"
  }, [_vm._v(_vm._s(_vm.date))])]), _vm._v(" "), _c('div', {
    staticClass: "cur-info flex-center",
    staticStyle: {
      "justify-content": "center"
    }
  }, [(_vm.middleChecked[0]) ? _c('div', {
    staticClass: "today flex-center",
    style: (_vm.middleChecked[1] ? 'margin-right: 70px;' : '')
  }, [_c('span', {
    staticClass: "num"
  }, [_vm._v(_vm._s(_vm.middleChecked[0].count || 0))]), _vm._v(" "), _c('div', {
    staticClass: "tag"
  }, [_vm._v(_vm._s(_vm.middleChecked[0].name))])]) : _vm._e(), _vm._v(" "), (_vm.middleChecked[1]) ? _c('div', {
    staticClass: "now flex-center"
  }, [_c('span', {
    staticClass: "num"
  }, [_vm._v(_vm._s(_vm.middleChecked[1].count || 0))]), _vm._v(" "), _c('div', {
    staticClass: "tag"
  }, [_vm._v(_vm._s(_vm.middleChecked[1].name))])]) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "code"
  }, [(_vm.conf.needCodeShow) ? _c('img', {
    attrs: {
      "src": _vm.qrcodeImgUrl,
      "alt": ""
    }
  }) : _vm._e()])])])]), _vm._v(" "), _c('div', {
    staticClass: "column side"
  }, [(_vm.sideChecked[1] && _vm.sideChecked.length == 2) ? _c('div', {
    class: ['module', 'long', _vm.sideChecked[1].tag ? 'private' : '']
  }, [_c('div', {
    staticClass: "title"
  }, [_vm._v(_vm._s(_vm.sideChecked[1].name))]), _vm._v(" "), _c('div', {
    staticClass: "record"
  }, _vm._l((_vm.cutFive(_vm.sideChecked[1].list, false)), function(item, idx) {
    return _c('div', {
      key: idx,
      staticClass: "record-item flex-center"
    }, [_c('div', {
      staticClass: "avatar"
    }, [_c('img', {
      attrs: {
        "src": item.avatarPathname ? _vm.g.Util.getImgUrl(item.avatarPathname) : _vm.defaultAvartar,
        "alt": ""
      }
    })]), _vm._v(" "), _c('div', {
      staticClass: "record-main flex-center"
    }, [_c('div', {
      staticClass: "name"
    }, [_vm._v(_vm._s(_vm.formatName(item.name || item.memberName)))]), _vm._v(" "), _c('div', {
      staticClass: "time"
    }, [_vm._v(_vm._s(item.display))])])])
  }), 0)]) : _vm._e(), _vm._v(" "), (_vm.sideChecked[2] && _vm.sideChecked.length > 2) ? _c('div', {
    class: ['module', _vm.sideChecked.length == 2 || _vm.sideChecked.length == 3 ? 'long' : 'square', _vm.sideChecked[2].tag ? 'private' : '']
  }, [_c('div', {
    staticClass: "title"
  }, [_vm._v(_vm._s(_vm.sideChecked[2].name))]), _vm._v(" "), _c('div', {
    staticClass: "record"
  }, _vm._l((_vm.cutFive(_vm.sideChecked[2].list, _vm.sideChecked.length == 4)), function(item, idx) {
    return _c('div', {
      key: idx,
      staticClass: "record-item flex-center"
    }, [_c('div', {
      staticClass: "avatar"
    }, [_c('img', {
      attrs: {
        "src": item.avatarPathname ? _vm.g.Util.getImgUrl(item.avatarPathname) : _vm.defaultAvartar,
        "alt": ""
      }
    })]), _vm._v(" "), _c('div', {
      staticClass: "record-main flex-center"
    }, [_c('div', {
      staticClass: "name"
    }, [_vm._v(_vm._s(_vm.formatName(item.name || item.memberName)))]), _vm._v(" "), _c('div', {
      staticClass: "time"
    }, [_vm._v(_vm._s(item.display))])])])
  }), 0)]) : _vm._e(), _vm._v(" "), (_vm.sideChecked[3]) ? _c('div', {
    class: ['module', 'square', _vm.sideChecked[3].tag ? 'private' : '']
  }, [_c('div', {
    staticClass: "title"
  }, [_vm._v(_vm._s(_vm.sideChecked[3].name))]), _vm._v(" "), _c('div', {
    staticClass: "record"
  }, _vm._l((_vm.cutFive(_vm.sideChecked[3].list, true)), function(item, idx) {
    return _c('div', {
      key: idx,
      staticClass: "record-item flex-center"
    }, [_c('div', {
      staticClass: "avatar"
    }, [_c('img', {
      attrs: {
        "src": item.avatarPathname ? _vm.g.Util.getImgUrl(item.avatarPathname) : _vm.defaultAvartar,
        "alt": ""
      }
    })]), _vm._v(" "), _c('div', {
      staticClass: "record-main flex-center"
    }, [_c('div', {
      staticClass: "name"
    }, [_vm._v(_vm._s(_vm.formatName(item.name || item.memberName)))]), _vm._v(" "), _c('div', {
      staticClass: "time"
    }, [_vm._v(_vm._s(item.display))])])])
  }), 0)]) : _vm._e()])]), _vm._v(" "), _c('div', {
    staticClass: "footer flex-center"
  }, [_c('i', {
    staticClass: "iconfont icon-setting settings",
    on: {
      "click": _vm.openPageConfDlg
    }
  }), _vm._v(" "), _c('span', [_vm._v("由健总管提供技术支持")])]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "签到成功",
      "width": "1000",
      "closable": false,
      "mask-closable": false
    },
    model: {
      value: (_vm.checkinMsgDlg),
      callback: function($$v) {
        _vm.checkinMsgDlg = $$v
      },
      expression: "checkinMsgDlg"
    }
  }, [(_vm.screenData) ? _c('div', {
    staticClass: "checkin-msg"
  }, [_c('div', [_c('Icon', {
    staticClass: "icon",
    attrs: {
      "type": "md-checkmark-circle"
    }
  })], 1), _vm._v(" "), _c('div', {
    staticClass: "welcome"
  }, [_vm._v("欢迎光临，" + _vm._s(_vm.screenData.memberName))]), _vm._v(" "), _c('div', {
    staticClass: "tips"
  }, [_vm._v("\n\t\t\t\t您共入场签到 "), _c('b', {
    staticClass: "orange"
  }, [_vm._v(_vm._s(_vm.screenData.memberCheckins))]), _vm._v(" 次，\n\t\t\t\t本月共入场签到 "), _c('b', {
    staticClass: "orangered"
  }, [_vm._v(_vm._s(_vm.screenData.memberCheckinsOfThisMonth))]), _vm._v(" 次\n\t\t\t\t"), (_vm.g.Util.isNotEmpty(_vm.screenData.memberCardLeftDays)) ? _c('div', {
    staticClass: "p15"
  }, [_vm._v("\n\t\t\t\t\t『" + _vm._s(_vm.screenData.memberCardName) + "』剩余 "), _c('b', [_vm._v(_vm._s(_vm.screenData.memberCardLeftDays))]), _vm._v(" 天\n\t\t\t\t")]) : _vm._e()])]) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    staticClass: "settings-mod",
    attrs: {
      "title": "大屏幕设置",
      "width": "600"
    },
    model: {
      value: (_vm.pageConfDlg),
      callback: function($$v) {
        _vm.pageConfDlg = $$v
      },
      expression: "pageConfDlg"
    }
  }, [_c('div', {
    staticClass: "mod-head",
    attrs: {
      "slot": "header"
    },
    slot: "header"
  }, [_vm._v("\n\t\t\t大屏幕设置\n\t\t")]), _vm._v(" "), (_vm.pageConfDlg) ? _c('div', {
    staticClass: "conf"
  }, [_c('div', {
    staticClass: "conf-item"
  }, [_c('div', {
    staticClass: "conf-tit"
  }, [_vm._v("中间大屏数据展示（最少选择1项，最多选择2项）"), (_vm.middleTip) ? _c('span', {
    staticClass: "warn-tip"
  }, [_vm._v(_vm._s(_vm.middleTip))]) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "conf-options"
  }, [_c('div', {
    staticClass: "option-item"
  }, [_c('Checkbox', {
    model: {
      value: (_vm.conf.needCheckinCount),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needCheckinCount", $$v)
      },
      expression: "conf.needCheckinCount"
    }
  }, [_vm._v("今日入场人数")])], 1), _vm._v(" "), _c('div', {
    staticClass: "option-item"
  }, [_c('Checkbox', {
    model: {
      value: (_vm.conf.needUncheckoutCount),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needUncheckoutCount", $$v)
      },
      expression: "conf.needUncheckoutCount"
    }
  }, [_vm._v("当前在馆人数")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "conf-options"
  }, [_c('div', {
    staticClass: "option-item"
  }, [_c('Checkbox', {
    model: {
      value: (_vm.conf.needMemberPLessonCount),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needMemberPLessonCount", $$v)
      },
      expression: "conf.needMemberPLessonCount"
    }
  }, [_vm._v("今日私教上课人数")])], 1), _vm._v(" "), _c('div', {
    staticClass: "option-item"
  }, [_c('Checkbox', {
    model: {
      value: (_vm.conf.needMemberGLessonCount),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needMemberGLessonCount", $$v)
      },
      expression: "conf.needMemberGLessonCount"
    }
  }, [_vm._v("今日团课上课人数")])], 1)])]), _vm._v(" "), _c('div', {
    staticClass: "conf-item"
  }, [_c('div', {
    staticClass: "conf-tit"
  }, [_vm._v("左右两侧数据展示（最少选择2项，最多选择4项）"), (_vm.sideTip) ? _c('span', {
    staticClass: "warn-tip"
  }, [_vm._v(_vm._s(_vm.sideTip))]) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "conf-options"
  }, [_c('div', {
    staticClass: "option-item"
  }, [_c('Checkbox', {
    model: {
      value: (_vm.conf.needCheckinRecords),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needCheckinRecords", $$v)
      },
      expression: "conf.needCheckinRecords"
    }
  }, [_vm._v("今日最新入场记录")])], 1), _vm._v(" "), _c('div', {
    staticClass: "option-item"
  }, [_c('Checkbox', {
    model: {
      value: (_vm.conf.needPointsRankByMonth),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needPointsRankByMonth", $$v)
      },
      expression: "conf.needPointsRankByMonth"
    }
  }, [_vm._v("本月签到榜单")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "conf-options"
  }, [_c('div', {
    staticClass: "option-item"
  }, [_c('Checkbox', {
    model: {
      value: (_vm.conf.needPLessonStatByMonth),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needPLessonStatByMonth", $$v)
      },
      expression: "conf.needPLessonStatByMonth"
    }
  }, [_vm._v("本月私教上课榜单")])], 1), _vm._v(" "), _c('div', {
    staticClass: "option-item"
  }, [_c('Checkbox', {
    model: {
      value: (_vm.conf.needGLessonStatByMonth),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needGLessonStatByMonth", $$v)
      },
      expression: "conf.needGLessonStatByMonth"
    }
  }, [_vm._v("本月团课上课榜单")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "conf-options"
  }, [_c('div', {
    staticClass: "option-item"
  }, [_c('Checkbox', {
    model: {
      value: (_vm.conf.needPointsRankOfAll),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needPointsRankOfAll", $$v)
      },
      expression: "conf.needPointsRankOfAll"
    }
  }, [_vm._v("总积分榜单")])], 1), _vm._v(" "), _c('div', {
    staticClass: "option-item"
  }, [_c('Checkbox', {
    model: {
      value: (_vm.conf.needMemberHeartRateRankOfAll),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needMemberHeartRateRankOfAll", $$v)
      },
      expression: "conf.needMemberHeartRateRankOfAll"
    }
  }, [_vm._v("心率榜单")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "conf-options"
  }, [_c('div', {
    staticClass: "option-item"
  }, [_c('Checkbox', {
    model: {
      value: (_vm.conf.needMachRunRankOfAll),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needMachRunRankOfAll", $$v)
      },
      expression: "conf.needMachRunRankOfAll"
    }
  }, [_vm._v("跑步榜单")])], 1)])]), _vm._v(" "), (_vm.pageConfDlg) ? _c('div', {
    staticClass: "conf"
  }, [_c('div', {
    staticClass: "conf-item"
  }, [_c('div', {
    staticClass: "conf-options"
  }, [_c('div', {
    staticClass: "option-item"
  }, [_c('Checkbox', {
    model: {
      value: (_vm.conf.ignoreInvalidMember),
      callback: function($$v) {
        _vm.$set(_vm.conf, "ignoreInvalidMember", $$v)
      },
      expression: "conf.ignoreInvalidMember"
    }
  }, [_vm._v("过滤无效会员")])], 1), _vm._v(" "), _c('div', {
    staticClass: "option-item"
  }, [_c('Checkbox', {
    model: {
      value: (_vm.conf.needCodeShow),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needCodeShow", $$v)
      },
      expression: "conf.needCodeShow"
    }
  }, [_vm._v("显示入场签到二维码")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "conf-options"
  }, [_c('div', {
    staticClass: "option-item"
  }, [_c('Checkbox', {
    model: {
      value: (_vm.conf.playVoice),
      callback: function($$v) {
        _vm.$set(_vm.conf, "playVoice", $$v)
      },
      expression: "conf.playVoice"
    }
  }, [_vm._v("开启签到语音播报")])], 1), _vm._v(" "), _c('div', {
    staticClass: "option-item"
  }, [_c('Checkbox', {
    model: {
      value: (_vm.conf.needMemberCheckinInfo),
      callback: function($$v) {
        _vm.$set(_vm.conf, "needMemberCheckinInfo", $$v)
      },
      expression: "conf.needMemberCheckinInfo"
    }
  }, [_vm._v("显示签到成功提示")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "conf-options"
  }, [_c('div', {
    staticClass: "option-item"
  }, [_c('Checkbox', {
    model: {
      value: (_vm.conf.isShowFullName),
      callback: function($$v) {
        _vm.$set(_vm.conf, "isShowFullName", $$v)
      },
      expression: "conf.isShowFullName"
    }
  }, [_vm._v("显示会员全名")])], 1)])])]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submitConf
    }
  }, [_vm._v("确定")]), _vm._v("\n\t\t\t\t \n\t\t\t\t"), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.pageConfDlg = false
      }
    }
  }, [_vm._v("关闭")]), _vm._v(" "), _c('a', {
    on: {
      "click": _vm.setPageVersion
    }
  }, [_vm._v("返回旧版 →")])], 1)]) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })])], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2349:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "set-contract-tem"
  }, [_c('section', [_vm._m(0), _vm._v(" "), _c('div', {
    staticClass: "orange"
  }, [_c('Icon', {
    attrs: {
      "type": "ios-information-circle-outline",
      "size": "16"
    }
  }), _vm._v(" "), _c('span', [_vm._v(" 请点击变量名，然后粘贴到word合同模板中")])], 1), _vm._v(" "), (_vm.paramNames) ? _c('div', {
    staticClass: "params"
  }, _vm._l((Math.ceil(_vm.paramNames.length / 10)), function(a, index) {
    return _c('div', {
      key: index,
      staticClass: "mytbl row-item"
    }, [_c('table', [_vm._m(1, true), _vm._v(" "), _vm._l((_vm.paramNames), function(s, idx) {
      return [(_vm.handlerList(index, idx)) ? _c('tr', {
        staticClass: "row-tr-item",
        on: {
          "click": function($event) {
            return _vm.g.Util.copyText($event, s[1], true)
          }
        }
      }, [_c('td', [_vm._v(_vm._s(s[0]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s[1]))])]) : _vm._e()]
    })], 2)])
  }), 0) : _vm._e()]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("合同模板设置")]), _vm._v(" "), (_vm.contractEditRole) ? _c('div', {
    staticClass: "right"
  }, [_c('i-button', {
    attrs: {
      "type": "primary",
      "icon": "md-add"
    },
    on: {
      "click": function($event) {
        return _vm.editTmptShow('I')
      }
    }
  }, [_vm._v("新增合同模板")])], 1) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(2), _vm._v(" "), _vm._l((_vm.tmptList), function(t, idx) {
    return _c('tr', {
      key: idx
    }, [_c('td', [_vm._v(_vm._s(t.tmptName))]), _vm._v(" "), _c('td', [(t.cardNames) ? [_vm._v(_vm._s(t.cardNames.replaceAll(',', '、')))] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(t.updateUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(t.updateTime))]), _vm._v(" "), _c('td', [(_vm.contractEditRole) ? [_c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.editTmptShow('U', t)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.deleteContractTmpt(t.tmptId)
        }
      }
    }, [_vm._v("删除")])])])] : _vm._e()], 2)])
  })], 2), _vm._v(" "), (_vm.tmptList && !_vm.tmptList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()])]), _vm._v(" "), _c('Modal', {
    attrs: {
      "width": "750",
      "styles": {
        top: '10px'
      },
      "title": "合同模板编辑",
      "closable": true,
      "mask-closable": true
    },
    model: {
      value: (_vm.contractModalShow),
      callback: function($$v) {
        _vm.contractModalShow = $$v
      },
      expression: "contractModalShow"
    }
  }, [(_vm.contractData) ? _c('div', {
    staticClass: "tblform"
  }, [_c('table', {
    attrs: {
      "width": "95%"
    }
  }, [_c('tr', [_c('th', {
    staticClass: "required",
    attrs: {
      "width": "120"
    }
  }, [_vm._v("合同模板名称")]), _vm._v(" "), _c('td', [_c('i-input', {
    attrs: {
      "type": "text"
    },
    model: {
      value: (_vm.contractData.tmptName),
      callback: function($$v) {
        _vm.$set(_vm.contractData, "tmptName", $$v)
      },
      expression: "contractData.tmptName"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("签名区域设置")]), _vm._v(" "), _c('td', [_c('input-int', {
    staticStyle: {
      "width": "90px"
    },
    attrs: {
      "min": "10",
      "placeholder": "宽度（像素）"
    },
    model: {
      value: (_vm.contractData.signWidth),
      callback: function($$v) {
        _vm.$set(_vm.contractData, "signWidth", _vm._n($$v))
      },
      expression: "contractData.signWidth"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("×")]), _vm._v(" "), _c('input-int', {
    staticStyle: {
      "width": "90px"
    },
    attrs: {
      "min": "10",
      "placeholder": "高（像素）"
    },
    model: {
      value: (_vm.contractData.signHeight),
      callback: function($$v) {
        _vm.$set(_vm.contractData, "signHeight", _vm._n($$v))
      },
      expression: "contractData.signHeight"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "l5"
  }, [_vm._v("（宽 × 高，单位：像素）")])], 1)]), _vm._v(" "), _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("适用会员卡 (可多选)")]), _vm._v(" "), _c('td', [_c('i-select', {
    staticStyle: {
      "width": "100%"
    },
    attrs: {
      "multiple": "",
      "filterable": ""
    },
    model: {
      value: (_vm.contractData.cardIdArr),
      callback: function($$v) {
        _vm.$set(_vm.contractData, "cardIdArr", $$v)
      },
      expression: "contractData.cardIdArr"
    }
  }, _vm._l((_vm.cardList), function(c) {
    return _c('i-option', {
      key: c.cardId,
      attrs: {
        "value": c.cardId
      }
    }, [_vm._v(_vm._s(c.cardName))])
  }), 1)], 1)]), _vm._v(" "), _c('tr', [_c('th', {
    staticClass: "required",
    attrs: {
      "valign": "top"
    }
  }, [_vm._v("Word合同模板上传")]), _vm._v(" "), _c('td', [_c('Upload', {
    ref: "uploadRefs",
    attrs: {
      "action": _vm.g.Conf.CONTRACT_UPLOAD,
      "with-credentials": true,
      "accept": _vm.acceptFileType,
      "multiple": false,
      "max-size": 10240,
      "before-upload": _vm.handleBeforeUpload,
      "on-success": _vm.handleUploadSuccess
    }
  }, [_c('i-button', {
    attrs: {
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("点击上传")]), _vm._v(" "), (_vm.contractData.contractTmptFile) ? _c('span', {
    staticClass: "l15"
  }, [_c('a', {
    attrs: {
      "href": _vm.g.Util.getImgUrl(_vm.contractData.contractTmptFile),
      "target": "_blank"
    }
  }, [_vm._v("下载查看合同模板")])]) : _vm._e()], 1), _vm._v(" "), (_vm.tmptErrorList && _vm.tmptErrorList.length) ? _c('div', {
    staticClass: "tmpt-err warning"
  }, [_vm._v("\n                上传的word模板中存在错误变量名，请检查并修改：\n                "), _c('ul', _vm._l((_vm.tmptErrorList), function(c, idx) {
    return _c('li', {
      key: idx,
      staticClass: "item"
    }, [_vm._v("\n                    " + _vm._s(c) + "\n                  ")])
  }), 0)]) : _vm._e()], 1)])]), _vm._v(" "), _c('div', {
    staticClass: "form-submit center"
  }, [_c('i-button', {
    attrs: {
      "type": "primary",
      "disabled": !_vm.g.Util.isEmptyArray(_vm.tmptErrorList)
    },
    on: {
      "click": _vm.submit
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.closeContractDlg
    }
  }, [_vm._v("关闭")])], 1)]) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("合同模板中的变量说明")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("变量含义")]), _vm._v(" "), _c('th', [_vm._v("变量名")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("模板名称")]), _vm._v(" "), _c('th', [_vm._v("适用会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("更新人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("更新时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("操作")])])
}]}

/***/ }),

/***/ 2357:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "-mbase"
  }, [(_vm.member) ? [_c('div', {
    staticClass: "member"
  }, [_c('table', [_c('tr', [_c('td', {
    attrs: {
      "valign": "top"
    }
  }, [(_vm.isShopMember) ? _c('a', {
    staticClass: "name",
    attrs: {
      "title": "进入会员详情页面",
      "href": '#/member-info/' + _vm.member.memberId
    }
  }, [_vm._v(_vm._s(_vm.member.name))]) : _c('span', {
    staticClass: "name"
  }, [_vm._v(_vm._s(_vm.member.name))]), _vm._v(_vm._s(_vm.g.Dict.SexDesc[_vm.member.sex]) + "\n\t\t\t\t"), (_vm.member.cardNo) ? _c('span', [_c('span', {
    staticClass: "spt"
  }, [_vm._v("/")]), _vm._v(" 卡号： " + _vm._s(_vm.member.cardNo))]) : _vm._e(), _vm._v(" "), _c('span', {
    staticClass: "phone-no"
  }, [_c('i', {
    staticClass: "iconfont icon-phone phone"
  }), _vm._v(" " + _vm._s(_vm.member.phoneNo))]), _vm._v(" "), _c('ul', {
    staticClass: "detail"
  }, [_c('li', {
    staticClass: "stat"
  }, [(_vm.isShopMember) ? [_c('a', {
    staticClass: "bar",
    attrs: {
      "href": '#/member-checkin-list/' + _vm.member.memberId
    }
  }, [_vm._v("入场签到（"), _c('u', [_vm._v(_vm._s(_vm.memberStat.entryCheckins) + " 次")]), _vm._v("）")]), _vm._v(" "), _c('a', {
    staticClass: "bar",
    attrs: {
      "href": '#/member-lesson-list/' + _vm.member.memberId
    }
  }, [_vm._v("上课（"), _c('u', [_vm._v(_vm._s(_vm.memberStat.lessonTimes) + " 次")]), _vm._v("）")]), _vm._v(" "), _c('a', {
    attrs: {
      "href": '#/member-points-list/' + _vm.member.memberId
    }
  }, [_vm._v("积分（"), _c('u', [_vm._v(_vm._s(_vm.memberStat.points) + " 分")]), _vm._v("）")])] : [_c('span', {
    staticClass: "bar"
  }, [_vm._v("入场签到（"), _c('u', [_vm._v(_vm._s(_vm.memberStat.entryCheckins) + " 次")]), _vm._v("）")]), _vm._v(" "), _c('span', {
    staticClass: "bar"
  }, [_vm._v("上课（"), _c('u', [_vm._v(_vm._s(_vm.memberStat.lessonTimes) + " 次")]), _vm._v("）")]), _vm._v(" "), _c('span', [_vm._v("积分（"), _c('u', [_vm._v(_vm._s(_vm.memberStat.points) + " 分")]), _vm._v("）")])]], 2), _vm._v(" "), (_vm.member.shopName && _vm.member.shopName !== _vm.g.data.shop.shopName) ? _c('li', [_c('b', [_vm._v("原属门店")]), _vm._v("：" + _vm._s(_vm.member.shopName))]) : _vm._e(), _vm._v(" "), (_vm.member.coachName || _vm.member.salesName || _vm.member.advisorName) ? _c('li', [(_vm.member.coachName) ? _c('span', {
    staticClass: "bar"
  }, [_c('b', [_vm._v("教练")]), _vm._v("： " + _vm._s(_vm.member.coachName))]) : _vm._e(), _vm._v(" "), (_vm.member.salesName) ? _c('span', {
    staticClass: "bar"
  }, [_c('b', [_vm._v("销售")]), _vm._v("： " + _vm._s(_vm.member.salesName))]) : _vm._e(), _vm._v(" "), (_vm.member.advisorName) ? _c('span', [_c('b', [_vm._v("会籍顾问")]), _vm._v("： " + _vm._s(_vm.member.advisorName))]) : _vm._e()]) : _vm._e(), _vm._v(" "), (_vm.member.emergencyPhone) ? _c('li', [_vm._v("紧急联系人手机号： "), _c('b', [_vm._v(_vm._s(_vm.g.Util.formatPhone(_vm.member.emergencyPhone)))])]) : _vm._e(), _vm._v(" "), (_vm.member.regDate) ? _c('li', [_vm._v("注册日期： " + _vm._s(_vm.g.Util.formatDate(_vm.member.regDate)) + "  （已注册 "), _c('b', [_vm._v(_vm._s(new Date().subtract(Date.new(_vm.member.regDate))))]), _vm._v(" 天）")]) : _vm._e(), _vm._v(" "), (_vm.memberEntryCheckin) ? [(_vm.memberEntryCheckin.entryChargeItemName) ? _c('li', [_vm._v("计费项目：" + _vm._s(_vm.memberEntryCheckin.entryChargeItemName))]) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "orangered bold"
  }, [_vm._v("\n\t\t\t\t\t\t\t签到用卡： " + _vm._s(_vm.memberEntryCheckin.cardName) + "\n\t\t\t\t\t\t\t"), (_vm.memberEntryCheckin.cardPayment) ? [(_vm.memberEntryCheckin.cardType !== 1) ? _c('span', [_vm._v("，消费 "), _c('b', [_vm._v(_vm._s(_vm.memberEntryCheckin.cardPayment))]), _vm._v(" "), (_vm.memberEntryCheckin.cardType === 2) ? [_vm._v("次")] : _vm._e(), _vm._v(" "), (_vm.memberEntryCheckin.cardType === 3) ? [_vm._v("元")] : _vm._e()], 2) : _vm._e()] : _vm._e()], 2), _vm._v(" "), (_vm.checkinPermit) ? _c('li', [_vm._v("更衣柜号：\n\t\t\t\t\t\t\t"), _c('i-input', {
    staticClass: "locker-id",
    attrs: {
      "type": "text",
      "size": "small"
    },
    model: {
      value: (_vm.memberEntryCheckin.lockerId),
      callback: function($$v) {
        _vm.$set(_vm.memberEntryCheckin, "lockerId", $$v)
      },
      expression: "memberEntryCheckin.lockerId"
    }
  }), _vm._v(" "), _c('i-button', {
    staticClass: "locker-update-btn",
    on: {
      "click": _vm.updateLockerId
    }
  }, [_vm._v("保存")])], 1) : _vm._e(), _vm._v(" "), (!_vm.checkinPermit && _vm.memberEntryCheckin.lockerId) ? _c('li', [_vm._v("更衣柜号：" + _vm._s(_vm.memberEntryCheckin.lockerId))]) : _vm._e()] : _vm._e()], 2)]), _vm._v(" "), _c('td', {
    staticClass: "photo",
    attrs: {
      "valign": "top",
      "align": "right",
      "width": "225"
    }
  }, [(_vm.member) ? _c('img', {
    attrs: {
      "src": _vm.member.memberPhotoUrl
    }
  }) : _vm._e()])])]), _vm._v(" "), _c('div', {
    staticClass: "cards"
  }, [_c('table', {
    staticClass: "mytbl",
    attrs: {
      "width": "100%"
    }
  }, [_vm._m(0), _vm._v(" "), _vm._l((_vm.memberCardList), function(mc) {
    return _c('tr', [_c('td', [_vm._v("\n\t\t\t\t\t\t" + _vm._s(mc.cardName) + "\n\t\t\t\t\t\t"), (mc.status === 1) ? _c('span', {
      staticClass: "red l5"
    }, [_vm._v("[已" + _vm._s(_vm.g.Dict.MemberCardStatus[mc.status]) + "]")]) : _vm._e()]), _vm._v(" "), _c('td', [(mc.cardType === 1) ? [_c('b', {
      class: {
        red: mc.leftDays < 0
      }
    }, [_vm._v(_vm._s(mc.leftDays))]), _vm._v(" 天\n\t\t\t\t\t\t")] : (mc.cardType === 2) ? _c('span', [_c('b', [_vm._v(_vm._s(mc.currentTimes))]), _vm._v(" 次")]) : (mc.cardType === 3) ? _c('span', [_c('b', [_vm._v(_vm._s(mc.currentAmount))]), _vm._v(" 元")]) : (mc.cardType === 4) ? _c('span', [_c('b', [_vm._v(_vm._s(mc.currentTimes))]), _vm._v(" " + _vm._s(_vm.g.Dict.CardTimeTypes[mc.cardTimeType]))]) : _vm._e()], 2), _vm._v(" "), _c('td', [(mc.beginDate) ? _c('span', {
      class: {
        red: mc.leftDays < 0
      }
    }, [_vm._v(_vm._s(_vm.g.Util.formatDate(mc.beginDate)) + " ~ " + _vm._s(_vm.g.Util.formatDate(mc.endDate)))]) : (mc.cardType === 1) ? [_c('i', [_vm._v("尚未开卡")])] : _vm._e()], 2)])
  })], 2)])])] : _c('div', [_vm._v("\n\t\t加载中...\n\t")])], 2)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("会员卡")]), _vm._v(" "), _c('th', [_vm._v("剩余额")]), _vm._v(" "), _c('th', [_vm._v("使用期限")])])
}]}

/***/ }),

/***/ 2363:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "-lesson-opt"
  }, [(_vm.queryError) ? _c('div', {
    staticClass: "err"
  }, [_vm._v(_vm._s(_vm.queryError))]) : _vm._e(), _vm._v(" "), (_vm.member && _vm.lesson) ? [_c('section', {
    staticClass: "member border"
  }, [_c('table', [_c('tr', [_c('td', {
    staticClass: "photo",
    attrs: {
      "valign": "top",
      "width": "130"
    }
  }, [(_vm.member) ? _c('img', {
    attrs: {
      "src": _vm.member.memberPhotoUrl
    }
  }) : _vm._e()]), _vm._v(" "), _c('td', {
    attrs: {
      "valign": "top"
    }
  }, [_c('span', {
    staticClass: "name"
  }, [_vm._v(_vm._s(_vm.member.name))]), _vm._v(" " + _vm._s(_vm.g.Dict.SexDesc[_vm.member.sex]) + "\n\t\t\t\t\t"), _c('span', {
    staticClass: "phone"
  }, [_vm._v(_vm._s(_vm.member.phoneNo))]), _vm._v(" "), _c('div', {
    staticClass: "detail"
  }, [(_vm.member.coachName) ? _c('span', {
    staticClass: "bar"
  }, [_vm._v("教练： " + _vm._s(_vm.member.coachName))]) : _vm._e(), _vm._v(" "), (_vm.member.salesName) ? _c('span', {
    staticClass: "bar"
  }, [_vm._v("销售： " + _vm._s(_vm.member.salesName))]) : _vm._e(), _vm._v(" "), (_vm.member.advisorName) ? _c('span', {
    staticClass: "bar"
  }, [_vm._v("会籍顾问： " + _vm._s(_vm.member.advisorName))]) : _vm._e(), _vm._v("\n\t\t\t\t\t\t注册时间：" + _vm._s(_vm.member.createTime) + "\n\t\t\t\t")])])])])]), _vm._v(" "), _c('section', {
    staticClass: "lesson border"
  }, [_c('ul', [_c('li', [_vm._v("上课时间： "), _c('b', [_vm._v(_vm._s(new Date(_vm.lesson.lessonDate).format('yyyy-M-d')) + "  " + _vm._s(_vm.formatTime(_vm.lesson.beginTime)) + " ~ " + _vm._s(_vm.formatTime(_vm.lesson.endTime)))])]), _vm._v(" "), (_vm.lesson.status === 9) ? _c('li', {
    staticClass: "red"
  }, [_vm._v("该节课已结束")]) : _vm._e(), _vm._v(" "), (_vm.memberPcLesson) ? _c('li', [_vm._v("\n\t\t\t\t\t\t签到人：" + _vm._s(_vm.memberPcLesson.checkinUname) + "，签到时间：" + _vm._s(_vm.memberPcLesson.checkinTime) + "\n\t\t\t\t")]) : _vm._e()])]), _vm._v(" "), (_vm.memberCardList && _vm.memberCardList.length > 0) ? _c('section', {
    staticClass: "cards"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.memberCardList), function(c, idx) {
    return _c('tr', [_c('td', [(c.canSelect) ? _c('input', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: (_vm.selectCardIndex),
        expression: "selectCardIndex"
      }],
      staticClass: "single-radio",
      attrs: {
        "name": "ck",
        "type": "radio"
      },
      domProps: {
        "value": idx,
        "checked": _vm._q(_vm.selectCardIndex, idx)
      },
      on: {
        "change": function($event) {
          _vm.selectCardIndex = idx
        }
      }
    }) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t\t" + _vm._s(c.cardName) + "\n\t\t\t\t\t")]), _vm._v(" "), _c('td', [(c.cardType === 1) ? [(c.beginDate) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(Date.new(c.endDate).subtract(_vm.today)) + " 天\n\t\t\t\t\t\t\t")] : (c.canSelect) ? [_vm._v("\n\t\t\t\t\t\t\t\t尚未使用\n\t\t\t\t\t\t\t")] : _vm._e()] : (c.cardType === 2) ? [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(c.currentTimes) + " 次\n\t\t\t\t\t\t")] : (c.cardType === 3) ? [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(c.currentAmount) + " 元\n\t\t\t\t\t\t")] : (c.cardType === 4) ? [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(c.currentTimes) + " " + _vm._s(_vm.g.Dict.CardTimeTypes[c.cardTimeType]) + "\n\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), _c('td', [(c.status !== 0) ? _c('span', {
      staticClass: "red"
    }, [_vm._v("已" + _vm._s(_vm.g.Dict.MemberCardStatus[c.status]) + "，不可使用")]) : (c.canSelect) ? [(_vm.cardPaymentConf) ? [(c.cardType === 1) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("期限卡不单独计费")]) : (c.cardType === 2) ? [_vm._v("每次计费 "), _c('b', [_vm._v(_vm._s(_vm.cardPaymentConf[c.cardId]))]), _vm._v(" 次")] : (c.cardType === 3) ? [_vm._v("每次计费 "), _c('b', [_vm._v(_vm._s(_vm.cardPaymentConf[c.cardId]))]), _vm._v(" 元")] : (c.cardType === 4) ? [_vm._v("每次计费 "), _c('b', [_vm._v(_vm._s(_vm.cardPaymentConf[c.cardId]))]), _vm._v(" " + _vm._s(_vm.g.Dict.CardTimeTypes[c.cardTimeType]))] : _vm._e()] : _c('span', {
      staticClass: "green"
    }, [_vm._v("本节课不计费")])] : _c('span', {
      staticClass: "red"
    }, [_vm._v("本节课不适用")])], 2), _vm._v(" "), _c('td', [_c('ul', {
      staticClass: "opt-list"
    }, [(c.beginDate && c.endDate) ? _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t使用期限：" + _vm._s(_vm.g.Util.formatDate(c.beginDate, false)) + " ~ " + _vm._s(_vm.g.Util.formatDate(c.endDate, false)) + "\n\t\t\t\t\t\t\t")]) : _vm._e(), _vm._v(" "), (_vm.isInVacation(c.vacationBegin, c.vacationEnd)) ? _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t请假：" + _vm._s(_vm.g.Util.formatDate(c.vacationBegin, false)) + " ~ " + _vm._s(_vm.g.Util.formatDate(c.vacationEnd, false)) + "\n\t\t\t\t\t\t\t")]) : _vm._e(), _vm._v(" "), (c.limitBeginTime && c.limitEndTime) ? _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t限定用卡时间：" + _vm._s(_vm.g.Util.formatTime(c.limitBeginTime)) + " ~ " + _vm._s(_vm.g.Util.formatTime(c.limitEndTime)) + "\n\t\t\t\t\t\t\t")]) : _vm._e(), _vm._v(" "), (c.limitDates) ? _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t限定用卡日期：" + _vm._s(_vm.g.MemberLib.formatLimitDates(c.limitDates)) + "\n\t\t\t\t\t\t\t")]) : _vm._e(), _vm._v(" "), (c.limitWeeks) ? _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t限定用卡星期：" + _vm._s(_vm.g.MemberLib.formatWeekNames(c.limitWeeks)) + "\n\t\t\t\t\t\t\t")]) : _vm._e()])])])
  })], 2)]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "submit"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('span', {
    staticClass: "orange"
  }, [_c('Icon', {
    attrs: {
      "type": "md-information-circle",
      "size": "17"
    }
  })], 1), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("代会员签到后，系统将立即发送短信通知会员")])]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('i-button', {
    on: {
      "click": _vm.handleClose
    }
  }, [_vm._v("关闭")]), _vm._v(" "), (!_vm.memberPcLesson && _vm.selectCardIndex !== null) ? _c('i-button', {
    staticClass: "primary",
    attrs: {
      "type": "primary",
      "loading": _vm.submitLoading
    },
    on: {
      "click": function($event) {
        return _vm.handleSubmit()
      }
    }
  }, [_vm._v("签到")]) : _vm._e()], 1)])] : _c('div', {
    staticClass: "query-opt",
    attrs: {
      "align": "center"
    }
  }, [_c('i-button', {
    on: {
      "click": _vm.handleClose
    }
  }, [_vm._v("关闭")])], 1)], 2)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("选择")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("会员卡名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("余额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "130"
    }
  }, [_vm._v("课程使用")]), _vm._v(" "), _c('th', [_vm._v("备注")])])
}]}

/***/ }),

/***/ 2367:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('section', {
    staticClass: "mobile-more-menu-set"
  }, [_c('div', {
    staticClass: "home-conf"
  }, [_c('ul', [_vm._l((_vm.menuList), function(level1, idx) {
    return _c('li', {
      key: idx,
      staticClass: "home-li",
      class: {
        'children-li-active': _vm.draggingActive == idx,
        'no-move': idx === 0
      },
      attrs: {
        "draggable": true
      },
      on: {
        "dragstart": function($event) {
          $event.stopPropagation();
          return _vm.dragstart(idx, null)
        },
        "dragover": function($event) {
          $event.stopPropagation();
          $event.preventDefault();
          return _vm.dragover(1, idx, null)
        },
        "drop": function($event) {
          $event.stopPropagation();
          return _vm.drop(1, idx)
        }
      }
    }, [_c('div', {
      staticClass: "parent"
    }, [_c('i-select', {
      staticClass: "sel",
      attrs: {
        "clearable": "",
        "disabled": level1.disabled
      },
      on: {
        "on-change": function($event) {
          return _vm.inputSelectFun(idx)
        }
      },
      model: {
        value: (level1.val),
        callback: function($$v) {
          _vm.$set(level1, "val", $$v)
        },
        expression: "level1.val"
      }
    }, [_vm._l((_vm.selectMoreMenuLevel1), function(val1) {
      return [_c('i-option', {
        key: val1.id,
        attrs: {
          "value": val1.id,
          "disabled": _vm.selectSet.has(val1.id)
        }
      }, [_vm._v(_vm._s(val1.title))])]
    })], 2), _vm._v(" "), _c('i-input', {
      staticClass: "parent-name",
      attrs: {
        "disabled": level1.disabled,
        "placeholder": "自定义名称"
      },
      on: {
        "on-blur": function($event) {
          return _vm.inputMenuNameFun($event, idx)
        }
      },
      model: {
        value: (level1.name),
        callback: function($$v) {
          _vm.$set(level1, "name", $$v)
        },
        expression: "level1.name"
      }
    }), _vm._v(" "), _c('i-button', {
      staticClass: "add-btn",
      attrs: {
        "icon": "md-close",
        "disabled": level1.disabled
      },
      on: {
        "click": function($event) {
          return _vm.deleteMoreMenuSet(idx)
        }
      }
    }, [_vm._v("删除")]), _vm._v(" "), _c('i-button', {
      staticClass: "add-btn",
      attrs: {
        "icon": "md-add"
      },
      on: {
        "click": function($event) {
          return _vm.addMoreMenuChildrenSet(idx)
        }
      }
    }, [_vm._v("添加")])], 1), _vm._v(" "), (level1.children && level1.children.length) ? _c('ul', {
      staticClass: "children"
    }, [_vm._l((level1.children), function(level2, cIdx) {
      return [_c('li', {
        key: cIdx,
        staticClass: "children-li",
        class: {
          'children-li-active': _vm.draggingActive == (idx + "-" + cIdx)
        },
        attrs: {
          "draggable": true
        },
        on: {
          "dragstart": function($event) {
            $event.stopPropagation();
            return _vm.dragstart(idx, cIdx)
          },
          "dragover": function($event) {
            $event.stopPropagation();
            $event.preventDefault();
            return _vm.dragover(2, idx, cIdx)
          },
          "drop": function($event) {
            $event.stopPropagation();
            return _vm.drop(2, idx, cIdx)
          }
        }
      }, [_c('i-select', {
        staticClass: "sel",
        attrs: {
          "clearable": "",
          "disabled": level2.disabled
        },
        model: {
          value: (level2.val),
          callback: function($$v) {
            _vm.$set(level2, "val", $$v)
          },
          expression: "level2.val"
        }
      }, [(level1.val && level1.val !== -1) ? [_vm._l((_vm.selectMoreMenuLevel2.filter(function (item) { return _vm.selectMoreMenuLevel1[level1.val].selectIds.contains(item.id); })), function(val2) {
        return [_c('i-option', {
          key: val2.id,
          attrs: {
            "value": val2.id,
            "disabled": _vm.selectChildrenSet.has(val2.id)
          }
        }, [_vm._v(_vm._s(val2.title))])]
      })] : [_vm._l((_vm.selectMoreMenuLevel2), function(val2) {
        return [_c('i-option', {
          key: val2.id,
          attrs: {
            "value": val2.id,
            "disabled": _vm.selectChildrenSet.has(val2.id)
          }
        }, [_vm._v(_vm._s(val2.title)), _c('span', {
          staticClass: "gray"
        }, [_vm._v("（" + _vm._s(val2.type == 1 ? '我的' : '门店') + "）")])])]
      })]], 2), _vm._v(" "), _c('i-input', {
        staticClass: "children-name",
        attrs: {
          "disabled": level2.disabled,
          "placeholder": "自定义名称"
        },
        on: {
          "on-blur": function($event) {
            return _vm.inputMenuNameFun($event, idx, cIdx)
          }
        },
        model: {
          value: (level2.name),
          callback: function($$v) {
            _vm.$set(level2, "name", $$v)
          },
          expression: "level2.name"
        }
      }), _vm._v(" "), _c('i-button', {
        staticClass: "add-btn",
        attrs: {
          "disabled": level1.children.length <= 1 || level2.disabled,
          "icon": "md-close"
        },
        on: {
          "click": function($event) {
            return _vm.deleteMoreMenuChildrenSet(idx, cIdx)
          }
        }
      }, [_vm._v("删除")])], 1)]
    })], 2) : _vm._e()])
  }), _vm._v(" "), _c('li'), _vm._v(" "), _c('li', {
    staticClass: "add"
  }, [_c('div', {
    staticClass: "notice orange"
  }, [(_vm.menuList && _vm.menuList.length > 1) ? [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 鼠标拖动上面分组可调整显示顺序")] : [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 如不配置，则按照系统默认显示")]], 2), _vm._v(" "), _c('i-button', {
    attrs: {
      "icon": "md-add"
    },
    on: {
      "click": _vm.addMoreMenuSet
    }
  }, [_vm._v("添加一组")])], 1)], 2), _vm._v(" "), _c('div', {
    staticClass: "form-submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveMoreMenuSet
    }
  }, [_vm._v("保存")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.defaultMoreMenuSortFunc
    }
  }, [_vm._v("系统默认")])], 1)])])
},staticRenderFns: []}

/***/ }),

/***/ 2372:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('section', [_vm._m(0), _vm._v(" "), _c('div', {
    staticClass: "mytbl",
    staticStyle: {
      "width": "850px"
    }
  }, [_c('table', [_vm._m(1), _vm._v(" "), _vm._l((_vm.contractPrintConfList), function(p, idx) {
    return _c('tr', {
      key: idx
    }, [_c('td', [_c('i-select', {
      staticStyle: {
        "width": "200px"
      },
      attrs: {
        "filterable": ""
      },
      model: {
        value: (p.fieldId),
        callback: function($$v) {
          _vm.$set(p, "fieldId", $$v)
        },
        expression: "p.fieldId"
      }
    }, [_vm._l((_vm.printSet), function(name, key) {
      return [_c('i-option', {
        key: key,
        attrs: {
          "value": parseInt(key),
          "label": name
        }
      }, [_vm._v("\n\t\t\t\t\t\t\t\t\t" + _vm._s(name) + "\n\t\t\t\t\t\t\t\t")])]
    })], 2)], 1), _vm._v(" "), _c('td', [_c('input-num', {
      staticClass: "input",
      attrs: {
        "placeholder": ""
      },
      model: {
        value: (p.posX),
        callback: function($$v) {
          _vm.$set(p, "posX", $$v)
        },
        expression: "p.posX"
      }
    })], 1), _vm._v(" "), _c('td', {
      staticClass: "last-td"
    }, [_c('input-num', {
      staticClass: "input",
      attrs: {
        "placeholder": ""
      },
      model: {
        value: (p.posY),
        callback: function($$v) {
          _vm.$set(p, "posY", $$v)
        },
        expression: "p.posY"
      }
    })], 1), _vm._v(" "), _c('td', {
      staticClass: "last-td"
    }, [_c('input-int', {
      staticClass: "input",
      attrs: {
        "placeholder": ""
      },
      model: {
        value: (p.page),
        callback: function($$v) {
          _vm.$set(p, "page", $$v)
        },
        expression: "p.page"
      }
    })], 1), _vm._v(" "), _c('td', [_c('a', {
      attrs: {
        "title": "删除"
      },
      on: {
        "click": function($event) {
          return _vm.delConf(idx)
        }
      }
    }, [_vm._v("删除")])])])
  }), _vm._v(" "), _c('tr', [_c('td', {
    attrs: {
      "colspan": "5"
    }
  }, [_c('div', [_c('i-button', {
    staticClass: "long-btn",
    attrs: {
      "icon": "md-add"
    },
    on: {
      "click": _vm.addConf
    }
  }, [_vm._v("追加")])], 1)])])], 2)]), _vm._v(" "), _c('div', {
    staticClass: "submit"
  }, [_c('i-button', {
    staticClass: "long-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.handleSubmit()
      }
    }
  }, [_vm._v("提交")])], 1)]), _vm._v(" "), _c('section', [_vm._m(2), _vm._v(" "), _c('img-upload', {
    attrs: {
      "multiple": true,
      "removeable": true,
      "max-count": 5,
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "on-success": _vm.handleImgUploadSuccessForMemberContract,
      "on-remove": _vm.handleImgRemoveForMemberContract,
      "max-size": _vm.imgUpload.maxSize,
      "default-file-list": _vm.imgUpload.memberContractPicList
    }
  }, [_c('i-button', {
    attrs: {
      "type": "default",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("点击上传")]), _vm._v("\n\t\t\t  "), _c('span', {
    staticClass: "gray"
  }, [_vm._v("（最多可上传 "), _c('b', [_vm._v("5")]), _vm._v(" 张）")])], 1), _vm._v(" "), (_vm.imgUpload.memberContractPicList && _vm.imgUpload.memberContractPicList.length) ? _c('div', {
    staticClass: "submit"
  }, [_c('i-button', {
    staticClass: "long-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveMemberContractPics
    }
  }, [_vm._v("提交")])], 1) : _vm._e(), _vm._v(" "), (_vm.imgUpload.memberContractPicList && _vm.imgUpload.memberContractPicList.length) ? _c('div', {
    staticClass: "more-opts"
  }, [_c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.updateShopArg(2048, _vm.enableMemberContract)
      }
    },
    model: {
      value: (_vm.enableMemberContract),
      callback: function($$v) {
        _vm.enableMemberContract = $$v
      },
      expression: "enableMemberContract"
    }
  }, [_vm._v("\n\t\t\t\t在线购卡时，需要先同意并阅读后才能购买\n\t\t\t")])], 1) : _vm._e()], 1), _vm._v(" "), _c('section', [_vm._m(3), _vm._v(" "), _c('div', {
    staticClass: "mytbl",
    staticStyle: {
      "width": "700px"
    }
  }, [_c('table', [_vm._m(4), _vm._v(" "), _c('tr', [_c('td', {
    staticClass: "gray"
  }, [_c('input-int', {
    staticClass: "input",
    attrs: {
      "placeholder": ""
    },
    model: {
      value: (_vm.areaConf.posX),
      callback: function($$v) {
        _vm.$set(_vm.areaConf, "posX", $$v)
      },
      expression: "areaConf.posX"
    }
  })], 1), _vm._v(" "), _c('td', [_c('input-int', {
    staticClass: "input",
    attrs: {
      "placeholder": ""
    },
    model: {
      value: (_vm.areaConf.posY),
      callback: function($$v) {
        _vm.$set(_vm.areaConf, "posY", $$v)
      },
      expression: "areaConf.posY"
    }
  })], 1), _vm._v(" "), _c('td', [_c('input-int', {
    staticClass: "input",
    attrs: {
      "placeholder": ""
    },
    model: {
      value: (_vm.areaConf.width),
      callback: function($$v) {
        _vm.$set(_vm.areaConf, "width", $$v)
      },
      expression: "areaConf.width"
    }
  })], 1), _vm._v(" "), _c('td', [_c('input-int', {
    staticClass: "input",
    attrs: {
      "placeholder": ""
    },
    model: {
      value: (_vm.areaConf.height),
      callback: function($$v) {
        _vm.$set(_vm.areaConf, "height", $$v)
      },
      expression: "areaConf.height"
    }
  })], 1), _vm._v(" "), _c('td', {
    staticClass: "last-td"
  }, [_c('input-int', {
    staticClass: "input",
    attrs: {
      "placeholder": ""
    },
    model: {
      value: (_vm.areaConf.page),
      callback: function($$v) {
        _vm.$set(_vm.areaConf, "page", $$v)
      },
      expression: "areaConf.page"
    }
  })], 1)])])]), _vm._v(" "), _c('div', {
    staticClass: "submit"
  }, [_c('i-button', {
    staticClass: "long-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.handleAreaSubmit()
      }
    }
  }, [_vm._v("提交")])], 1)]), _vm._v(" "), _c('section', [_vm._m(5), _vm._v(" "), _c('div', {
    staticClass: "mytbl",
    staticStyle: {
      "width": "600px"
    }
  }, [_c('table', [_vm._m(6), _vm._v(" "), _c('tr', [_c('td', {
    staticClass: "gray"
  }, [_c('input-int', {
    staticClass: "input",
    attrs: {
      "placeholder": ""
    },
    model: {
      value: (_vm.textConf.size),
      callback: function($$v) {
        _vm.$set(_vm.textConf, "size", $$v)
      },
      expression: "textConf.size"
    }
  })], 1), _vm._v(" "), _c('td', {
    staticClass: "gray"
  }, [_c('input-int', {
    staticClass: "input",
    attrs: {
      "placeholder": ""
    },
    model: {
      value: (_vm.textConf.dpi),
      callback: function($$v) {
        _vm.$set(_vm.textConf, "dpi", $$v)
      },
      expression: "textConf.dpi"
    }
  })], 1), _vm._v(" "), _c('td', {
    staticClass: "last-td"
  }, [_c('input-num', {
    staticClass: "input",
    attrs: {
      "placeholder": ""
    },
    model: {
      value: (_vm.textConf.rate),
      callback: function($$v) {
        _vm.$set(_vm.textConf, "rate", $$v)
      },
      expression: "textConf.rate"
    }
  })], 1)])])]), _vm._v(" "), _c('div', {
    staticClass: "submit"
  }, [_c('i-button', {
    staticClass: "long-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.handleTextSubmit()
      }
    }
  }, [_vm._v("提交")])], 1)])])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员合同数据项设置")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "210"
    }
  }, [_vm._v("打印列名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "180"
    }
  }, [_vm._v("左边距（毫米）")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "180"
    }
  }, [_vm._v("上边距（毫米）")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "180"
    }
  }, [_vm._v("所在合同页码")]), _vm._v(" "), _c('th', [_vm._v("操作")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员合同模板")]), _vm._v(" "), _c('div', {
    staticClass: "r orange"
  }, [_vm._v("\n\t\t\t\t上传后将在会员手机端展示（会员卡充值记录）\n\t\t\t")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("电子合同签名设置")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("左边距（毫米）")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("上边距（毫米）")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("宽度（毫米）")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("高度（毫米）")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("所在合同页码")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("电子合同参数设置")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("字体大小（磅）")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("合同模板图片dpi（像素）")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("图片与纸质比率")])])
}]}

/***/ }),

/***/ 2378:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-conf"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-conf",
      "page": "shop-ground"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("上课场地设置")]), _vm._v(" "), _c('div', {
    staticClass: "r small"
  }, [(_vm.groundEditable) ? _c('i-button', {
    attrs: {
      "type": "primary",
      "icon": "md-add"
    },
    on: {
      "click": _vm.handleAddGroundDlg
    }
  }, [_vm._v("添加场地")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.shopGroundList), function(sg, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(sg.groundName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(sg.maxPersons) + " 人")]), _vm._v(" "), _c('td', [(sg.status === 0) ? _c('span', [_vm._v("正常")]) : _c('span', {
      staticClass: "gray"
    }, [_vm._v("废弃")])]), _vm._v(" "), _c('td', [(sg.rows && sg.cols) ? _c('span', [_vm._v(_vm._s(sg.rows) + " x " + _vm._s(sg.cols))]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(sg.remark))]), _vm._v(" "), _c('td', [(_vm.groundEditable) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.handleEditGroundDlg(idx)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), (sg.status === 0) ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.handleDelGround(idx)
        }
      }
    }, [_vm._v("废弃")])]) : (sg.status === 99) ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.handleRestoreGround(idx)
        }
      }
    }, [_vm._v("恢复")])]) : _vm._e()]) : _vm._e()])])
  })], 2), _vm._v(" "), _c('div', {
    staticClass: "tbl-footer"
  }, [_c('div', {
    staticClass: "center"
  }, [_vm._v("共 " + _vm._s(_vm.shopGroundList.length) + " 条记录")])])])]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "上课场地编辑",
      "width": "750",
      "styles": {
        'top': 0
      }
    },
    model: {
      value: (_vm.groundDlgShow),
      callback: function($$v) {
        _vm.groundDlgShow = $$v
      },
      expression: "groundDlgShow"
    }
  }, [_c('i-form', {
    ref: "shopGround",
    staticClass: "myform",
    staticStyle: {
      "width": "500px",
      "margin-top": "10px"
    },
    attrs: {
      "model": _vm.shopGround,
      "rules": _vm.shopGroundFormRule,
      "label-width": 100
    }
  }, [_c('form-item', {
    attrs: {
      "prop": "groundName",
      "label": "场地名称"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "placeholder": ""
    },
    model: {
      value: (_vm.shopGround.groundName),
      callback: function($$v) {
        _vm.$set(_vm.shopGround, "groundName", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "shopGround.groundName"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "maxPersons",
      "label": "能容纳人数"
    }
  }, [_c('input-int', {
    model: {
      value: (_vm.shopGround.maxPersons),
      callback: function($$v) {
        _vm.$set(_vm.shopGround, "maxPersons", $$v)
      },
      expression: "shopGround.maxPersons"
    }
  })], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "rows",
      "label": "场内位置行数"
    }
  }, [_c('input-int', {
    model: {
      value: (_vm.shopGround.rows),
      callback: function($$v) {
        _vm.$set(_vm.shopGround, "rows", $$v)
      },
      expression: "shopGround.rows"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("行")])], 1), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "cols",
      "label": "场内位置列数"
    }
  }, [_c('input-int', {
    model: {
      value: (_vm.shopGround.cols),
      callback: function($$v) {
        _vm.$set(_vm.shopGround, "cols", $$v)
      },
      expression: "shopGround.cols"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("列")])], 1), _vm._v(" "), (_vm.shopGround.rows && _vm.shopGround.cols) ? _c('form-item', {
    attrs: {
      "prop": "positions",
      "label": "位置编号"
    }
  }, [_c('div', {
    staticClass: "postbl"
  }, [_c('table', _vm._l((parseInt(_vm.shopGround.rows)), function(r) {
    return _c('tr', _vm._l((parseInt(_vm.shopGround.cols)), function(c) {
      return _c('td', [_c('i-input', {
        staticClass: "input",
        attrs: {
          "type": "text"
        },
        model: {
          value: (_vm.positionList[r + '-' + c]),
          callback: function($$v) {
            _vm.$set(_vm.positionList, r + '-' + c, $$v)
          },
          expression: "positionList[r + '-' + c]"
        }
      })], 1)
    }), 0)
  }), 0)]), _vm._v(" "), _c('div', {
    staticClass: "orange p10"
  }, [_vm._v("请在位置上标注位置编号，主要用于团课预约时会员选择")])]) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "remark",
      "label": "备注"
    }
  }, [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 3
    },
    model: {
      value: (_vm.shopGround.remark),
      callback: function($$v) {
        _vm.$set(_vm.shopGround, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "shopGround.remark"
    }
  })], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "form-submit"
  }, [_c('i-button', {
    staticStyle: {
      "margin-left": "100px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.handleSaveGround()
      }
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.groundDlgShow = false;
      }
    }
  }, [_vm._v("取消")])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1)], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("场地名称")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("容纳人数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "55"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "65"
    }
  }, [_vm._v("位置")]), _vm._v(" "), _c('th', [_vm._v("备注")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("操作")])])
}]}

/***/ }),

/***/ 2381:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-conf"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-conf",
      "page": "shop-notice"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('section', [_c('icon', {
    attrs: {
      "type": "ios-alarm-outline",
      "size": "18",
      "color": "gray"
    }
  }), _vm._v(" \n\t\t\t"), _c('i', {
    staticClass: "gray"
  }, [_vm._v("会尽快上线，请耐心等待 ... ")])], 1)])], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2382:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('section', [_c('input-int', {
    staticStyle: {
      "width": "130px",
      "position": "relative",
      "top": "2px"
    },
    attrs: {
      "placeholder": "接收人手机号"
    },
    on: {
      "enter": function($event) {
        return _vm.queryList(null)
      }
    },
    model: {
      value: (_vm.phoneNo),
      callback: function($$v) {
        _vm.phoneNo = (typeof $$v === 'string' ? $$v.trim() : $$v)
      },
      expression: "phoneNo"
    }
  }), _vm._v("\n\t     \n\t    "), _c('i-select', {
    staticStyle: {
      "width": "200px"
    },
    attrs: {
      "placeholder": "请选择消息类型",
      "filterable": "",
      "clearable": ""
    },
    model: {
      value: (_vm.msgType),
      callback: function($$v) {
        _vm.msgType = $$v
      },
      expression: "msgType"
    }
  }, _vm._l((_vm.msgTypeConfArr), function(c) {
    return _c('i-option', {
      key: c.id,
      attrs: {
        "value": c.id
      }
    }, [_vm._v(_vm._s(c.name))])
  }), 1), _vm._v("\n\t     \n\t    "), _c('i-button', {
    staticClass: "primary-btn",
    staticStyle: {
      "width": "100px"
    },
    attrs: {
      "type": "primary",
      "icon": "ios-search"
    },
    on: {
      "click": function($event) {
        return _vm.queryList()
      }
    }
  }, [_vm._v("查询")])], 1), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    staticClass: "inner-tbl"
  }, [_vm._m(0), _vm._v(" "), _vm._l((_vm.wxMsgLogList), function(item, idx) {
    return _c('tr', {
      key: idx
    }, [_c('td', [_vm._v(_vm._s(_vm.msgTypeConf[item.msgType]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(item.receiverName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(item.userWxId))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(item.createTime))]), _vm._v(" "), _c('td', [_c('pre', [_vm._v(_vm._s(item.msg))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(item.rep))])])
  })], 2)]), _vm._v(" "), (!_vm.wxMsgLogList || _vm.wxMsgLogList.length == 0) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e(), _vm._v(" "), (_vm.logCount && _vm.logCount > 0) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.logCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryList
    }
  })], 1) : _vm._e()])])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "170"
    }
  }, [_vm._v("消息类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("接收人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "240"
    }
  }, [_vm._v("微信ID")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("发送时间")]), _vm._v(" "), _c('th', [_vm._v("发送内容")]), _vm._v(" "), _c('th', [_vm._v("发送结果")])])
}]}

/***/ }),

/***/ 2384:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-conf"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-conf",
      "page": "sms-log"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('Tabs', {
    attrs: {
      "animated": false
    }
  }, [_c('TabPane', {
    attrs: {
      "label": "短信记录"
    }
  }, [_c('section', {
    staticClass: "cnts"
  }, [_c('div', {
    staticClass: "l"
  }, [_vm._v("\n\t\t\t\t\t\t共购买短信数： "), _c('b', {
    staticClass: "green big"
  }, [_vm._v(_vm._s(_vm.smsCnts.buys))]), _vm._v(" "), _c('i', [_vm._v("|")]), _vm._v("\n\t\t\t\t\t\t已发送短信数： "), _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.smsCnts.sends))]), _vm._v(" "), _c('i', [_vm._v("|")]), _vm._v("\n\t\t\t\t\t\t剩余短信数： "), _c('b', {
    staticClass: "orangered big"
  }, [_vm._v(_vm._s(_vm.smsCnts.remnant))])]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    on: {
      "click": function($event) {
        return _vm.$router.push('/recharge')
      }
    }
  }, [_vm._v("在线充值短信数 →")])])]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("短信发送记录")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('i-select', {
    staticStyle: {
      "display": "inline-block",
      "width": "200px"
    },
    attrs: {
      "placeholder": "请选择短信类型",
      "clearable": ""
    },
    on: {
      "on-change": function($event) {
        return _vm.changeOrderType()
      }
    },
    model: {
      value: (_vm.query.smsType),
      callback: function($$v) {
        _vm.$set(_vm.query, "smsType", _vm._n($$v))
      },
      expression: "query.smsType"
    }
  }, _vm._l((_vm.g.Dict.SmsTypes), function(name, idx) {
    return (idx > 0) ? _c('i-option', {
      key: idx,
      attrs: {
        "value": idx
      }
    }, [_vm._v(_vm._s(name))]) : _vm._e()
  }), 1), _vm._v("\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t"), _c('input-int', {
    staticStyle: {
      "width": "125px",
      "position": "relative",
      "top": "1px"
    },
    attrs: {
      "placeholder": "请输入接收人手机号"
    },
    on: {
      "enter": function($event) {
        return _vm.querySmsLog()
      }
    },
    model: {
      value: (_vm.query.receiverPhone),
      callback: function($$v) {
        _vm.$set(_vm.query, "receiverPhone", $$v)
      },
      expression: "query.receiverPhone"
    }
  }), _vm._v("\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t"), _c('i-button', {
    on: {
      "click": function($event) {
        return _vm.querySmsLog()
      }
    }
  }, [_vm._v("确定")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    staticClass: "inner-tbl"
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "130"
    }
  }, [_vm._v("短信类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("接收人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "105"
    }
  }, [_vm._v("手机号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "140"
    }
  }, [_vm._v("发送时间")]), _vm._v(" "), _c('th', [_vm._v("短信内容")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("条数")])]), _vm._v(" "), _vm._l((_vm.smsLogList), function(l, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s((30 * ((_vm.page ? _vm.page : 1) - 1)) + idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.SmsTypes[l.smsType]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.receiverName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.phoneNo))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.sendTime ? l.sendTime : l.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.content))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.smsNum))])])
  })], 2)]), _vm._v(" "), (_vm.smsCount && _vm.smsCount > 0) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.smsCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.changePageNo
    }
  })], 1) : _vm._e(), _vm._v(" "), (!_vm.smsCount) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("\n\t\t\t\t\t\t尚无短信记录\n\t\t\t\t\t")]) : _vm._e()]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit-help"
  }, [_vm._v("您需要知道的")])]), _vm._v(" "), _c('ol', [_c('li', [_vm._v("如果贵店的剩余短信数不足，系统将停止发送短信，充值后即可继续使用短信服务；")]), _vm._v(" "), _c('li', [_vm._v("短信实际内容包括系统签名“【健总管】”（5个字，也计算在短信字数内）；")]), _vm._v(" "), _c('li', [_vm._v("对于营销类短信（具体由短信平台决定），短信运营商强制在短信末尾自动加“退订回T”（占4个字），这也算在短信字数内；")]), _vm._v(" "), _c('li', [_vm._v("\n\t\t\t\t\t\t\t短信内容（包含短信签名和前后括号）的计费条数规则（国家统一规定）："), _c('p'), _vm._v("\n\t\t\t\t\t\t\t总字数不超过70字，按1条计费；超过70字，按67字/条计费；\n\t\t\t\t\t\t\t包括中文、英文、数字、空格、各种符号等。\n\t\t\t\t\t\t")])])]), _vm._v(" "), (_vm.g.data.user.isShopOwner) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('span', {
    staticClass: "tit"
  }, [_vm._v("短信数不足提醒")])]), _vm._v(" "), _c('checkbox', {
    on: {
      "on-change": _vm.updateSmsCountReminderArg
    },
    model: {
      value: (_vm.enableSendSmsCountReminder),
      callback: function($$v) {
        _vm.enableSendSmsCountReminder = $$v
      },
      expression: "enableSendSmsCountReminder"
    }
  }, [_vm._v("\n\t\t\t\t\t\t剩余短信数不足10条时，允许健总管系统发送短信提醒给店长"), _c('span', {
    staticClass: "orange"
  }, [_vm._v("（此短信免费）")])])], 1) : _vm._e()]), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "微信消息记录"
    }
  }, [_c('wx-sms-log')], 1)], 1)], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2385:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-conf"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-conf",
      "page": "mobile-usage"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('Tabs', {
    attrs: {
      "name": "parent",
      "animated": false
    }
  }, [_c('TabPane', {
    attrs: {
      "tab": "parent",
      "label": "使用方式"
    }
  }, [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("用前必读")])]), _vm._v(" "), _c('ol', {
    staticClass: "big"
  }, [_c('li', [_vm._v("门店成员（例如店长、教练、销售、会籍等），以及所有"), _c('b', {
    staticClass: "red"
  }, [_vm._v("会员")]), _vm._v("都可使用健总管手机版，\n\t\t\t\t\t\t\t使用统一的的登录入口"), _c('span', {
    staticClass: "gray"
  }, [_vm._v("（见下面的使用方式）")]), _vm._v("；")]), _vm._v(" "), _c('li', [_vm._v("\n\t\t\t\t\t\t\t管理员或店长通过本系统创建门店员工以及会员（账号为手机号）后，员工或会员即可使用登记的手机号登录健总管；\n\t\t\t\t\t\t")]), _vm._v(" "), _c('li', [_c('b', [_vm._v("第一次使用时，需自己设置登录密码")]), _c('span', {
    staticClass: "gray"
  }, [_vm._v("（见登录页面上的“密码设置”）")]), _vm._v("。\n\t\t\t\t\t\t")])])]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("多种使用方式")]), _vm._v(" "), _c('div', {
    staticClass: "r gray"
  }, [_vm._v("\n\t\t\t\t\t\t\t下载二维码方法：右键点击二维码，再点击【图片另存为】\n\t\t\t\t\t\t")])]), _vm._v(" "), _c('table', {
    staticClass: "usages"
  }, [_c('tr', [_c('td', [_c('div', {
    staticClass: "tit"
  }, [_vm._v("健总管微信网页版")]), _vm._v(" "), _c('div', {
    staticClass: "img"
  }, [_c('img', {
    attrs: {
      "src": _vm.qrcodeImgUrl
    }
  })]), _vm._v(" "), _c('div', {
    staticClass: "desc"
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t可将"), _c('b', {
    staticClass: "red"
  }, [_vm._v("贵店专属二维码")]), _vm._v("打印出，"), _c('br'), _vm._v("放在门店内，会员即可微信扫码签到\n\t\t\t\t\t\t\t\t")])]), _vm._v(" "), _c('td', [_c('div', {
    staticClass: "tit"
  }, [_vm._v("健总管小程序版（"), _c('span', {
    staticClass: "orangered"
  }, [_vm._v("推荐")]), _vm._v("）")]), _vm._v(" "), _c('div', {
    staticClass: "img"
  }, [_c('a', {
    attrs: {
      "href": "http://jzongguan.com/imglib/jzg-mp.jpg",
      "target": "_blank"
    }
  }, [_c('img', {
    staticClass: "allpadding",
    attrs: {
      "src": "http://jzongguan.com/imglib/jzg-mp.jpg"
    }
  })])]), _vm._v(" "), _c('div', {
    staticClass: "desc"
  }, [_vm._v("请用手机微信扫码"), _c('br'), _vm._v("或微信小程序里搜索“健总管”")])]), _vm._v(" "), _c('td', [_c('div', {
    staticClass: "tit"
  }, [_vm._v("健总管APP版下载")]), _vm._v(" "), _c('div', {
    staticClass: "img"
  }, [_c('img', {
    staticClass: "allpadding",
    attrs: {
      "src": "http://jzongguan.com/imglib/jzg-app.png"
    }
  })]), _vm._v(" "), _c('div', {
    staticClass: "desc"
  }, [_vm._v("请用手机浏览器扫码"), _c('br'), _vm._v("扫后进入APP下载页面")])])])])]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("手机端默认主题色设置")])]), _vm._v(" "), _c('ul', {
    staticClass: "skin-conf"
  }, [_c('li', {
    staticClass: "gold",
    on: {
      "click": function($event) {
        return _vm.changeSkin('')
      }
    }
  }, [_c('div'), (!_vm.defaultSkin) ? _c('i', {
    staticClass: "iconfont icon-check2"
  }) : _vm._e(), _vm._v("荣耀金\n\t\t\t\t\t\t")]), _vm._v(" "), _c('li', {
    staticClass: "black",
    on: {
      "click": function($event) {
        return _vm.changeSkin('black')
      }
    }
  }, [_c('div'), (_vm.defaultSkin === 'black') ? _c('i', {
    staticClass: "iconfont icon-check2"
  }) : _vm._e(), _vm._v("炫酷黑\n\t\t\t\t\t\t")]), _vm._v(" "), _c('li', {
    staticClass: "pink",
    on: {
      "click": function($event) {
        return _vm.changeSkin('pink')
      }
    }
  }, [_c('div'), (_vm.defaultSkin === 'pink') ? _c('i', {
    staticClass: "iconfont icon-check2"
  }) : _vm._e(), _vm._v("少女粉\n\t\t\t\t\t\t")]), _vm._v(" "), _c('li', {
    staticClass: "green",
    on: {
      "click": function($event) {
        return _vm.changeSkin('green')
      }
    }
  }, [_c('div'), (_vm.defaultSkin === 'green') ? _c('i', {
    staticClass: "iconfont icon-check2"
  }) : _vm._e(), _vm._v("青春绿\n\t\t\t\t\t\t")])])])]), _vm._v(" "), _c('TabPane', {
    attrs: {
      "tab": "parent",
      "label": "绑定微信公众号"
    }
  }, [_c('section', [_c('div', {
    staticClass: "article"
  }, [_vm._v("\n\t\t\t\t\t\t可将健总管手机版嵌入贵店的微信公众号。这样，会员或员工都可通过微信公众号进入健总管手机版。\n\t\t\t\t\t\t具体操作方法如下："), _c('p'), _vm._v(" "), _c('ol', [_c('li', [_vm._v("登录你们的微信公众号；")]), _vm._v(" "), _c('li', [_vm._v("进入微信【功能 > 自定义菜单】")]), _vm._v(" "), _c('li', [_vm._v("编辑菜单-名称：菜单名称可自定义（例如，会员系统）")]), _vm._v(" "), _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t编辑菜单-页面地址：页面地址可选择\n\t\t\t\t\t\t\t\t"), _c('radio-group', {
    staticClass: "l15",
    on: {
      "on-change": _vm.changeUrlType
    },
    model: {
      value: (_vm.sysUrlType),
      callback: function($$v) {
        _vm.sysUrlType = $$v
      },
      expression: "sysUrlType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("按商户")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("按门店")])], 1), _vm._v(" "), _c('help', [_vm._v("选择【按商户】表示一个商户下的各个连锁店都可使用，选择【按门店】则仅限本门店使用")])], 1), _vm._v(" "), _c('div', {
    staticClass: "links"
  }, [_c('table', [_c('tr', [_c('th', [_vm._v("系统首页")]), _vm._v(" "), _c('td', {
    attrs: {
      "title": "点击地址可复制"
    }
  }, [_c('span', {
    staticClass: "link",
    on: {
      "click": function($event) {
        return _vm.g.Util.copyText($event, _vm.mBaseUrl + '/#/' + _vm.urlParam, false)
      }
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t\t\t" + _vm._s(_vm.mBaseUrl) + "/#/" + _vm._s(_vm.urlParam) + "\n\t\t\t\t\t\t\t\t\t\t\t")]), _vm._v(" "), _c('a', {
    staticClass: "l15",
    on: {
      "click": function($event) {
        return _vm.openQrCodeDlgForHome()
      }
    }
  }, [_c('i', {
    staticClass: "iconfont icon-qrcode big"
  }), _vm._v(" 二维码")])])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("预约团课")]), _vm._v(" "), _c('td', {
    attrs: {
      "title": "点击地址可复制"
    }
  }, [_c('span', {
    staticClass: "link",
    on: {
      "click": function($event) {
        return _vm.g.Util.copyText($event, _vm.mBaseUrl + '/run.html#/group-lesson-list' + _vm.urlParam, false)
      }
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t\t\t" + _vm._s(_vm.mBaseUrl) + "/run.html#/group-lesson-list" + _vm._s(_vm.urlParam) + "\n\t\t\t\t\t\t\t\t\t\t\t")]), _vm._v(" "), _c('a', {
    staticClass: "l15",
    on: {
      "click": function($event) {
        return _vm.openQrCodeDlgForGlBooking()
      }
    }
  }, [_c('i', {
    staticClass: "iconfont icon-qrcode big"
  }), _vm._v(" 二维码")])])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("预约私教")]), _vm._v(" "), _c('td', {
    attrs: {
      "title": "点击地址可复制"
    }
  }, [_c('span', {
    staticClass: "link",
    on: {
      "click": function($event) {
        return _vm.g.Util.copyText($event, _vm.mBaseUrl + '/run.html#/member-private-lesson-booking' + _vm.urlParam, false)
      }
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t\t\t" + _vm._s(_vm.mBaseUrl) + "/run.html#/member-private-lesson-booking" + _vm._s(_vm.urlParam) + "\n\t\t\t\t\t\t\t\t\t\t\t")])])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("团课上课记录")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.mBaseUrl) + "/run.html#/my-group-lessons" + _vm._s(_vm.urlParam))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("私教上课记录")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.mBaseUrl) + "/run.html#/my-private-lessons" + _vm._s(_vm.urlParam))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("私教课当日签到")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.mBaseUrl) + "/run.html#/member-pl-checkin-list-today" + _vm._s(_vm.urlParam)), _c('a', {
    staticClass: "l15",
    on: {
      "click": function($event) {
        return _vm.openQrCodeDlgForPlCheckin()
      }
    }
  }, [_c('i', {
    staticClass: "iconfont icon-qrcode big"
  }), _vm._v(" 二维码")])])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("入场签到")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.mBaseUrl) + "/run.html#/member-entry-checkin" + _vm._s(_vm.urlParam)), _c('a', {
    staticClass: "l15",
    on: {
      "click": function($event) {
        return _vm.openQrCodeDlgForMemberEntryCheckin()
      }
    }
  }, [_c('i', {
    staticClass: "iconfont icon-qrcode big"
  }), _vm._v(" 二维码")])])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("我的会员卡")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.mBaseUrl) + "/run.html#/my-card-list" + _vm._s(_vm.urlParam))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("微商城")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.mBaseUrl) + "/run.html#/mall/product-list" + _vm._s(_vm.urlParam))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("会员意见反馈")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.mBaseUrl) + "/run.html#/member-feedback-list" + _vm._s(_vm.urlParam))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("场地预约")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.mBaseUrl) + "/run.html#/venue/venue-booking" + _vm._s(_vm.urlParam))])]), _vm._v(" "), (_vm.enableQrcodeMach) ? _c('tr', [_c('th', [_vm._v("二维码扫码器")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.mBaseUrl) + "/run.html#/qrcode-mach-checkin" + _vm._s(_vm.urlParam))])]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("小程序 ID")]), _vm._v(" "), _c('td', [_vm._v("wx3476a69ea6b19416")])])])])]), _vm._v(" "), _c('p', [_vm._v("配置示意图如下：")]), _vm._v(" "), _c('img', {
    staticClass: "pic",
    attrs: {
      "src": "/static/img/weixin-conf.png"
    }
  }), _vm._v(" "), _c('img', {
    staticClass: "pic",
    attrs: {
      "src": _vm.g.Conf.IMG_LIB_URL + '/bind-wx-mp.png'
    }
  }), _vm._v(" "), _c('br'), _vm._v("小程序路径： pages/jzg/home\n\t\t\t\t\t")])])]), _vm._v(" "), (_vm.g.data.user.isShopOwner) ? _c('TabPane', {
    attrs: {
      "tab": "parent",
      "label": "会员端设置"
    }
  }, [_c('section', [_c('Tabs', {
    attrs: {
      "name": "member-set",
      "animated": false
    }
  }, [_c('TabPane', {
    attrs: {
      "tab": "member-set",
      "label": "首页背景图设置"
    }
  }, [_c('section', [_c('img-upload', {
    attrs: {
      "multiple": false,
      "removeable": true,
      "max-count": 5,
      "action": _vm.mcImgUpload.action,
      "img-max-width": _vm.mcImgUpload.imgMaxWidth,
      "on-success": _vm.handleImgUploadSuccess,
      "on-remove": _vm.handleImgRemove,
      "max-size": _vm.mcImgUpload.maxSize,
      "default-file-list": _vm.mcImgUpload.defaultList
    }
  }, [_c('i-button', {
    attrs: {
      "type": "default",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("点击上传会员端首页背景图")]), _vm._v("\n\t\t\t\t\t\t\t\t\t  "), _c('span', {
    staticClass: "gray"
  }, [_vm._v("（最多可上传 "), _c('b', [_vm._v("5")]), _vm._v(" 张）")])], 1), _vm._v(" "), _c('div', {
    staticClass: "form-submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveMemberClientBgImg
    }
  }, [_vm._v("保存")])], 1)], 1)]), _vm._v(" "), _c('TabPane', {
    attrs: {
      "tab": "member-set",
      "label": "首页显示内容设置"
    }
  }, [_c('section', {
    staticClass: "home-content-set"
  }, [_c('div', {
    staticClass: "home-conf"
  }, [_c('ul', [_vm._l((_vm.homeContentSetList), function(n, idx) {
    return _c('li', {
      key: idx,
      staticClass: "home-li",
      class: {
        'children-li-active': _vm.draggingActive == idx
      },
      attrs: {
        "draggable": true
      },
      on: {
        "dragstart": function($event) {
          $event.stopPropagation();
          return _vm.dragstart(idx, null, 1)
        },
        "dragover": function($event) {
          $event.stopPropagation();
          $event.preventDefault();
          return _vm.dragover(1, idx, null)
        },
        "drop": function($event) {
          $event.stopPropagation();
          return _vm.drop(1, idx)
        }
      }
    }, [_c('div', {
      staticClass: "parent"
    }, [_c('i-select', {
      staticClass: "sel",
      attrs: {
        "clearable": ""
      },
      on: {
        "on-change": function($event) {
          return _vm.inputSelectFun($event, idx)
        }
      },
      model: {
        value: (n.val),
        callback: function($$v) {
          _vm.$set(n, "val", $$v)
        },
        expression: "n.val"
      }
    }, [_c('i-option', {
      attrs: {
        "value": -1,
        "label": "轮播图"
      }
    }, [_c('i', {}, [_vm._v("轮播图")])]), _vm._v(" "), _vm._l((_vm.homeContentMap), function(value, key) {
      return [_c('i-option', {
        key: key,
        attrs: {
          "value": key,
          "disabled": _vm.selectSet.has(key)
        }
      }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t\t\t" + _vm._s(value.title)), (value.type == 1) ? _c('span', {
        staticClass: "gray"
      }, [_vm._v("（可轮播）")]) : _vm._e()])]
    })], 2), _vm._v(" "), _c('i-button', {
      staticClass: "add-btn",
      attrs: {
        "icon": "md-close"
      },
      on: {
        "click": function($event) {
          return _vm.deleteHomeContentSet(idx)
        }
      }
    }, [_vm._v("删除")]), _vm._v(" "), (n.val == -1) ? _c('i-button', {
      staticClass: "add-btn",
      attrs: {
        "icon": "md-add"
      },
      on: {
        "click": function($event) {
          return _vm.addHomeContentChildrenSet(idx)
        }
      }
    }, [_vm._v("添加")]) : _vm._e()], 1), _vm._v(" "), (n.children.length) ? _c('ul', {
      staticClass: "children"
    }, [_vm._l((n.children), function(c, cIdx) {
      return [_c('li', {
        key: cIdx,
        staticClass: "children-li",
        class: {
          'children-li-active': _vm.draggingActive == (idx + "-" + cIdx)
        },
        attrs: {
          "draggable": true
        },
        on: {
          "dragstart": function($event) {
            $event.stopPropagation();
            return _vm.dragstart(idx, cIdx, 2)
          },
          "dragover": function($event) {
            $event.stopPropagation();
            $event.preventDefault();
            return _vm.dragover(2, idx, cIdx)
          },
          "drop": function($event) {
            $event.stopPropagation();
            return _vm.drop(2, idx, cIdx)
          }
        }
      }, [_c('i-select', {
        staticClass: "sel",
        attrs: {
          "clearable": ""
        },
        model: {
          value: (c.val),
          callback: function($$v) {
            _vm.$set(c, "val", $$v)
          },
          expression: "c.val"
        }
      }, [_vm._l((_vm.homeContentMap), function(value, key) {
        return [(value.type == 1) ? _c('i-option', {
          key: key,
          attrs: {
            "value": key,
            "disabled": _vm.selectSet.has(key)
          }
        }, [_vm._v(_vm._s(value.title))]) : _vm._e()]
      })], 2), _vm._v(" "), _c('i-input', {
        staticClass: "children-name",
        attrs: {
          "placeholder": "自定义名称"
        },
        model: {
          value: (c.name),
          callback: function($$v) {
            _vm.$set(c, "name", $$v)
          },
          expression: "c.name"
        }
      }), _vm._v(" "), _c('i-button', {
        staticClass: "add-btn",
        attrs: {
          "disabled": n.children.length > 2 ? false : true,
          "icon": "md-close"
        },
        on: {
          "click": function($event) {
            return _vm.deleteHomeContentChildrenSet(idx, cIdx)
          }
        }
      }, [_vm._v("删除")])], 1)]
    })], 2) : _vm._e()])
  }), _vm._v(" "), _c('li'), _vm._v(" "), _c('li', {
    staticClass: "add"
  }, [_c('div', {
    staticClass: "notice orange"
  }, [(_vm.homeContentSetList && _vm.homeContentSetList.length > 1) ? [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 鼠标拖动上面分组可调整显示顺序")] : [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 如不配置，则按照系统默认显示")]], 2), _vm._v(" "), _c('i-button', {
    attrs: {
      "icon": "md-add"
    },
    on: {
      "click": _vm.addHomeContentSet
    }
  }, [_vm._v("添加一组")])], 1)], 2), _vm._v(" "), _c('div', {
    staticClass: "form-submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveHomeContentSet
    }
  }, [_vm._v("保存")])], 1)])])]), _vm._v(" "), _c('TabPane', {
    attrs: {
      "tab": "member-set",
      "label": "排行榜标签设置"
    }
  }, [_c('section', {
    staticClass: "rank-set"
  }, [_c('div', {
    staticClass: "rank-box mytbl"
  }, [_c('div', {
    staticClass: "sec-item"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("默认标签名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("-")]), _vm._v(" "), _vm._l((_vm.defaultTankLabel), function(c, cIdx) {
    return _c('th', {
      key: cIdx
    }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t\t" + _vm._s(c) + "\n\t\t\t\t\t\t\t\t\t\t\t"), (cIdx == 0) ? _c('help', [_vm._v("按照月份（本月、上月）进行查询，由高到低")]) : _vm._e(), _vm._v(" "), (cIdx == 1) ? _c('help', [_vm._v("按照季度（本季、上季）进行查询，由高到低")]) : _vm._e(), _vm._v(" "), (cIdx == 2) ? _c('help', [_vm._v("按照年份（本年、上年）进行查询，由高到低")]) : _vm._e(), _vm._v(" "), (cIdx == 3) ? _c('help', [_vm._v("按照本月、本年进行查询，由低到高")]) : _vm._e()], 1)
  })], 2), _vm._v(" "), _vm._l((_vm.rankLabelMap), function(r, key, idx) {
    return _c('tr', {
      key: idx
    }, [(idx == 0) ? _c('th', {
      attrs: {
        "rowspan": "4"
      }
    }, [_vm._v("自定义标签名")]) : _vm._e(), _vm._v(" "), _c('td', [_vm._v(_vm._s(r.title))]), _vm._v(" "), _vm._l((_vm.defaultTankLabel), function(c, cIdx) {
      return _c('td', {
        key: cIdx
      }, [_c('i-input', {
        model: {
          value: (r.value[cIdx]),
          callback: function($$v) {
            _vm.$set(r.value, cIdx, $$v)
          },
          expression: "r.value[cIdx]"
        }
      })], 1)
    })], 2)
  })], 2)])]), _vm._v(" "), _c('div', {
    staticClass: "form-submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveRankLabel
    }
  }, [_vm._v("保存")])], 1)])]), _vm._v(" "), _c('TabPane', {
    attrs: {
      "tab": "member-set",
      "label": "底部菜单设置"
    }
  }, [_c('section', [_c('div', {
    staticClass: "menu-conf"
  }, [_c('ol', [_c('li', [_c('i-select', {
    staticClass: "sel",
    model: {
      value: (_vm.mobileClientMenus[0].id),
      callback: function($$v) {
        _vm.$set(_vm.mobileClientMenus[0], "id", $$v)
      },
      expression: "mobileClientMenus[0].id"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 0
    }
  }, [_vm._v("首页")])], 1), _vm._v(" "), _c('i-input', {
    staticClass: "input-name",
    attrs: {
      "placeholder": "请设置菜单名称"
    },
    model: {
      value: (_vm.mobileClientMenus[0].name),
      callback: function($$v) {
        _vm.$set(_vm.mobileClientMenus[0], "name", $$v)
      },
      expression: "mobileClientMenus[0].name"
    }
  })], 1), _vm._v(" "), _vm._l(([1, 2, 3]), function(n) {
    return _c('li', {
      key: 'li' + n
    }, [_c('i-select', {
      staticClass: "sel",
      model: {
        value: (_vm.mobileClientMenus[n].id),
        callback: function($$v) {
          _vm.$set(_vm.mobileClientMenus[n], "id", $$v)
        },
        expression: "mobileClientMenus[n].id"
      }
    }, [_c('i-option', {
      attrs: {
        "value": ""
      }
    }, [_c('i', {
      staticClass: "gray"
    }, [_vm._v("无")])]), _vm._v(" "), _vm._l((_vm.mobileClientMenuConf), function(c) {
      return _c('i-option', {
        key: c.id,
        attrs: {
          "value": c.id
        }
      }, [_vm._v(_vm._s(c.name))])
    })], 2), _vm._v(" "), _c('i-input', {
      staticClass: "input-name",
      attrs: {
        "disabled": !_vm.mobileClientMenus[n].id,
        "placeholder": "请设置菜单名称"
      },
      model: {
        value: (_vm.mobileClientMenus[n].name),
        callback: function($$v) {
          _vm.$set(_vm.mobileClientMenus[n], "name", $$v)
        },
        expression: "mobileClientMenus[n].name"
      }
    })], 1)
  }), _vm._v(" "), _c('li', [_c('i-select', {
    staticClass: "sel",
    model: {
      value: (_vm.mobileClientMenus[4].id),
      callback: function($$v) {
        _vm.$set(_vm.mobileClientMenus[4], "id", $$v)
      },
      expression: "mobileClientMenus[4].id"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 99
    }
  }, [_vm._v("更多")])], 1), _vm._v(" "), _c('i-input', {
    staticClass: "input-name",
    attrs: {
      "placeholder": "请设置菜单名称"
    },
    model: {
      value: (_vm.mobileClientMenus[4].name),
      callback: function($$v) {
        _vm.$set(_vm.mobileClientMenus[4], "name", $$v)
      },
      expression: "mobileClientMenus[4].name"
    }
  })], 1)], 2), _vm._v(" "), _c('div', {
    staticClass: "form-submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveMobileClientMenusConf
    }
  }, [_vm._v("保存")])], 1)])])]), _vm._v(" "), _c('TabPane', {
    attrs: {
      "tab": "member-set",
      "label": "更多页面菜单设置"
    }
  }, [_c('mobile-more-menu-set')], 1), _vm._v(" "), _c('TabPane', {
    attrs: {
      "tab": "member-set",
      "label": "其它设置"
    }
  }, [_c('section', [_c('div', {
    staticClass: "sec-item"
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t会员卡充值记录中，\n\t\t\t\t\t\t\t\t\t"), _c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.updateShopArg(2045, _vm.hideCardUsableAmountInMcp)
      }
    },
    model: {
      value: (_vm.hideCardUsableAmountInMcp),
      callback: function($$v) {
        _vm.hideCardUsableAmountInMcp = $$v
      },
      expression: "hideCardUsableAmountInMcp"
    }
  }, [_vm._v("不显示充值金额")]), _vm._v(" "), _c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.updateShopArg(2021, _vm.hideCardPaymentInMcp)
      }
    },
    model: {
      value: (_vm.hideCardPaymentInMcp),
      callback: function($$v) {
        _vm.hideCardPaymentInMcp = $$v
      },
      expression: "hideCardPaymentInMcp"
    }
  }, [_vm._v("不显示实收金额")])], 1), _vm._v(" "), _c('div', {
    staticClass: "sec-item"
  }, [_c('checkbox', {
    on: {
      "on-change": _vm.updateMemberUploadPhotoArg
    },
    model: {
      value: (_vm.allowMemberUploadPhoto),
      callback: function($$v) {
        _vm.allowMemberUploadPhoto = $$v
      },
      expression: "allowMemberUploadPhoto"
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t允许会员在新建会员后 "), _c('input-int', {
    staticClass: "underline-input",
    on: {
      "blur": _vm.onBlurMemberUploadPhotoLimitHours
    },
    model: {
      value: (_vm.allowMemberUploadPhotoLimitHours),
      callback: function($$v) {
        _vm.allowMemberUploadPhotoLimitHours = $$v
      },
      expression: "allowMemberUploadPhotoLimitHours"
    }
  }), _vm._v(" 小时内自助（手机版）上传头像\n\t\t\t\t\t\t\t\t\t")], 1), _vm._v(" "), _c('span', {
    staticClass: "help-tips"
  }, [_vm._v("（先填写小时数再勾选）")])], 1), _vm._v(" "), _c('div', {
    staticClass: "sec-item"
  }, [_c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.updateShopArg(2046, _vm.hidePlEndDate)
      }
    },
    model: {
      value: (_vm.hidePlEndDate),
      callback: function($$v) {
        _vm.hidePlEndDate = $$v
      },
      expression: "hidePlEndDate"
    }
  }, [_vm._v("会员端隐藏私教课结束时间")]), _vm._v(" "), _c('span', {
    staticClass: "help-tips"
  }, [_vm._v("（主要用于上课实际时间与约课时长不相等时）")])], 1), _vm._v(" "), _c('div', {
    staticClass: "sec-item"
  }, [_c('checkbox', {
    model: {
      value: (_vm.memberCheckoutConfs[0]),
      callback: function($$v) {
        _vm.$set(_vm.memberCheckoutConfs, 0, $$v)
      },
      expression: "memberCheckoutConfs[0]"
    }
  }, [_vm._v("允许会员在手机端签出")]), _vm._v(" "), (_vm.memberCheckoutConfs[0]) ? _c('span', {
    staticClass: "l5"
  }, [_c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("  \n\t\t\t\t\t\t\t\t\t入场签到\n\t\t\t\t\t\t\t\t\t"), _c('input-int', {
    staticClass: "underline-input",
    model: {
      value: (_vm.memberCheckoutConfs[1]),
      callback: function($$v) {
        _vm.$set(_vm.memberCheckoutConfs, 1, $$v)
      },
      expression: "memberCheckoutConfs[1]"
    }
  }), _vm._v(" 分钟后才能签出\n\t\t\t\t\t\t\t\t\t")], 1) : _vm._e(), _vm._v(" "), _c('span', {
    staticClass: "l15"
  }, [_c('i-button', {
    on: {
      "click": _vm.saveMemberCheckoutConf
    }
  }, [_vm._v("确定")])], 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "sec-item"
  }, [_c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.updateShopArg(2096, _vm.forbiddenMemberViewInvalidCard)
      }
    },
    model: {
      value: (_vm.forbiddenMemberViewInvalidCard),
      callback: function($$v) {
        _vm.forbiddenMemberViewInvalidCard = $$v
      },
      expression: "forbiddenMemberViewInvalidCard"
    }
  }, [_vm._v("禁止会员查看名下无效卡")]), _vm._v(" "), _c('span', {
    staticClass: "help-tips"
  }, [_vm._v("（无效卡指，卡已过期，或余额为0，或状态为非正常状态）")])], 1), _vm._v(" "), _c('div', {
    staticClass: "sec-item"
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t会员积分排名最多显示"), _c('input-int', {
    staticClass: "underline-input",
    model: {
      value: (_vm.memberPointsRankCount),
      callback: function($$v) {
        _vm.memberPointsRankCount = $$v
      },
      expression: "memberPointsRankCount"
    }
  }), _vm._v("名\n\t\t\t\t\t\t\t\t\t"), _c('span', {
    staticClass: "l15"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        return _vm.updateShopArg(2098, _vm.memberPointsRankCount)
      }
    }
  }, [_vm._v("确定")])], 1)], 1)])])], 1)], 1)]) : _vm._e()], 1)], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": _vm.qrcodeDlgTitle,
      "width": "600",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.qrCodeDlg),
      callback: function($$v) {
        _vm.qrCodeDlg = $$v
      },
      expression: "qrCodeDlg"
    }
  }, [(_vm.qrCodeDlg) ? [_c('div', {
    staticStyle: {
      "text-align": "center"
    }
  }, [_c('img', {
    attrs: {
      "src": _vm.g.Conf.QR_CODE_URL + encodeURIComponent(_vm.qrcodeUrl)
    }
  })])] : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    staticStyle: {
      "width": "200px"
    },
    on: {
      "click": function($event) {
        _vm.qrCodeDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)], 2)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2417:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-conf"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-conf",
      "page": "auto-payment"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -recharge-"
  }, [(_vm.memberCnts.buys < 10000 && !_vm.g.data.shop.isTrial) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员数充值")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        return _vm.queryOrder(1)
      }
    }
  }, [_vm._v("支付订单查询")])], 1)]), _vm._v(" "), _c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', {
    staticClass: "bd"
  }, [_c('div', {
    staticClass: "sale-item"
  }, [_c('div', {
    staticClass: "input-box"
  }, [_c('input-int', {
    attrs: {
      "min": "1"
    },
    model: {
      value: (_vm.buyMemberCnt),
      callback: function($$v) {
        _vm.buyMemberCnt = $$v
      },
      expression: "buyMemberCnt"
    }
  }), _vm._v(" "), _c('a', {
    staticClass: "plus",
    on: {
      "click": _vm.addMemberCntForSale
    }
  }, [_vm._v("+")])], 1), _vm._v(" "), _c('b', {
    staticClass: "orangered"
  }, [_vm._v("百个")]), _vm._v(" "), _c('span', {
    staticClass: "flag"
  }, [_vm._v("x")]), _vm._v(" 3 元/个\n\t\t\t\t\t\t\t\t"), _c('span', {
    staticClass: "flag"
  }, [_vm._v("=")]), (_vm.buyMemberCnt > 0) ? _c('b', {
    staticClass: "orange bigger"
  }, [_vm._v("￥" + _vm._s(100 * _vm.buyMemberCnt * 3))]) : _vm._e()]), _vm._v(" "), (_vm.buyMemberCnt >= 1) ? _c('div', {
    staticClass: "submit"
  }, [_c('a', {
    staticClass: "pay-btn pay-btn-alipay",
    attrs: {
      "href": _vm.alipayMembersUrl,
      "target": "_blank"
    },
    on: {
      "click": function($event) {
        return _vm.openPaymentTipDlg(1)
      }
    }
  }, [_c('i', {
    staticClass: "iconfont icon-alipay"
  }), _vm._v(" 付宝支付")]), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("← 点击此按钮前往支付宝支付，支付成功后，立刻生效会员数")])]) : _vm._e()]), _vm._v(" "), _c('td', {
    staticClass: "cnts"
  }, [_c('ul', [_c('li', [_vm._v("共购买会员数"), _c('span', {
    staticClass: "green"
  }, [_vm._v(_vm._s(_vm.memberCnts.buys))])]), _vm._v(" "), _c('li', [_vm._v("已创建会员数"), _c('span', {
    staticClass: "darkred"
  }, [_vm._v(_vm._s(_vm.memberCnts.creates))])]), _vm._v(" "), _c('li', [_vm._v("剩余会员数"), _c('span', {
    staticClass: "orangered big"
  }, [_vm._v(_vm._s(_vm.memberCnts.remnant))])])])])])])]) : _vm._e(), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("短信数充值")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        return _vm.queryOrder(2)
      }
    }
  }, [_vm._v("支付订单查询")])], 1)]), _vm._v(" "), _c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', {
    staticClass: "bd"
  }, [_c('div', {
    staticClass: "sale-item"
  }, [_c('div', {
    staticClass: "input-box"
  }, [_c('input-int', {
    staticClass: "input-s",
    attrs: {
      "min": "1"
    },
    model: {
      value: (_vm.buySmsCnt),
      callback: function($$v) {
        _vm.buySmsCnt = $$v
      },
      expression: "buySmsCnt"
    }
  }), _vm._v(" "), _c('a', {
    staticClass: "plus",
    on: {
      "click": _vm.addSmsCntForSale
    }
  }, [_vm._v("+")])], 1), _vm._v(" "), _c('b', {
    staticClass: "orangered"
  }, [_vm._v("千条")]), _vm._v(" "), _c('span', {
    staticClass: "flag"
  }, [_vm._v("x")]), _vm._v(" 0.06 元/条\n\t\t\t\t\t\t\t\t"), _c('span', {
    staticClass: "flag"
  }, [_vm._v("=")]), (_vm.buySmsCnt > 0) ? _c('b', {
    staticClass: "orange bigger"
  }, [_vm._v("￥" + _vm._s(1000 * _vm.buySmsCnt * 0.06))]) : _vm._e(), _vm._v(" "), (_vm.buySmsCnt >= 1) ? _c('div', {
    staticClass: "submit"
  }, [_c('a', {
    staticClass: "pay-btn pay-btn-alipay",
    attrs: {
      "href": _vm.alipaySmsUrl,
      "target": "_blank"
    },
    on: {
      "click": function($event) {
        return _vm.openPaymentTipDlg(1)
      }
    }
  }, [_c('i', {
    staticClass: "iconfont icon-alipay"
  }), _vm._v(" 付宝支付")]), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("← 点击此按钮前往支付宝支付，支付成功后，立刻生效短信数")])]) : _vm._e()])]), _vm._v(" "), _c('td', {
    staticClass: "cnts"
  }, [_c('ul', [_c('li', [_vm._v("共购买短信数"), _c('span', {
    staticClass: "green"
  }, [_vm._v(_vm._s(_vm.smsCnts.buys))])]), _vm._v(" "), _c('li', [_vm._v("已发送短信数"), _c('span', {
    staticClass: "darkred"
  }, [_vm._v(_vm._s(_vm.smsCnts.sends))])]), _vm._v(" "), _c('li', [_vm._v("剩余短信数"), _c('span', {
    staticClass: "orangered"
  }, [_vm._v(_vm._s(_vm.smsCnts.remnant))])])])])])])])]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "支付提示",
      "width": "500"
    },
    model: {
      value: (_vm.paymentTipDlg.show),
      callback: function($$v) {
        _vm.$set(_vm.paymentTipDlg, "show", $$v)
      },
      expression: "paymentTipDlg.show"
    }
  }, [_c('p', {
    staticClass: "bigger orange center"
  }, [_vm._v("前往支付宝支付，支付结束后，请点击下面按钮。")]), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.paymentDone
    }
  }, [_vm._v(" 我已支付成功 ")]), _c('p')], 1)]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "支付订单查询",
      "width": "950"
    },
    model: {
      value: (_vm.orderDlg.show),
      callback: function($$v) {
        _vm.$set(_vm.orderDlg, "show", $$v)
      },
      expression: "orderDlg.show"
    }
  }, [_c('radio-group', {
    on: {
      "on-change": function($event) {
        return _vm.queryOrder(_vm.orderDlg.orderType)
      }
    },
    model: {
      value: (_vm.orderDlg.orderType),
      callback: function($$v) {
        _vm.$set(_vm.orderDlg, "orderType", _vm._n($$v))
      },
      expression: "orderDlg.orderType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("会员数订单")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("短信数订单")])], 1), _vm._v(" "), _c('div', {
    staticClass: "mytbl",
    staticStyle: {
      "margin-top": "15px"
    }
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "40"
    }
  }, [_vm._v("#")]), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("创建人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("订单时间")]), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("数量")]), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("支付方式")]), _c('th', [_vm._v("订单号")]), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("交易时间")])]), _vm._v(" "), _vm._l((_vm.orderDlg.orderList), function(o, idx) {
    return _c('tr', {
      key: o.orderId
    }, [_c('td', [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.createUname))]), _c('td', [_vm._v(_vm._s(o.createTime))]), _vm._v(" "), _c('td', [(o.status === 0) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("未支付")]) : _vm._e(), (o.status === 1) ? _c('span', {
      staticClass: "green"
    }, [_vm._v("支付成功")]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.quantity))]), _c('td', [_vm._v("￥" + _vm._s(o.amount))]), _vm._v(" "), _c('td', [(o.payChannel === 1) ? [_vm._v("支付宝")] : _vm._e(), (o.payChannel === 2) ? [_vm._v("微信")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.outTransId))]), _c('td', [_vm._v(_vm._s(o.transTime))])])
  }), _vm._v(" "), (!_vm.orderDlg.orderList || _vm.orderDlg.orderList.length === 0) ? _c('tr', [_c('td', {
    staticClass: "gray center",
    attrs: {
      "colspan": "9"
    }
  }, [_vm._v("尚无订单")])]) : _vm._e()], 2)]), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        _vm.orderDlg.show = false
      }
    }
  }, [_vm._v(" 确定 ")]), _c('p')], 1)], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2425:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "member"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "member",
      "page": "shop-stat-member"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('div', {
    staticClass: "stat-head"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_vm._m(0), _vm._v(" "), _c('td', {
    attrs: {
      "align": "center"
    }
  }, [(_vm.queryDateType === 1) ? _c('div', {
    staticClass: "date-nav"
  }, [_c('a', {
    attrs: {
      "title": "前一天"
    },
    on: {
      "click": function($event) {
        return _vm.queryByDayNav(-1)
      }
    }
  }, [_c('icon', {
    staticClass: "left",
    attrs: {
      "type": "ios-arrow-back"
    }
  })], 1), _vm._v(" "), _c('date-picker', {
    staticClass: "datepicker",
    attrs: {
      "options": _vm.dateOptions,
      "type": "date"
    },
    on: {
      "on-change": _vm.onChangeDate
    },
    model: {
      value: (_vm.queryDate),
      callback: function($$v) {
        _vm.queryDate = $$v
      },
      expression: "queryDate"
    }
  }), _vm._v(" "), _c('a', {
    attrs: {
      "title": "后一天"
    },
    on: {
      "click": function($event) {
        return _vm.queryByDayNav(1)
      }
    }
  }, [_c('icon', {
    staticClass: "right",
    attrs: {
      "type": "ios-arrow-forward"
    }
  })], 1)], 1) : (_vm.queryDateType === 2) ? _c('div', [_c('date-picker', {
    staticStyle: {
      "width": "220px"
    },
    attrs: {
      "options": _vm.dateOptions1,
      "type": "daterange",
      "format": "yyyy-MM-dd",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.queryDates),
      callback: function($$v) {
        _vm.queryDates = $$v
      },
      expression: "queryDates"
    }
  }), _vm._v(" "), _c('i-button', {
    staticStyle: {
      "height": "32px"
    },
    on: {
      "click": function($event) {
        return _vm.queryEntryCheckin(null)
      }
    }
  }, [_vm._v("确定")])], 1) : _vm._e()]), _vm._v(" "), _c('td', {
    attrs: {
      "width": "200",
      "align": "right",
      "valign": "bottom"
    }
  }, [_c('div', [_c('RadioGroup', {
    on: {
      "on-change": _vm.changeQueryDateType
    },
    model: {
      value: (_vm.queryDateType),
      callback: function($$v) {
        _vm.queryDateType = $$v
      },
      expression: "queryDateType"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("按日查")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("按日期范围查")])], 1)], 1)])])])]), _vm._v(" "), _c('section', [_c('Tabs', {
    attrs: {
      "animated": false
    }
  }, [_c('TabPane', {
    attrs: {
      "label": "入场签到明细"
    }
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', {
    attrs: {
      "width": "160"
    }
  }, [_c('div', {
    staticClass: "input-box"
  }, [_c('div', {
    staticClass: "l",
    staticStyle: {
      "width": "90px"
    },
    on: {
      "click": function($event) {
        _vm.memberSelectDlg = true
      }
    }
  }, [(_vm.member.name) ? _c('span', [_vm._v(_vm._s(_vm.member.name))]) : _c('span', {
    staticClass: "gray"
  }, [_vm._v("会员查询")])]), _vm._v(" "), _c('div', {
    staticClass: "r",
    on: {
      "click": _vm.clearMember
    }
  }, [_c('Icon', {
    staticClass: "gray",
    attrs: {
      "type": "md-close",
      "size": "13"
    }
  })], 1)])]), _vm._v(" "), _c('td', {
    attrs: {
      "width": "640"
    }
  }, [_c('checkbox', {
    attrs: {
      "border": ""
    },
    model: {
      value: (_vm.query.needMemberAvatar),
      callback: function($$v) {
        _vm.$set(_vm.query, "needMemberAvatar", $$v)
      },
      expression: "query.needMemberAvatar"
    }
  }, [_vm._v("显示头像")]), _vm._v(" "), _c('checkbox', {
    attrs: {
      "border": ""
    },
    model: {
      value: (_vm.query.needSalesName),
      callback: function($$v) {
        _vm.$set(_vm.query, "needSalesName", $$v)
      },
      expression: "query.needSalesName"
    }
  }, [_vm._v("销售")]), _vm._v(" "), _c('checkbox', {
    attrs: {
      "border": ""
    },
    model: {
      value: (_vm.query.needAdvisorName),
      callback: function($$v) {
        _vm.$set(_vm.query, "needAdvisorName", $$v)
      },
      expression: "query.needAdvisorName"
    }
  }, [_vm._v("会籍")]), _vm._v(" "), _c('checkbox', {
    attrs: {
      "border": ""
    },
    model: {
      value: (_vm.query.needLatestEntryCheckinTime),
      callback: function($$v) {
        _vm.$set(_vm.query, "needLatestEntryCheckinTime", $$v)
      },
      expression: "query.needLatestEntryCheckinTime"
    }
  }, [_vm._v("上次签到")]), _vm._v(" "), _c('checkbox', {
    attrs: {
      "border": ""
    },
    model: {
      value: (_vm.query.needTotalEntryCheckinTimes),
      callback: function($$v) {
        _vm.$set(_vm.query, "needTotalEntryCheckinTimes", $$v)
      },
      expression: "query.needTotalEntryCheckinTimes"
    }
  }, [_vm._v("累计签到数")]), _vm._v(" "), _c('checkbox', {
    attrs: {
      "border": ""
    },
    model: {
      value: (_vm.query.needCardOpenDateDiff),
      callback: function($$v) {
        _vm.$set(_vm.query, "needCardOpenDateDiff", $$v)
      },
      expression: "query.needCardOpenDateDiff"
    }
  }, [_vm._v("新开卡天数")])], 1), _vm._v(" "), _c('td', {
    attrs: {
      "width": "185"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary",
      "icon": "ios-search"
    },
    on: {
      "click": function($event) {
        return _vm.queryEntryCheckin(_vm.queryPage)
      }
    }
  }, [_vm._v("查询")]), _vm._v("\n                 \n                "), _c('i-button', {
    attrs: {
      "icon": "ios-cloud-download-outline"
    },
    on: {
      "click": _vm.exportMecList
    }
  }, [_vm._v("导出")])], 1), _vm._v(" "), _c('td', {
    attrs: {
      "align": "right"
    }
  }, [(!_vm.g.Util.isEmpty(_vm.totalCount)) ? _c('div', {
    staticClass: "sum-count"
  }, [_vm._v("\n                  共查询 "), _c('b', [_vm._v(_vm._s(_vm.totalCount))]), _vm._v(" 条记录"), (_vm.memberCount) ? [_vm._v("（ "), _c('b', [_vm._v(_vm._s(_vm.memberCount))]), _vm._v(" 名会员 ）")] : _vm._e()], 2) : _vm._e()])])]), _vm._v(" "), (_vm.mecStatListByMach && _vm.mecStatListByMach.length) ? _c('div', {
    staticClass: "stat-by-mach"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "align": "left",
      "width": "110",
      "valign": "middle"
    }
  }, [_vm._v("按签到设备统计：")]), _vm._v(" "), _c('td', {
    attrs: {
      "valign": "middle"
    }
  }, [_c('ul', _vm._l((_vm.mecStatListByMach), function(s) {
    return _c('li', {
      staticClass: "item"
    }, [_vm._v(_vm._s(s.flagName) + "（"), _c('b', [_vm._v(_vm._s(s.count))]), _vm._v("人次）")])
  }), 0)])])])]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "mytbl p10 meclist"
  }, [(_vm.totalCount) ? _c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": 100 * (_vm.query.needMemberAvatar ? 2 : 1)
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("签到人次")]), _vm._v(" "), (_vm.hasEntryChargeItem) ? _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("计费项目")]) : _vm._e(), _vm._v(" "), (_vm.isUseMach) ? _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("签到设备")]) : _vm._e(), _vm._v(" "), _c('th', {
    staticStyle: {
      "min-width": "180px"
    }
  }, [_vm._v("签到用卡")]), _vm._v(" "), (_vm.query.needSalesName) ? _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("销售")]) : _vm._e(), _vm._v(" "), (_vm.query.needAdvisorName) ? _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("会籍")]) : _vm._e(), _vm._v(" "), (_vm.query.needCardOpenDateDiff) ? _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("新开卡天数")]) : _vm._e(), _vm._v(" "), (_vm.query.needTotalEntryCheckinTimes) ? _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("累计签到数")]) : _vm._e(), _vm._v(" "), (_vm.query.needLatestEntryCheckinTime) ? _c('th', {
    staticStyle: {
      "min-width": "140px"
    }
  }, [_vm._v("上次签到")]) : _vm._e(), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("签到操作人")]), _vm._v(" "), _c('th', {
    staticStyle: {
      "min-width": "140px"
    }
  }, [_vm._v("签到时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "85"
    }
  }, [_vm._v("签出操作人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("签出时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("入场时长")]), _vm._v(" "), _c('th', [_vm._v("签到消费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("更衣柜号")]), _vm._v(" "), _c('th', {
    staticStyle: {
      "min-width": "90px"
    }
  }, [_vm._v("操作")])]), _vm._v(" "), _vm._l((_vm.mecList), function(m, idx) {
    return _c('tr', [_c('td', {
      attrs: {
        "title": m.memberName
      }
    }, [(_vm.query.needMemberAvatar) ? _c('div', {
      staticClass: "stat-member-info"
    }, [_c('img', {
      attrs: {
        "src": _vm.g.Util.getAvatarUrl(m.avatarPathname, 100, 100, 'e5e5e5', m.memberSex)
      },
      on: {
        "click": function($event) {
          return _vm.viewMember(m.memberId)
        }
      }
    }), _vm._v(" "), _c('a', {
      on: {
        "click": function($event) {
          return _vm.viewMember(m.memberId)
        }
      }
    }, [_vm._v(_vm._s(m.memberName))])]) : _c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(m.memberId)
        }
      }
    }, [_vm._v(_vm._s(m.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.checkinCount))]), _vm._v(" "), (_vm.hasEntryChargeItem) ? _c('td', [(m.entryChargeItemName) ? [_vm._v(_vm._s(m.entryChargeItemName))] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("默认")])], 2) : _vm._e(), _vm._v(" "), (_vm.isUseMach) ? _c('td', [_vm._v(_vm._s(m.aiMachName ? m.aiMachName : m.icMachName))]) : _vm._e(), _vm._v(" "), _c('td', [_c('div', {
      staticClass: "auto-wrap"
    }, [_c('span', [_vm._v(_vm._s(m.cardName))]), _vm._v(" "), (m.endDate) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("（" + _vm._s(_vm.g.Util.formatDate(m.endDate)) + "到期"), (m.leftDays <= 30) ? _c('span', {
      staticClass: "orangered"
    }, [_vm._v("(剩余" + _vm._s(m.leftDays) + "天)")]) : _vm._e(), _vm._v("）\n                    ")]) : _vm._e()]), _vm._v(" "), (m.mcRemark) ? _c('div', {
      staticClass: "p5 gray"
    }, [_vm._v(_vm._s(m.mcRemark))]) : _vm._e()]), _vm._v(" "), (_vm.query.needSalesName) ? _c('td', [_vm._v(_vm._s(m.salesName))]) : _vm._e(), _vm._v(" "), (_vm.query.needAdvisorName) ? _c('td', [_vm._v(_vm._s(m.advisorName))]) : _vm._e(), _vm._v(" "), (_vm.query.needCardOpenDateDiff) ? _c('td', [(_vm.g.Util.isNotEmpty(m.cardOpenDateDiff)) ? [_vm._v(_vm._s(m.cardOpenDateDiff) + " "), _c('span', {
      staticClass: "gray"
    }, [_vm._v("天")])] : _vm._e()], 2) : _vm._e(), _vm._v(" "), (_vm.query.needTotalEntryCheckinTimes) ? _c('td', [_vm._v(_vm._s(m.totalCheckinTimes) + " "), _c('span', {
      staticClass: "gray"
    }, [_vm._v("次")])]) : _vm._e(), _vm._v(" "), (_vm.query.needLatestEntryCheckinTime) ? _c('td', [(m.latestEntryCheckinTime) ? _c('div', {
      staticClass: "auto-wrap"
    }, [_c('span', [_vm._v(_vm._s(m.latestEntryCheckinTime))]), _vm._v(" "), _c('span', {
      staticClass: "gray"
    }, [_vm._v("（" + _vm._s(_vm.dateCalc(m.latestEntryCheckinTime)) + " 天前）")])]) : _vm._e()]) : _vm._e(), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createTime))]), _vm._v(" "), _c('td', [(m.checkoutTime) ? [_vm._v(_vm._s(m.updateUname))] : _vm._e()], 2), _vm._v(" "), _c('td', [(m.checkoutTime) ? [_vm._v(_vm._s(Date.new(m.checkoutTime).format('hh:mm:ss')))] : _vm._e()], 2), _vm._v(" "), _c('td', [(m.checkoutTime) ? [_vm._v("\n                    " + _vm._s(parseInt((Date.new(m.checkoutTime).getTime() - Date.new(m.createTime).getTime()) / 60000)) + " 分钟\n                  ")] : _vm._e()], 2), _vm._v(" "), _c('td', [(m.cardType === 1) ? [_c('span', {
      staticClass: "gray"
    }, [_vm._v("不计费")])] : (_vm.g.Util.isNotEmpty(m.cardPayment)) ? [(m.paymentItemName) ? [_vm._v(_vm._s(m.paymentItemName))] : _vm._e(), _vm._v("\n                    " + _vm._s(m.cardPayment) + "\n                    "), (m.cardType === 2) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("次")]) : (m.cardType === 3) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("元")]) : (m.cardType === 4) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(_vm.g.Dict.CardTimeTypes[m.cardTimeType]))]) : _vm._e()] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.lockerId))]), _vm._v(" "), _c('td', [(_vm.membeAgentPermit) ? _c('ul', {
      staticClass: "opt-list"
    }, [(!m.checkoutTime && m.cardType !== 1 && !m.cardPayment) ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openCheckoutDlg(idx)
        }
      }
    }, [_vm._v("签出")])]) : _vm._e(), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openCheckinCancelLog(idx)
        }
      }
    }, [_vm._v("取消")])])]) : _vm._e()])])
  })], 2) : _vm._e(), _vm._v(" "), (_vm.totalCount && _vm.totalCount > 1) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.totalCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.changePageNo
    }
  })], 1) : _vm._e(), _vm._v(" "), (!_vm.totalCount) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()])]), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "按时间段统计"
    }
  }, [(!_vm.totalCount) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e(), _vm._v(" "), _c('div', [_c('chart', {
    staticClass: "barchart",
    attrs: {
      "options": _vm.countByHourStatChartOpt
    }
  }), _vm._v(" "), (_vm.totalCount) ? _c('div', {
    staticClass: "mt20 l15"
  }, [_c('table', {
    staticClass: "mytbl",
    staticStyle: {
      "width": "500px"
    }
  }, [_c('tr', [_c('th', [_vm._v("时间段")]), _vm._v(" "), _c('th', [_vm._v("签到数")]), _vm._v(" "), _c('th', [_vm._v("比例")])]), _vm._v(" "), _vm._l((_vm.countByHourStatList), function(s) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(s.flag) + "~" + _vm._s(s.flag + 1) + " 点")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.count))]), _vm._v(" "), _c('td', [_vm._v(_vm._s((100 * s.count / _vm.totalCount).toFixed(1)) + "%")])])
  })], 2)]) : _vm._e()], 1)])], 1)], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员查询与选择",
      "width": "700",
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.memberSelectDlg),
      callback: function($$v) {
        _vm.memberSelectDlg = $$v
      },
      expression: "memberSelectDlg"
    }
  }, [(_vm.memberSelectDlg) ? _c('member-select', {
    attrs: {
      "show-latest-member": false,
      "after-select": _vm.afterSelectMember
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "签出",
      "width": "600",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.checkoutDlg),
      callback: function($$v) {
        _vm.checkoutDlg = $$v
      },
      expression: "checkoutDlg"
    }
  }, [(_vm.checkoutDlg) ? _c('div', [_c('table', {
    staticClass: "tblform"
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('td', [_c('b', [_vm._v(_vm._s(_vm.mecList[_vm.selectIdx].memberName))])])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("签到用卡")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.mecList[_vm.selectIdx].cardName))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("签到时间")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.mecList[_vm.selectIdx].createTime))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("签出时间")]), _vm._v(" "), _c('td', [_c('TimePicker', {
    staticClass: "input-time",
    attrs: {
      "format": "HH:mm",
      "placeholder": "交易时间"
    },
    model: {
      value: (_vm.checkoutTime),
      callback: function($$v) {
        _vm.checkoutTime = $$v
      },
      expression: "checkoutTime"
    }
  }), _vm._v(" "), _c('b', {
    staticClass: "l10"
  }, [_vm._v(_vm._s(_vm.g.Util.formatDate(_vm.queryDate)))])], 1)]), _vm._v(" "), _c('tr', [_c('th'), _vm._v(" "), _c('td', [_c('div', {
    staticClass: "p15"
  }, [_c('i-button', {
    staticStyle: {
      "width": "100px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.checkoutMemberEntry
    }
  }, [_vm._v("签出")])], 1)])])])]) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "签到取消",
      "width": "600",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.checkinCancelDlg),
      callback: function($$v) {
        _vm.checkinCancelDlg = $$v
      },
      expression: "checkinCancelDlg"
    }
  }, [(_vm.checkinCancelDlg) ? _c('div', [_c('div', {
    staticClass: "warning"
  }, [_vm._v("取消签到会留下操作日志，如有计费，系统会自动退费")]), _vm._v(" "), _c('table', {
    staticClass: "tblform mt20",
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('td', [_c('b', [_vm._v(_vm._s(_vm.mecList[_vm.selectIdx].memberName))])])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("签到用卡")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.mecList[_vm.selectIdx].cardName))])]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("签到时间")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.mecList[_vm.selectIdx].createTime))])]), _vm._v(" "), (_vm.mecList[_vm.selectIdx].checkoutTime) ? _c('tr', [_c('th', [_vm._v("签出时间")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.mecList[_vm.selectIdx].checkoutTime))])]) : _vm._e(), _vm._v(" "), (_vm.mecList[_vm.selectIdx].cardPayment) ? _c('tr', [_c('th', [_vm._v("签到消费")]), _vm._v(" "), _c('td', [_c('b', [_vm._v(_vm._s(_vm.mecList[_vm.selectIdx].cardPayment))]), _vm._v("\n            " + _vm._s(_vm.g.Dict.CardUnitName[_vm.mecList[_vm.selectIdx].cardType]) + "\n          ")])]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("取消原因")]), _vm._v(" "), _c('td', [_c('i-input', {
    staticStyle: {
      "width": "90%"
    },
    attrs: {
      "type": "textarea",
      "rows": 3
    },
    model: {
      value: (_vm.logRemark),
      callback: function($$v) {
        _vm.logRemark = (typeof $$v === 'string' ? $$v.trim() : $$v)
      },
      expression: "logRemark"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('th'), _vm._v(" "), _c('td', [_c('div', {
    staticClass: "p15"
  }, [_c('i-button', {
    staticStyle: {
      "width": "100px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.cancelCheckin
    }
  }, [_vm._v("取消签到")])], 1)])])])]) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "导出文件下载",
      "width": "500",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.exportDlg),
      callback: function($$v) {
        _vm.exportDlg = $$v
      },
      expression: "exportDlg"
    }
  }, [_c('div', {
    staticClass: "export-xls"
  }, [(_vm.exportFileUrl) ? [(_vm.exportFileUrl) ? _c('a', {
    attrs: {
      "href": _vm.exportFileUrl,
      "target": "_blank"
    }
  }, [_vm._v("下载导出文件（xls）")]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "remark"
  }, [_c('b', {
    staticClass: "red"
  }, [_vm._v("提示")]), _vm._v("：每次最多导出 600 条记录 "), _c('br'), _vm._v("如要导出下一个600条，请将当前页数增加20页后再导出")])] : _c('span', [_vm._v("正在查询并导出，请稍候...")])], 2)])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('td', {
    attrs: {
      "width": "200"
    }
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("入场签到")])])
}]}

/***/ }),

/***/ 2431:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-conf"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-conf",
      "page": "entry-checkin-conf"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('Tabs', {
    attrs: {
      "animated": false
    }
  }, [_c('TabPane', {
    attrs: {
      "label": "入场签到参数设置"
    }
  }, [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("语音播报设置")])]), _vm._v(" "), _c('div', {
    staticClass: "conf-item"
  }, [_c('span', {
    staticClass: "tit"
  }, [_vm._v("入场签到成功后，语音播报选择：")]), _vm._v(" "), _c('RadioGroup', {
    staticClass: "voice-conf",
    attrs: {
      "disabled": _vm.editable
    },
    on: {
      "on-change": _vm.updateVoiceType
    },
    model: {
      value: (_vm.voiceType),
      callback: function($$v) {
        _vm.voiceType = $$v
      },
      expression: "voiceType"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 0,
      "disabled": !_vm.editable
    }
  }, [_vm._v("欢迎 "), _c('i', {
    staticClass: "gray"
  }, [_vm._v("#会员名#")]), _vm._v(" 入场")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 1,
      "disabled": !_vm.editable
    }
  }, [_vm._v("欢迎光临")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 2,
      "disabled": !_vm.editable
    }
  }, [_vm._v("欢迎入场锻炼")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 3,
      "disabled": !_vm.editable
    }
  }, [_vm._v("欢迎阁下光临")]), _vm._v(" "), _c('Radio', {
    attrs: {
      "label": 4,
      "disabled": !_vm.editable
    }
  }, [_vm._v("签到成功")])], 1)], 1)]), _vm._v(" "), _c('section', {
    staticClass: "conf"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("入场签到通知设置")])]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "disabled": !_vm.editable
    },
    on: {
      "on-change": function($event) {
        return _vm.g.Req.updateShopArg(135, _vm.enableNoticeMember)
      }
    },
    model: {
      value: (_vm.enableNoticeMember),
      callback: function($$v) {
        _vm.enableNoticeMember = $$v
      },
      expression: "enableNoticeMember"
    }
  }, [_vm._v("会员入场签到后，自动发送微信通知给会员")]), _vm._v(" "), _c('p'), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "disabled": !_vm.editable
    },
    on: {
      "on-change": function($event) {
        return _vm.g.Req.updateShopArg(82, _vm.enableNoticeAdvisor)
      }
    },
    model: {
      value: (_vm.enableNoticeAdvisor),
      callback: function($$v) {
        _vm.enableNoticeAdvisor = $$v
      },
      expression: "enableNoticeAdvisor"
    }
  }, [_vm._v("会员入场签到后，自动发送微信通知给会员的会籍顾问")]), _vm._v(" "), _c('div', {
    staticClass: "remark"
  }, [_vm._v("注： 接收者需关注系统公众号“健总管”或场馆授权公众号，并且通过公众号至少登录过一次系统")])], 1), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("场馆人数显示设置")])]), _vm._v(" "), _c('div', [_vm._v("\n\t\t\t\t\t\t\t是否在会员手机端显示： \n\t\t\t\t\t\t\t"), _c('CheckboxGroup', {
    staticStyle: {
      "display": "inline-block"
    },
    model: {
      value: (_vm.EntryCheckinsInMemberClient),
      callback: function($$v) {
        _vm.EntryCheckinsInMemberClient = $$v
      },
      expression: "EntryCheckinsInMemberClient"
    }
  }, [_c('Checkbox', {
    attrs: {
      "label": "1"
    }
  }, [_vm._v("入场签到人数")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": "2"
    }
  }, [_vm._v("当前在场人数")])], 1), _vm._v(" "), (_vm.editable) ? _c('span', {
    staticClass: "l15"
  }, [_c('i-button', {
    staticClass: "smallbtn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.updateEntryCheckinsInMemberClient
    }
  }, [_vm._v("确定")])], 1) : _vm._e()], 1), _vm._v(" "), _c('div', {
    staticStyle: {
      "border-top": "1px solid #eee",
      "padding-top": "10px",
      "margin-top": "10px"
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t是否在微官网显示： \n\t\t\t\t\t\t\t"), _c('CheckboxGroup', {
    staticStyle: {
      "display": "inline-block"
    },
    model: {
      value: (_vm.MsiteEntryCheckinsInMemberClient),
      callback: function($$v) {
        _vm.MsiteEntryCheckinsInMemberClient = $$v
      },
      expression: "MsiteEntryCheckinsInMemberClient"
    }
  }, [_c('Checkbox', {
    attrs: {
      "label": "1"
    }
  }, [_vm._v("入场签到人数")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": "2"
    }
  }, [_vm._v("当前在场人数")])], 1), _vm._v(" "), (_vm.editable) ? _c('span', {
    staticClass: "l15"
  }, [_c('i-button', {
    staticClass: "smallbtn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.updateMsiteEntryCheckinsInMemberClient
    }
  }, [_vm._v("确定")])], 1) : _vm._e()], 1)]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("场馆人流控制设置")])]), _vm._v("\n\t\t\t\t\t\t限制最多在场人数\n\t\t\t\t\t\t"), _c('input-int', {
    staticClass: "inputbox",
    model: {
      value: (_vm.maxEntryPersons),
      callback: function($$v) {
        _vm.maxEntryPersons = $$v
      },
      expression: "maxEntryPersons"
    }
  }), _vm._v("\n\t\t\t\t\t\t人 "), _c('span', {
    staticClass: "l10 gray"
  }, [_vm._v("（为空则不限制）")]), _vm._v(" "), (_vm.editable) ? _c('span', {
    staticClass: "l15"
  }, [_c('i-button', {
    staticClass: "smallbtn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.updateMaxEntryPersons
    }
  }, [_vm._v("确定")])], 1) : _vm._e()], 1)]), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "入场签到方式"
    }
  }, [_c('section', {
    staticStyle: {
      "padding-top": "0"
    }
  }, [_c('table', {
    staticClass: "checkin-types"
  }, [_c('tr', [_c('th', [_c('img', {
    attrs: {
      "src": _vm.g.Conf.IMG_LIB_URL + '/entry-checkin-1.jpg'
    }
  })]), _vm._v(" "), _c('td', [_c('h2', [_c('span', [_vm._v("1.")]), _vm._v("前台刷卡签到")]), _vm._v(" "), _c('div', {
    staticClass: "desc"
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t系统支持标准的感应式的ID或IC卡、以及相关的标准ID或IC读卡器。"), _c('br'), _vm._v("\n\t\t\t\t\t\t\t\t\t\t将会员卡号录入到会员信息中（即为绑定会员卡）；\n\t\t\t\t\t\t\t\t\t\t会员到前台后，前台打开页面顶端的【入场签到】，刷卡后，系统会显示会员的姓名、照片，以及会员卡信息，前台核实无误后可点击签到。\n\n\t\t\t\t\t\t\t\t\t\t"), _c('div', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 备注：我们不提供卡和读卡器，有需要可自己到淘宝购买；我们推荐ID卡，价格便宜且实用。\n\t\t\t\t\t\t\t\t\t")])])])]), _vm._v(" "), _c('tr', [_c('th', [_c('img', {
    attrs: {
      "src": _vm.g.Conf.IMG_LIB_URL + '/entry-checkin-2.jpg'
    }
  })]), _vm._v(" "), _c('td', [_c('h2', [_c('span', [_vm._v("2.")]), _vm._v("会员大屏幕扫码签到")]), _vm._v(" "), _c('div', {
    staticClass: "desc"
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t在首页打开【签到大屏幕】页面，会员到场后，会员微信扫码大屏幕上二维码（动态变化，防作弊）即可实现签到。\n\t\t\t\t\t\t\t\t\t\t签到成功后，大屏幕上会有成功提示和会员头像，并且系统会自动播放智能语音“欢迎***"), _c('span', {
    staticClass: "gray"
  }, [_vm._v("(会员姓名)")]), _vm._v("入场”\n\t\t\t\t\t\t\t\t")]), _vm._v(" "), _c('div', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 备注：建议另外配备一个大显示器（可连接到前台主机），\n\t\t\t\t\t\t\t\t\t\t会员入场后自主签到，节省前台很多工作量。\n\t\t\t\t\t\t\t\t\t")]), _vm._v(" "), (_vm.editable) ? _c('div', {
    staticClass: "opts"
  }, [_c('img-upload', {
    attrs: {
      "action": _vm.imgUpload.action,
      "img-max-width": _vm.imgUpload.imgMaxWidth,
      "on-success": _vm.handleImgUploadBgImg,
      "max-size": _vm.imgUpload.maxSize,
      "default-file-list": _vm.imgUpload.defaultList
    }
  }, [_c('i-button', {
    attrs: {
      "type": "default",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("点击上传背景图片")])], 1)], 1) : _vm._e()])]), _vm._v(" "), _c('tr', [_c('th', [_c('img', {
    staticClass: "border",
    attrs: {
      "src": _vm.g.Conf.IMG_LIB_URL + '/entry-checkin-3.png'
    }
  })]), _vm._v(" "), _c('td', [_c('h2', [_c('span', [_vm._v("3.")]), _vm._v("会员手机版签到")]), _vm._v(" "), _c('div', {
    staticClass: "desc"
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t会员到场后打开健总管手机版（通过微信公众号版或小程序），点击首页的【入场签到】。\n\t\t\t\t\t\t\t\t\t\t"), _c('div', [_vm._v("店长可在手机端（更多 》 设置 》门店定位）设置门店定位，会员入场签到时，\n\t\t\t\t\t\t\t\t\t系统会自动检查是否在门店有效范围内（200米左右），这样基本可杜绝签到作弊。\n\t\t\t\t\t\t\t\t\t")])]), _vm._v(" "), _c('div', {
    staticClass: "opts"
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t是否禁用手机版签到： \n\t\t\t\t\t\t\t\t\t\t"), _c('i-switch', {
    attrs: {
      "disabled": !_vm.editable,
      "size": "large"
    },
    on: {
      "on-change": _vm.updateAppCheckinArg
    },
    model: {
      value: (_vm.disableAppCheckin),
      callback: function($$v) {
        _vm.disableAppCheckin = $$v
      },
      expression: "disableAppCheckin"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])])], 1)])]), _vm._v(" "), _c('tr', [_c('th', [_c('img', {
    staticStyle: {
      "border": "2px solid #ddd",
      "padding": "6px"
    },
    attrs: {
      "src": _vm.g.Conf.IMG_LIB_URL + '/checkin-mach.jpg'
    }
  })]), _vm._v(" "), _c('td', [_c('h2', [_c('span', [_vm._v("4.")]), _vm._v("会员使用签到消费机签到")]), _vm._v(" "), _c('div', {
    staticClass: "desc"
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t我们与优质硬件厂商合作开发了签到消费机，会员可自助签到（自动与我们系统连接），无需前台在电脑中操作。"), _c('br'), _vm._v("\n\t\t\t\t\t\t\t\t\t\t此设备还可连接到门禁或门闸，会员签到成功后，会自动开门或开闸。会员出场签出后，系统会自动计费。\n\n\t\t\t\t\t\t\t\t\t\t"), _c('p', [_vm._v("签到方式包括："), _c('b', [_vm._v("人脸识别")]), _vm._v("、"), _c('b', [_vm._v("指纹识别")]), _vm._v("、刷IC卡")]), _vm._v(" "), _c('div', {
    staticClass: "orange p10"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 备注：此设备需要我们特别定制和提供，详细使用方式和价格可联系我们。\n\t\t\t\t\t\t\t\t\t")])])])]), _vm._v(" "), _c('tr', [_c('th', [_c('img', {
    staticStyle: {
      "border": "2px solid #ddd",
      "padding": "6px"
    },
    attrs: {
      "src": _vm.g.Conf.IMG_LIB_URL + '/ai-mach.jpg'
    }
  })]), _vm._v(" "), _c('td', [_c('h2', [_c('span', [_vm._v("5.")]), _vm._v("会员使用智能门禁入场")]), _vm._v(" "), _c('div', {
    staticClass: "desc"
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t我们已与知名健身设备提供商合作，对接了智能设备接口，可以无缝使用整套智能设备；会员和员工自动人脸识别入场。\n\t\t\t\t\t\t\t\t\t\t"), _c('p', [_vm._v("另外，智能设备方案中还包括智能租柜，会员入场后，微信扫码智能柜屏幕上的二维码，即可根据会员有效性开柜或还柜。")]), _vm._v(" "), _c('div', {
    staticClass: "orange p10"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 备注：此套设备由我们的合作商发货和售后，详细使用方式和价格可联系我们。\n\t\t\t\t\t\t\t\t\t")])])])])])])]), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "入场签到计费"
    }
  }, [_c('div', {
    staticClass: "page-tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor orangered big"
  }), _c('span', {
    staticClass: "orangered"
  }, [_vm._v("备注： ")]), _vm._v("\n\t\t\t\t\t\t此处设置仅适用于有多个消费项目（健身、游泳、羽毛球、乒乓球、桌球等）的综合类场馆\n\t\t\t\t\t")]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("计费项目设置")]), _vm._v(" "), (_vm.editable) ? _c('div', {
    staticClass: "r"
  }, [_c('i-button', {
    attrs: {
      "icon": "md-add",
      "type": "primary"
    },
    on: {
      "click": _vm.openNewEntryChargeItemDlg
    }
  }, [_vm._v("添加项目")])], 1) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("计费项目")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "300"
    }
  }, [_vm._v("计费员工角色")]), _vm._v(" "), _c('th', [_vm._v("备注")]), _vm._v(" "), (_vm.editable) ? _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("操作")]) : _vm._e()]), _vm._v(" "), _vm._l((_vm.entryChargeItemList), function(r, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(r.itemName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(r.roleNames))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(r.remark))]), _vm._v(" "), (_vm.editable) ? _c('td', [_c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openEditEntryChargeItemDlg(idx)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.deleteEntryChargeItem(idx)
        }
      }
    }, [_vm._v("删除")])])])]) : _vm._e()])
  })], 2)])]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("入场签到计费会员卡")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('span', {
    staticClass: "query"
  }, [_c('i-select', {
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "placeholder": "请选择计费项目"
    },
    on: {
      "on-change": function($event) {
        return _vm.queryEntryChargeItemCard(null)
      }
    },
    model: {
      value: (_vm.query.itemId),
      callback: function($$v) {
        _vm.$set(_vm.query, "itemId", $$v)
      },
      expression: "query.itemId"
    }
  }, [_c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_c('i', {
    staticClass: "gray"
  }, [_vm._v("所有计费项目")])]), _vm._v(" "), _vm._l((_vm.entryChargeItemList), function(item) {
    return _c('i-option', {
      key: item.itemId,
      attrs: {
        "value": item.itemId
      }
    }, [_vm._v(_vm._s(item.itemName))])
  })], 2), _vm._v("\n\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t"), _c('i-select', {
    staticStyle: {
      "width": "200px"
    },
    attrs: {
      "placeholder": "请选择计费会员卡",
      "filterable": ""
    },
    on: {
      "on-change": function($event) {
        return _vm.queryEntryChargeItemCard(null)
      }
    },
    model: {
      value: (_vm.query.cardId),
      callback: function($$v) {
        _vm.$set(_vm.query, "cardId", $$v)
      },
      expression: "query.cardId"
    }
  }, [_c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_c('i', {
    staticClass: "gray"
  }, [_vm._v("所有会员卡")])]), _vm._v(" "), _vm._l((_vm.cardList), function(c) {
    return _c('i-option', {
      key: c.cardId,
      attrs: {
        "value": c.cardId
      }
    }, [_vm._v(_vm._s(c.cardName))])
  })], 2)], 1), _vm._v(" "), (_vm.editable) ? _c('i-button', {
    attrs: {
      "icon": "md-add",
      "type": "primary"
    },
    on: {
      "click": _vm.openNewEntryChargeItemCardDlg
    }
  }, [_vm._v("添加计费")]) : _vm._e()], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("计费项目")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("卡类别")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("卡类型")]), _vm._v(" "), _c('th', [_vm._v("会员卡计费")]), _vm._v(" "), (_vm.editable) ? _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("操作")]) : _vm._e()]), _vm._v(" "), _vm._l((_vm.entryChargeItemCardList), function(r, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(r.itemName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(r.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardClass[r.cardClass]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardType[r.cardType]))]), _vm._v(" "), _c('td', [(r.chargeByHourEnable) ? _c('div', [_c('i', [_vm._v("按小时计费")])]) : (r.cardType > 1) ? _c('div', [_vm._v("每次签到计费 "), _c('b', [_vm._v(_vm._s(r.checkinPayment))]), _vm._v("\n\t\t\t\t\t\t\t\t\t\t\t" + _vm._s(_vm.g.Dict.CardUnitName[r.cardType]) + "\n                    ")]) : _c('div', [_c('i', {
      staticClass: "gray"
    }, [_vm._v("期限卡不按次计费")])])]), _vm._v(" "), (_vm.editable) ? _c('td', [_c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openEidtEntryChargeItemCardDlg(idx)
        }
      }
    }, [_vm._v("编辑")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.deleteEntryChargeItemCard(idx)
        }
      }
    }, [_vm._v("删除")])])])]) : _vm._e()])
  })], 2)])])])], 1)], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "计费项目",
      "width": "630",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.entryChargeItemDlg),
      callback: function($$v) {
        _vm.entryChargeItemDlg = $$v
      },
      expression: "entryChargeItemDlg"
    }
  }, [_c('div', {
    staticClass: "tblform"
  }, [_c('table', {
    attrs: {
      "width": "550"
    }
  }, [_c('tr', [_c('th', {
    staticClass: "required",
    attrs: {
      "width": "100",
      "valign": "top"
    }
  }, [_vm._v("计费项目名称")]), _vm._v(" "), _c('td', [_c('i-input', {
    attrs: {
      "type": "text"
    },
    model: {
      value: (_vm.entryChargeItem.itemName),
      callback: function($$v) {
        _vm.$set(_vm.entryChargeItem, "itemName", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "entryChargeItem.itemName"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor orangered"
  }), _vm._v("\n\t\t\t\t\t\t\t\t一般为场馆的业务项目名称，例如：健身、游泳、羽毛球、乒乓球、桌球等\n\t\t\t\t\t\t\t")])], 1)]), _vm._v(" "), _c('tr', [_c('th', {
    staticClass: "required",
    attrs: {
      "valign": "top"
    }
  }, [_vm._v("计费员工角色")]), _vm._v(" "), _c('td', [_c('i-select', {
    attrs: {
      "multiple": ""
    },
    model: {
      value: (_vm.entryChargeItem.staffRoleList),
      callback: function($$v) {
        _vm.$set(_vm.entryChargeItem, "staffRoleList", $$v)
      },
      expression: "entryChargeItem.staffRoleList"
    }
  }, _vm._l((_vm.roleList), function(o) {
    return _c('i-option', {
      key: o.roleId,
      attrs: {
        "value": o.roleId
      }
    }, [_vm._v(_vm._s(o.roleName))])
  }), 1), _vm._v(" "), _c('div', {
    staticClass: "tips"
  }, [_c('i', {
    staticClass: "iconfont icon-svginfor orangered"
  }), _vm._v("\n\t\t\t\t\t\t\t\t表示仅有这些角色的员工才能在入场签到时选择此计费项目\n\t\t\t\t\t\t\t")])], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("备注")]), _vm._v(" "), _c('td', [_c('i-input', {
    attrs: {
      "type": "textarea",
      "rows": 3
    },
    model: {
      value: (_vm.entryChargeItem.remark),
      callback: function($$v) {
        _vm.$set(_vm.entryChargeItem, "remark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "entryChargeItem.remark"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('th'), _vm._v(" "), _c('td', [_c('div', {
    staticClass: "submit"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveEntryChargeItem
    }
  }, [_vm._v("提交")]), _vm._v("\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t"), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.entryChargeItemDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)])])])]), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "入场签到计费会员卡",
      "width": "700",
      "styles": {
        'top': '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "",
      "mask-closable": false
    },
    model: {
      value: (_vm.entryChargeItemCardDlg),
      callback: function($$v) {
        _vm.entryChargeItemCardDlg = $$v
      },
      expression: "entryChargeItemCardDlg"
    }
  }, [(_vm.entryChargeItemCardDlg) ? _c('div', {
    staticClass: "tblform"
  }, [_c('table', {
    attrs: {
      "width": "550"
    }
  }, [_c('tr', [_c('th', {
    staticClass: "required",
    attrs: {
      "width": "100"
    }
  }, [_vm._v("计费项目")]), _vm._v(" "), _c('td', [_c('i-select', {
    model: {
      value: (_vm.entryChargeItemCard.itemId),
      callback: function($$v) {
        _vm.$set(_vm.entryChargeItemCard, "itemId", $$v)
      },
      expression: "entryChargeItemCard.itemId"
    }
  }, _vm._l((_vm.entryChargeItemList), function(r) {
    return _c('i-option', {
      key: r.itemId,
      attrs: {
        "value": r.itemId
      }
    }, [_vm._v(_vm._s(r.itemName))])
  }), 1)], 1)]), _vm._v(" "), (_vm.includeMoreCards) ? _c('tr', [_c('th', {
    attrs: {
      "valign": "top"
    }
  }, [_c('div', {
    staticClass: "p5"
  }, [_vm._v("会员卡计费")])]), _vm._v(" "), _c('td', [_c('div', {
    staticClass: "p5"
  }, [_c('checkbox', {
    model: {
      value: (_vm.includeMoreCards),
      callback: function($$v) {
        _vm.includeMoreCards = $$v
      },
      expression: "includeMoreCards"
    }
  }, [_vm._v("批量设置计费会员卡")])], 1), _vm._v(" "), _c('ul', {
    staticClass: "card-payment-list"
  }, [_c('li', {
    staticClass: "-hd"
  }, [_c('div', {
    staticClass: "name"
  }, [_c('checkbox', {
    on: {
      "on-change": _vm.checkAllCards
    },
    model: {
      value: (_vm.cardCheckAll),
      callback: function($$v) {
        _vm.cardCheckAll = $$v
      },
      expression: "cardCheckAll"
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t\t\t\t\t会员卡种类\n\t\t\t\t\t\t\t\t\t\t")])], 1), _vm._v(" "), _c('div', {
    staticClass: "desc"
  }, [_vm._v("计费额")])]), _vm._v(" "), _vm._l((_vm.cardList), function(c, index) {
    return (_vm.cardPayments[c.cardId].checked || c.status === 0) ? _c('li', [_c('div', {
      staticClass: "name"
    }, [_c('checkbox', {
      on: {
        "on-change": function($event) {
          return _vm.checkCardPayment(c)
        }
      },
      model: {
        value: (_vm.cardPayments[c.cardId].checked),
        callback: function($$v) {
          _vm.$set(_vm.cardPayments[c.cardId], "checked", $$v)
        },
        expression: "cardPayments[c.cardId].checked"
      }
    }, [_vm._v(" " + _vm._s(c.cardName))])], 1), _vm._v(" "), _c('div', {
      staticClass: "desc"
    }, [(c.cardType === 1) ? [_c('span', {
      staticClass: "gray"
    }, [_vm._v("期限卡，不计单次费用")])] : _vm._e(), _vm._v(" "), (c.cardType === 2) ? [_vm._v("\n\t\t\t\t\t\t\t\t\t\t\t每次计费"), _c('input-num', {
      staticClass: "input",
      model: {
        value: (_vm.cardPayments[c.cardId].payment),
        callback: function($$v) {
          _vm.$set(_vm.cardPayments[c.cardId], "payment", _vm._n($$v))
        },
        expression: "cardPayments[c.cardId].payment"
      }
    }), _c('b', {
      staticClass: "orange"
    }, [_vm._v("次")])] : _vm._e(), _vm._v(" "), (c.cardType === 3) ? [_vm._v("\n\t\t\t\t\t\t\t\t\t\t\t每次计费"), _c('input-num', {
      staticClass: "input",
      model: {
        value: (_vm.cardPayments[c.cardId].payment),
        callback: function($$v) {
          _vm.$set(_vm.cardPayments[c.cardId], "payment", _vm._n($$v))
        },
        expression: "cardPayments[c.cardId].payment"
      }
    }), _c('b', {
      staticClass: "red"
    }, [_vm._v("元")])] : _vm._e()], 2)]) : _vm._e()
  })], 2)])]) : _vm._e(), _vm._v(" "), (!_vm.includeMoreCards) ? _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("计费会员卡")]), _vm._v(" "), _c('td', [_c('i-select', {
    staticStyle: {
      "width": "280px"
    },
    attrs: {
      "filterable": ""
    },
    on: {
      "on-change": _vm.changeCard
    },
    model: {
      value: (_vm.entryChargeItemCard.cardId),
      callback: function($$v) {
        _vm.$set(_vm.entryChargeItemCard, "cardId", $$v)
      },
      expression: "entryChargeItemCard.cardId"
    }
  }, _vm._l((_vm.cardList), function(c) {
    return _c('i-option', {
      key: c.cardId,
      attrs: {
        "value": c.cardId
      }
    }, [_vm._v(_vm._s(c.cardName))])
  }), 1), _vm._v("\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t"), (!_vm.entryChargeItemCard.icId) ? _c('checkbox', {
    model: {
      value: (_vm.includeMoreCards),
      callback: function($$v) {
        _vm.includeMoreCards = $$v
      },
      expression: "includeMoreCards"
    }
  }, [_vm._v("批量设置计费会员卡")]) : _vm._e()], 1)]) : _vm._e(), _vm._v(" "), (!_vm.includeMoreCards && !_vm.entryChargeItemCard.chargeByHourEnable && _vm.selectCardType > 1) ? _c('tr', [_c('th', [_vm._v("每次签到计费")]), _vm._v(" "), _c('td', [_c('input-num', {
    model: {
      value: (_vm.entryChargeItemCard.checkinPayment),
      callback: function($$v) {
        _vm.$set(_vm.entryChargeItemCard, "checkinPayment", $$v)
      },
      expression: "entryChargeItemCard.checkinPayment"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "l5"
  }, [_vm._v(" " + _vm._s(_vm.g.Dict.CardUnitName[_vm.selectCardType]))])], 1)]) : _vm._e(), _vm._v(" "), (!_vm.includeMoreCards && _vm.selectCardType > 1) ? _c('tr', [_c('th', [_c('div', {
    staticStyle: {
      "padding": "8px 0"
    }
  }, [_vm._v("启用按小时计费")])]), _vm._v(" "), _c('td', [_c('i-switch', {
    attrs: {
      "size": "large"
    },
    model: {
      value: (_vm.entryChargeItemCard.chargeByHourEnable),
      callback: function($$v) {
        _vm.$set(_vm.entryChargeItemCard, "chargeByHourEnable", $$v)
      },
      expression: "entryChargeItemCard.chargeByHourEnable"
    }
  }, [_c('span', {
    attrs: {
      "slot": "open"
    },
    slot: "open"
  }, [_vm._v("是")]), _vm._v(" "), _c('span', {
    attrs: {
      "slot": "close"
    },
    slot: "close"
  }, [_vm._v("否")])]), _vm._v(" "), _c('help', {
    staticClass: "l10",
    attrs: {
      "title": "提示"
    }
  }, [_vm._v("\n\t\t\t\t\t\t\t\t如果本卡启用了按小时计费，会员入场签到后，系统就开始计时，会员离场时需要前台做签出操作，\n                系统会根据签到和签出的时间差自动扣除会员卡的费用。\n              ")])], 1)]) : _vm._e(), _vm._v(" "), (!_vm.includeMoreCards && _vm.selectCardType > 1 && _vm.entryChargeItemCard.chargeByHourEnable) ? _c('tr', [_c('th', {
    attrs: {
      "valign": "top"
    }
  }, [_c('div', {
    staticClass: "p5"
  }, [_vm._v("每小时计费")])]), _vm._v(" "), _c('td', [_c('input-int', {
    staticClass: "input-s",
    attrs: {
      "min": "0"
    },
    model: {
      value: (_vm.entryChargeItemCard.chargeByHourVal),
      callback: function($$v) {
        _vm.$set(_vm.entryChargeItemCard, "chargeByHourVal", $$v)
      },
      expression: "entryChargeItemCard.chargeByHourVal"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "l5"
  }, [(_vm.selectCardType === 2) ? _c('span', [_vm._v("次")]) : _vm._e()]), _vm._v(" "), (_vm.selectCardType === 3) ? _c('span', [_c('b', {
    staticClass: "red"
  }, [_vm._v(" 元")]), _vm._v("  ")]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "charge-by-hour-conf"
  }, [_c('span', {
    staticClass: "orange"
  }, [_vm._v("不足一小时的计费方式：")]), _vm._v(" "), _c('ul', [_c('li', [_c('Icon', {
    attrs: {
      "type": "ios-time-outline",
      "size": "18"
    }
  }), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    model: {
      value: (_vm.chargeByHourConf.fromMin1),
      callback: function($$v) {
        _vm.$set(_vm.chargeByHourConf, "fromMin1", $$v)
      },
      expression: "chargeByHourConf.fromMin1"
    }
  }), _vm._v(" 分钟\n\t\t\t\t\t\t\t\t~ "), _c('input-int', {
    staticClass: "input-s",
    model: {
      value: (_vm.chargeByHourConf.toMin1),
      callback: function($$v) {
        _vm.$set(_vm.chargeByHourConf, "toMin1", $$v)
      },
      expression: "chargeByHourConf.toMin1"
    }
  }), _vm._v(" 分钟，按半小时计费")], 1), _vm._v(" "), _c('li', [_c('Icon', {
    attrs: {
      "type": "ios-clock-outline",
      "size": "18"
    }
  }), _vm._v(" "), _c('input-int', {
    staticClass: "input-s",
    model: {
      value: (_vm.chargeByHourConf.fromMin2),
      callback: function($$v) {
        _vm.$set(_vm.chargeByHourConf, "fromMin2", $$v)
      },
      expression: "chargeByHourConf.fromMin2"
    }
  }), _vm._v(" 分钟\n\t\t\t\t\t\t\t\t~ "), _c('input-int', {
    staticClass: "input-s",
    model: {
      value: (_vm.chargeByHourConf.toMin2),
      callback: function($$v) {
        _vm.$set(_vm.chargeByHourConf, "toMin2", $$v)
      },
      expression: "chargeByHourConf.toMin2"
    }
  }), _vm._v(" 分钟，按一小时计费")], 1)])]), _vm._v(" "), _c('div', {
    staticClass: "charge-by-hour-begin"
  }, [_c('input-int', {
    staticClass: "input-s",
    model: {
      value: (_vm.entryChargeItemCard.chargeByHourBegin),
      callback: function($$v) {
        _vm.$set(_vm.entryChargeItemCard, "chargeByHourBegin", $$v)
      },
      expression: "entryChargeItemCard.chargeByHourBegin"
    }
  }), _vm._v("分钟后开始计时（计费）\n\t\t\t\t\t\t\t\t"), _c('help', [_vm._v("\n\t\t\t\t\t\t\t\t\t设置此时间后，系统在计费时将先扣除此时间，然后再根据剩余的时间计费。\n\t\t\t\t\t\t\t\t")])], 1)], 1)]) : _vm._e(), _vm._v(" "), _c('tr', [_c('th', [_vm._v("每天签到限制")]), _vm._v(" "), _c('td', [_c('input-int', {
    staticClass: "input-s",
    model: {
      value: (_vm.entryChargeItemCard.limitDayUses),
      callback: function($$v) {
        _vm.$set(_vm.entryChargeItemCard, "limitDayUses", $$v)
      },
      expression: "entryChargeItemCard.limitDayUses"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "l5"
  }, [_vm._v("次 / 天")]), _vm._v(" "), _c('span', {
    staticClass: "gray l10"
  }, [_vm._v("（不填表示不限制）")])], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("每周签到限制")]), _vm._v(" "), _c('td', [_c('input-int', {
    staticClass: "input-s",
    model: {
      value: (_vm.entryChargeItemCard.limitWeekUses),
      callback: function($$v) {
        _vm.$set(_vm.entryChargeItemCard, "limitWeekUses", $$v)
      },
      expression: "entryChargeItemCard.limitWeekUses"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "l5"
  }, [_vm._v("次 / 周")]), _vm._v(" "), _c('span', {
    staticClass: "gray l10"
  }, [_vm._v("（不填表示不限制）")])], 1)])])]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveEntryChargeItemCard
    }
  }, [_vm._v("提交")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.entryChargeItemCardDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)])], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2444:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "shop-param"
  }, [_c('section', [_vm._m(0), _vm._v(" "), _c('div', {
    staticClass: "items"
  }, [_c('ul', [_c('li', [_c('Checkbox', {
    attrs: {
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.shopParam.hasEntryCheckin),
      callback: function($$v) {
        _vm.$set(_vm.shopParam, "hasEntryCheckin", $$v)
      },
      expression: "shopParam.hasEntryCheckin"
    }
  }, [_vm._v("入场签到")])], 1), _vm._v(" "), _c('li', [_c('Checkbox', {
    attrs: {
      "disabled": !_vm.editable || _vm.disableGroupCourse
    },
    model: {
      value: (_vm.shopParam.hasGroupCourse),
      callback: function($$v) {
        _vm.$set(_vm.shopParam, "hasGroupCourse", $$v)
      },
      expression: "shopParam.hasGroupCourse"
    }
  }, [_vm._v("团课")])], 1), _vm._v(" "), _c('li', [_c('Checkbox', {
    attrs: {
      "disabled": !_vm.editable || _vm.disablePrivateCourse
    },
    model: {
      value: (_vm.shopParam.hasPrivateCourse),
      callback: function($$v) {
        _vm.$set(_vm.shopParam, "hasPrivateCourse", $$v)
      },
      expression: "shopParam.hasPrivateCourse"
    }
  }, [_vm._v("私教课")])], 1), _vm._v(" "), _c('li', [_c('Checkbox', {
    attrs: {
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.shopParam.hasMall),
      callback: function($$v) {
        _vm.$set(_vm.shopParam, "hasMall", $$v)
      },
      expression: "shopParam.hasMall"
    }
  }, [_vm._v("微商城")])], 1), _vm._v(" "), _c('li', [_c('Checkbox', {
    attrs: {
      "disabled": !_vm.editable
    },
    model: {
      value: (_vm.shopParam.hasVenueBooking),
      callback: function($$v) {
        _vm.$set(_vm.shopParam, "hasVenueBooking", $$v)
      },
      expression: "shopParam.hasVenueBooking"
    }
  }, [_vm._v("场地预约")])], 1)])]), _vm._v(" "), _vm._m(1)]), _vm._v(" "), (_vm.editable) ? _c('div', {
    staticClass: "submit"
  }, [_c('i-button', {
    staticClass: "submit-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submit
    }
  }, [_vm._v("保存")])], 1) : _c('p', {
    staticClass: "orange small"
  }, [_vm._v("此设置需要【参数设置】权限")])])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("门店业务模块选择")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "inner-remark"
  }, [_c('div', {
    staticClass: "tit"
  }, [_c('div', {
    staticClass: "tit-help"
  }, [_vm._v("您需要知道的")])]), _vm._v(" "), _c('ul', [_c('li', [_vm._v("对于健身房或俱乐部，一般需要会员入场签到，用于检查会员是否有效；")]), _vm._v(" "), _c('li', [_vm._v("对于健身工作室（私教馆、瑜伽馆、舞蹈房等），一般不需要会员入场签到，只需要团课或私教课；")]), _vm._v(" "), _c('li', [_vm._v("如果不勾选，电脑版及手机版将不显示相关模块。")])])])
}]}

/***/ }),

/***/ 2453:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-conf"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-conf",
      "page": "shop-card-conf"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('card-conf', {
    attrs: {
      "from": "shop"
    }
  })], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2465:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('section', [_vm._m(0), _vm._v(" "), _c('div', {
    staticClass: "tag-setting"
  }, [_vm._l((_vm.tagArr), function(r, idx) {
    return [_c('div', {
      key: idx,
      staticClass: "tag-line flex-center"
    }, [_c('span', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1) + ".")]), _vm._v(" "), _c('i-input', {
      staticClass: "int",
      staticStyle: {
        "width": "320px"
      },
      model: {
        value: (r.labelName),
        callback: function($$v) {
          _vm.$set(r, "labelName", _vm._n($$v))
        },
        expression: "r.labelName"
      }
    }), _vm._v(" "), (idx > 0) ? _c('Icon', {
      staticClass: "clear-icon",
      attrs: {
        "type": "md-close-circle"
      },
      on: {
        "click": function($event) {
          return _vm.delSettingLine(idx)
        }
      }
    }) : _vm._e(), _vm._v("\n\t           \n            "), (idx == _vm.tagArr.length - 1) ? _c('i-button', {
      attrs: {
        "icon": "md-add"
      },
      on: {
        "click": function($event) {
          return _vm.addSettingLine(idx)
        }
      }
    }) : _vm._e()], 1)]
  })], 2), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "border": "none"
    }
  }, [_c('i-button', {
    staticClass: "primary",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.saveLabel
    }
  }, [_vm._v("提交")])], 1)])])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("标签设置")])])
}]}

/***/ }),

/***/ 2473:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "payment-type"
  }, [_c('section', [_vm._m(0), _vm._v(" "), _c('div', {
    staticClass: "payment-type-box"
  }, [_c('div', {
    staticClass: "payment-type-add"
  }, [_c('i-input', {
    staticClass: "input-s",
    attrs: {
      "type": "text",
      "placeholder": "请输入支付名称"
    },
    on: {
      "on-enter": function($event) {
        return _vm.addPaymentType()
      }
    },
    model: {
      value: (_vm.paymentTypeUname),
      callback: function($$v) {
        _vm.paymentTypeUname = (typeof $$v === 'string' ? $$v.trim() : $$v)
      },
      expression: "paymentTypeUname"
    }
  }), _vm._v(" "), _c('i-button', {
    attrs: {
      "type": "primary",
      "icon": "md-add"
    },
    on: {
      "click": function($event) {
        return _vm.addPaymentType()
      }
    }
  }, [_vm._v("添加")])], 1), _vm._v(" "), _c('div', {
    staticClass: "mytbl",
    staticStyle: {
      "width": "500px"
    }
  }, [_c('table', [_vm._m(1), _vm._v(" "), _vm._l((_vm.paymentChannel), function(p, key) {
    return _c('tr', {
      key: key
    }, [_c('td', [_vm._v(_vm._s(p.channelName))]), _vm._v(" "), _c('td', [(p.isDefault) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("默认")]) : _c('span', [_vm._v(_vm._s(p.updateTime))])]), _vm._v(" "), _c('td', [(!p.isDefault) ? _c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.updatePaymentType(p, key)
        }
      }
    }, [_vm._v("修改")])]), _vm._v(" "), _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.deletePaymentType(p, key)
        }
      }
    }, [_vm._v("删除")])])]) : _vm._e()])])
  })], 2)])])])])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("支付方式")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("支付方式")]), _vm._v(" "), _c('th', [_vm._v("更新时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作")])])
}]}

/***/ }),

/***/ 2479:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "shop-param"
  }, [_c('section', [_vm._m(0), _vm._v(" "), (_vm.editable) ? _c('table', {
    staticClass: "tblform"
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "115"
    }
  }, [_c('span', {
    on: {
      "dblclick": _vm.checkAll
    }
  }, [_vm._v("需要清除的数据")])]), _vm._v(" "), _c('td', [_c('CheckboxGroup', {
    staticClass: "items",
    model: {
      value: (_vm.clearItems),
      callback: function($$v) {
        _vm.clearItems = $$v
      },
      expression: "clearItems"
    }
  }, [_c('Checkbox', {
    attrs: {
      "label": "card"
    }
  }, [_c('b', [_vm._v("会员卡种：")]), _vm._v(" 包括设置中的所有会员卡种")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": "member"
    }
  }, [_c('b', [_vm._v("会员：")]), _vm._v(" 包括所有会员的所有信息，例如：会员的会员卡记录、签到记录、上课记录、相册等")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": "member-points"
    }
  }, [_c('b', [_vm._v("会员积分：")]), _vm._v(" 包括所有会员的积分和积分更新记录（如果选择了上面的“会员”，此项可不用选择）")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": "cust"
    }
  }, [_c('b', [_vm._v("客户：")]), _vm._v(" 包括客户的所有数据，以及客户跟进记录")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": "gc"
    }
  }, [_c('b', [_vm._v("团课：")]), _vm._v(" 包括团课课程、团课排课、团课取消日志")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": "pc"
    }
  }, [_c('b', [_vm._v("私教课：")]), _vm._v(" 包括私教课程、私教课排课、私教课取消日志")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": "staff"
    }
  }, [_c('b', [_vm._v("员工：")]), _vm._v(" 除超级管理员之外的所有员工信息")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": "acc"
    }
  }, [_c('b', [_vm._v("记账：")]), _vm._v(" 包括所有资费项和手工记录的账单")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": "mall"
    }
  }, [_c('b', [_vm._v("商城：")]), _vm._v(" 包括商城的所有配置与订单数据")]), _vm._v(" "), _c('Checkbox', {
    attrs: {
      "label": "market"
    }
  }, [_c('b', [_vm._v("营销：")]), _vm._v(" 包括营销的所有数据")])], 1)], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("安全校验码")]), _vm._v(" "), _c('td', [_c('i-input', {
    staticClass: "input",
    attrs: {
      "type": "text",
      "placeholder": "请输入安全校验码"
    },
    model: {
      value: (_vm.sysCheckCode),
      callback: function($$v) {
        _vm.sysCheckCode = $$v
      },
      expression: "sysCheckCode"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("每个门店的【安全校验码】每天都不一样，请咨询系统售后人员")])], 1)]), _vm._v(" "), _c('tr', [_c('th', [_vm._v("短信验证码")]), _vm._v(" "), _c('td', [_c('input-int', {
    staticClass: "input",
    attrs: {
      "placeholder": "请输入短信验证码"
    },
    model: {
      value: (_vm.smsCode),
      callback: function($$v) {
        _vm.smsCode = $$v
      },
      expression: "smsCode"
    }
  }), _vm._v("\n           \n          "), _c('span', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.authcodeDisabled),
      expression: "authcodeDisabled"
    }],
    staticClass: "l10 small"
  }, [_vm._v(_vm._s(_vm.authcodeLabel))]), _vm._v(" "), _c('a', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (!_vm.authcodeDisabled),
      expression: "!authcodeDisabled"
    }],
    staticClass: "l10 small",
    on: {
      "click": _vm.onClickSmsAuthcodeBtn
    }
  }, [_vm._v("获取验证码")]), _vm._v(" "), _c('span', {
    staticClass: "spt gray"
  }, [_vm._v("|")]), _vm._v(" "), _c('span', {
    staticClass: "gray small"
  }, [_vm._v("验证码将发送到超级管理员的手机 "), _c('span', {
    staticClass: "orange"
  }, [_vm._v(_vm._s(_vm.tenantOwnerPhone))])])], 1)]), _vm._v(" "), _c('tr', [_c('th'), _vm._v(" "), _c('td', [_c('div', {
    staticClass: "submit"
  }, [_c('i-button', {
    staticClass: "submit-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.submit
    }
  }, [_vm._v("提交")]), _vm._v(" "), _vm._m(1)], 1)])])]) : _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n      抱歉，您没有权限清除数据\n    ")])]), _vm._v(" "), _vm._m(2)])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("门店数据清除")]), _vm._v(" "), _c('div', {
    staticClass: "r orangered"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 仅超级管理员有权限操作，请务必仔细阅读本页面下方的【用前必读】")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('span', {
    staticClass: "warn"
  }, [_c('i', {
    staticClass: "icon-alert2 iconfont"
  }), _vm._v(" 提醒： 提交后，数据将彻底删除，不能恢复，请慎重操作")])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit-help"
  }, [_vm._v("用前必读")])]), _vm._v(" "), _c('div', {
    staticClass: "note"
  }, [_c('ol', [_c('li', {
    staticClass: "green"
  }, [_vm._v("数据清除操作一般是在使用我们系统初期，用于清除测试数据，或导入数据有误的情况；正式使用系统后，非常不建议使用数据清除")]), _vm._v(" "), _c('li', [_vm._v("数据清除前，请慎重选择需要清除的项目，"), _c('b', {
    staticClass: "orangered"
  }, [_vm._v("一旦清除，将彻底不能恢复")])]), _vm._v(" "), _c('li', [_vm._v("此操作涉及门店数据安全和正常经营，仅限 "), _c('b', [_vm._v("超级管理员")]), _vm._v(" 使用")]), _vm._v(" "), _c('li', [_vm._v("为保障系统稳定性，清除【会员、会员积分、客户】时，若记录数超过 "), _c('b', [_vm._v("500")]), _vm._v("，则只能在 "), _c('b', [_vm._v("22:00")]), _vm._v(" 之后操作")])])])])
}]}

/***/ }),

/***/ 2493:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "vist-cust"
  }, [_c('section', [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', _vm._l((_vm.dateList), function(d) {
    return _c('th', [_vm._v(_vm._s(_vm.g.Util.formatDateWithoutYear(d.date)))])
  }), 0), _vm._v(" "), _c('tr', _vm._l((_vm.dateList), function(d) {
    return _c('td', [(_vm.visitStatMap[d.val] || _vm.bookingStatMap[d.val]) ? [_c('a', {
      on: {
        "click": function($event) {
          return _vm.queryVisitCustByDate(d.date)
        }
      }
    }, [(_vm.bookingStatMap[d.val]) ? [_vm._v(_vm._s(_vm.bookingStatMap[d.val]))] : [_vm._v("0")], _vm._v(" "), _c('span', {
      staticClass: "spt"
    }, [_vm._v("/")]), _vm._v(" "), (_vm.visitStatMap[d.val]) ? [_vm._v(_vm._s(_vm.visitStatMap[d.val]))] : [_vm._v("0")]], 2)] : _c('i', {
      staticClass: "small gray"
    }, [_vm._v("\n\t\t\t\t\t\t\t无\n\t\t\t\t\t\t")])], 2)
  }), 0)])])]), _vm._v(" "), _c('section', {
    staticStyle: {
      "padding-top": "15px"
    }
  }, [_c('div', {
    staticClass: "sec-hd"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('date-picker', {
    staticStyle: {
      "width": "200px"
    },
    attrs: {
      "options": _vm.dateOptions,
      "type": "daterange",
      "format": "yyyy-MM-dd",
      "placement": "top-start",
      "placeholder": "请输入日期范围"
    },
    model: {
      value: (_vm.queryDates),
      callback: function($$v) {
        _vm.queryDates = $$v
      },
      expression: "queryDates"
    }
  }), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        return _vm.queryVisitCust()
      }
    }
  }, [_vm._v("确定")])], 1), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.visitCustList && _vm.visitCustList.length) ? _c('span', [_vm._v("\n\t\t\t\t\t预约到访： "), _c('b', [_vm._v(_vm._s(_vm.bookingCnt))]), _vm._v(" 人\n\t\t\t\t\t"), _c('span', {
    staticClass: "spt"
  }, [_vm._v("/")]), _vm._v("\n\t\t\t\t\t实际到店： "), _c('b', [_vm._v(_vm._s(_vm.visitCnt))]), _vm._v(" 人 （" + _vm._s(parseInt(100 * _vm.visitCnt / (_vm.bookingCnt + _vm.visitCnt))) + "%）\n\t\t\t\t")]) : _vm._e()])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.visitCustList), function(c) {
    return _c('tr', [_c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewCust(c)
        }
      }
    }, [_vm._v(_vm._s(c.name))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.phoneNo))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.Sex[c.sex]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.ownerName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CustTypes[c.custType]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.custSrcName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatTimeObject(c.visitTime, false))), (c.custType !== 1) ? _c('span', {
      staticClass: "booking-time"
    }, [_vm._v("（预约）")]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.remark))])])
  })], 2)]), _vm._v(" "), (_vm.custCount && _vm.custCount > 1) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.custCount,
      "page-size": 50,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryVisitCust
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.custCount && !_vm.custCount) ? _c('p', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": _vm.custDlgTitle,
      "width": "800",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.custDlgView),
      callback: function($$v) {
        _vm.custDlgView = $$v
      },
      expression: "custDlgView"
    }
  }, [(_vm.custDlgView) ? _c('cust-detail', {
    attrs: {
      "cust-id": _vm.selectCustId,
      "can-create": true
    }
  }) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "dlg-foot",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        _vm.custDlgView = false
      }
    }
  }, [_vm._v("关闭")])], 1)], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("姓名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("手机号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "60"
    }
  }, [_vm._v("性别")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("负责人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("客户类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("客户来源")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("到访时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("创建时间")]), _vm._v(" "), _c('th', [_vm._v("客户备注")])])
}]}

/***/ }),

/***/ 2503:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "vist-cust"
  }, [_c('section', [_c('div', {
    staticClass: "hd",
    attrs: {
      "id": "anchor-visitcnt"
    }
  }, [_c('div', {
    staticClass: "tit-noflag"
  }, [_vm._v("今日访客 "), _c('span', {
    staticClass: "cnt"
  }, [_vm._v("（" + _vm._s(_vm.custCount) + "人）")])]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "cool-link",
    on: {
      "click": function($event) {
        return _vm.loadVisitCust(null, true)
      }
    }
  }, [_c('icon', {
    attrs: {
      "type": "md-refresh"
    }
  }), _vm._v("刷新")], 1), _vm._v(" "), (_vm.g.data.user.isShopOwner) ? _c('a', {
    staticClass: "cool-link",
    on: {
      "click": _vm.openVisitCustStatDlg
    }
  }, [_c('icon', {
    attrs: {
      "type": "ios-paper-outline"
    }
  }), _vm._v("访客记录")], 1) : _vm._e(), _vm._v(" "), _c('a', {
    staticClass: "cool-link",
    on: {
      "click": function($event) {
        return _vm.$router.push('/cust-create')
      }
    }
  }, [_c('icon', {
    attrs: {
      "type": "md-add"
    }
  }), _vm._v("添加访客")], 1)])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.visitCustList), function(c) {
    return _c('tr', [_c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewCust(c)
        }
      }
    }, [_vm._v(_vm._s(c.name))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.phoneNo))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.Sex[c.sex]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.ownerName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CustTypes[c.custType]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.custSrcName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatTimeObject(c.visitTime, false))), (c.custType !== 1) ? _c('span', {
      staticClass: "booking-time"
    }, [_vm._v("（预约）")]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.remark))]), _vm._v(" "), _c('td', [_c('ul', {
      staticClass: "opt-list"
    }, [(c.custType !== 1) ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openCustVisitDlg(c.custId, c.name)
        }
      }
    }, [_vm._v("确认到店")])]) : _vm._e()])])])
  })], 2)]), _vm._v(" "), (_vm.custCount && _vm.custCount > 1) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.custCount,
      "page-size": 50,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.loadVisitCust
    }
  })], 1) : _vm._e(), _vm._v(" "), (!_vm.custCount) ? _c('p', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e(), _vm._v(" "), (_vm.custCount) ? _c('div', {
    staticClass: "bottom-stat"
  }, [_vm._v("\n\t\t\t预约到访： "), _c('b', [_vm._v(_vm._s(_vm.bookingCnt))]), _vm._v(" 人\n\t\t\t"), _c('span', {
    staticClass: "spt"
  }, [_vm._v("/")]), _vm._v("\n\t\t\t实际到店： "), _c('b', [_vm._v(_vm._s(_vm.visitCnt))]), _vm._v(" 人 （" + _vm._s(parseInt(100 * _vm.visitCnt / (_vm.bookingCnt + _vm.visitCnt))) + "%）\n\t\t")]) : _vm._e()]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": _vm.custDlgTitle,
      "width": "800",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.custDlgView),
      callback: function($$v) {
        _vm.custDlgView = $$v
      },
      expression: "custDlgView"
    }
  }, [(_vm.custDlgView) ? _c('cust-detail', {
    attrs: {
      "cust-id": _vm.selectCustId,
      "can-create": true
    }
  }) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "dlg-foot",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        _vm.custDlgView = false
      }
    }
  }, [_vm._v("关闭")])], 1)], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": '客户到店确认： ' + _vm.selectCustName,
      "width": "500"
    },
    model: {
      value: (_vm.custVisitConfirmDlg),
      callback: function($$v) {
        _vm.custVisitConfirmDlg = $$v
      },
      expression: "custVisitConfirmDlg"
    }
  }, [_c('div', {
    staticClass: "center p10"
  }, [_vm._v("\n\t\t\t实际到店时间：  \n\t\t\t"), _c('TimePicker', {
    staticStyle: {
      "width": "120px"
    },
    attrs: {
      "type": "time",
      "placeholder": "设置客户到访实际时间"
    },
    model: {
      value: (_vm.visitTime),
      callback: function($$v) {
        _vm.visitTime = $$v
      },
      expression: "visitTime"
    }
  }), _vm._v("\n\t\t\t \n\t\t\t"), _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.confirmCustVisit
    }
  }, [_vm._v("确定")])], 1), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "访客记录",
      "width": "1080",
      "styles": {
        top: '10px'
      },
      "mask-closable": false
    },
    model: {
      value: (_vm.dlg.visitCustStat),
      callback: function($$v) {
        _vm.$set(_vm.dlg, "visitCustStat", $$v)
      },
      expression: "dlg.visitCustStat"
    }
  }, [(_vm.dlg.visitCustStat) ? _c('visit-cust-stat') : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("姓名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("手机号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "60"
    }
  }, [_vm._v("性别")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("负责人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("客户类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("客户来源")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("到访时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("创建时间")]), _vm._v(" "), _c('th', [_vm._v("客户备注")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("操作")])])
}]}

/***/ }),

/***/ 2510:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "s"
  }, [_c('section', [_vm._m(0), _vm._v(" "), _c('ol', [_vm._m(1), _vm._v(" "), _c('li', [_vm._v("务必将日期列的所有数据在Excel中设置为【日期格式】，格式如：2017-12-12 或 2017/12/12")]), _vm._v(" "), _c('li', [_vm._v("请预先在"), _c('router-link', {
    attrs: {
      "to": "/shop-card-conf"
    }
  }, [_vm._v("【设置 -> 会员卡设置】")]), _vm._v("下创建导入数据中的会员卡信息")], 1), _vm._v(" "), _vm._m(2), _vm._v(" "), _c('li', [_vm._v("如果同一个会员出现多条同卡种的记录，系统将在会员名下新增会员卡")]), _vm._v(" "), _vm._m(3)])]), _vm._v(" "), _c('section', [_vm._m(4), _vm._v(" "), (_vm.g.data.user.isShopOwner) ? _c('div', {
    staticClass: "upload-file"
  }, [_c('Upload', {
    attrs: {
      "action": _vm.g.Conf.API_HOST + '/shopDataImport',
      "with-credentials": true,
      "accept": _vm.acceptFileType,
      "max-size": 10240,
      "before-upload": _vm.handleBeforeUpload,
      "on-success": _vm.handleUploadSuccess
    }
  }, [_c('i-button', {
    attrs: {
      "type": "default",
      "icon": "ios-cloud-upload-outline"
    }
  }, [_vm._v("上传Excel文件")])], 1)], 1) : _c('div', {
    staticClass: "gray small"
  }, [_vm._v("\n\t\t\t您不是店长角色，不可操作\n\t\t")]), _vm._v(" "), (_vm.errors && _vm.errors.length > 0) ? _c('div', {
    staticClass: "tips"
  }, [_vm._m(5), _vm._v(" "), _c('ul', {
    staticClass: "err"
  }, _vm._l((_vm.errors), function(e) {
    return _c('li', [_vm._v(_vm._s(e))])
  }), 0)]) : _vm._e(), _vm._v(" "), (_vm.warnings && _vm.warnings.length > 0) ? _c('div', {
    staticClass: "tips"
  }, [_vm._m(6), _vm._v(" "), _c('ul', {
    staticClass: "warn"
  }, _vm._l((_vm.warnings), function(w) {
    return _c('li', [_vm._v(_vm._s(w))])
  }), 0)]) : _vm._e(), _vm._v(" "), (_vm.errors && _vm.errors.length === 0 && !_vm.g.Util.isEmpty(_vm.createdMemberCnt)) ? _c('div', {
    staticClass: "success"
  }, [_c('i', {
    staticClass: "iconfont icon-check okicon"
  }), _vm._v("\n\t\t\t导入了 "), _c('b', [_vm._v(_vm._s(_vm.createdMemberCnt))]), _vm._v(" 个会员信息！ "), _vm._m(7)]) : _vm._e()])])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("数据导入必读")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('li', [_vm._v("数据导入文件为 "), _c('b', [_vm._v("Excel文件")]), _vm._v("（文件后缀为 "), _c('b', [_vm._v("xls")]), _vm._v("，"), _c('a', {
    attrs: {
      "target": "_blank",
      "href": "/static/shop-import-exam.xls"
    }
  }, [_vm._v("下载excel模板")]), _vm._v("），\n\t\t\t文件第一行需包含如下列 "), _c('b', {
    staticClass: "red"
  }, [_vm._v("（ 列名要严格一致，列顺序随意，多余的列会忽略 ）")]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "560"
    }
  }, [_vm._v("列名")]), _c('th', [_vm._v("必读说明")])]), _vm._v(" "), _c('tr', [_c('td', {
    staticClass: "fields"
  }, [_c('span', {
    staticClass: "must"
  }, [_c('u', [_vm._v("会员姓名")]), _c('u', [_vm._v("会员手机号")]), _c('u', [_vm._v("会员性别")]), _c('u', [_vm._v("会员卡名")])])]), _vm._v(" "), _c('td', [_vm._v("必填数据")])]), _vm._v(" "), _c('tr', [_c('td', {
    staticClass: "fields"
  }, [_c('u', [_vm._v("会员卡号")]), _c('u', [_vm._v("会员生日")]), _c('u', [_vm._v("积分")]), _c('u', [_vm._v("加入时间")]), _c('u', [_vm._v("会籍顾问")]), _c('u', [_vm._v("销售")]), _c('u', [_vm._v("教练")]), _c('u', [_vm._v("备注")]), _vm._v(" "), _c('u', [_vm._v("合同编号")]), _c('p'), _vm._v(" "), _c('u', [_vm._v("客户来源")]), _c('u', [_vm._v("身份证号")]), _c('u', [_vm._v("会员地址")]), _c('u', [_vm._v("初始密码")])]), _vm._v(" "), _c('td', [_vm._v("可选填；\n\t\t\t\t\t\t\t【加入时间】是指会员当初办理会员的时间；【客户来源】需事先在系统中设置\n\t\t\t\t\t\t")])]), _vm._v(" "), _c('tr', [_c('td', {
    staticClass: "fields"
  }, [_c('u', [_vm._v("开卡日期")]), _c('u', [_vm._v("到期日期")])]), _vm._v(" "), _c('td', [_vm._v("如果已开卡，必须填写；否则，无需填写")])]), _vm._v(" "), _c('tr', [_c('td', {
    staticClass: "fields"
  }, [_c('u', [_vm._v("使用天数")])]), _vm._v(" "), _c('td', [_vm._v("如果未开卡，需填写【使用天数】")])]), _vm._v(" "), _c('tr', [_c('td', {
    staticClass: "fields"
  }, [_c('u', [_vm._v("最迟开卡日期")])]), _vm._v(" "), _c('td', [_vm._v("可选填；仅当未开卡时，此项数据才有意义")])]), _vm._v(" "), _c('tr', [_c('td', {
    staticClass: "fields"
  }, [_c('u', [_vm._v("剩余次数")])]), _vm._v(" "), _c('td', [_vm._v("用于次数卡，必须填写；其它卡种，无需填写")])]), _vm._v(" "), _c('tr', [_c('td', {
    staticClass: "fields"
  }, [_c('u', [_vm._v("剩余金额")])]), _vm._v(" "), _c('td', [_vm._v("用于储值卡，必须填写；其它卡种，无需填写")])]), _vm._v(" "), _c('tr', [_c('td', {
    staticClass: "fields"
  }, [_c('u', [_vm._v("充值金额")]), _c('u', [_vm._v("实收金额")]), _c('u', [_vm._v("充值备注")]), _c('u', [_vm._v("充值时间")])]), _vm._v(" "), _c('td', [_vm._v("可选填；如果充值时间不填写，则默认为【加入时间】")])])])])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('li', [_vm._v("如果导入的数据中有【会籍顾问、销售或教练】，请预先在"), _c('a', {
    attrs: {
      "href": "#/staff-query"
    }
  }, [_vm._v("【员工】")]), _vm._v("下创建这些人员")])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('li', [_vm._v("每次导入最多支持"), _c('b', [_vm._v(" 2000条 ")]), _vm._v("记录")])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("数据导入操作")]), _vm._v(" "), _c('div', {
    staticClass: "r small orange"
  }, [_c('i', {
    staticClass: "iconfont icon-alert"
  }), _vm._v(" 仅店长有权限操作")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "tit"
  }, [_c('i', {
    staticClass: "iconfont icon-alert2"
  }), _vm._v(" 错误提示：")])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "tit"
  }, [_c('i', {
    staticClass: "iconfont icon-alert2"
  }), _vm._v(" 提示：")])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('a', {
    staticStyle: {
      "margin-left": "25px"
    },
    attrs: {
      "href": "#/member-query"
    }
  }, [_vm._v("查询会员"), _c('i', {
    staticClass: "iconfont icon-arrow-r small"
  })])
}]}

/***/ }),

/***/ 2512:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-conf"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-conf",
      "page": "shop-more-conf"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [(_vm.g.data.user.isTenantOwner) ? _c('section', [_vm._m(0), _vm._v(" "), _c('div', {
    staticClass: "tblform"
  }, [_c('table', {
    attrs: {
      "width": "300"
    }
  }, [_c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("Item")]), _vm._v(" "), _c('td', [_c('i-select', {
    model: {
      value: (_vm.conf.itemName),
      callback: function($$v) {
        _vm.$set(_vm.conf, "itemName", $$v)
      },
      expression: "conf.itemName"
    }
  }, [_c('i-option', {
    attrs: {
      "value": "conf"
    }
  }, [_vm._v("1. Conf")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": "card"
    }
  }, [_vm._v("2. Card")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": "staff"
    }
  }, [_vm._v("3. Staff")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": "member"
    }
  }, [_vm._v("4. Member")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": "entry_checkin"
    }
  }, [_vm._v("5. Entry checkin")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": "private_course"
    }
  }, [_vm._v("6. Private course")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": "group_course"
    }
  }, [_vm._v("7. Group course")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": "cust"
    }
  }, [_vm._v("8. Cust")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": "acc"
    }
  }, [_vm._v("9. Acc")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": "msite"
    }
  }, [_vm._v("10. Msite")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": "user"
    }
  }, [_vm._v("11. User")])], 1)], 1)]), _vm._v(" "), _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("Src tid")]), _vm._v(" "), _c('td', [_c('input-int', {
    staticClass: "input",
    model: {
      value: (_vm.conf.srcTid),
      callback: function($$v) {
        _vm.$set(_vm.conf, "srcTid", $$v)
      },
      expression: "conf.srcTid"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("Src sid")]), _vm._v(" "), _c('td', [_c('input-int', {
    staticClass: "input",
    model: {
      value: (_vm.conf.srcSid),
      callback: function($$v) {
        _vm.$set(_vm.conf, "srcSid", $$v)
      },
      expression: "conf.srcSid"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('th', {
    staticClass: "required"
  }, [_vm._v("Checkcode")]), _vm._v(" "), _c('td', [_c('i-input', {
    model: {
      value: (_vm.conf.checkCode),
      callback: function($$v) {
        _vm.$set(_vm.conf, "checkCode", $$v)
      },
      expression: "conf.checkCode"
    }
  })], 1)]), _vm._v(" "), _c('tr', [_c('th'), _vm._v(" "), _c('td', [_c('p'), _vm._v(" "), _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.run
    }
  }, [_vm._v("Run")])], 1)])])])]) : _vm._e()])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("Shop Data Duplication")]), _vm._v(" "), _c('div', {
    staticClass: "r small"
  })])
}]}

/***/ }),

/***/ 2517:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('div', {
    staticClass: "home-foot"
  }, [_vm._v("\n\t\t© 2022   南京强点信息技术有限公司\n\t\t"), _c('span', {
    staticClass: "sptr"
  }, [_vm._v("|")]), _vm._v(" "), _c('a', {
    on: {
      "click": _vm.openCorpInfotDlg
    }
  }, [_vm._v("帮助&反馈")]), _vm._v(" "), _c('span', {
    staticClass: "sptr"
  }, [_vm._v("|")]), _vm._v(" "), _c('a', {
    on: {
      "click": _vm.showSkinConf
    }
  }, [_vm._v("皮肤设置")]), _vm._v(" "), _c('span', {
    staticClass: "sptr"
  }, [_vm._v("|")]), _vm._v(" 工信部备案号： 苏ICP备17021267号\n\t")]), _vm._v(" "), _c('modal', {
    attrs: {
      "closable": true,
      "width": "600",
      "title": "意见反馈或帮助"
    },
    model: {
      value: (_vm.corpInfotDlg),
      callback: function($$v) {
        _vm.corpInfotDlg = $$v
      },
      expression: "corpInfotDlg"
    }
  }, [_c('div', {
    staticClass: "corp-info"
  }, [_vm._v("\n\t\t\t如果您对健总管有任何问题或建议，可随时通过如下方式联系我们：\n\t\t\t"), _c('ul', [(_vm.csStaff.name) ? _c('li', [_c('label', [_vm._v("专属售后：")]), _vm._v(_vm._s(_vm.csStaff.name) + " "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("/")]), _vm._v(" " + _vm._s(_vm.csStaff.phoneNo) + "\n\t\t\t\t\t"), _c('span', {
    staticClass: "tips"
  }, [_vm._v("（"), _c('span', {
    staticClass: "orange"
  }, [_vm._v("← 建议首选此联系方式")]), _vm._v("）")])]) : _vm._e(), _vm._v(" "), _c('li', [_c('label', [_vm._v("公司电话：")]), _vm._v("025 - 6604 5495 "), _c('span', {
    staticClass: "tips orange"
  }, [_vm._v("（来电后请先提示一下您的门店名称）")])]), _vm._v(" "), _c('li', [_c('label', [_vm._v("公司邮箱：")]), _vm._v("support@jzongguan.com  "), _c('span', {
    staticClass: "tips"
  }, [_vm._v("（我们会在24小时之内给您回复）")])])]), _vm._v(" "), _c('div', {
    staticClass: "copyright"
  }, [_vm._v("© 2022   南京强点信息技术有限公司 ")])]), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    attrs: {
      "closable": true,
      "width": "550",
      "title": "导航栏皮肤设置"
    },
    model: {
      value: (_vm.skinDlg),
      callback: function($$v) {
        _vm.skinDlg = $$v
      },
      expression: "skinDlg"
    }
  }, [(_vm.skinDlg) ? _c('ul', {
    staticClass: "skin-conf"
  }, [_c('li', {
    on: {
      "click": function($event) {
        return _vm.setSkin('black')
      }
    }
  }, [_c('div', {
    staticClass: "bg skin-black"
  }), _c('div', {
    class: {
      txt: true,
      on: _vm.skin === 'black'
    }
  }, [_vm._v("酷炫黑")])]), _vm._v(" "), _c('li', {
    on: {
      "click": function($event) {
        return _vm.setSkin('blue')
      }
    }
  }, [_c('div', {
    staticClass: "bg skin-blue"
  }), _c('div', {
    class: {
      txt: true,
      on: _vm.skin === 'blue'
    }
  }, [_vm._v("商务蓝")])]), _vm._v(" "), _c('li', {
    on: {
      "click": function($event) {
        return _vm.setSkin('green')
      }
    }
  }, [_c('div', {
    staticClass: "bg skin-green"
  }), _c('div', {
    class: {
      txt: true,
      on: _vm.skin === 'green'
    }
  }, [_vm._v("护眼绿")])]), _vm._v(" "), _c('li', {
    on: {
      "click": function($event) {
        return _vm.setSkin('pink')
      }
    }
  }, [_c('div', {
    staticClass: "bg skin-pink"
  }), _c('div', {
    class: {
      txt: true,
      on: _vm.skin === 'pink'
    }
  }, [_vm._v("佳人粉")])])]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "text",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })])], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2533:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('section', [_vm._v("\n\t\t合同模式选择：\n\t\t"), _c('radio-group', {
    on: {
      "on-change": _vm.changeTab
    },
    model: {
      value: (_vm.memberContractMode),
      callback: function($$v) {
        _vm.memberContractMode = $$v
      },
      expression: "memberContractMode"
    }
  }, [_c('radio', {
    attrs: {
      "label": 0
    }
  }, [_vm._v("图片测量模式")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("Word模板模式")])], 1), _vm._v(" "), _c('span', {
    staticClass: "l15"
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.g.Req.updateShopArg(2099, _vm.memberContractMode)
      }
    }
  }, [_vm._v("保存模式")])], 1)], 1), _vm._v(" "), (_vm.hasLoad) ? _c('Tabs', {
    attrs: {
      "animated": false
    },
    model: {
      value: (_vm.tabName),
      callback: function($$v) {
        _vm.tabName = $$v
      },
      expression: "tabName"
    }
  }, [_c('TabPane', {
    attrs: {
      "name": "imgMode"
    }
  }, [_c('contract-mode-img')], 1), _vm._v(" "), _c('TabPane', {
    attrs: {
      "name": "wordMode"
    }
  }, [_c('contract-mode-word')], 1)], 1) : _vm._e()], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2539:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-home"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-home",
      "page": "shop-home",
      "after-entry-checkin": _vm.afterEntryCheckin
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main shop-home"
  }, [(!_vm.shopInitCheck.isDone) ? _c('section', {
    staticClass: "-shop-init-check"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('Icon', {
    staticClass: "orange",
    attrs: {
      "type": "ios-megaphone",
      "size": "16"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "l10 orange"
  }, [_vm._v("亲，欢迎使用健总管，请按照步骤完善门店资料")])], 1), _vm._v(" "), _c('ul', {
    staticClass: "steps"
  }, [_c('li', {
    class: {
      'done': _vm.shopInitCheck.hasCard
    }
  }, [_c('span', {
    staticClass: "flag"
  }), _vm._v(" "), _vm._m(0)]), _vm._v(" "), _c('li', {
    class: {
      'done': _vm.shopInitCheck.hasCourse
    }
  }, [_c('span', {
    staticClass: "flag"
  }), _vm._v(" "), _vm._m(1)]), _vm._v(" "), _c('li', {
    class: {
      'done': _vm.shopInitCheck.hasMember
    }
  }, [_c('span', {
    staticClass: "flag"
  }), _vm._v(" "), _vm._m(2)])])]) : _vm._e(), _vm._v(" "), (_vm.g.data.shop.hasEntryCheckin && (_vm.checkinPermit || _vm.viewEntryCheckinPermit)) ? _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit-noflag"
  }, [_vm._v("今日入场签到\n          "), (_vm.memberEntryCheckinList !== null) ? _c('span', {
    staticClass: "cnt"
  }, [_vm._v("\n            （ 签到 " + _vm._s(_vm.memberEntryCheckinCount) + " 人\n            "), (_vm.viewAllEntryRecordsPermit) ? [_c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n              签出 " + _vm._s(_vm.memberEntryCheckinCount - _vm.memberEntryUncheckoutCount) + " 人\n              "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n              在场 "), _c('b', [_vm._v(_vm._s(_vm.memberEntryUncheckoutCount))]), _vm._v(" 人\n            ")] : _vm._e(), _vm._v("\n            ）\n          ")], 2) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('a', {
    staticClass: "cool-link",
    on: {
      "click": function($event) {
        return _vm.loadEntryCheckin(true)
      }
    }
  }, [_c('icon', {
    attrs: {
      "type": "md-refresh"
    }
  }), _vm._v("刷新\n          ")], 1), _vm._v(" "), (_vm.checkinPermit) ? [_c('a', {
    staticClass: "cool-link",
    attrs: {
      "href": 'http://web.jzongguan.com/#/' + _vm.checkinScreenPageUrl,
      "target": "_blank"
    }
  }, [_c('Icon', {
    attrs: {
      "type": "md-desktop"
    }
  }), _vm._v("签到大屏幕\n            ")], 1), _vm._v(" "), _c('a', {
    staticClass: "cool-link",
    attrs: {
      "href": "#/entry-checkin-list"
    }
  }, [_c('icon', {
    attrs: {
      "type": "ios-paper-outline"
    }
  }), _vm._v("入场签到记录\n            ")], 1), _vm._v(" "), _c('a', {
    class: {
      orangered: _vm.g.data.shop.isTrial,
      'cool-link': true
    },
    attrs: {
      "href": "#/entry-checkin-conf"
    }
  }, [_c('icon', {
    attrs: {
      "type": "ios-options"
    }
  }), _vm._v("入场签到设置\n            ")], 1)] : _vm._e()], 2)]), _vm._v(" "), (_vm.memberEntryCheckinList && _vm.memberEntryCheckinList.length > 0) ? _c('ul', {
    staticClass: "member-list"
  }, _vm._l((_vm.memberEntryCheckinList), function(c, idx) {
    return _c('li', {
      key: c.mecId,
      on: {
        "click": function($event) {
          return _vm.viewMember(c.memberId, c.mecId, idx)
        }
      }
    }, [_c('img', {
      attrs: {
        "src": c.photoUrl
      }
    }), _vm._v("\n          " + _vm._s(c.memberName) + " " + _vm._s(Date.new(c.createTime).format('h:mm')) + "\n        ")])
  }), 0) : _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")])]) : _vm._e(), _vm._v(" "), (_vm.g.data.shop.hasGroupCourse) ? [_c('home-gc-lessons')] : _vm._e(), _vm._v(" "), (_vm.g.data.shop.hasPrivateCourse && _vm.checkinPermit) ? [_c('home-pc-lessons')] : _vm._e(), _vm._v(" "), (_vm.visitCustEditable) ? [_c('shop-visit-cust')] : _vm._e(), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.selectMemberId,
      "mec-id": _vm.selectMecId,
      "after-update-avatar": _vm.afterUpateAvatar
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('my-footer')], 2)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('span', {
    staticClass: "title"
  }, [_c('a', {
    attrs: {
      "href": "#/shop-card-conf"
    }
  }, [_vm._v("设置会员卡")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('span', {
    staticClass: "title"
  }, [_vm._v("设置课程\n            （"), _c('a', {
    staticClass: "bar",
    attrs: {
      "href": "#/group-course-create"
    }
  }, [_vm._v("团课")]), _c('a', {
    attrs: {
      "href": "#/private-course-create"
    }
  }, [_vm._v("私教")]), _vm._v("）\n          ")])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('span', {
    staticClass: "title"
  }, [_c('a', {
    attrs: {
      "href": "#/member-create"
    }
  }, [_vm._v("新建会员")])])
}]}

/***/ }),

/***/ 875:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1131)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1127),
  /* template */
  __webpack_require__(1134),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-23c13726",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ })

});