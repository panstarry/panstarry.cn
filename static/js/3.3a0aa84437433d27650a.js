webpackJsonp([3],{

/***/ 1048:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2015)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1435),
  /* template */
  __webpack_require__(2363),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-cb9c012a",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1049:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1994)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1436),
  /* template */
  __webpack_require__(2341),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-9d7e83b6",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1050:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2026)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1437),
  /* template */
  __webpack_require__(2376),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-f103519a",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1051:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2024)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1438),
  /* template */
  __webpack_require__(2374),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-ed22a562",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1052:
/***/ (function(module, exports, __webpack_require__) {

var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1439),
  /* template */
  __webpack_require__(2370),
  /* styles */
  null,
  /* scopeId */
  null,
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1053:
/***/ (function(module, exports, __webpack_require__) {

var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1440),
  /* template */
  __webpack_require__(2358),
  /* styles */
  null,
  /* scopeId */
  null,
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1054:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1945)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1441),
  /* template */
  __webpack_require__(2291),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-6d6f023c",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1055:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1924)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1442),
  /* template */
  __webpack_require__(2269),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-5c73905e",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1056:
/***/ (function(module, exports, __webpack_require__) {

var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1443),
  /* template */
  __webpack_require__(2168),
  /* styles */
  null,
  /* scopeId */
  null,
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1057:
/***/ (function(module, exports, __webpack_require__) {

var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1444),
  /* template */
  __webpack_require__(2147),
  /* styles */
  null,
  /* scopeId */
  null,
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1058:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1804)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1445),
  /* template */
  __webpack_require__(2149),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-1c7e55bc",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1059:
/***/ (function(module, exports, __webpack_require__) {

var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1446),
  /* template */
  __webpack_require__(2271),
  /* styles */
  null,
  /* scopeId */
  null,
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1060:
/***/ (function(module, exports, __webpack_require__) {

var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1447),
  /* template */
  __webpack_require__(2321),
  /* styles */
  null,
  /* scopeId */
  null,
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1061:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1970)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1448),
  /* template */
  __webpack_require__(2316),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-7b958de9",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1062:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1808)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1449),
  /* template */
  __webpack_require__(2153),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-1ea3507c",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1063:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1792)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1450),
  /* template */
  __webpack_require__(2135),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-14a4ae36",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1064:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1762)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1451),
  /* template */
  __webpack_require__(2104),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-026c9940",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1065:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1820)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1452),
  /* template */
  __webpack_require__(2165),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-2347797a",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1066:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1942)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1453),
  /* template */
  __webpack_require__(2288),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-6ab08038",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1067:
/***/ (function(module, exports, __webpack_require__) {

var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1454),
  /* template */
  __webpack_require__(2249),
  /* styles */
  null,
  /* scopeId */
  null,
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1068:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1761)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1455),
  /* template */
  __webpack_require__(2103),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-01c8d45e",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1069:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1899)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1456),
  /* template */
  __webpack_require__(2245),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-5098c860",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1070:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1982)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1457),
  /* template */
  __webpack_require__(2329),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-8ade09a0",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1071:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1890)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1458),
  /* template */
  __webpack_require__(2236),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-4ba9f20e",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1072:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1919)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1459),
  /* template */
  __webpack_require__(2264),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-590b7720",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1093:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1098)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1096),
  /* template */
  __webpack_require__(1099),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-30ba68e5",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1094:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1102)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1100),
  /* template */
  __webpack_require__(1103),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-6c86f0c9",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1096:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	props: {
		title: {
			type: String,
			required: false
		},
		menuList: {
			type: Array,
			default() {
				return [];
			}
		}
	},

	data() {
		return {};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1097:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-sub-tit[data-v-30ba68e5]{display:inline-block}.-sub-tit .-icon[data-v-30ba68e5]{font-weight:400;padding:0 7px;color:#aaa}.-sub-tit .-name[data-v-30ba68e5]{color:#e20;padding-left:25px}.back[data-v-30ba68e5]{display:inline-block;color:gray}.back[data-v-30ba68e5]:hover{color:red}", ""]);

// exports


/***/ }),

/***/ 1098:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1097);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("0b308ec4", content, true, {});

/***/ }),

/***/ 1099:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "page-header"
  }, [_c('ul', {
    staticClass: "menus"
  }, [_vm._m(0), _vm._v(" "), (_vm.title) ? _c('li', {
    staticClass: "tit"
  }, [_vm._v(_vm._s(_vm.title) + " "), _c('i', {
    staticClass: "iconfont icon-arrow-r"
  })]) : _vm._e(), _vm._v(" "), _vm._l((_vm.menuList), function(m, index) {
    return _c('li', {
      class: {
        'on': m.active
      }
    }, [_c('a', {
      key: index,
      on: {
        "click": function($event) {
          return _vm.$router.push('/' + m.path)
        }
      }
    }, [_vm._v(_vm._s(m.name))])])
  }), _vm._v(" "), _c('li', [_vm._t("default")], 2)], 2)])
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('li', [_c('a', {
    staticClass: "back",
    attrs: {
      "href": "javascript: history.go(-1);",
      "title": "返回"
    }
  }, [_c('i', {
    staticClass: "iconfont icon-arrow-l-1"
  })])])
}]}

/***/ }),

/***/ 1100:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	props: {
		afterSelect: {
			type: Function,
			default() {
				return {};
			}
		},

		showLatestMember: {
			type: Boolean,
			default: true,
			required: false
		}
	},

	data() {
		return {
			g: window.$,
			memberQueryStr: null,
			memberCandidates: [],
			memberFlag: null,
			queryMemberList: [],
			latestMemberList: [],
			cardNo: null,
			queryType: 1,
			memberName: null
		};
	},

	created() {
		if (this.showLatestMember) {
			this.queryLatestMembers();
		}
	},

	methods: {
		handleSearchMember(value) {
			if (!value) {
				this.memberCandidates = [];
				return;
			}
			let args = { queryStr: value };
			$.Req.service($.SvName.MEMBER_QUERY_FOR_AUTO_COMPLETE, args, ret => {
				this.memberCandidates = ret.memberInfoList;
			});
		},

		quickQuery() {
			if (this.memberFlag) {
				let args = { nameOrPhone: this.memberFlag };
				$.Req.service($.SvName.MEMBER_ADV_QUERY, args, ret => {
					if (ret.memberList && ret.memberList.length) {
						if (ret.memberList && ret.memberList.length === 1) {
							this.selectMember(ret.memberList[0]);
							return;
						}
						this.queryMemberList = ret.memberList;
					} else {
						this.queryMemberList = [];
						$.Msg.info('未查到符合条件的会员');
					}
				});
			} else {
				$.Msg.error('请输入会员姓名或手机号');
			}
		},

		queryMemberByName() {
			if (!this.memberName) {
				$.Msg.error('请输入会员姓名');
				return;
			}

			let args = { fuzzyName: this.memberName };
			$.Req.service($.SvName.MEMBER_ADV_QUERY, args, ret => {
				if (ret.memberList && ret.memberList.length) {
					if (ret.memberList && ret.memberList.length === 1) {
						this.selectMember(ret.memberList[0]);
						return;
					}
					this.queryMemberList = ret.memberList;
				} else {
					this.queryMemberList = [];
					$.Msg.info('未查到符合条件的会员');
				}
			});
		},

		queryMemberByCard() {
			if (this.cardNo) {
				let args = { cardNo: this.cardNo };
				$.Req.service($.SvName.MEMBER_ADV_QUERY, args, ret => {
					if (ret.memberList && ret.memberList.length) {
						if (ret.memberList && ret.memberList.length === 1) {
							this.selectMember(ret.memberList[0]);
							return;
						}
						this.queryMemberList = ret.memberList;
					} else {
						this.queryMemberList = [];
						$.Msg.info('未查到符合条件的会员');
					}
				});
			} else {
				$.Msg.error('请输入会员卡号');
			}
		},

		queryLatestMembers() {
			let args = { page: 1 };
			$.Req.service($.SvName.MEMBER_ADV_QUERY, args, ret => {
				this.latestMemberList = ret.memberList;
			});
		},

		selectMember(m) {
			if (this.afterSelect) {
				this.afterSelect(m);
			}
		},

		selectMemberCandidate(val) {
			if (!val) return;
			let items = val.split('|');
			this.memberFlag = items[0].trim();
			this.quickQuery();
		}
	}
});

/***/ }),

/***/ 1101:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".input[data-v-6c86f0c9]{font-size:14px;font-weight:700;display:block}.member-list[data-v-6c86f0c9]{border:1px solid #dddee1;padding:10px;margin-top:20px;clear:both}.member-list li[data-v-6c86f0c9]{padding:5px 10px;margin:5px;background:#eee;display:inline-block;cursor:pointer;width:150px;text-align:center;max-height:28px;overflow:hidden}.member-list li[data-v-6c86f0c9]:hover{background:#ddd;color:#ff4500}.latest-members[data-v-6c86f0c9]{border:1px solid #9ed18b;margin-top:25px}.latest-members .-tit[data-v-6c86f0c9]{margin-bottom:10px;font-weight:700;font-size:13px;padding-left:5px}.latest-members ul[data-v-6c86f0c9]{padding-top:15px}", ""]);

// exports


/***/ }),

/***/ 1102:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1101);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("1adbe95f", content, true, {});

/***/ }),

/***/ 1103:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('div', {
    staticStyle: {
      "margin-bottom": "12px"
    }
  }, [_c('radio-group', {
    model: {
      value: (_vm.queryType),
      callback: function($$v) {
        _vm.queryType = $$v
      },
      expression: "queryType"
    }
  }, [_c('radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("根据姓名和手机号联想查询")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 2
    }
  }, [_vm._v("根据姓名模糊查询")]), _vm._v(" "), _c('radio', {
    attrs: {
      "label": 3
    }
  }, [_vm._v("根据会员卡号查询")])], 1)], 1), _vm._v(" "), (_vm.queryType == 1) ? [_c('AutoComplete', {
    staticStyle: {
      "width": "360px"
    },
    attrs: {
      "data": _vm.memberCandidates,
      "icon": "ios-search",
      "clearable": true,
      "placeholder": "请输入姓名或手机号"
    },
    on: {
      "on-select": _vm.selectMemberCandidate,
      "on-search": _vm.handleSearchMember
    },
    model: {
      value: (_vm.memberQueryStr),
      callback: function($$v) {
        _vm.memberQueryStr = (typeof $$v === 'string' ? $$v.trim() : $$v)
      },
      expression: "memberQueryStr"
    }
  })] : _vm._e(), _vm._v(" "), (_vm.queryType == 2) ? [_c('i-input', {
    staticStyle: {
      "width": "360px"
    },
    attrs: {
      "placeholder": "请输入姓名后按回车查询"
    },
    on: {
      "on-enter": _vm.queryMemberByName
    },
    model: {
      value: (_vm.memberName),
      callback: function($$v) {
        _vm.memberName = (typeof $$v === 'string' ? $$v.trim() : $$v)
      },
      expression: "memberName"
    }
  }), _vm._v(" "), _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.queryMemberByName
    }
  }, [_vm._v("查询")])] : _vm._e(), _vm._v(" "), (_vm.queryType == 3) ? [_c('input-int', {
    staticStyle: {
      "width": "360px"
    },
    attrs: {
      "placeholder": "请刷卡或输入卡号后按回车"
    },
    on: {
      "enter": _vm.queryMemberByCard
    },
    model: {
      value: (_vm.cardNo),
      callback: function($$v) {
        _vm.cardNo = $$v
      },
      expression: "cardNo"
    }
  }), _vm._v(" "), _c('i-button', {
    staticStyle: {
      "position": "relative",
      "top": "-1px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.queryMemberByCard
    }
  }, [_vm._v("查询")])] : _vm._e(), _vm._v(" "), (_vm.queryMemberList && _vm.queryMemberList.length > 0) ? _c('div', {
    staticClass: "member-list"
  }, [_c('ul', _vm._l((_vm.queryMemberList), function(m) {
    return _c('li', {
      attrs: {
        "title": m.name
      },
      on: {
        "click": function($event) {
          return _vm.selectMember(m)
        }
      }
    }, [_vm._v(_vm._s(m.name) + "（" + _vm._s(_vm.g.Dict.Sex[m.sex]) + "）")])
  }), 0)]) : _vm._e(), _vm._v(" "), (_vm.showLatestMember && _vm.latestMemberList && _vm.latestMemberList.length > 0) ? _c('div', {
    staticClass: "member-list latest-members"
  }, [_c('span', {
    staticClass: "-tit"
  }, [_vm._v("最近新建的会员")]), _c('span', {
    staticClass: "gray l10"
  }, [_vm._v("（点击可选择会员）")]), _vm._v(" "), _c('ul', _vm._l((_vm.latestMemberList), function(m, idx) {
    return (idx < 15) ? _c('li', {
      on: {
        "click": function($event) {
          return _vm.selectMember(m)
        }
      }
    }, [_vm._v(_vm._s(m.name) + "（" + _vm._s(_vm.g.Dict.Sex[m.sex]) + "）")]) : _vm._e()
  }), 0)]) : _vm._e()], 2)
},staticRenderFns: []}

/***/ }),

/***/ 1104:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*!
 * qrcode.vue v1.7.0
 * A Vue component to generate QRCode.
 * © 2017-2019 @scopewu(https://github.com/scopewu)
 * MIT License.
 */
var mode = {
  MODE_NUMBER: 1 << 0,
  MODE_ALPHA_NUM: 1 << 1,
  MODE_8BIT_BYTE: 1 << 2,
  MODE_KANJI: 1 << 3
};

function QR8bitByte(data) {
  this.mode = mode.MODE_8BIT_BYTE;
  this.data = data;
}

QR8bitByte.prototype = {
  getLength: function (buffer) {
    return this.data.length;
  },
  write: function (buffer) {
    for (var i = 0; i < this.data.length; i++) {
      // not JIS ...
      buffer.put(this.data.charCodeAt(i), 8);
    }
  }
};
var _8BitByte = QR8bitByte;

var ErrorCorrectLevel = {
  L: 1,
  M: 0,
  Q: 3,
  H: 2
};

function QRRSBlock(totalCount, dataCount) {
  this.totalCount = totalCount;
  this.dataCount = dataCount;
}

QRRSBlock.RS_BLOCK_TABLE = [// L
// M
// Q
// H
// 1
[1, 26, 19], [1, 26, 16], [1, 26, 13], [1, 26, 9], // 2
[1, 44, 34], [1, 44, 28], [1, 44, 22], [1, 44, 16], // 3
[1, 70, 55], [1, 70, 44], [2, 35, 17], [2, 35, 13], // 4		
[1, 100, 80], [2, 50, 32], [2, 50, 24], [4, 25, 9], // 5
[1, 134, 108], [2, 67, 43], [2, 33, 15, 2, 34, 16], [2, 33, 11, 2, 34, 12], // 6
[2, 86, 68], [4, 43, 27], [4, 43, 19], [4, 43, 15], // 7		
[2, 98, 78], [4, 49, 31], [2, 32, 14, 4, 33, 15], [4, 39, 13, 1, 40, 14], // 8
[2, 121, 97], [2, 60, 38, 2, 61, 39], [4, 40, 18, 2, 41, 19], [4, 40, 14, 2, 41, 15], // 9
[2, 146, 116], [3, 58, 36, 2, 59, 37], [4, 36, 16, 4, 37, 17], [4, 36, 12, 4, 37, 13], // 10		
[2, 86, 68, 2, 87, 69], [4, 69, 43, 1, 70, 44], [6, 43, 19, 2, 44, 20], [6, 43, 15, 2, 44, 16], // 11
[4, 101, 81], [1, 80, 50, 4, 81, 51], [4, 50, 22, 4, 51, 23], [3, 36, 12, 8, 37, 13], // 12
[2, 116, 92, 2, 117, 93], [6, 58, 36, 2, 59, 37], [4, 46, 20, 6, 47, 21], [7, 42, 14, 4, 43, 15], // 13
[4, 133, 107], [8, 59, 37, 1, 60, 38], [8, 44, 20, 4, 45, 21], [12, 33, 11, 4, 34, 12], // 14
[3, 145, 115, 1, 146, 116], [4, 64, 40, 5, 65, 41], [11, 36, 16, 5, 37, 17], [11, 36, 12, 5, 37, 13], // 15
[5, 109, 87, 1, 110, 88], [5, 65, 41, 5, 66, 42], [5, 54, 24, 7, 55, 25], [11, 36, 12], // 16
[5, 122, 98, 1, 123, 99], [7, 73, 45, 3, 74, 46], [15, 43, 19, 2, 44, 20], [3, 45, 15, 13, 46, 16], // 17
[1, 135, 107, 5, 136, 108], [10, 74, 46, 1, 75, 47], [1, 50, 22, 15, 51, 23], [2, 42, 14, 17, 43, 15], // 18
[5, 150, 120, 1, 151, 121], [9, 69, 43, 4, 70, 44], [17, 50, 22, 1, 51, 23], [2, 42, 14, 19, 43, 15], // 19
[3, 141, 113, 4, 142, 114], [3, 70, 44, 11, 71, 45], [17, 47, 21, 4, 48, 22], [9, 39, 13, 16, 40, 14], // 20
[3, 135, 107, 5, 136, 108], [3, 67, 41, 13, 68, 42], [15, 54, 24, 5, 55, 25], [15, 43, 15, 10, 44, 16], // 21
[4, 144, 116, 4, 145, 117], [17, 68, 42], [17, 50, 22, 6, 51, 23], [19, 46, 16, 6, 47, 17], // 22
[2, 139, 111, 7, 140, 112], [17, 74, 46], [7, 54, 24, 16, 55, 25], [34, 37, 13], // 23
[4, 151, 121, 5, 152, 122], [4, 75, 47, 14, 76, 48], [11, 54, 24, 14, 55, 25], [16, 45, 15, 14, 46, 16], // 24
[6, 147, 117, 4, 148, 118], [6, 73, 45, 14, 74, 46], [11, 54, 24, 16, 55, 25], [30, 46, 16, 2, 47, 17], // 25
[8, 132, 106, 4, 133, 107], [8, 75, 47, 13, 76, 48], [7, 54, 24, 22, 55, 25], [22, 45, 15, 13, 46, 16], // 26
[10, 142, 114, 2, 143, 115], [19, 74, 46, 4, 75, 47], [28, 50, 22, 6, 51, 23], [33, 46, 16, 4, 47, 17], // 27
[8, 152, 122, 4, 153, 123], [22, 73, 45, 3, 74, 46], [8, 53, 23, 26, 54, 24], [12, 45, 15, 28, 46, 16], // 28
[3, 147, 117, 10, 148, 118], [3, 73, 45, 23, 74, 46], [4, 54, 24, 31, 55, 25], [11, 45, 15, 31, 46, 16], // 29
[7, 146, 116, 7, 147, 117], [21, 73, 45, 7, 74, 46], [1, 53, 23, 37, 54, 24], [19, 45, 15, 26, 46, 16], // 30
[5, 145, 115, 10, 146, 116], [19, 75, 47, 10, 76, 48], [15, 54, 24, 25, 55, 25], [23, 45, 15, 25, 46, 16], // 31
[13, 145, 115, 3, 146, 116], [2, 74, 46, 29, 75, 47], [42, 54, 24, 1, 55, 25], [23, 45, 15, 28, 46, 16], // 32
[17, 145, 115], [10, 74, 46, 23, 75, 47], [10, 54, 24, 35, 55, 25], [19, 45, 15, 35, 46, 16], // 33
[17, 145, 115, 1, 146, 116], [14, 74, 46, 21, 75, 47], [29, 54, 24, 19, 55, 25], [11, 45, 15, 46, 46, 16], // 34
[13, 145, 115, 6, 146, 116], [14, 74, 46, 23, 75, 47], [44, 54, 24, 7, 55, 25], [59, 46, 16, 1, 47, 17], // 35
[12, 151, 121, 7, 152, 122], [12, 75, 47, 26, 76, 48], [39, 54, 24, 14, 55, 25], [22, 45, 15, 41, 46, 16], // 36
[6, 151, 121, 14, 152, 122], [6, 75, 47, 34, 76, 48], [46, 54, 24, 10, 55, 25], [2, 45, 15, 64, 46, 16], // 37
[17, 152, 122, 4, 153, 123], [29, 74, 46, 14, 75, 47], [49, 54, 24, 10, 55, 25], [24, 45, 15, 46, 46, 16], // 38
[4, 152, 122, 18, 153, 123], [13, 74, 46, 32, 75, 47], [48, 54, 24, 14, 55, 25], [42, 45, 15, 32, 46, 16], // 39
[20, 147, 117, 4, 148, 118], [40, 75, 47, 7, 76, 48], [43, 54, 24, 22, 55, 25], [10, 45, 15, 67, 46, 16], // 40
[19, 148, 118, 6, 149, 119], [18, 75, 47, 31, 76, 48], [34, 54, 24, 34, 55, 25], [20, 45, 15, 61, 46, 16]];

QRRSBlock.getRSBlocks = function (typeNumber, errorCorrectLevel) {
  var rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);

  if (rsBlock == undefined) {
    throw new Error("bad rs block @ typeNumber:" + typeNumber + "/errorCorrectLevel:" + errorCorrectLevel);
  }

  var length = rsBlock.length / 3;
  var list = new Array();

  for (var i = 0; i < length; i++) {
    var count = rsBlock[i * 3 + 0];
    var totalCount = rsBlock[i * 3 + 1];
    var dataCount = rsBlock[i * 3 + 2];

    for (var j = 0; j < count; j++) {
      list.push(new QRRSBlock(totalCount, dataCount));
    }
  }

  return list;
};

QRRSBlock.getRsBlockTable = function (typeNumber, errorCorrectLevel) {
  switch (errorCorrectLevel) {
    case ErrorCorrectLevel.L:
      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];

    case ErrorCorrectLevel.M:
      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];

    case ErrorCorrectLevel.Q:
      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];

    case ErrorCorrectLevel.H:
      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];

    default:
      return undefined;
  }
};

var RSBlock = QRRSBlock;

function QRBitBuffer() {
  this.buffer = new Array();
  this.length = 0;
}

QRBitBuffer.prototype = {
  get: function (index) {
    var bufIndex = Math.floor(index / 8);
    return (this.buffer[bufIndex] >>> 7 - index % 8 & 1) == 1;
  },
  put: function (num, length) {
    for (var i = 0; i < length; i++) {
      this.putBit((num >>> length - i - 1 & 1) == 1);
    }
  },
  getLengthInBits: function () {
    return this.length;
  },
  putBit: function (bit) {
    var bufIndex = Math.floor(this.length / 8);

    if (this.buffer.length <= bufIndex) {
      this.buffer.push(0);
    }

    if (bit) {
      this.buffer[bufIndex] |= 0x80 >>> this.length % 8;
    }

    this.length++;
  }
};
var BitBuffer = QRBitBuffer;

var QRMath = {
  glog: function (n) {
    if (n < 1) {
      throw new Error("glog(" + n + ")");
    }

    return QRMath.LOG_TABLE[n];
  },
  gexp: function (n) {
    while (n < 0) {
      n += 255;
    }

    while (n >= 256) {
      n -= 255;
    }

    return QRMath.EXP_TABLE[n];
  },
  EXP_TABLE: new Array(256),
  LOG_TABLE: new Array(256)
};

for (var i = 0; i < 8; i++) {
  QRMath.EXP_TABLE[i] = 1 << i;
}

for (var i = 8; i < 256; i++) {
  QRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4] ^ QRMath.EXP_TABLE[i - 5] ^ QRMath.EXP_TABLE[i - 6] ^ QRMath.EXP_TABLE[i - 8];
}

for (var i = 0; i < 255; i++) {
  QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]] = i;
}

var math = QRMath;

function QRPolynomial(num, shift) {
  if (num.length == undefined) {
    throw new Error(num.length + "/" + shift);
  }

  var offset = 0;

  while (offset < num.length && num[offset] == 0) {
    offset++;
  }

  this.num = new Array(num.length - offset + shift);

  for (var i = 0; i < num.length - offset; i++) {
    this.num[i] = num[i + offset];
  }
}

QRPolynomial.prototype = {
  get: function (index) {
    return this.num[index];
  },
  getLength: function () {
    return this.num.length;
  },
  multiply: function (e) {
    var num = new Array(this.getLength() + e.getLength() - 1);

    for (var i = 0; i < this.getLength(); i++) {
      for (var j = 0; j < e.getLength(); j++) {
        num[i + j] ^= math.gexp(math.glog(this.get(i)) + math.glog(e.get(j)));
      }
    }

    return new QRPolynomial(num, 0);
  },
  mod: function (e) {
    if (this.getLength() - e.getLength() < 0) {
      return this;
    }

    var ratio = math.glog(this.get(0)) - math.glog(e.get(0));
    var num = new Array(this.getLength());

    for (var i = 0; i < this.getLength(); i++) {
      num[i] = this.get(i);
    }

    for (var i = 0; i < e.getLength(); i++) {
      num[i] ^= math.gexp(math.glog(e.get(i)) + ratio);
    } // recursive call


    return new QRPolynomial(num, 0).mod(e);
  }
};
var Polynomial = QRPolynomial;

var QRMaskPattern = {
  PATTERN000: 0,
  PATTERN001: 1,
  PATTERN010: 2,
  PATTERN011: 3,
  PATTERN100: 4,
  PATTERN101: 5,
  PATTERN110: 6,
  PATTERN111: 7
};
var QRUtil = {
  PATTERN_POSITION_TABLE: [[], [6, 18], [6, 22], [6, 26], [6, 30], [6, 34], [6, 22, 38], [6, 24, 42], [6, 26, 46], [6, 28, 50], [6, 30, 54], [6, 32, 58], [6, 34, 62], [6, 26, 46, 66], [6, 26, 48, 70], [6, 26, 50, 74], [6, 30, 54, 78], [6, 30, 56, 82], [6, 30, 58, 86], [6, 34, 62, 90], [6, 28, 50, 72, 94], [6, 26, 50, 74, 98], [6, 30, 54, 78, 102], [6, 28, 54, 80, 106], [6, 32, 58, 84, 110], [6, 30, 58, 86, 114], [6, 34, 62, 90, 118], [6, 26, 50, 74, 98, 122], [6, 30, 54, 78, 102, 126], [6, 26, 52, 78, 104, 130], [6, 30, 56, 82, 108, 134], [6, 34, 60, 86, 112, 138], [6, 30, 58, 86, 114, 142], [6, 34, 62, 90, 118, 146], [6, 30, 54, 78, 102, 126, 150], [6, 24, 50, 76, 102, 128, 154], [6, 28, 54, 80, 106, 132, 158], [6, 32, 58, 84, 110, 136, 162], [6, 26, 54, 82, 110, 138, 166], [6, 30, 58, 86, 114, 142, 170]],
  G15: 1 << 10 | 1 << 8 | 1 << 5 | 1 << 4 | 1 << 2 | 1 << 1 | 1 << 0,
  G18: 1 << 12 | 1 << 11 | 1 << 10 | 1 << 9 | 1 << 8 | 1 << 5 | 1 << 2 | 1 << 0,
  G15_MASK: 1 << 14 | 1 << 12 | 1 << 10 | 1 << 4 | 1 << 1,
  getBCHTypeInfo: function (data) {
    var d = data << 10;

    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {
      d ^= QRUtil.G15 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15);
    }

    return (data << 10 | d) ^ QRUtil.G15_MASK;
  },
  getBCHTypeNumber: function (data) {
    var d = data << 12;

    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {
      d ^= QRUtil.G18 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18);
    }

    return data << 12 | d;
  },
  getBCHDigit: function (data) {
    var digit = 0;

    while (data != 0) {
      digit++;
      data >>>= 1;
    }

    return digit;
  },
  getPatternPosition: function (typeNumber) {
    return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];
  },
  getMask: function (maskPattern, i, j) {
    switch (maskPattern) {
      case QRMaskPattern.PATTERN000:
        return (i + j) % 2 == 0;

      case QRMaskPattern.PATTERN001:
        return i % 2 == 0;

      case QRMaskPattern.PATTERN010:
        return j % 3 == 0;

      case QRMaskPattern.PATTERN011:
        return (i + j) % 3 == 0;

      case QRMaskPattern.PATTERN100:
        return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 == 0;

      case QRMaskPattern.PATTERN101:
        return i * j % 2 + i * j % 3 == 0;

      case QRMaskPattern.PATTERN110:
        return (i * j % 2 + i * j % 3) % 2 == 0;

      case QRMaskPattern.PATTERN111:
        return (i * j % 3 + (i + j) % 2) % 2 == 0;

      default:
        throw new Error("bad maskPattern:" + maskPattern);
    }
  },
  getErrorCorrectPolynomial: function (errorCorrectLength) {
    var a = new Polynomial([1], 0);

    for (var i = 0; i < errorCorrectLength; i++) {
      a = a.multiply(new Polynomial([1, math.gexp(i)], 0));
    }

    return a;
  },
  getLengthInBits: function (mode$1, type) {
    if (1 <= type && type < 10) {
      // 1 - 9
      switch (mode$1) {
        case mode.MODE_NUMBER:
          return 10;

        case mode.MODE_ALPHA_NUM:
          return 9;

        case mode.MODE_8BIT_BYTE:
          return 8;

        case mode.MODE_KANJI:
          return 8;

        default:
          throw new Error("mode:" + mode$1);
      }
    } else if (type < 27) {
      // 10 - 26
      switch (mode$1) {
        case mode.MODE_NUMBER:
          return 12;

        case mode.MODE_ALPHA_NUM:
          return 11;

        case mode.MODE_8BIT_BYTE:
          return 16;

        case mode.MODE_KANJI:
          return 10;

        default:
          throw new Error("mode:" + mode$1);
      }
    } else if (type < 41) {
      // 27 - 40
      switch (mode$1) {
        case mode.MODE_NUMBER:
          return 14;

        case mode.MODE_ALPHA_NUM:
          return 13;

        case mode.MODE_8BIT_BYTE:
          return 16;

        case mode.MODE_KANJI:
          return 12;

        default:
          throw new Error("mode:" + mode$1);
      }
    } else {
      throw new Error("type:" + type);
    }
  },
  getLostPoint: function (qrCode) {
    var moduleCount = qrCode.getModuleCount();
    var lostPoint = 0; // LEVEL1

    for (var row = 0; row < moduleCount; row++) {
      for (var col = 0; col < moduleCount; col++) {
        var sameCount = 0;
        var dark = qrCode.isDark(row, col);

        for (var r = -1; r <= 1; r++) {
          if (row + r < 0 || moduleCount <= row + r) {
            continue;
          }

          for (var c = -1; c <= 1; c++) {
            if (col + c < 0 || moduleCount <= col + c) {
              continue;
            }

            if (r == 0 && c == 0) {
              continue;
            }

            if (dark == qrCode.isDark(row + r, col + c)) {
              sameCount++;
            }
          }
        }

        if (sameCount > 5) {
          lostPoint += 3 + sameCount - 5;
        }
      }
    } // LEVEL2


    for (var row = 0; row < moduleCount - 1; row++) {
      for (var col = 0; col < moduleCount - 1; col++) {
        var count = 0;
        if (qrCode.isDark(row, col)) count++;
        if (qrCode.isDark(row + 1, col)) count++;
        if (qrCode.isDark(row, col + 1)) count++;
        if (qrCode.isDark(row + 1, col + 1)) count++;

        if (count == 0 || count == 4) {
          lostPoint += 3;
        }
      }
    } // LEVEL3


    for (var row = 0; row < moduleCount; row++) {
      for (var col = 0; col < moduleCount - 6; col++) {
        if (qrCode.isDark(row, col) && !qrCode.isDark(row, col + 1) && qrCode.isDark(row, col + 2) && qrCode.isDark(row, col + 3) && qrCode.isDark(row, col + 4) && !qrCode.isDark(row, col + 5) && qrCode.isDark(row, col + 6)) {
          lostPoint += 40;
        }
      }
    }

    for (var col = 0; col < moduleCount; col++) {
      for (var row = 0; row < moduleCount - 6; row++) {
        if (qrCode.isDark(row, col) && !qrCode.isDark(row + 1, col) && qrCode.isDark(row + 2, col) && qrCode.isDark(row + 3, col) && qrCode.isDark(row + 4, col) && !qrCode.isDark(row + 5, col) && qrCode.isDark(row + 6, col)) {
          lostPoint += 40;
        }
      }
    } // LEVEL4


    var darkCount = 0;

    for (var col = 0; col < moduleCount; col++) {
      for (var row = 0; row < moduleCount; row++) {
        if (qrCode.isDark(row, col)) {
          darkCount++;
        }
      }
    }

    var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;
    lostPoint += ratio * 10;
    return lostPoint;
  }
};
var util = QRUtil;

function QRCode(typeNumber, errorCorrectLevel) {
  this.typeNumber = typeNumber;
  this.errorCorrectLevel = errorCorrectLevel;
  this.modules = null;
  this.moduleCount = 0;
  this.dataCache = null;
  this.dataList = [];
} // for client side minification


var proto = QRCode.prototype;

proto.addData = function (data) {
  var newData = new _8BitByte(data);
  this.dataList.push(newData);
  this.dataCache = null;
};

proto.isDark = function (row, col) {
  if (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {
    throw new Error(row + "," + col);
  }

  return this.modules[row][col];
};

proto.getModuleCount = function () {
  return this.moduleCount;
};

proto.make = function () {
  // Calculate automatically typeNumber if provided is < 1
  if (this.typeNumber < 1) {
    var typeNumber = 1;

    for (typeNumber = 1; typeNumber < 40; typeNumber++) {
      var rsBlocks = RSBlock.getRSBlocks(typeNumber, this.errorCorrectLevel);
      var buffer = new BitBuffer();
      var totalDataCount = 0;

      for (var i = 0; i < rsBlocks.length; i++) {
        totalDataCount += rsBlocks[i].dataCount;
      }

      for (var i = 0; i < this.dataList.length; i++) {
        var data = this.dataList[i];
        buffer.put(data.mode, 4);
        buffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber));
        data.write(buffer);
      }

      if (buffer.getLengthInBits() <= totalDataCount * 8) break;
    }

    this.typeNumber = typeNumber;
  }

  this.makeImpl(false, this.getBestMaskPattern());
};

proto.makeImpl = function (test, maskPattern) {
  this.moduleCount = this.typeNumber * 4 + 17;
  this.modules = new Array(this.moduleCount);

  for (var row = 0; row < this.moduleCount; row++) {
    this.modules[row] = new Array(this.moduleCount);

    for (var col = 0; col < this.moduleCount; col++) {
      this.modules[row][col] = null; //(col + row) % 3;
    }
  }

  this.setupPositionProbePattern(0, 0);
  this.setupPositionProbePattern(this.moduleCount - 7, 0);
  this.setupPositionProbePattern(0, this.moduleCount - 7);
  this.setupPositionAdjustPattern();
  this.setupTimingPattern();
  this.setupTypeInfo(test, maskPattern);

  if (this.typeNumber >= 7) {
    this.setupTypeNumber(test);
  }

  if (this.dataCache == null) {
    this.dataCache = QRCode.createData(this.typeNumber, this.errorCorrectLevel, this.dataList);
  }

  this.mapData(this.dataCache, maskPattern);
};

proto.setupPositionProbePattern = function (row, col) {
  for (var r = -1; r <= 7; r++) {
    if (row + r <= -1 || this.moduleCount <= row + r) continue;

    for (var c = -1; c <= 7; c++) {
      if (col + c <= -1 || this.moduleCount <= col + c) continue;

      if (0 <= r && r <= 6 && (c == 0 || c == 6) || 0 <= c && c <= 6 && (r == 0 || r == 6) || 2 <= r && r <= 4 && 2 <= c && c <= 4) {
        this.modules[row + r][col + c] = true;
      } else {
        this.modules[row + r][col + c] = false;
      }
    }
  }
};

proto.getBestMaskPattern = function () {
  var minLostPoint = 0;
  var pattern = 0;

  for (var i = 0; i < 8; i++) {
    this.makeImpl(true, i);
    var lostPoint = util.getLostPoint(this);

    if (i == 0 || minLostPoint > lostPoint) {
      minLostPoint = lostPoint;
      pattern = i;
    }
  }

  return pattern;
};

proto.createMovieClip = function (target_mc, instance_name, depth) {
  var qr_mc = target_mc.createEmptyMovieClip(instance_name, depth);
  var cs = 1;
  this.make();

  for (var row = 0; row < this.modules.length; row++) {
    var y = row * cs;

    for (var col = 0; col < this.modules[row].length; col++) {
      var x = col * cs;
      var dark = this.modules[row][col];

      if (dark) {
        qr_mc.beginFill(0, 100);
        qr_mc.moveTo(x, y);
        qr_mc.lineTo(x + cs, y);
        qr_mc.lineTo(x + cs, y + cs);
        qr_mc.lineTo(x, y + cs);
        qr_mc.endFill();
      }
    }
  }

  return qr_mc;
};

proto.setupTimingPattern = function () {
  for (var r = 8; r < this.moduleCount - 8; r++) {
    if (this.modules[r][6] != null) {
      continue;
    }

    this.modules[r][6] = r % 2 == 0;
  }

  for (var c = 8; c < this.moduleCount - 8; c++) {
    if (this.modules[6][c] != null) {
      continue;
    }

    this.modules[6][c] = c % 2 == 0;
  }
};

proto.setupPositionAdjustPattern = function () {
  var pos = util.getPatternPosition(this.typeNumber);

  for (var i = 0; i < pos.length; i++) {
    for (var j = 0; j < pos.length; j++) {
      var row = pos[i];
      var col = pos[j];

      if (this.modules[row][col] != null) {
        continue;
      }

      for (var r = -2; r <= 2; r++) {
        for (var c = -2; c <= 2; c++) {
          if (r == -2 || r == 2 || c == -2 || c == 2 || r == 0 && c == 0) {
            this.modules[row + r][col + c] = true;
          } else {
            this.modules[row + r][col + c] = false;
          }
        }
      }
    }
  }
};

proto.setupTypeNumber = function (test) {
  var bits = util.getBCHTypeNumber(this.typeNumber);

  for (var i = 0; i < 18; i++) {
    var mod = !test && (bits >> i & 1) == 1;
    this.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod;
  }

  for (var i = 0; i < 18; i++) {
    var mod = !test && (bits >> i & 1) == 1;
    this.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod;
  }
};

proto.setupTypeInfo = function (test, maskPattern) {
  var data = this.errorCorrectLevel << 3 | maskPattern;
  var bits = util.getBCHTypeInfo(data); // vertical		

  for (var i = 0; i < 15; i++) {
    var mod = !test && (bits >> i & 1) == 1;

    if (i < 6) {
      this.modules[i][8] = mod;
    } else if (i < 8) {
      this.modules[i + 1][8] = mod;
    } else {
      this.modules[this.moduleCount - 15 + i][8] = mod;
    }
  } // horizontal


  for (var i = 0; i < 15; i++) {
    var mod = !test && (bits >> i & 1) == 1;

    if (i < 8) {
      this.modules[8][this.moduleCount - i - 1] = mod;
    } else if (i < 9) {
      this.modules[8][15 - i - 1 + 1] = mod;
    } else {
      this.modules[8][15 - i - 1] = mod;
    }
  } // fixed module


  this.modules[this.moduleCount - 8][8] = !test;
};

proto.mapData = function (data, maskPattern) {
  var inc = -1;
  var row = this.moduleCount - 1;
  var bitIndex = 7;
  var byteIndex = 0;

  for (var col = this.moduleCount - 1; col > 0; col -= 2) {
    if (col == 6) col--;

    while (true) {
      for (var c = 0; c < 2; c++) {
        if (this.modules[row][col - c] == null) {
          var dark = false;

          if (byteIndex < data.length) {
            dark = (data[byteIndex] >>> bitIndex & 1) == 1;
          }

          var mask = util.getMask(maskPattern, row, col - c);

          if (mask) {
            dark = !dark;
          }

          this.modules[row][col - c] = dark;
          bitIndex--;

          if (bitIndex == -1) {
            byteIndex++;
            bitIndex = 7;
          }
        }
      }

      row += inc;

      if (row < 0 || this.moduleCount <= row) {
        row -= inc;
        inc = -inc;
        break;
      }
    }
  }
};

QRCode.PAD0 = 0xEC;
QRCode.PAD1 = 0x11;

QRCode.createData = function (typeNumber, errorCorrectLevel, dataList) {
  var rsBlocks = RSBlock.getRSBlocks(typeNumber, errorCorrectLevel);
  var buffer = new BitBuffer();

  for (var i = 0; i < dataList.length; i++) {
    var data = dataList[i];
    buffer.put(data.mode, 4);
    buffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber));
    data.write(buffer);
  } // calc num max data.


  var totalDataCount = 0;

  for (var i = 0; i < rsBlocks.length; i++) {
    totalDataCount += rsBlocks[i].dataCount;
  }

  if (buffer.getLengthInBits() > totalDataCount * 8) {
    throw new Error("code length overflow. (" + buffer.getLengthInBits() + ">" + totalDataCount * 8 + ")");
  } // end code


  if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {
    buffer.put(0, 4);
  } // padding


  while (buffer.getLengthInBits() % 8 != 0) {
    buffer.putBit(false);
  } // padding


  while (true) {
    if (buffer.getLengthInBits() >= totalDataCount * 8) {
      break;
    }

    buffer.put(QRCode.PAD0, 8);

    if (buffer.getLengthInBits() >= totalDataCount * 8) {
      break;
    }

    buffer.put(QRCode.PAD1, 8);
  }

  return QRCode.createBytes(buffer, rsBlocks);
};

QRCode.createBytes = function (buffer, rsBlocks) {
  var offset = 0;
  var maxDcCount = 0;
  var maxEcCount = 0;
  var dcdata = new Array(rsBlocks.length);
  var ecdata = new Array(rsBlocks.length);

  for (var r = 0; r < rsBlocks.length; r++) {
    var dcCount = rsBlocks[r].dataCount;
    var ecCount = rsBlocks[r].totalCount - dcCount;
    maxDcCount = Math.max(maxDcCount, dcCount);
    maxEcCount = Math.max(maxEcCount, ecCount);
    dcdata[r] = new Array(dcCount);

    for (var i = 0; i < dcdata[r].length; i++) {
      dcdata[r][i] = 0xff & buffer.buffer[i + offset];
    }

    offset += dcCount;
    var rsPoly = util.getErrorCorrectPolynomial(ecCount);
    var rawPoly = new Polynomial(dcdata[r], rsPoly.getLength() - 1);
    var modPoly = rawPoly.mod(rsPoly);
    ecdata[r] = new Array(rsPoly.getLength() - 1);

    for (var i = 0; i < ecdata[r].length; i++) {
      var modIndex = i + modPoly.getLength() - ecdata[r].length;
      ecdata[r][i] = modIndex >= 0 ? modPoly.get(modIndex) : 0;
    }
  }

  var totalCodeCount = 0;

  for (var i = 0; i < rsBlocks.length; i++) {
    totalCodeCount += rsBlocks[i].totalCount;
  }

  var data = new Array(totalCodeCount);
  var index = 0;

  for (var i = 0; i < maxDcCount; i++) {
    for (var r = 0; r < rsBlocks.length; r++) {
      if (i < dcdata[r].length) {
        data[index++] = dcdata[r][i];
      }
    }
  }

  for (var i = 0; i < maxEcCount; i++) {
    for (var r = 0; r < rsBlocks.length; r++) {
      if (i < ecdata[r].length) {
        data[index++] = ecdata[r][i];
      }
    }
  }

  return data;
};

var QRCode_1 = QRCode;

/**
 * Encode UTF16 to UTF8.
 * See: http://jonisalonen.com/2012/from-utf-16-to-utf-8-in-javascript/
 * @param str {string}
 * @returns {string}
 */

function toUTF8String(str) {
  var utf8Str = '';

  for (var i = 0; i < str.length; i++) {
    var charCode = str.charCodeAt(i);

    if (charCode < 0x0080) {
      utf8Str += String.fromCharCode(charCode);
    } else if (charCode < 0x0800) {
      utf8Str += String.fromCharCode(0xc0 | charCode >> 6);
      utf8Str += String.fromCharCode(0x80 | charCode & 0x3f);
    } else if (charCode < 0xd800 || charCode >= 0xe000) {
      utf8Str += String.fromCharCode(0xe0 | charCode >> 12);
      utf8Str += String.fromCharCode(0x80 | charCode >> 6 & 0x3f);
      utf8Str += String.fromCharCode(0x80 | charCode & 0x3f);
    } else {
      // surrogate pair
      i++; // UTF-16 encodes 0x10000-0x10FFFF by
      // subtracting 0x10000 and splitting the
      // 20 bits of 0x0-0xFFFFF into two halves

      charCode = 0x10000 + ((charCode & 0x3ff) << 10 | str.charCodeAt(i) & 0x3ff);
      utf8Str += String.fromCharCode(0xf0 | charCode >> 18);
      utf8Str += String.fromCharCode(0x80 | charCode >> 12 & 0x3f);
      utf8Str += String.fromCharCode(0x80 | charCode >> 6 & 0x3f);
      utf8Str += String.fromCharCode(0x80 | charCode & 0x3f);
    }
  }

  return utf8Str;
}

function generatePath(modules) {
  var margin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  var ops = [];
  modules.forEach(function (row, y) {
    var start = null;
    row.forEach(function (cell, x) {
      if (!cell && start !== null) {
        // M0 0h7v1H0z injects the space with the move and drops the comma,
        // saving a char per operation
        ops.push("M".concat(start + margin, " ").concat(y + margin, "h").concat(x - start, "v1H").concat(start + margin, "z"));
        start = null;
        return;
      } // end of row, clean up or skip


      if (x === row.length - 1) {
        if (!cell) {
          // We would have closed the op above already so this can only mean
          // 2+ light modules in a row.
          return;
        }

        if (start === null) {
          // Just a single dark module.
          ops.push("M".concat(x + margin, ",").concat(y + margin, " h1v1H").concat(x + margin, "z"));
        } else {
          // Otherwise finish the current line.
          ops.push("M".concat(start + margin, ",").concat(y + margin, " h").concat(x + 1 - start, "v1H").concat(start + margin, "z"));
        }

        return;
      }

      if (cell && start === null) {
        start = x;
      }
    });
  });
  return ops.join('');
} // @vue/component


var QrcodeVue = {
  props: {
    value: {
      type: String,
      required: true,
      default: ''
    },
    className: {
      type: String,
      default: ''
    },
    size: {
      type: [Number, String],
      default: 100,
      validator: function validator(s) {
        return isNaN(Number(s)) !== true;
      }
    },
    level: {
      type: String,
      default: 'L',
      validator: function validator(l) {
        return ['L', 'Q', 'M', 'H'].indexOf(l) > -1;
      }
    },
    background: {
      type: String,
      default: '#fff'
    },
    foreground: {
      type: String,
      default: '#000'
    },
    renderAs: {
      type: String,
      required: false,
      default: 'canvas',
      validator: function validator(as) {
        return ['canvas', 'svg'].indexOf(as) > -1;
      }
    }
  },
  data: function data() {
    return {
      numCells: 0,
      fgPath: ''
    };
  },
  updated: function updated() {
    this.render();
  },
  mounted: function mounted() {
    this.render();
  },
  methods: {
    render: function render() {
      var value = this.value,
          size = this.size,
          level = this.level,
          background = this.background,
          foreground = this.foreground,
          renderAs = this.renderAs;

      var _size = size >>> 0; // size to number
      // We'll use type===-1 to force QRCode to automatically pick the best type


      var qrCode = new QRCode_1(-1, ErrorCorrectLevel[level]);
      qrCode.addData(toUTF8String(value));
      qrCode.make();
      var cells = qrCode.modules;
      var tileW = _size / cells.length;
      var tileH = _size / cells.length;
      var scale = window.devicePixelRatio || 1;

      if (renderAs === 'svg') {
        this.numCells = cells.length; // Drawing strategy: instead of a rect per module, we're going to create a
        // single path for the dark modules and layer that on top of a light rect,
        // for a total of 2 DOM nodes. We pay a bit more in string concat but that's
        // way faster than DOM ops.
        // For level 1, 441 nodes -> 2
        // For level 40, 31329 -> 2

        this.fgPath = generatePath(cells);
      } else {
        var canvas = this.$refs['qrcode-vue'];
        var ctx = canvas.getContext('2d');
        canvas.height = canvas.width = _size * scale;
        ctx.scale(scale, scale);
        cells.forEach(function (row, rdx) {
          row.forEach(function (cell, cdx) {
            ctx.fillStyle = cell ? foreground : background;
            var w = Math.ceil((cdx + 1) * tileW) - Math.floor(cdx * tileW);
            var h = Math.ceil((rdx + 1) * tileH) - Math.floor(rdx * tileH);
            ctx.fillRect(Math.round(cdx * tileW), Math.round(rdx * tileH), w, h);
          });
        });
      }
    }
  },
  render: function render(createElement) {
    var className = this.className,
        value = this.value,
        level = this.level,
        background = this.background,
        foreground = this.foreground,
        size = this.size,
        renderAs = this.renderAs,
        numCells = this.numCells,
        fgPath = this.fgPath;
    return createElement('div', {
      class: this.class || className,
      attrs: {
        value: value,
        level: level,
        background: background,
        foreground: foreground
      }
    }, [renderAs === 'svg' ? createElement('svg', {
      attrs: {
        height: size,
        width: size,
        shapeRendering: 'crispEdges',
        viewBox: "0 0 ".concat(numCells, " ").concat(numCells)
      },
      style: {
        width: size + 'px',
        height: size + 'px'
      }
    }, [createElement('path', {
      attrs: {
        fill: background,
        d: "M0,0 h".concat(numCells, "v").concat(numCells, "H0z")
      }
    }), createElement('path', {
      attrs: {
        fill: foreground,
        d: fgPath
      }
    })]) : createElement('canvas', {
      attrs: {
        height: size,
        width: size
      },
      style: {
        width: size + 'px',
        height: size + 'px'
      },
      ref: 'qrcode-vue'
    }, [])]);
  }
};

/* harmony default export */ __webpack_exports__["a"] = (QrcodeVue);


/***/ }),

/***/ 1125:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(2012)
  __webpack_require__(2011)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1428),
  /* template */
  __webpack_require__(2360),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-c76e1f6c",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1131:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1873)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1427),
  /* template */
  __webpack_require__(2219),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-44d6e369",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1137:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
  components: { MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default.a },
  props: {
    lessonDate: {
      type: Date,
      required: true
    },

    lessonEndDate: {
      type: Date,
      required: false
    }
  },
  data() {
    return {
      g: $,
      memberLessonList: null,
      memberLessonCount: null,
      cardCostAmountSum: null,
      viewMemberDlg: null,
      viewMemberId: null,
      exportFileUrl: null,
      exportDlg: null,
      coachList: null,
      queryCoachId: null
    };
  },

  created() {
    if (this.lessonDate) {
      this.queryMemberLessonList();
    }
  },

  methods: {
    queryMemberLessonList(page = null, isExport = null) {
      if (!page && !isExport) {
        this.memberLessonCount = null;
      }
      let args = {
        beginDate: this.lessonDate,
        needCardCostAmount: true,
        needLessonCoaches: true,
        page: page,
        isExport: isExport
      };
      if (this.lessonEndDate) {
        args.endDate = this.lessonEndDate;
      }
      if (isExport) {
        this.exportDlg = true;
      }
      if (this.coachList && this.queryCoachId) {
        args.coachId = this.queryCoachId;
      }
      $.Req.service($.SvName.MEMBER_GROUP_LESSON_QUERY, args, ret => {
        if (isExport) {
          this.exportFileUrl = ret.fileurl;
        } else {
          this.memberLessonList = ret.memberLessonList;
          if (!page) {
            this.memberLessonCount = ret.count;
            this.cardCostAmountSum = ret.cardCostAmountSum;
            if (!this.coachList) this.coachList = ret.coachList;
          }
          window.scrollTo(0, 0);
        }
      }, true);
    },

    viewMember(memberId) {
      this.viewMemberId = memberId;
      this.viewMemberDlg = true;
    },

    exportMemberLessonList() {
      this.queryMemberLessonList(null, true);
    }
  }
});

/***/ }),

/***/ 1139:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_select_vue__ = __webpack_require__(1094);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_select_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_select_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default.a, MemberSelect: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_select_vue___default.a },
	props: {
		isInTenant: {
			type: Boolean,
			default: false,
			required: false
		}
	},
	data() {
		return {
			g: $,
			exportDlg: false,
			exportFileUrl: null,
			query: {
				cardIds: [],
				encSid: null,
				salesId: null,
				paymentType: null,
				dates: [],
				count: null,
				paymentChannel: null,
				isOnlineSale: null,
				custSource: null,
				page: null
			},
			staffList: [],
			cardList: [],
			viewMemberDlg: false,
			viewMemberId: null,
			sumPaymentAmount: null,
			sumDeposit: null,
			memberCardPaymentList: null,
			dateOptions1: {
				disabledDate(date) {
					return date && date.valueOf() > Date.now();
				},
				shortcuts: [{
					text: '今天',
					value() {
						const end = new Date();
						const start = new Date();
						return [start, end];
					}
				}, {
					text: '昨天',
					value() {
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24);
						const end = new Date(start.getTime());
						return [start, end];
					}
				}]
			},
			custSourceList: null,
			memberSelectDlg: null,
			member: {
				memberId: null,
				name: null
			}
		};
	},

	created() {
		this.initDateShortCuts();
		this.reset();
		this.queryCardPayment();
		this.queryCardList();
		this.queryStaffList();
		this.queryCustSourceList();
	},

	methods: {
		initDateShortCuts() {
			// 获取最近n个月的月份
			let today = new Date();
			let date = new Date();
			let year, month;
			date.setDate(1);
			for (let i = 0; i < 6; i++) {
				year = date.getFullYear();
				month = date.getMonth();
				let beginDate = new Date(date.getFullYear(), month, 1);
				let endDate;
				if (i === 0) {
					endDate = new Date(today);
				} else {
					endDate = new Date(date.getFullYear(), month + 1, 0);
				}

				this.dateOptions1.shortcuts.push({
					text: '{0}/{1}月'.format(date.getFullYear(), month + 1),
					value() {
						return [beginDate, endDate];
					}
				});

				date.setMonth(month - 1);
			}
		},

		queryCardPayment(page = null, isExport = null) {
			if (!page) this.query.count = null;
			let args = {
				beginDate: this.query.dates[0],
				endDate: this.query.dates[1],
				salesId: this.query.salesId,
				paymentType: this.query.paymentType,
				paymentChannel: this.query.paymentChannel,
				ignoreSum: false,
				cardIds: this.query.cardIds,
				queryInTenant: this.isInTenant,
				encSid: this.query.encSid,
				isOnlineSale: this.query.isOnlineSale,
				custSource: this.query.custSource,
				page: page
			};
			if (this.member.name && this.member.memberId) args.memberId = this.member.memberId;
			if (isExport) {
				this.exportDlg = true;
				args.isExport = isExport;
			}

			if (!args.beginDate || !args.endDate) {
				$.Msg.error('请输入创建日期');
				return;
			}
			if ($.Util.calcDateDiffDays(args.endDate, args.beginDate) > 365) {
				$.Dlg.warning('查询日期范围不能超过365天');
				return;
			}
			if (page == null) {
				args.needStatBypaymentType = true;
			}
			this.query.page = page;

			$.Req.service($.SvName.MEMBER_CARD_PAYMENT_QUERY, args, ret => {
				if (isExport) {
					this.exportFileUrl = ret.fileurl;
				} else {
					this.memberCardPaymentList = ret.memberCardPaymentList;
					if (page === null) {
						this.sumPaymentAmount = ret.sumPaymentAmount;
						this.sumDeposit = ret.sumDeposit;
						this.query.count = ret.count;
					}
					window.scrollTo(0, 0);
				}
			}, true);
		},

		queryCardList() {
			$.Req.service($.SvName.CARD_QUERY, { status: 0 }, ret => {
				this.cardList = ret.cardList;
			});
		},

		printTbl() {
			let tit = "会员卡销售明细 ({0} ~ {1})".format($.Util.formatDate(this.query.dates[0]), $.Util.formatDate(this.query.dates[1]));
			$.Util.printElem('statCardSales', tit);
		},

		queryStaffList() {
			$.Req.service($.SvName.STAFF_QUERY, { status: 0, needBaseInfo: true }, ret => {
				this.staffList = ret.staffList;
			});
		},

		viewMemberBase(memberId) {
			this.viewMemberId = memberId;
			this.viewMemberDlg = true;
		},

		reset() {
			this.query.salesId = null;
			this.query.paymentType = null;
			this.query.cardIds = [];
			this.query.paymentChannel = null;
			this.query.dates = [new Date(new Date().getTime() - (new Date().getDate() - 1) * 1000 * 3600 * 24), new Date()];
			this.query.custSource = null;
			this.clearMember();
		},

		changeShop(val) {
			if (val === undefined) return;

			this.query.encSid = val;
			this.queryCardPayment();
		},

		exportCardBills() {
			this.queryCardPayment(this.query.page, true);
		},

		queryCustSourceList() {
			$.Req.service($.SvName.CUST_SOURCE_QUERY, { isBaseInfo: true }, ret => {
				this.custSourceList = ret.custSourceList;
			});
		},

		afterSelectMember(member) {
			this.member.memberId = member.memberId;
			this.member.name = member.name;
			this.memberSelectDlg = false;
		},

		clearMember() {
			this.member.memberId = null;
			this.member.name = null;
		}
	}
});

/***/ }),

/***/ 1140:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
  components: { MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default.a },
  props: {
    isInTenant: {
      type: Boolean,
      required: false
    }
  },
  data() {
    return {
      g: $,
      detailTblHeight: window.innerHeight - 350,
      queryDate: null,
      queryDates: [null, null],
      queryShopIdx: -1,
      dateOptions: {
        disabledDate(date) {
          return date && date.valueOf() > Date.now();
        }
      },
      totalAmount: 0,
      sumAmounts: {},
      loadFlag: {
        sumStat: false,
        memberCardStat: false,
        courseStat: false,
        chargeItemStat: false
      },
      memberCardStatByCardList: null,
      memberCardStatBySalesList: null,
      memberCardCntTotal: null,
      memberCardAmtTotal: null,
      gcCardStatBySalesList: null,
      gcCardStatByCardList: null,
      gcCardCntTotal: null,
      gcCardAmtTotal: null,
      pcCardStatBySalesList: null,
      pcCardStatByCardList: null,
      pcCardAmtTotal: null,
      pcCardCntTotal: null,
      chargeItemStatList: [],
      chargeItemCntTotal: null,
      chargeItemAmtTotal: null,
      cardChgDlg: {
        title: "",
        show: false,
        data: null,
        cardClass: null
      },
      totalCount: null,
      queryPage: null,
      queryDateType: 1, // 1-按日，2-按日期范围
      dateOptions1: {
        disabledDate(date) {
          return date && date.valueOf() > Date.now();
        },
        shortcuts: [{
          text: "最近一周",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);
            return [start, end];
          }
        }]
      },
      chargeListDlg: null,
      chargeList: null,
      chargeTotalCount: null,
      viewMemberDlg: null,
      viewMemberId: null,
      exportFileUrl: null,
      exportDlg: null,
      payChnlTypes: [1, 2, 3, 4, 5],
      payChnlCheck: [false, true, true, true, true, true],
      allShopStatList: null,
      allShopStatSum: null
    };
  },

  created() {
    this.queryDate = new Date();
    this.initDateShortCuts();
    this.loadData();
  },

  methods: {
    sumTotalAmount() {
      this.totalAmount = 0;
      for (let chnl in this.sumAmounts) {
        if (this.payChnlCheck[chnl]) this.totalAmount += this.sumAmounts[chnl];
      }
    },

    loadData() {
      if (this.isInTenant) {
        this.statAllShopRevenue();
      }
      this.statChargePaymentChnl();
      this.statMemberCard();
      this.statCourseCard();
      this.statChargeItem();
    },

    initDateShortCuts() {
      // 获取最近n个月的月份
      let today = new Date();
      let date = new Date();
      let year, month;
      date.setDate(1);
      for (let i = 0; i < 6; i++) {
        year = date.getFullYear();
        month = date.getMonth();
        let beginDate = new Date(date.getFullYear(), month, 1);
        let endDate;
        if (i === 0) {
          endDate = new Date(today);
        } else {
          endDate = new Date(date.getFullYear(), month + 1, 0);
        }

        this.dateOptions1.shortcuts.push({
          text: "{0}/{1}月".format(date.getFullYear(), month + 1),
          value() {
            return [beginDate, endDate];
          }
        });

        date.setMonth(month - 1);
      }
    },

    reloadData(val) {
      this.queryShopIdx = val;
      this.loadData();
    },

    changeQueryDate(date) {
      this.queryDate = Date.new(date);
      this.loadData();
    },

    queryByDayNav(alt) {
      if (alt > 0 && this.queryDate.compareDatePart(new Date()) >= 0) {
        $.Msg.warning("嘿，明天的营业数据，明天看吧");
        return;
      }
      this.queryDate = new Date(this.queryDate.getTime() + alt * 3600 * 24 * 1000);
      this.loadData();
    },

    setTenantShopArg(args) {
      if (this.isInTenant && $.data.user.isTenantOwner) {
        args.queryInTenant = true;
        if (this.queryShopIdx >= 0) {
          args.encSid = $.data.shopList[this.queryShopIdx].encSid;
        }
      }
    },

    statChargePaymentChnl() {
      this.loadFlag.sumStat = true;
      let args = {};
      if (this.queryDateType === 1) {
        if (!this.queryDate) {
          $.Msg.error("请选择统计日期");
          return;
        }
        args.beginDate = this.queryDate;
        args.endDate = this.queryDate;
      } else if (this.queryDateType === 2) {
        if (!this.checkQueryDates()) return;
        args.beginDate = this.queryDates[0];
        args.endDate = this.queryDates[1];
      }
      this.setTenantShopArg(args);
      this.sumAmounts = {};
      $.Req.service($.SvName.CHARGE_PAYMENT_CHNL_STAT, args, ret => {
        for (let s of ret.chargePaymentChnlStatList) {
          this.sumAmounts[s.paymentChannel] = s.amount;
        }
        this.loadFlag.sumStat = false;
        this.sumTotalAmount();
      });
    },

    statMemberCard() {
      let args = {};
      if (this.queryDateType === 1) {
        if (!this.queryDate) {
          $.Msg.error("请选择统计日期");
          return;
        }
        args.beginDate = this.queryDate;
        args.endDate = this.queryDate;
      } else if (this.queryDateType === 2) {
        if (!this.checkQueryDates()) return;
        args.beginDate = this.queryDates[0];
        args.endDate = this.queryDates[1];
      }

      this.setTenantShopArg(args);
      this.loadFlag.memberCardStat = true;
      $.Req.service($.SvName.MEMBER_CARD_STAT, args, ret => {
        this.memberCardStatByCardList = ret.cardStatList;
        this.memberCardStatBySalesList = ret.salesStatList;
        this.memberCardCntTotal = ret.totalCount;
        this.memberCardAmtTotal = ret.totalAmount;
        this.loadFlag.memberCardStat = false;
      }, true);
    },

    statCourseCard() {
      let args = {};
      if (this.queryDateType === 1) {
        if (!this.queryDate) {
          $.Msg.error("请选择统计日期");
          return;
        }
        args.beginDate = this.queryDate;
        args.endDate = this.queryDate;
      } else if (this.queryDateType === 2) {
        if (!this.checkQueryDates()) return;
        args.beginDate = this.queryDates[0];
        args.endDate = this.queryDates[1];
      }

      this.setTenantShopArg(args);
      this.loadFlag.courseStat = true;
      $.Req.service($.SvName.COURSE_CARD_STAT, args, ret => {
        this.gcCardStatBySalesList = ret.groupCourseCardStatList;
        this.gcCardStatByCardList = ret.statByGcCardList;
        this.gcCardCntTotal = ret.gcCardTotalCount;
        this.gcCardAmtTotal = ret.gcCardTotalAmount;

        this.pcCardStatBySalesList = ret.privateCourseCardStatList;
        this.pcCardStatByCardList = ret.statByPcCardList;
        this.pcCardCntTotal = ret.pcCardTotalCount;
        this.pcCardAmtTotal = ret.pcCardTotalAmount;

        this.loadFlag.courseStat = false;
      });
    },

    statChargeItem() {
      this.loadFlag.chargeItemStat = true;
      let args = {};
      if (this.queryDateType === 1) {
        if (!this.queryDate) {
          $.Msg.error("请选择统计日期");
          return;
        }
        args.beginDate = this.queryDate;
        args.endDate = this.queryDate;
      } else if (this.queryDateType === 2) {
        if (!this.checkQueryDates()) return;
        args.beginDate = this.queryDates[0];
        args.endDate = this.queryDates[1];
      }
      this.setTenantShopArg(args);
      $.Req.service($.SvName.CHARGE_ITEM_STAT, args, ret => {
        this.chargeItemStatList = ret.chargeItemStatList;
        this.chargeItemCntTotal = ret.totalQuantity;
        this.chargeItemAmtTotal = ret.totalAmount;
        this.loadFlag.chargeItemStat = false;
      });
    },

    changePageNo(page) {
      this.queryPage = page;
      this.viewCardPaymentDetail();
    },

    viewCardPaymentDetail(cardClass) {
      if (!$.Util.isEmpty(cardClass)) {
        this.queryPage = null;
        this.cardChgDlg.cardClass = cardClass;
      }

      let args = {
        cardClass: this.cardChgDlg.cardClass,
        ignoreSum: true,
        page: this.queryPage
      };
      this.setTenantShopArg(args);
      if (this.queryDateType === 1) {
        if (!this.queryDate) {
          $.Msg.error("请选择统计日期");
          return;
        }
        args.beginDate = this.queryDate;
        args.endDate = this.queryDate;
      } else if (this.queryDateType === 2) {
        if (!this.checkQueryDates()) return;
        args.beginDate = this.queryDates[0];
        args.endDate = this.queryDates[1];
      }
      if (cardClass === 0) this.cardChgDlg.title = "会籍卡销售明细";else if (cardClass === 1) this.cardChgDlg.title = "团课卡销售明细";else if (cardClass === 2) this.cardChgDlg.title = "私教卡销售明细";
      $.Req.service($.SvName.MEMBER_CARD_PAYMENT_QUERY, args, ret => {
        this.cardChgDlg.data = ret.memberCardPaymentList;
        if (ret.count) this.totalCount = ret.count;
        this.cardChgDlg.show = true;
      });
    },

    changeQueryDateType(val) {
      this.queryDateType = val;
    },

    changeQueryDates() {
      if (this.queryDateType === 1) {
        if (!this.queryDate) {
          $.Msg.error("请选择统计日期");
          return;
        }
      } else if (this.queryDateType === 2) {
        if (!this.checkQueryDates()) return;
      }

      this.loadData();
    },

    checkQueryDates() {
      if (!this.queryDates || !this.queryDates[0] || !this.queryDates[1]) {
        $.Msg.warning("请设置日期范围");
        return false;
      }
      if ($.Util.calcDateDiffDays(this.queryDates[1], this.queryDates[0]) > 180) {
        $.Msg.warning("日期范围不能超过180天");
        return false;
      }
      if (this.queryDates[0] > this.queryDates[1]) {
        $.Msg.warning("开始日期须小于结束日期");
        return false;
      }

      return true;
    },

    viewChargeDetail() {
      this.queryChargeList(null);
      this.chargeListDlg = true;
    },

    queryChargeList(page = null) {
      let args = {
        arAp: 0,
        chargeFromList: [1, 3, 4, 5, 7, 8, 9, 10, 11],
        page: page
      };
      if (this.queryDateType === 1) {
        args.beginDate = this.queryDate;
        args.endDate = this.queryDate;
      } else if (this.queryDateType === 2) {
        args.beginDate = this.queryDates[0];
        args.endDate = this.queryDates[1];
      }
      this.setTenantShopArg(args);
      $.Req.service($.SvName.CHARGE_QUERY, args, ret => {
        this.chargeList = ret.chargeList;
        if (!page) {
          this.chargeTotalCount = ret.count;
        }
      }, true);
    },

    viewMember(memberId) {
      this.viewMemberId = memberId;
      this.viewMemberDlg = true;
    },

    exportReport() {
      let args = {};
      if (this.queryDateType === 1) {
        if (!this.queryDate) {
          $.Msg.error("请选择统计日期");
          return;
        }
        args.beginDate = this.queryDate;
        args.endDate = this.queryDate;
      } else if (this.queryDateType === 2) {
        if (!this.checkQueryDates()) return;
        args.beginDate = this.queryDates[0];
        args.endDate = this.queryDates[1];
      }
      this.setTenantShopArg(args);
      $.Req.service($.SvName.REVENUE_REPORT_EXPORT, args, ret => {
        this.exportFileUrl = ret.fileurl;
        this.exportDlg = true;
      }, true);
    },

    statAllShopRevenue() {
      let args = {};
      if (this.queryDateType === 1) {
        args.beginDate = this.queryDate;
        args.endDate = this.queryDate;
      } else if (this.queryDateType === 2) {
        args.beginDate = this.queryDates[0];
        args.endDate = this.queryDates[1];
        if (!this.checkQueryDates()) return;
      }
      $.Req.service($.SvName.SHOP_REVENUE_STAT, args, ret => {
        this.allShopStatList = ret.statList;
        this.allShopStatSum = ret.statSum;
      }, false);
    }
  }
});

/***/ }),

/***/ 1142:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".card-class[data-v-0cb120e6]{background:#eaf7fa}.payment-type[data-v-0cb120e6]{background:#e8f7e8}.charge-stat .sum[data-v-0cb120e6]{color:#ff4500}.charge-stat .card-payment[data-v-0cb120e6]{color:#0f64a0}.-style- .interval[data-v-0cb120e6]{height:15px;background:#f7f8f9;margin:10px 0}.-style- .loading[data-v-0cb120e6]{display:inline-block;position:relative;left:10px}.-style- .date-tit[data-v-0cb120e6]{text-align:center;vertical-align:middle}.-style- .date-tit .txt[data-v-0cb120e6]{font-size:14px;color:#666;font-weight:700;padding:0 15px;margin:0 5px}.-style- .date-tit a[data-v-0cb120e6]{position:relative;top:3px;display:inline-block;padding:2px 0;width:120px;text-align:center}.-style- .date-tit a[data-v-0cb120e6]:hover{background:#e0e0e0;border-radius:14px}.-style- .date-tit a i[data-v-0cb120e6]{font-size:16px;display:inline-block;padding:6px 0;width:120px;border-radius:15px}.-style- .sum-num[data-v-0cb120e6]{color:#ff4500;font-size:16px}.-style- .sum-tbl table[data-v-0cb120e6]{width:100%;text-align:center}.-style- .sum-tbl th[data-v-0cb120e6]{background:#f7f8f9;padding:9px 0;color:#999;width:16.6%}.-style- .sum-tbl td[data-v-0cb120e6]{padding:9px 0 0;font-size:14px}.-style- .detail li[data-v-0cb120e6]{width:25%;display:inline-block;padding:0 14px 0 0;float:left;margin-bottom:10px}.-style- .detail li[data-v-0cb120e6]:last-child{padding:0}.-style- .detail .-box[data-v-0cb120e6]{border:1px solid #e3e3e3;box-shadow:2px 2px 2px #eee;background:#fff;border-radius:2px;min-height:350px;overflow-y:auto}.-style- .detail .-head[data-v-0cb120e6]{height:35px;line-height:35px;background:#f7f8f9;border-bottom:1px solid #e2e2e2;color:#666}.-style- .detail .-head table[data-v-0cb120e6]{width:100%}.-style- .detail .-head td[data-v-0cb120e6],.-style- .detail .-head th[data-v-0cb120e6]{padding:2px 0 0;vertical-align:middle}.-style- .detail .-head th[data-v-0cb120e6]{text-align:center;color:#888}.-style- .detail .-head .opt[data-v-0cb120e6]{text-align:right;padding-right:12px}.-style- .detail .-head .opt a[data-v-0cb120e6]{font-size:12px}.-style- .detail .-head .opt a i[data-v-0cb120e6]{font-size:14px;padding-right:3px}.-style- .detail .-cont[data-v-0cb120e6]{padding:0 10px}.-style- .detail .-cont table[data-v-0cb120e6]{width:100%}.-style- .detail .-cont th[data-v-0cb120e6]{padding:10px 0;font-weight:400}.-style- .detail .-cont td[data-v-0cb120e6]{padding:10px 0}.-style- .detail .-cont tr:last-child td[data-v-0cb120e6],.-style- .detail .-cont tr:last-child th[data-v-0cb120e6]{border:0}.-style- .detail .sum-column th[data-v-0cb120e6]{color:#179b16}.-style- .detail .sum-column td[data-v-0cb120e6]{color:#179b16;font-weight:700}.-style- .no-record[data-v-0cb120e6]{font-style:italic;border-top:1px solid #eee;padding-top:10px;text-align:center;color:#bbb}.-style- .detail-link[data-v-0cb120e6]{position:absolute;margin-top:-27px;text-align:center}.-style- .detail-link i[data-v-0cb120e6]{font-size:16px;vertical-align:middle;padding-right:3px}.-style- .dateinput[data-v-0cb120e6]{width:120px}", ""]);

// exports


/***/ }),

/***/ 1144:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".sum[data-v-171b6b16]{margin-bottom:15px}", ""]);

// exports


/***/ }),

/***/ 1145:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".tbl-header .spt[data-v-326baca8]{padding:0 15px;color:#ccc}.sum-tit[data-v-326baca8]{font-size:13px;font-weight:700;margin-right:5px;color:#666}.query-cond-inline[data-v-326baca8]{margin:3px 0 10px}.submit[data-v-326baca8]{text-align:left;padding:15px 0 5px;line-height:0;border-top:1px dotted #ddd;margin:15px 0}.submit .primary-btn[data-v-326baca8]{width:200px;margin-left:5px}.submit button[data-v-326baca8]{margin-right:5px}.input-box[data-v-326baca8]{width:150px}.input-box .r:hover i[data-v-326baca8]{color:red;cursor:pointer}", ""]);

// exports


/***/ }),

/***/ 1152:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1142);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("b141cfca", content, true, {});

/***/ }),

/***/ 1154:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1144);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("48092524", content, true, {});

/***/ }),

/***/ 1155:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1145);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("596c7c3e", content, true, {});

/***/ }),

/***/ 1166:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1154)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1137),
  /* template */
  __webpack_require__(1172),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-171b6b16",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1168:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1155)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1139),
  /* template */
  __webpack_require__(1173),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-326baca8",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1169:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1152)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1140),
  /* template */
  __webpack_require__(1170),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-0cb120e6",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1170:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "-style-"
  }, [_c('div', {
    staticStyle: {
      "padding-bottom": "16px"
    }
  }, [_c('table', {
    attrs: {
      "width": "100%",
      "height": "35",
      "cellspacing": "0",
      "cellpadding": "0"
    }
  }, [_c('tr', [_c('td', {
    attrs: {
      "width": "300",
      "valign": "middle"
    }
  }, [(_vm.isInTenant) ? _c('i-select', {
    staticStyle: {
      "display": "inline-block",
      "width": "200px"
    },
    attrs: {
      "placeholder": "全部门店"
    },
    on: {
      "on-change": _vm.reloadData
    },
    model: {
      value: (_vm.queryShopIdx),
      callback: function($$v) {
        _vm.queryShopIdx = $$v
      },
      expression: "queryShopIdx"
    }
  }, [_c('i-option', {
    staticClass: "bold",
    attrs: {
      "value": -1
    }
  }, [_vm._v("全部门店")]), _vm._v(" "), _vm._l((_vm.g.data.shopList), function(s, idx) {
    return (!s.forbiddenInChain) ? _c('i-option', {
      key: idx,
      attrs: {
        "value": idx
      }
    }, [_vm._v("\n                " + _vm._s(s.shopName) + "\n              ")]) : _vm._e()
  })], 2) : _vm._e(), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.exportReport
    }
  }, [_vm._v("导出")])], 1), _vm._v(" "), _c('td', {
    staticClass: "date-tit",
    attrs: {
      "align": "center"
    }
  }, [(_vm.queryDateType === 1) ? [_c('a', {
    on: {
      "click": function($event) {
        return _vm.queryByDayNav(-1)
      }
    }
  }, [_c('icon', {
    staticClass: "left",
    attrs: {
      "type": "chevron-left"
    }
  })], 1), _vm._v(" "), _c('date-picker', {
    staticStyle: {
      "width": "130px",
      "margin": "0 10px"
    },
    attrs: {
      "clearable": false,
      "options": _vm.dateOptions,
      "type": "date"
    },
    on: {
      "on-change": _vm.changeQueryDate
    },
    model: {
      value: (_vm.queryDate),
      callback: function($$v) {
        _vm.queryDate = $$v
      },
      expression: "queryDate"
    }
  }), _vm._v(" "), _c('a', {
    on: {
      "click": function($event) {
        return _vm.queryByDayNav(1)
      }
    }
  }, [_c('icon', {
    attrs: {
      "type": "chevron-right"
    }
  })], 1)] : (_vm.queryDateType === 2) ? [_c('date-picker', {
    staticClass: "dateinput",
    attrs: {
      "options": _vm.dateOptions,
      "type": "date",
      "placeholder": "开始日期"
    },
    model: {
      value: (_vm.queryDates[0]),
      callback: function($$v) {
        _vm.$set(_vm.queryDates, 0, $$v)
      },
      expression: "queryDates[0]"
    }
  }), _vm._v(" "), _c('date-picker', {
    staticClass: "dateinput",
    attrs: {
      "options": _vm.dateOptions,
      "type": "date",
      "placeholder": "结束日期"
    },
    model: {
      value: (_vm.queryDates[1]),
      callback: function($$v) {
        _vm.$set(_vm.queryDates, 1, $$v)
      },
      expression: "queryDates[1]"
    }
  }), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.changeQueryDates
    }
  }, [_vm._v("确定")])] : _vm._e()], 2), _vm._v(" "), _c('td', {
    attrs: {
      "width": "300",
      "valign": "middle",
      "align": "right"
    }
  }, [_c('RadioGroup', {
    on: {
      "on-change": _vm.changeQueryDateType
    },
    model: {
      value: (_vm.queryDateType),
      callback: function($$v) {
        _vm.queryDateType = $$v
      },
      expression: "queryDateType"
    }
  }, [_c('Radio', {
    attrs: {
      "label": 1
    }
  }, [_vm._v("按日统计")]), _vm._v(" "), _c('Radio', {
    staticStyle: {
      "margin-right": "0"
    },
    attrs: {
      "label": 2
    }
  }, [_vm._v("按日期范围统计")])], 1)], 1)])])]), _vm._v(" "), (_vm.isInTenant && _vm.queryShopIdx == -1 && _vm.allShopStatSum && _vm.allShopStatSum.sumAmount) ? _c('section', {
    staticClass: "charge-stat"
  }, [_c('table', {
    staticClass: "mytbl"
  }, [_vm._m(0), _vm._v(" "), _vm._l((_vm.allShopStatList), function(s) {
    return [_c('tr', [_c('td', [_vm._v(_vm._s(s.shopName))]), _vm._v(" "), _c('td', {
      staticClass: "sum"
    }, [_vm._v(_vm._s(s.sumAmount))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.cardAmount))]), _vm._v(" "), _c('td', {
      staticClass: "card-class"
    }, [_vm._v(_vm._s(s.memberCardAmount))]), _vm._v(" "), _c('td', {
      staticClass: "card-class"
    }, [_vm._v(_vm._s(s.gcCardAmount))]), _vm._v(" "), _c('td', {
      staticClass: "card-class"
    }, [_vm._v(_vm._s(s.pcCardAmount))]), _vm._v(" "), _c('td', {
      staticClass: "payment-type"
    }, [_vm._v(_vm._s(s.newMemberCardAmount))]), _vm._v(" "), _c('td', {
      staticClass: "payment-type"
    }, [_vm._v(_vm._s(s.memberAppendCardAmount))]), _vm._v(" "), _c('td', {
      staticClass: "payment-type"
    }, [_vm._v(_vm._s(s.cardPaymentAmount))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.otherAmount))])])]
  }), _vm._v(" "), _c('tr', {
    staticClass: "bold"
  }, [_c('td', [_vm._v("合计")]), _vm._v(" "), _c('td', {
    staticClass: "sum"
  }, [_vm._v(_vm._s(_vm.allShopStatSum.sumAmount))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.allShopStatSum.cardAmount))]), _vm._v(" "), _c('td', {
    staticClass: "card-class"
  }, [_vm._v(_vm._s(_vm.allShopStatSum.memberCardAmount))]), _vm._v(" "), _c('td', {
    staticClass: "card-class"
  }, [_vm._v(_vm._s(_vm.allShopStatSum.gcCardAmount))]), _vm._v(" "), _c('td', {
    staticClass: "card-class"
  }, [_vm._v(_vm._s(_vm.allShopStatSum.pcCardAmount))]), _vm._v(" "), _c('td', {
    staticClass: "payment-type"
  }, [_vm._v(_vm._s(_vm.allShopStatSum.newMemberCardAmount))]), _vm._v(" "), _c('td', {
    staticClass: "payment-type"
  }, [_vm._v(_vm._s(_vm.allShopStatSum.memberAppendCardAmount))]), _vm._v(" "), _c('td', {
    staticClass: "payment-type"
  }, [_vm._v(_vm._s(_vm.allShopStatSum.cardPaymentAmount))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.allShopStatSum.otherAmount))])])], 2)]) : _vm._e(), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit l"
  }, [_vm._v("当日营业收入汇总 "), (_vm.loadFlag.sumStat) ? _c('spin', {
    staticClass: "loading"
  }) : _vm._e()], 1), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_vm._v("\n          合计："), _c('span', {
    staticClass: "sum-num"
  }, [_vm._v("￥" + _vm._s(_vm.totalAmount ? _vm.g.Util.round(_vm.totalAmount) : 0))])])]), _vm._v(" "), _c('div', {
    staticClass: "sum-tbl"
  }, [_c('table', [_c('tr', [_c('th', [(_vm.sumAmounts[1]) ? _c('checkbox', {
    on: {
      "on-change": _vm.sumTotalAmount
    },
    model: {
      value: (_vm.payChnlCheck[1]),
      callback: function($$v) {
        _vm.$set(_vm.payChnlCheck, 1, $$v)
      },
      expression: "payChnlCheck[1]"
    }
  }, [_vm._v("现金")]) : [_vm._v("现金")]], 2), _vm._v(" "), _c('th', [(_vm.sumAmounts[2]) ? _c('checkbox', {
    on: {
      "on-change": _vm.sumTotalAmount
    },
    model: {
      value: (_vm.payChnlCheck[2]),
      callback: function($$v) {
        _vm.$set(_vm.payChnlCheck, 2, $$v)
      },
      expression: "payChnlCheck[2]"
    }
  }, [_vm._v("刷卡")]) : [_vm._v("刷卡")]], 2), _vm._v(" "), _c('th', [(_vm.sumAmounts[3]) ? _c('checkbox', {
    on: {
      "on-change": _vm.sumTotalAmount
    },
    model: {
      value: (_vm.payChnlCheck[3]),
      callback: function($$v) {
        _vm.$set(_vm.payChnlCheck, 3, $$v)
      },
      expression: "payChnlCheck[3]"
    }
  }, [_vm._v("支付宝")]) : [_vm._v("支付宝")]], 2), _vm._v(" "), _c('th', [(_vm.sumAmounts[4]) ? _c('checkbox', {
    on: {
      "on-change": _vm.sumTotalAmount
    },
    model: {
      value: (_vm.payChnlCheck[4]),
      callback: function($$v) {
        _vm.$set(_vm.payChnlCheck, 4, $$v)
      },
      expression: "payChnlCheck[4]"
    }
  }, [_vm._v("微信")]) : [_vm._v("微信")]], 2), _vm._v(" "), _c('th', [(_vm.sumAmounts[0]) ? _c('checkbox', {
    on: {
      "on-change": _vm.sumTotalAmount
    },
    model: {
      value: (_vm.payChnlCheck[0]),
      callback: function($$v) {
        _vm.$set(_vm.payChnlCheck, 0, $$v)
      },
      expression: "payChnlCheck[0]"
    }
  }, [_vm._v("储值卡")]) : [_vm._v("储值卡")]], 2), _vm._v(" "), _c('th', [(_vm.sumAmounts[5]) ? _c('checkbox', {
    on: {
      "on-change": _vm.sumTotalAmount
    },
    model: {
      value: (_vm.payChnlCheck[5]),
      callback: function($$v) {
        _vm.$set(_vm.payChnlCheck, 5, $$v)
      },
      expression: "payChnlCheck[5]"
    }
  }, [_vm._v("其它")]) : [_vm._v("其它")]], 2)]), _vm._v(" "), _c('tr', [_c('td', [(_vm.sumAmounts[1]) ? [_vm._v("￥" + _vm._s(_vm.sumAmounts[1]))] : _c('span', {
    staticClass: "gray"
  }, [_vm._v("0")])], 2), _vm._v(" "), _c('td', [(_vm.sumAmounts[2]) ? [_vm._v("￥" + _vm._s(_vm.sumAmounts[2]))] : _c('span', {
    staticClass: "gray"
  }, [_vm._v("0")])], 2), _vm._v(" "), _c('td', [(_vm.sumAmounts[3]) ? [_vm._v("￥" + _vm._s(_vm.sumAmounts[3]))] : _c('span', {
    staticClass: "gray"
  }, [_vm._v("0")])], 2), _vm._v(" "), _c('td', [(_vm.sumAmounts[4]) ? [_vm._v("￥" + _vm._s(_vm.sumAmounts[4]))] : _c('span', {
    staticClass: "gray"
  }, [_vm._v("0")])], 2), _vm._v(" "), _c('td', [(_vm.sumAmounts[0]) ? [_vm._v("￥" + _vm._s(_vm.sumAmounts[0]))] : _c('span', {
    staticClass: "gray"
  }, [_vm._v("0")])], 2), _vm._v(" "), _c('td', [(_vm.sumAmounts[5]) ? [_vm._v("￥" + _vm._s(_vm.sumAmounts[5]))] : _c('span', {
    staticClass: "gray"
  }, [_vm._v("0")])], 2)])])])]), _vm._v(" "), _c('div', {
    staticClass: "stat-order"
  }, [_c('ul', {
    staticClass: "detail"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('div', {
    staticClass: "-box"
  }, [_c('table', {
    staticClass: "-head"
  }, [_c('tr', [_c('td', {
    attrs: {
      "width": "60"
    }
  }, [(_vm.loadFlag.memberCardStat) ? _c('spin', {
    staticClass: "loading"
  }) : _vm._e()], 1), _vm._v(" "), _c('th', [_vm._v("会籍卡收入")]), _vm._v(" "), _c('td', {
    staticClass: "opt",
    attrs: {
      "width": "60"
    }
  }, [(_vm.memberCardStatByCardList && _vm.memberCardStatByCardList.length > 0) ? _c('a', {
    on: {
      "click": function($event) {
        return _vm.viewCardPaymentDetail(0)
      }
    }
  }, [_c('i', {
    staticClass: "iconfont icon-list"
  }), _vm._v("详细")]) : _vm._e()])])]), _vm._v(" "), _c('div', {
    staticClass: "-cont",
    style: ('height: ' + _vm.detailTblHeight + 'px;')
  }, [_c('table', [_vm._m(1), _vm._v(" "), (_vm.memberCardStatByCardList && _vm.memberCardStatByCardList.length > 1) ? _c('tr', {
    staticClass: "sum-column"
  }, [_c('th', [_vm._v("合计")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.memberCardCntTotal))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.memberCardAmtTotal))])]) : _vm._e(), _vm._v(" "), _vm._l((_vm.memberCardStatByCardList), function(s) {
    return (_vm.memberCardStatByCardList) ? _c('tr', [_c('td', [_c('span', {
      staticClass: "small"
    }, [_vm._v(_vm._s(s.cardName.shorten(8)))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.records) + " "), _c('span', {
      staticClass: "gray"
    }, [_vm._v("张")])]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(s.payment))])]) : _vm._e()
  })], 2), _vm._v(" "), _c('div', {
    staticClass: "interval"
  }), _vm._v(" "), _c('table', [_vm._m(2), _vm._v(" "), _vm._l((_vm.memberCardStatBySalesList), function(s) {
    return (_vm.memberCardStatBySalesList) ? _c('tr', [_c('td', [(s.salesName) ? [_vm._v(_vm._s(s.salesName))] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("无")])], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.salesMembers) + " "), _c('span', {
      staticClass: "gray"
    }, [_vm._v("张")])]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(s.salesAmount))])]) : _vm._e()
  })], 2), _vm._v(" "), (_vm.memberCardStatByCardList && _vm.memberCardStatByCardList.length === 0) ? _c('div', {
    staticClass: "no-record"
  }, [_vm._v("\n                暂无数据\n              ")]) : _vm._e()])])]), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('div', {
    staticClass: "-box"
  }, [_c('table', {
    staticClass: "-head"
  }, [_c('tr', [_c('td', {
    attrs: {
      "width": "60"
    }
  }, [(_vm.loadFlag.courseStat) ? _c('spin', {
    staticClass: "loading"
  }) : _vm._e()], 1), _vm._v(" "), _c('th', [_vm._v("团课卡收入")]), _vm._v(" "), _c('td', {
    staticClass: "opt",
    attrs: {
      "width": "60"
    }
  }, [(_vm.gcCardStatByCardList && _vm.gcCardStatByCardList.length > 0) ? _c('a', {
    on: {
      "click": function($event) {
        return _vm.viewCardPaymentDetail(1)
      }
    }
  }, [_c('i', {
    staticClass: "iconfont icon-list"
  }), _vm._v("详细")]) : _vm._e()])])]), _vm._v(" "), _c('div', {
    staticClass: "-cont",
    style: ('height: ' + _vm.detailTblHeight + 'px;')
  }, [_c('table', [_vm._m(3), _vm._v(" "), (_vm.gcCardStatByCardList && _vm.gcCardStatByCardList.length > 1) ? _c('tr', {
    staticClass: "sum-column"
  }, [_c('th', [_vm._v("合计")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.gcCardCntTotal))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.gcCardAmtTotal))])]) : _vm._e(), _vm._v(" "), _vm._l((_vm.gcCardStatByCardList), function(s) {
    return (_vm.gcCardStatByCardList) ? _c('tr', [_c('td', [_c('span', {
      staticClass: "small"
    }, [_vm._v(_vm._s(s.cardName.shorten(8)))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.records) + " "), _c('span', {
      staticClass: "gray"
    }, [_vm._v("张")])]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(s.payment))])]) : _vm._e()
  })], 2), _vm._v(" "), _c('div', {
    staticClass: "interval"
  }), _vm._v(" "), _c('table', [_vm._m(4), _vm._v(" "), _vm._l((_vm.gcCardStatBySalesList), function(s) {
    return (_vm.gcCardStatBySalesList) ? _c('tr', [_c('td', [(s.salesName) ? [_vm._v(_vm._s(s.salesName))] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("无")])], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.salesMembers) + " "), _c('span', {
      staticClass: "gray"
    }, [_vm._v("张")])]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(s.salesAmount))])]) : _vm._e()
  })], 2), _vm._v(" "), (_vm.gcCardStatByCardList && _vm.gcCardStatByCardList.length === 0) ? _c('div', {
    staticClass: "no-record"
  }, [_vm._v("\n                暂无数据\n              ")]) : _vm._e()])])]), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('div', {
    staticClass: "-box"
  }, [_c('table', {
    staticClass: "-head"
  }, [_c('tr', [_c('td', {
    attrs: {
      "width": "60"
    }
  }, [(_vm.loadFlag.courseStat) ? _c('spin', {
    staticClass: "loading"
  }) : _vm._e()], 1), _vm._v(" "), _c('th', [_vm._v("私教卡收入")]), _vm._v(" "), _c('td', {
    staticClass: "opt",
    attrs: {
      "width": "60"
    }
  }, [(_vm.pcCardStatByCardList && _vm.pcCardStatByCardList.length > 0) ? _c('a', {
    on: {
      "click": function($event) {
        return _vm.viewCardPaymentDetail(2)
      }
    }
  }, [_c('i', {
    staticClass: "iconfont icon-list"
  }), _vm._v("详细")]) : _vm._e()])])]), _vm._v(" "), _c('div', {
    staticClass: "-cont",
    style: ('height: ' + _vm.detailTblHeight + 'px;')
  }, [_c('table', [_vm._m(5), _vm._v(" "), (_vm.pcCardStatByCardList && _vm.pcCardStatByCardList.length > 1) ? _c('tr', {
    staticClass: "sum-column"
  }, [_c('th', [_vm._v("合计")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.pcCardCntTotal))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.pcCardAmtTotal))])]) : _vm._e(), _vm._v(" "), _vm._l((_vm.pcCardStatByCardList), function(s) {
    return (_vm.pcCardStatByCardList) ? _c('tr', [_c('td', [_c('span', {
      staticClass: "small"
    }, [_vm._v(_vm._s(s.cardName.shorten(8)))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.records) + " "), _c('span', {
      staticClass: "gray"
    }, [_vm._v("张")])]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(s.payment))])]) : _vm._e()
  })], 2), _vm._v(" "), _c('div', {
    staticClass: "interval"
  }), _vm._v(" "), _c('table', [_vm._m(6), _vm._v(" "), _vm._l((_vm.pcCardStatBySalesList), function(s) {
    return (_vm.pcCardStatBySalesList) ? _c('tr', [_c('td', [(s.salesName) ? [_vm._v(_vm._s(s.salesName))] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("无")])], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.salesMembers) + " "), _c('span', {
      staticClass: "gray"
    }, [_vm._v("张")])]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(s.salesAmount))])]) : _vm._e()
  })], 2), _vm._v(" "), (_vm.pcCardStatByCardList && _vm.pcCardStatByCardList.length === 0) ? _c('div', {
    staticClass: "no-record"
  }, [_vm._v("\n                暂无数据\n              ")]) : _vm._e()])])]), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('div', {
    staticClass: "-box"
  }, [_c('table', {
    staticClass: "-head"
  }, [_c('tr', [_c('td', {
    attrs: {
      "width": "60"
    }
  }, [(_vm.loadFlag.chargeItemStat) ? _c('spin', {
    staticClass: "loading"
  }) : _vm._e()], 1), _vm._v(" "), _c('th', [_vm._v("其它收入")]), _vm._v(" "), _c('td', {
    staticClass: "opt",
    attrs: {
      "width": "60"
    }
  }, [(_vm.chargeItemStatList && _vm.chargeItemStatList.length) ? _c('a', {
    on: {
      "click": _vm.viewChargeDetail
    }
  }, [_c('i', {
    staticClass: "iconfont icon-list"
  }), _vm._v("详细")]) : _vm._e()])])]), _vm._v(" "), _c('div', {
    staticClass: "-cont",
    style: ('height: ' + _vm.detailTblHeight + 'px;')
  }, [_c('table', [_vm._m(7), _vm._v(" "), (_vm.chargeItemStatList.length > 1) ? _c('tr', {
    staticClass: "sum-column"
  }, [_c('th', [_vm._v("合计")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.chargeItemCntTotal))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.chargeItemAmtTotal))])]) : _vm._e(), _vm._v(" "), _vm._l((_vm.chargeItemStatList), function(s) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(s.chargeItemName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.quantity))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(s.amount))])])
  })], 2), _vm._v(" "), (_vm.chargeItemStatList && _vm.chargeItemStatList.length === 0) ? _c('div', {
    staticClass: "no-record"
  }, [_vm._v("\n                暂无数据\n              ")]) : _vm._e()])])])])]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": _vm.cardChgDlg.title,
      "width": "1100",
      "styles": {
        top: '5px'
      }
    },
    model: {
      value: (_vm.cardChgDlg.show),
      callback: function($$v) {
        _vm.$set(_vm.cardChgDlg, "show", $$v)
      },
      expression: "cardChgDlg.show"
    }
  }, [(_vm.cardChgDlg.data) ? _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', [_vm._v("卡名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("充值类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("充值金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("实收金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("充值次/天")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("支付方式")]), _vm._v(" "), _c('th', [_vm._v("销售")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "65"
    }
  }, [_vm._v("创建人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "145"
    }
  }, [_vm._v("创建时间")]), _vm._v(" "), _c('th', [_vm._v("备注")])]), _vm._v(" "), _vm._l((_vm.cardChgDlg.data), function(c) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(c.cardName))]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(c.memberId)
        }
      }
    }, [_vm._v(_vm._s(c.memberName.shorten(15)))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardPaymentType[c.paymentType]))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(c.usableAmount))]), _vm._v(" "), _c('td', {
      class: {
        orangered: c.usableAmount !== c.paymentAmount
      }
    }, [_vm._v("￥" + _vm._s(c.paymentAmount))]), _vm._v(" "), _c('td', [(c.cardType === 1) ? [_vm._v(_vm._s(c.usableDays) + " 天")] : (c.cardType === 2) ? [_vm._v(_vm._s(c.usableTimes) + " 次\n                "), (c.usableDays) ? [_vm._v("| " + _vm._s(c.usableDays) + " 天")] : _vm._e()] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardPaymentChannelForView[c.paymentChannel]))]), _vm._v(" "), _c('td', [(c.salesName) ? [_vm._v(_vm._s(c.salesName))] : (c.salesConfList) ? _vm._l((c.salesConfList), function(sc) {
      return _c('div', [_vm._v(_vm._s(sc.split(':')[1]) + " ￥" + _vm._s(sc.split(':')[2]))])
    }) : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createTime))]), _vm._v(" "), _c('td', [(c.paymentPoints) ? _c('div', [_c('i', [_vm._v("使用 " + _vm._s(c.paymentPoints) + " 积分支付")])]) : _vm._e(), _vm._v("\n              " + _vm._s(c.remark) + "\n            ")])])
  })], 2)]) : _vm._e(), _vm._v(" "), (_vm.totalCount && _vm.totalCount > _vm.g.Conf.PAGE_SIZE) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.totalCount,
      "page-size": _vm.g.Conf.PAGE_SIZE,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.changePageNo
    }
  })], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    staticStyle: {
      "width": "100px"
    },
    on: {
      "click": function($event) {
        _vm.cardChgDlg.show = false
      }
    }
  }, [_vm._v("关闭")])], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "其他收入详细",
      "width": "1100",
      "styles": {
        top: '5px'
      }
    },
    model: {
      value: (_vm.chargeListDlg),
      callback: function($$v) {
        _vm.chargeListDlg = $$v
      },
      expression: "chargeListDlg"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    attrs: {
      "id": "chargeListTbl"
    }
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("资费项")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("单价")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "60"
    }
  }, [_vm._v("数量")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("支付方式")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "140"
    }
  }, [_vm._v("交易时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("记账人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "140"
    }
  }, [_vm._v("记账时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("消费会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("销售")]), _vm._v(" "), _c('th', [_vm._v("备注")])]), _vm._v(" "), _vm._l((_vm.chargeList), function(c, idx) {
    return _c('tr', [_c('td', [(c.chargeItemName) ? [_vm._v(_vm._s(c.chargeItemName))] : _c('i', [_vm._v(_vm._s(_vm.g.Dict.ChargeFroms[c.chargeFrom]))])], 2), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(c.unitPrice))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.unitNum))]), _vm._v(" "), _c('td', [_vm._v("￥"), (c.arAp === 0) ? [_vm._v(_vm._s(c.arAmount))] : [_vm._v(_vm._s(c.apAmount))]], 2), _vm._v(" "), _c('td', [(c.paymentChannel === 0) ? [_vm._v("储值卡")] : (c.paymentChannel === 99) ? [_vm._v("赠送")] : (c.paymentChannel) ? [_vm._v(_vm._s(_vm.g.Dict.CardPaymentChannel[c.paymentChannel]))] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.transTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.memberName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.salesName))]), _vm._v(" "), _c('td', [(c.remark) ? [_vm._v(_vm._s(c.remark))] : _vm._e()], 2)])
  })], 2), _vm._v(" "), (_vm.chargeTotalCount && _vm.chargeTotalCount >= 1) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.chargeTotalCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryChargeList
    }
  })], 1) : _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")])]), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "导出文件下载",
      "width": "500",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.exportDlg),
      callback: function($$v) {
        _vm.exportDlg = $$v
      },
      expression: "exportDlg"
    }
  }, [_c('div', {
    staticClass: "export-xls"
  }, [(_vm.exportFileUrl) ? [(_vm.exportFileUrl) ? _c('a', {
    attrs: {
      "href": _vm.exportFileUrl,
      "target": "_blank"
    }
  }, [_vm._v("下载导出文件（xls）")]) : _vm._e()] : _c('span', [_vm._v("正在查询并导出，请稍候...")])], 2)])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("门店")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("总营收")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("会员卡收入")]), _vm._v(" "), _c('th', {
    staticClass: "card-class",
    attrs: {
      "width": "110"
    }
  }, [_vm._v("会籍卡")]), _vm._v(" "), _c('th', {
    staticClass: "card-class",
    attrs: {
      "width": "110"
    }
  }, [_vm._v("团课卡")]), _vm._v(" "), _c('th', {
    staticClass: "card-class",
    attrs: {
      "width": "110"
    }
  }, [_vm._v("私教卡")]), _vm._v(" "), _c('th', {
    staticClass: "payment-type",
    attrs: {
      "width": "110"
    }
  }, [_vm._v("新会员办卡")]), _vm._v(" "), _c('th', {
    staticClass: "payment-type",
    attrs: {
      "width": "110"
    }
  }, [_vm._v("老会员购卡")]), _vm._v(" "), _c('th', {
    staticClass: "payment-type",
    attrs: {
      "width": "110"
    }
  }, [_vm._v("会员卡续费")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("其它收入")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("卡名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "55"
    }
  }, [_vm._v("数量")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("金额")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("销售")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "55"
    }
  }, [_vm._v("数量")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("金额")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("卡名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "55"
    }
  }, [_vm._v("数量")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("金额")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("销售")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "55"
    }
  }, [_vm._v("数量")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("金额")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("卡名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "55"
    }
  }, [_vm._v("数量")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("金额")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("销售")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "55"
    }
  }, [_vm._v("数量")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("金额")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("项目")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "55"
    }
  }, [_vm._v("数量")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("金额")])])
}]}

/***/ }),

/***/ 1172:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('div', {
    staticClass: "sum"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', [(_vm.memberLessonList && _vm.memberLessonList.length) ? _c('i-button', {
    attrs: {
      "icon": "ios-cloud-download-outline"
    },
    on: {
      "click": _vm.exportMemberLessonList
    }
  }, [_vm._v("导出")]) : _vm._e(), _vm._v(" "), (_vm.coachList && _vm.coachList.length > 1) ? _c('span', {
    staticClass: "l10"
  }, [_c('i-select', {
    staticStyle: {
      "width": "110px"
    },
    attrs: {
      "placeholder": "请选择教练"
    },
    on: {
      "on-change": function($event) {
        return _vm.queryMemberLessonList()
      }
    },
    model: {
      value: (_vm.queryCoachId),
      callback: function($$v) {
        _vm.queryCoachId = $$v
      },
      expression: "queryCoachId"
    }
  }, [_c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_c('i', {
    staticClass: "gray"
  }, [_vm._v("不限教练")])]), _vm._v(" "), _vm._l((_vm.coachList), function(c) {
    return _c('i-option', {
      key: c.staffId,
      attrs: {
        "value": c.staffId
      }
    }, [_vm._v(_vm._s(c.name))])
  })], 2)], 1) : _vm._e()], 1), _vm._v(" "), _c('td', {
    attrs: {
      "align": "right"
    }
  }, [(_vm.memberLessonCount) ? _c('span', [_vm._v("共 "), _c('b', [_vm._v(_vm._s(_vm.memberLessonCount))]), _vm._v(" 条记录")]) : _vm._e(), _vm._v(" "), (_vm.cardCostAmountSum) ? [_c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n\t\t\t\t\t\t会员卡消费折算总金额：￥"), _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.cardCostAmountSum))])] : _vm._e()], 2)])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.memberLessonList), function(ml) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(ml.lessonTitle))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(ml.lessonDate)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatTime(ml.beginTime)) + " ~ " + _vm._s(_vm.g.Util.formatTime(ml.endTime)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.coachName))]), _vm._v(" "), _c('td', [(ml.mcId) ? _c('a', {
      on: {
        "click": function($event) {
          return _vm.viewMember(ml.memberId)
        }
      }
    }, [_vm._v(_vm._s(ml.memberName))]) : _c('a', [_vm._v("[客] " + _vm._s(ml.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.cardName))]), _vm._v(" "), _c('td', [(ml.cardType > 1) ? [_vm._v("\n\t\t\t\t\t\t" + _vm._s(ml.cardPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[ml.cardType]) + "\n\t\t\t\t\t")] : _vm._e(), _vm._v(" "), (ml.paymentCount > 1) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("(" + _vm._s(ml.paymentCount) + "人)")]) : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.cardCostAmount))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.bookingTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.bookingUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.checkinTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(ml.checkinUname))])])
  })], 2)]), _vm._v(" "), (_vm.memberLessonCount && _vm.memberLessonCount > 30) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.memberLessonCount,
      "page-size": 30,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryMemberLessonList
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.memberLessonCount === 0) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n\t\t暂无数据\n\t")]) : _vm._e(), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? [_c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  })] : _vm._e()], 2), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "导出文件下载",
      "width": "500",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.exportDlg),
      callback: function($$v) {
        _vm.exportDlg = $$v
      },
      expression: "exportDlg"
    }
  }, [_c('div', {
    staticClass: "export-xls"
  }, [(_vm.exportFileUrl) ? [(_vm.exportFileUrl) ? _c('a', {
    attrs: {
      "href": _vm.exportFileUrl,
      "target": "_blank"
    }
  }, [_vm._v("下载导出文件（xls）")]) : _vm._e()] : _c('span', [_vm._v("正在查询并导出，请稍候...")])], 2)])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("课程")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("上课日期")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("上课时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("教练")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("上课学员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("消费会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("消费额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("折算金额"), _c('a', {
    staticClass: "th-help",
    attrs: {
      "title": "期限卡和次卡的折算金额 = 消费额 * 卡平均单价；储值卡的折算金额 = 消费额 * 卡总实收金额 / 卡总充值金额"
    }
  }, [_vm._v("?")])]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "140"
    }
  }, [_vm._v("预约时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("预约人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "140"
    }
  }, [_vm._v("签到时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("签到人")])])
}]}

/***/ }),

/***/ 1173:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员卡账单明细")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.sumPaymentAmount) ? _c('span', [_c('span', {
    staticClass: "sum-tit"
  }, [_vm._v("实收金额合计：")]), _vm._v(" "), _c('span', {
    staticClass: "orangered"
  }, [_vm._v(" ￥"), _c('span', {
    staticClass: "bigger"
  }, [_vm._v(_vm._s(_vm.sumPaymentAmount))])]), _vm._v(" "), (_vm.sumDeposit) ? [_c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n\t\t\t\t\t\t订金合计："), _c('span', {
    staticClass: "orange"
  }, [_vm._v("￥"), _c('span', {
    staticClass: "bigger"
  }, [_vm._v(_vm._s(_vm.sumDeposit))])]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("\n\t\t\t\t\t\t合计："), _c('span', {
    staticClass: "darkred"
  }, [_vm._v("￥"), _c('span', {
    staticClass: "bigger"
  }, [_vm._v(_vm._s(_vm.g.Util.round(_vm.sumDeposit + _vm.sumPaymentAmount)))])])] : _vm._e()], 2) : _vm._e()])]), _vm._v(" "), _c('ul', {
    staticClass: "query-cond-inline"
  }, [(_vm.isInTenant) ? _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "200px"
    },
    attrs: {
      "placeholder": "全部门店",
      "clearable": ""
    },
    on: {
      "on-change": _vm.changeShop
    },
    model: {
      value: (_vm.query.encSid),
      callback: function($$v) {
        _vm.$set(_vm.query, "encSid", $$v)
      },
      expression: "query.encSid"
    }
  }, _vm._l((_vm.g.data.shopList), function(s, idx) {
    return (!s.forbiddenInChain) ? _c('i-option', {
      key: idx,
      attrs: {
        "value": s.encSid
      }
    }, [_vm._v("\n\t\t\t\t\t\t" + _vm._s(s.shopName) + "\n\t\t\t\t\t")]) : _vm._e()
  }), 1)], 1) : _vm._e(), _vm._v(" "), (!_vm.isInTenant) ? _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "110px"
    },
    attrs: {
      "filterable": "",
      "placeholder": "选择销售",
      "clearable": ""
    },
    model: {
      value: (_vm.query.salesId),
      callback: function($$v) {
        _vm.$set(_vm.query, "salesId", $$v)
      },
      expression: "query.salesId"
    }
  }, _vm._l((_vm.staffList), function(s) {
    return _c('i-option', {
      key: s.staffId,
      attrs: {
        "value": s.staffId
      }
    }, [_vm._v(_vm._s(s.name))])
  }), 1)], 1) : _vm._e(), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "120px"
    },
    attrs: {
      "placeholder": "选择充值类型",
      "clearable": ""
    },
    model: {
      value: (_vm.query.paymentType),
      callback: function($$v) {
        _vm.$set(_vm.query, "paymentType", $$v)
      },
      expression: "query.paymentType"
    }
  }, _vm._l((_vm.g.Dict.CardPaymentType), function(name, id) {
    return _c('i-option', {
      key: id,
      attrs: {
        "value": id
      }
    }, [_vm._v(_vm._s(name))])
  }), 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "90px"
    },
    attrs: {
      "placeholder": "支付方式",
      "clearable": ""
    },
    model: {
      value: (_vm.query.paymentChannel),
      callback: function($$v) {
        _vm.$set(_vm.query, "paymentChannel", $$v)
      },
      expression: "query.paymentChannel"
    }
  }, _vm._l((_vm.g.Dict.CardPaymentChannelForView), function(name, id) {
    return _c('i-option', {
      key: id,
      attrs: {
        "value": id
      }
    }, [_vm._v(_vm._s(name))])
  }), 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "120px"
    },
    attrs: {
      "placeholder": "客户来源",
      "clearable": ""
    },
    model: {
      value: (_vm.query.custSource),
      callback: function($$v) {
        _vm.$set(_vm.query, "custSource", $$v)
      },
      expression: "query.custSource"
    }
  }, _vm._l((_vm.custSourceList), function(s) {
    return _c('i-option', {
      key: s.sourceId,
      attrs: {
        "value": s.sourceId,
        "label": s.sourceName
      }
    }, [_vm._v("\n\t\t\t\t\t\t" + _vm._s(s.sourceName) + "\n\t\t\t\t\t")])
  }), 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('date-picker', {
    staticClass: "daterange",
    staticStyle: {
      "width": "200px"
    },
    attrs: {
      "options": _vm.dateOptions1,
      "placeholder": "请选择充值日期",
      "type": "daterange",
      "format": "yyyy-MM-dd",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.query.dates),
      callback: function($$v) {
        _vm.$set(_vm.query, "dates", $$v)
      },
      expression: "query.dates"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-input', {
    attrs: {
      "type": "text",
      "readonly": true,
      "placeholder": "请选择会员",
      "clearable": ""
    },
    on: {
      "on-focus": function($event) {
        _vm.memberSelectDlg = true
      },
      "on-clear": function($event) {
        return _vm.clearMember()
      }
    },
    model: {
      value: (_vm.member.name),
      callback: function($$v) {
        _vm.$set(_vm.member, "name", $$v)
      },
      expression: "member.name"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('checkbox', {
    model: {
      value: (_vm.query.isOnlineSale),
      callback: function($$v) {
        _vm.$set(_vm.query, "isOnlineSale", $$v)
      },
      expression: "query.isOnlineSale"
    }
  }, [_vm._v("在线购买")])], 1)]), _vm._v(" "), _c('div', [_c('i-select', {
    staticStyle: {
      "width": "855px"
    },
    attrs: {
      "filterable": "",
      "multiple": "",
      "placeholder": "选择会员卡（可多选）",
      "clearable": ""
    },
    model: {
      value: (_vm.query.cardIds),
      callback: function($$v) {
        _vm.$set(_vm.query, "cardIds", $$v)
      },
      expression: "query.cardIds"
    }
  }, _vm._l((_vm.cardList), function(c) {
    return _c('i-option', {
      key: c.cardId,
      attrs: {
        "value": c.cardId
      }
    }, [_vm._v(_vm._s(c.cardName))])
  }), 1)], 1), _vm._v(" "), _c('div', {
    staticClass: "submit"
  }, [_c('i-button', {
    staticClass: "primary-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.queryCardPayment(null)
      }
    }
  }, [_vm._v("查询")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.reset
    }
  }, [_vm._v("重置")]), _vm._v(" "), _c('i-button', {
    attrs: {
      "icon": "ios-cloud-download-outline"
    },
    on: {
      "click": _vm.exportCardBills
    }
  }, [_vm._v("导出")])], 1), _vm._v(" "), _c('div', {
    staticClass: "mytbl",
    attrs: {
      "id": "statCardSales"
    }
  }, [_c('table', {
    attrs: {
      "id": "statCardSalesTbl"
    }
  }, [_c('tr', [(_vm.isInTenant && !_vm.query.encSid) ? _c('th', {
    attrs: {
      "width": "130"
    }
  }, [_vm._v("门店")]) : _vm._e(), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("会员卡名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("充值类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("充值金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("实收金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "105"
    }
  }, [_vm._v("充值次/天数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("本次单价")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("支付方式")]), _vm._v(" "), _c('th', {
    staticStyle: {
      "min-width": "70px"
    }
  }, [_vm._v("销售")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("创建人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "145"
    }
  }, [_vm._v("充值时间 ↓")]), _vm._v(" "), _c('th', [_vm._v("充值备注")])]), _vm._v(" "), _vm._l((_vm.memberCardPaymentList), function(c, idx) {
    return _c('tr', [(_vm.isInTenant && !_vm.query.encSid) ? _c('td', [_vm._v(_vm._s(c.shopName))]) : _vm._e(), _vm._v(" "), _c('td', [(!_vm.isInTenant) ? _c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMemberBase(c.memberId)
        }
      }
    }, [_vm._v(_vm._s(c.memberName ? c.memberName.shorten(8) : null))]) : [_vm._v(_vm._s(c.memberName ? c.memberName.shorten(8) : null))]], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardPaymentType[c.paymentType]))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.g.Util.round(c.usableAmount)))]), _vm._v(" "), _c('td', {
      class: {
        orangered: c.usableAmount !== c.paymentAmount
      }
    }, [_vm._v("￥" + _vm._s(_vm.g.Util.round(c.paymentAmount)))]), _vm._v(" "), _c('td', [(c.cardType === 1) ? [_vm._v(_vm._s(c.usableDays) + " 天")] : (c.cardType === 2) ? [_vm._v(_vm._s(c.usableTimes) + " 次\n\t\t\t\t\t\t\t"), (c.usableDays) ? [_vm._v(" / " + _vm._s(c.usableDays) + " 天")] : _vm._e()] : (c.usableDays) ? [_vm._v(_vm._s(c.usableDays) + " 天")] : _vm._e()], 2), _vm._v(" "), _c('td', [(c.cardType === 1) ? [
      [_vm._v("￥" + _vm._s(_vm.g.Util.round(c.paymentAmount / c.usableDays)) + "/天")]
    ] : (c.cardType === 2) ? [(c.usableTimes) ? [_vm._v("￥" + _vm._s(_vm.g.Util.round(c.paymentAmount / c.usableTimes)) + "/次")] : _vm._e()] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardPaymentChannelForView[c.paymentChannel]))]), _vm._v(" "), _c('td', [(c.salesName) ? [_vm._v(_vm._s(c.salesName))] : (c.salesConfList) ? _vm._l((c.salesConfList), function(sc) {
      return _c('div', [_vm._v(_vm._s(sc.split(':')[1]) + " ￥" + _vm._s(sc.split(':')[2]))])
    }) : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createTime))]), _vm._v(" "), _c('td', [(c.paymentPoints) ? _c('div', [_c('i', [_vm._v("使用 " + _vm._s(c.paymentPoints) + " 积分支付")])]) : _vm._e(), _vm._v("\n\t\t\t\t\t\t" + _vm._s(c.remark) + "\n\t\t\t\t\t\t"), (c.deposit) ? _c('div', [_c('i', {
      staticClass: "orange"
    }, [_vm._v("订金￥" + _vm._s(c.deposit))])]) : _vm._e()])])
  })], 2)]), _vm._v(" "), (_vm.query.count > 0) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.query.count,
      "page-size": _vm.g.Conf.PAGE_SIZE,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryCardPayment
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.memberCardPaymentList && _vm.memberCardPaymentList.length === 0) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e()]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "导出文件下载",
      "width": "500",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.exportDlg),
      callback: function($$v) {
        _vm.exportDlg = $$v
      },
      expression: "exportDlg"
    }
  }, [_c('div', {
    staticClass: "export-xls"
  }, [(_vm.exportFileUrl) ? [(_vm.exportFileUrl) ? _c('a', {
    attrs: {
      "href": _vm.exportFileUrl,
      "target": "_blank"
    }
  }, [_vm._v("下载导出文件（xls）")]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "remark"
  }, [_c('b', {
    staticClass: "red"
  }, [_vm._v("提示")]), _vm._v("：每次最多导出 600 条记录 "), _c('br'), _vm._v("如要导出下一个600条，请将当前页数增加20页后再导出")])] : _c('span', [_vm._v("正在查询并导出，请稍候...")])], 2)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员查询与选择",
      "width": "700",
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.memberSelectDlg),
      callback: function($$v) {
        _vm.memberSelectDlg = $$v
      },
      expression: "memberSelectDlg"
    }
  }, [(_vm.memberSelectDlg) ? _c('member-select', {
    attrs: {
      "show-latest-member": false,
      "after-select": _vm.afterSelectMember
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 1193:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1933)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1426),
  /* template */
  __webpack_require__(2279),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-63de7ca8",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 1426:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	components: {},
	props: {
		coachType: {
			type: Number,
			required: true
		}
	},
	data() {
		return {
			query: {
				beginDate: null,
				endDate: null
			},
			dateOptions: {
				disabledDate(date) {
					return date && date.valueOf() > Date.now();
				}
			},
			dateShortcuts: [],
			statLists: [[], [], []],
			statConf: [{ typeName: '上课次数', statType: 1, unitType: '次', bgcolor: 'orange' }, { typeName: '学员数', statType: 2, unitType: '人', bgcolor: '#47DC47' }, { typeName: '平均得分', statType: 3, unitType: '分', bgcolor: '#01BFC6' }],
			loadings: [false, false, false],
			queryDateShourtcut: null
		};
	},

	created() {
		this.initDateShortCuts();
		this.statByDateShortcuts(0);
	},

	methods: {
		initDateShortCuts() {
			// 获取最近6个月的月份
			let today = new Date();
			let date = new Date();
			date.setDate(1);
			let year, month, beginDate, endDate;
			for (let i = 0; i < 6; i++) {
				year = date.getFullYear();
				month = date.getMonth();
				beginDate = new Date(date.getFullYear(), month, 1);
				if (i === 0) {
					endDate = new Date(today);
				} else {
					endDate = new Date(date.getFullYear(), month + 1, 0);
				}

				this.dateShortcuts.push({
					name: '{0}-{1}月'.format(date.getFullYear(), month + 1),
					beginDate: beginDate,
					endDate: endDate
				});

				date.setMonth(month - 1);
			}
			/*this.dateShortcuts.push({
   	name: today.getFullYear() + '年',
   	beginDate: new Date(today.getFullYear(), 0, 1),
   	endDate : today,
   });*/
		},

		statByDateShortcuts(idx) {
			this.queryDateShourtcut = idx;
			let d = this.dateShortcuts[idx];
			this.query.beginDate = new Date(d.beginDate);
			this.query.endDate = new Date(d.endDate);
			this.statCoach();
		},

		statCoach() {
			for (let i = 0; i < 3; i++) {
				this.callCoachStat(i + 1, ret => {
					this.$set(this.statLists, i, ret.coachStatList);
				});
			}
		},

		callCoachStat(statType, callback) {
			let args = {
				coachType: this.coachType,
				statType: statType,
				beginDate: this.query.beginDate,
				endDate: this.query.endDate
			};
			this.$set(this.loadings, statType - 1, true);
			$.Req.service($.SvName.COACH_STAT, args, ret => {
				this.$set(this.loadings, statType - 1, false);
				callback(ret);
			}, false, err => {
				this.$set(this.loadings, statType - 1, false);
				$.Dlg.error(err);
			});
		}

	}
});

/***/ }),

/***/ 1427:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
	components: {},
	props: {
		courseType: {
			type: Number,
			required: true
		}
	},
	data() {
		return {
			g: $,
			query: {
				beginDate: null,
				endDate: null
			},
			dateOptions: {},
			dateShortcuts: [],
			statLists: [[], [], []],
			statConf: [{ typeName: '上课次数', statType: 1, unitType: '次', bgcolor: '#FA8636' }, { typeName: '学员人数', statType: 2, unitType: '人', bgcolor: '#34C471' }, { typeName: '平均得分', statType: 3, unitType: '分', bgcolor: '#507CB9' }, { typeName: '签到次数', statType: 4, unitType: '次', bgcolor: '#D1C124' }],
			loadings: [false, false, false],
			queryDateShourtcut: null
		};
	},

	created() {
		this.initDateShortCuts();
		this.statByDateShortcuts(0);
		this.statCoach();
	},

	methods: {
		initDateShortCuts() {
			// 获取最近*个月的月份
			let today = new Date();
			let date = new Date();
			let year, month, beginDate, endDate;
			date.setDate(1);
			for (let i = 0; i < 3; i++) {
				year = date.getFullYear();
				month = date.getMonth();
				beginDate = new Date(date.getFullYear(), month, 1);
				if (i === 0) {
					endDate = new Date(today);
				} else {
					endDate = new Date(date.getFullYear(), month + 1, 0);
				}
				this.dateShortcuts.push({
					name: '{0}-{1}月'.format(date.getFullYear(), month + 1),
					beginDate: beginDate,
					endDate: endDate
				});
				date.setMonth(month - 1);
			}
			this.dateShortcuts.push({
				name: today.getFullYear() + '年',
				beginDate: new Date(today.getFullYear(), 0, 1),
				endDate: today
			});
		},

		statByDateShortcuts(idx) {
			this.queryDateShourtcut = idx;
			let d = this.dateShortcuts[idx];
			this.query.beginDate = new Date(d.beginDate);
			this.query.endDate = new Date(d.endDate);
			this.statCoach();
		},

		statCoach() {
			for (let i = 0; i < 4; i++) {
				if (this.courseType === 2 && i === 3) continue;
				this.callCoachStat(i + 1, ret => {
					this.$set(this.statLists, i, ret.courseStatList);
				});
			}
		},

		callCoachStat(statType, callback) {
			let args = {
				courseType: this.courseType,
				statType: statType,
				beginDate: this.query.beginDate,
				endDate: this.query.endDate
			};
			this.$set(this.loadings, statType - 1, true);
			$.Req.service($.SvName.COURSE_STAT, args, ret => {
				this.$set(this.loadings, statType - 1, false);
				callback(ret);
			}, false, err => {
				this.$set(this.loadings, statType - 1, false);
				$.Dlg.error(err);
			});
		}

	}
});

/***/ }),

/***/ 1428:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_help_vue__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_help_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




const PAGE_SIZE = 50;
/* harmony default export */ __webpack_exports__["default"] = ({
	components: { MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_0__pages_member_member_base_info_vue___default.a, Help: __WEBPACK_IMPORTED_MODULE_1__components_help_vue___default.a },
	props: {
		statType: {
			type: Number,
			required: true
		}
	},
	data() {
		return {
			g: window.$,
			menuList: $.PageMenus.shopMemberStat('stat-member-entry'),
			columnNames: ['', '入场签到次数', '积分', '上课次数', '会员卡充值金额', '出勤天数'],
			query: {
				beginDate: null,
				endDate: null,
				onlyOriginalMember: null,
				includeAllShops: null,
				cardIdList: null,
				includeGl: true,
				includePl: true,
				duration: null
			},
			showMemberPhoto: false,
			statList: [],
			totalCount: 0,
			selectMemberId: 0,
			viewMemberDlg: false,
			dateShortcuts: [],
			statTypeUnitName: '',
			dateOptions: {
				disabledDate(date) {
					return date && date.valueOf() > Date.now();
				}
			},
			queryDateShourtcut: null,
			cardList: null,
			exportDlg: null,
			exportFileUrl: null
		};
	},

	created() {
		const statTypeUnits = ['', '次', '分', '次', '元', '天'];
		this.statTypeUnitName = statTypeUnits[this.statType];

		this.initQuery();
		this.statMember();
		this.initDateShortCuts();

		if (this.statType === 1) {
			$.Req.service($.SvName.CARD_QUERY, {}, ret => {
				this.cardList = ret.cardList;
			});
		}
	},

	methods: {
		initQuery() {
			this.query.endDate = new Date();
			this.query.beginDate = new Date(this.query.endDate.getTime() - 30 * 3600 * 24 * 1000);
		},

		initDateShortCuts() {
			// 获取最近3个月的月份
			let today = new Date();
			let date = new Date();
			let year, month, beginDate, endDate;
			date.setDate(1);
			for (let i = 0; i < 3; i++) {
				year = date.getFullYear();
				month = date.getMonth();
				beginDate = new Date(date.getFullYear(), month, 1);
				if (i === 0) {
					endDate = new Date(today);
				} else {
					endDate = new Date(date.getFullYear(), month + 1, 0);
				}

				this.dateShortcuts.push({
					name: '{0}-{1}月'.format(date.getFullYear(), month + 1),
					beginDate: beginDate,
					endDate: endDate
				});

				date.setMonth(month - 1);
			}
			/*this.dateShortcuts.push({
   	name: today.getFullYear() + '年',
   	beginDate: new Date(today.getFullYear(), 0, 1),
   	endDate : today,
   });*/
		},

		statMemberByDateShortcuts(idx) {
			this.queryDateShourtcut = idx;
			let d = this.dateShortcuts[idx];
			this.query.beginDate = new Date(d.beginDate);
			this.query.endDate = new Date(d.endDate);
			this.statMember(null);
		},

		statMember(page = null, isExport = null) {
			if (!page) this.totalCount = null;
			let args = {
				statType: this.statType,
				page: page,
				beginDate: this.query.beginDate,
				endDate: this.query.endDate,
				isExport: isExport
			};
			if (this.statType === 1) {
				// 入场签到
				args.onlyOriginalMember = this.query.onlyOriginalMember;
				args.includeAllShops = this.query.includeAllShops;
				args.cardIdList = this.query.cardIdList;
				if (this.query.duration) {
					args.durationBegin = this.query.duration;
				}
			} else if (this.statType === 3) {
				// 上课排名
				if (!this.query.includeGl && !this.query.includePl) {
					$.Dlg.error('请至少选择一种上课类型');
					return;
				}
				args.includeGl = this.query.includeGl;
				args.includePl = this.query.includePl;
			}
			if (isExport) {
				this.exportDlg = true;
			}
			$.Req.service($.SvName.MEMBER_STAT, args, ret => {
				if (isExport) {
					this.exportFileUrl = ret.fileurl;
				} else {
					this.statList = ret.memberStatList;
					let i = 1;
					for (let s of this.statList) {
						let order = i + PAGE_SIZE * (page !== null ? page - 1 : 0);
						s.order = '<u class="order">{0}</u>'.format(order);

						let val = null;
						if (this.statType === 1) val = s.entryCheckins;else if (this.statType === 2) val = s.points;else if (this.statType === 3) val = s.lessonTimes;else if (this.statType === 4) val = s.cardPayment;else if (this.statType === 5) val = s.checkinDays;
						if (val) {
							s.valDesc = '<b class="big">{0}</b>  {1}'.format(val, this.statTypeUnitName);
						} else {
							s.valDesc = '';
						}
						i++;
					}
					if (!page) {
						this.totalCount = ret.count;
					} else {
						window.scrollTo(0, 0);
					}
				}
			}, true, err => {
				$.Dlg.error(err);
			});
		},

		changePageNo(page) {
			this.statMember(page);
		},

		viewMember(memberId) {
			this.selectMemberId = memberId;
			this.viewMemberDlg = true;
		},

		handleQueryBtn() {
			this.queryDateShourtcut = null;
			this.statMember(null);
		}
	}
});

/***/ }),

/***/ 1429:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_qrcode_vue__ = __webpack_require__(1104);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ __webpack_exports__["default"] = ({
  components: {
    QrcodeVue: __WEBPACK_IMPORTED_MODULE_0_qrcode_vue__["a" /* default */]
  },
  props: {},
  data() {
    return {
      g: $,
      query: {
        status: null,
        apiType: null,
        orderDates: [],
        tradeNo: null,
        page: 1
      },
      refundRole: $.Util.hasRoleFunc($.Dict.RoleFunc.POS_PAY_REFUND.value),
      payRole: $.Util.hasRoleFunc($.Dict.RoleFunc.POS_PAY.value),
      qrcodeTradeNoUrl: null,
      orderAmount: null,
      posTradeNoShow: false,
      orderList: [],
      orderCount: 0,
      dlg: {
        tradeDetailsShow: false,
        cardPosOrderRefundShow: false,
        refundListShow: false
      },
      orderDateOption: {
        shortcuts: [{
          text: "最近一周",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);
            return [start, end];
          }
        }, {
          text: "最近一个月",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);
            return [start, end];
          }
        }, {
          text: "最近三个月",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);
            return [start, end];
          }
        }, {
          text: "最近半年",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 180);
            return [start, end];
          }
        }]
      },
      orderItem: null,
      orderItemList: [{
        name: "订单时间",
        key: "createTime",
        value: null
      }, {
        name: "订单号",
        key: "tradeNo",
        value: null
      }, {
        name: "收银宝订单号",
        key: "trxid",
        value: null
      }, {
        name: "订单状态",
        key: "status",
        value: null,
        render: value => {
          return $.Dict.posStatus[value];
        }
      }, {
        name: "订单来源",
        key: "apiType",
        value: null,
        render: value => {
          return $.Dict.posApiType[value];
        }
      }, {
        name: "会员",
        key: "memberName",
        value: null
      }, {
        name: "支付时间",
        key: "transTime",
        value: null
      }, {
        name: "购买的会员卡",
        key: "cardName",
        value: null
      }, {
        name: "购买数量",
        key: "usableTimes",
        value: null,
        aUnit: "",
        render: count => {
          const { currentTimes, cardType, cardTimeType } = this.orderItem;
          let unit = "次";
          if (cardType == 4) {
            if (cardTimeType == 1) unit = "分钟";
            if (cardTimeType == 2) unit = "小时";
          }
          let value = `${count}${unit}（剩余${currentTimes}${unit}）`;
          return value;
        }
      }, {
        name: "充值金额",
        key: "usableAmount",
        value: null,
        aUnit: "",
        render: count => {
          let value = `￥${count}（剩余￥${this.orderItem.currentAmount}）`;
          return value;
        }
      }, {
        name: "购卡金额",
        key: "paymentAmount",
        value: null,
        aUnit: "",
        render: count => {
          let value = `￥${count}（剩余￥${this.orderItem.currentPaymentAmount}）`;
          return value;
        }
      }, {
        name: "购卡天数",
        key: "usableDays",
        value: null,
        aUnit: "",
        render: count => {
          let value = `${count}天（剩余${this.orderItem.currentDays}天）`;
          return value;
        }
      }],
      refundOrderRule: {
        refundPaymentAmount: [{ required: true, message: "请输入退款购卡金额", trigger: "blur" }]
      },
      requiredFields: ["refundPaymentAmount"],
      orderRefund: {
        orderId: null,
        refundTimes: null,
        refundAmount: null,
        refundRemark: null,
        refundDays: null,
        refundPaymentAmount: null
      },
      refundList: [],
      isPosArg: false
    };
  },
  computed: {},
  watch: {
    posTradeNoShow(newVal1, oldVal1) {
      if (!newVal1) {
        this.qrcodeTradeNoUrl = null;
        this.orderAmount = null;
      }
    },
    "dlg.tradeDetailsShow"(newVal2, oldVal2) {
      if (newVal2 !== oldVal2) {
        if (!newVal2) {
          this.orderItemList.forEach(item => {
            item.value = null;
          });
          this.refundList = [];
          this.orderItem = {};
        }
      }
    },
    "dlg.cardPosOrderRefundShow"(newVal) {
      if (!newVal) {
        this.orderRefund = {
          orderId: null,
          refundTimes: null,
          refundAmount: null,
          refundRemark: null,
          refundDays: null,
          refundPaymentAmount: null
        };
      }
    }
  },
  created() {
    if (!this.payRole) return;
    this.shopArgQuery(() => {
      this.cardPosOrderQuery();
    });
  },
  mounted() {},
  methods: {
    shopArgQuery(callback) {
      let args = { typeId: $.Dict.ShopArg.POS_ENABLE };
      $.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
        if (ret.value === "false" || !ret.value) {
          this.isPosArg = false;
        } else if (ret.value === "true") {
          this.isPosArg = true;
        }
        if (callback) {
          callback();
        }
      });
    },

    cardPosOrderQuery(page = null) {
      this.query.page = page || 1;
      const args = Object.assign({}, this.query, { page });
      if (this.query.orderDates.length) {
        args.beginDate = this.query.orderDates[0];
        args.endDate = this.query.orderDates[1];
      }
      $.Req.service($.SvName.CARD_POS_ORDER_QUERY, args, ret => {
        this.orderList = ret.orderList;
        this.orderCount = ret.count;
      }, true);
    },

    resetQuery() {
      this.query = {
        status: null,
        apiType: null,
        orderDates: [],
        tradeNo: null,
        page: 1
      };
      this.cardPosOrderQuery();
    },

    posQrcodeFun(order) {
      this.qrcodeTradeNoUrl = order.tradeNo;
      this.orderAmount = order.paymentAmount;
      this.posTradeNoShow = true;
    },

    orderStatus(tradeNo) {
      const args = {
        tradeNo
      };
      $.Req.service($.SvName.CARD_POS_ORDER_FINISH, args, ret => {
        this.cardPosOrderQuery();
      });
    },

    refundStatus(refundId) {
      const args = {
        refundId
      };
      $.Req.service($.SvName.CARD_POS_ORDER_REFUND_FINISH, args, ret => {
        this.cardPosOrderQuery();
      });
    },

    tradeDetailsFun(orderId) {
      this.orderQuery(orderId, ret => {
        const order = ret.order;
        this.orderItem = ret.order;
        if (ret.refundList && ret.refundList.length) {
          this.refundList = ret.refundList;
        }
        this.dlg.tradeDetailsShow = true;
        this.orderItemList.forEach(item => {
          const { key } = item;
          if ($.Util.isNotEmpty(order[key])) {
            if (item.render) {
              item.value = item.render(order[key]);
            } else {
              item.value = (item.bUnit || "") + order[key] + (item.aUnit || "");
            }
          }
        });
      });
    },

    cardPosOrderRefundFun(orderItem) {
      this.orderRefund.orderId = orderItem.orderId;
      if (!$.Util.isNotEmpty(orderItem.currentTimes)) {
        orderItem.currentTimes = orderItem.usableTimes;
      }
      if (!$.Util.isNotEmpty(orderItem.currentAmount)) {
        orderItem.currentAmount = orderItem.paymentAmount;
      }
      this.dlg.cardPosOrderRefundShow = true;
    },

    orderQuery(orderId, callback) {
      const args = {
        orderId
      };

      $.Req.service($.SvName.CARD_POS_ORDER_QUERY, args, ret => {
        if (callback) {
          callback(ret);
        }
      }, true);
    },

    refundBtn() {
      if (!this.orderRefund.refundPaymentAmount) {
        return $.Msg.error("请输入退款购卡金额");
      }
      $.Dlg.confirm("是否确定进行退款？", () => {
        const args = Object.assign({}, this.orderRefund);
        if (args.refundAmount) {
          args.refundAmount = +(+args.refundAmount).toFixed(2);
        }
        args.refundPaymentAmount = +(+args.refundPaymentAmount).toFixed(2);
        $.Req.service($.SvName.CARD_POS_ORDER_REFUND_CREATE, args, ret => {
          if (ret.errMsg) {
            alert("退款失败，" + ret.errMsg);
          } else {
            $.Msg.success("退款成功！");
            this.dlg.tradeDetailsShow = false;
            this.dlg.cardPosOrderRefundShow = false;
          }
          this.orderQuery(args.orderId);
        }, true);
      });
    },

    refundListFun() {
      this.dlg.refundListShow = true;
    }
  }
});

/***/ }),

/***/ 1430:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

const refundInfoList = [{
  name: "订单时间",
  key: "createTime",
  value: null
}, {
  name: "订单号",
  key: "tradeNo",
  value: null
}, {
  name: "退款订单号",
  key: "refundNo",
  value: null
}, {
  name: "收银宝订单号",
  key: "outtrxid",
  value: null
}, {
  name: "订单状态",
  key: "status",
  value: null,
  render: value => {
    return $.Dict.posRefundStatus[value.status];
  }
}, {
  name: "学员",
  key: "memberName",
  value: null
}, {
  name: "退款购卡金额",
  key: "refundPaymentAmount",
  value: null,
  bUnit: "￥ "
}, {
  name: "退款数量",
  key: "refundTimes",
  value: null,
  render: count => {
    const { cardType, cardTimeType } = count;
    let unit = " 次";
    if (cardType == 4) {
      if (cardTimeType == 1) unit = " 分钟";
      if (cardTimeType == 2) unit = " 小时";
    }
    let value = `${count.refundTimes}${unit}`;
    if (!count.refundTimes) value = '';
    return value;
  }
}, {
  name: "退款充值金额",
  key: "refundAmount",
  value: null,
  bUnit: "￥ "
}, {
  name: "退款购卡天数",
  key: "refundDays",
  value: null,
  aUnit: " 天"
}, {
  name: "退款购卡",
  key: "cardName",
  value: null
}, {
  name: "退款原因",
  key: "refundRemark",
  value: null
}, {
  name: "退款失败原因",
  key: "errMsg",
  value: null
}, {
  name: "操作人",
  key: "updateUname",
  value: null
}, {
  name: "更新时间",
  key: "updateTime",
  value: null
}];
/* harmony default export */ __webpack_exports__["default"] = ({
  components: {},
  props: {},
  data() {
    return {
      g: $,
      query: {
        tradeNo: null,
        refundId: null,
        status: null,
        refundNo: null,
        orderDates: [],
        page: 1
      },
      orderDateOption: {
        shortcuts: [{
          text: "最近一周",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);
            return [start, end];
          }
        }, {
          text: "最近一个月",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);
            return [start, end];
          }
        }, {
          text: "最近三个月",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);
            return [start, end];
          }
        }, {
          text: "最近半年",
          value() {
            const end = new Date();
            const start = new Date();
            start.setTime(start.getTime() - 3600 * 1000 * 24 * 180);
            return [start, end];
          }
        }]
      },
      refundItemList: [],
      dlg: {
        refundDetailsShow: false
      },
      refundRole: $.Util.hasRoleFunc($.Dict.RoleFunc.POS_PAY_REFUND.value),

      refundList: [],
      refundCount: 0
    };
  },
  computed: {},
  watch: {},
  created() {
    if (!this.refundRole) return;
    this.cardPosOrderRefundQuery();
  },
  mounted() {},
  methods: {
    cardPosOrderRefundQuery(page = null) {
      this.query.page = page || 1;
      const args = Object.assign({}, this.query, { page });
      if (this.query.orderDates.length) {
        args.beginDate = this.query.orderDates[0];
        args.endDate = this.query.orderDates[1];
      }
      $.Req.service($.SvName.CARD_POS_ORDER_REFUND_QUERY, args, ret => {
        this.refundList = ret.refundList;
        this.refundCount = ret.count;
      }, true);
    },

    resetQuery() {
      this.query = {
        tradeNo: null,
        refundId: null,
        status: null,
        refundNo: null,
        orderDates: [],
        page: 1
      };
      this.cardPosOrderRefundQuery();
    },
    refundStatus(refundId) {
      const args = {
        refundId
      };
      $.Req.service($.SvName.CARD_POS_ORDER_REFUND_FINISH, args, ret => {
        this.cardPosOrderRefundQuery();
      });
    },

    refundInfoShow(refundId) {
      this.refundItemList = $.Util.deepCopy(refundInfoList);
      this.dlg.refundDetailsShow = true;
      const args = {
        refundId
      };
      $.Req.service($.SvName.CARD_POS_ORDER_REFUND_QUERY, args, ret => {
        this.refundItem = ret.refund;
        this.refundItemList.forEach(item => {
          const { key } = item;
          if ($.Util.isNotEmpty(ret.refund[key])) {
            if (item.render) {
              item.value = (item.bUnit || "") + item.render(ret.refund) + (item.aUnit || "");
            } else {
              item.value = (item.bUnit || "") + ret.refund[key] + (item.aUnit || "");
            }
          }
        });
      }, true);
    }
  }
});

/***/ }),

/***/ 1435:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_stat_stat_card_bills_vue__ = __webpack_require__(1168);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_stat_stat_card_bills_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_stat_stat_card_bills_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default.a, CardBills: __WEBPACK_IMPORTED_MODULE_2__pages_stat_stat_card_bills_vue___default.a },
	data() {
		return {
			g: $,
			menuList: $.PageMenus.cardStat('stat-card-bills')
		};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1436:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },

	data() {
		return {
			g: window.$,
			menuList: $.PageMenus.cardStat('stat-card-by-card'),
			cardDetails: [],
			statDataList: [],
			dateShortcuts: [],
			queryDateShourtcut: null,
			cardDetailQuery: {
				beginDate: null,
				endDate: null
			},
			statQuery: {
				statType: 1,
				dates: [null, null]
			},
			cardPaymentDlg: false,
			cardPaymentCount: null,
			selectCardId: null,
			selectCardName: null,
			memberCardPaymentList: null,

			dateOptions1: {
				disabledDate(date) {
					return date && date.valueOf() > Date.now();
				},
				shortcuts: [{
					text: '最近一周',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);
						return [start, end];
					}
				}, {
					text: '最近一个月',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);
						return [start, end];
					}
				}, {
					text: '最近两个月',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 60);
						return [start, end];
					}
				}, {
					text: '最近三个月',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);
						return [start, end];
					}
				}, {
					text: '最近半年',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 180);
						return [start, end];
					}
				}]
			}
		};
	},

	created() {
		this.initQuery();
		this.initDateShortCuts();
		this.statCardDetail();
	},

	methods: {
		initQuery() {
			let endDate = new Date();
			let beginDate = new Date(endDate.getTime() - 31 * 3600 * 24 * 1000);
			this.statQuery.dates = [beginDate, endDate];
			this.statQuery.dates = [beginDate, endDate];
		},

		statCardDetail() {
			let args = {};
			if (this.cardDetailQuery.dates && this.cardDetailQuery.dates[0] && this.cardDetailQuery.dates[1]) {
				args.beginDate = Date.new(this.cardDetailQuery.dates[0]);
				args.endDate = Date.new(this.cardDetailQuery.dates[1]);
			}
			$.Req.service($.SvName.CARD_DETAIL_STAT, args, ret => {
				this.cardDetails = ret.cardStatList;
			});
		},

		initDateShortCuts() {
			// 获取最近3个月的月份
			let today = new Date();
			let date = new Date();
			let year, month, beginDate, endDate;
			date.setDate(1);
			for (let i = 0; i < 3; i++) {
				year = date.getFullYear();
				month = date.getMonth();
				beginDate = new Date(date.getFullYear(), month, 1);
				if (i === 0) {
					endDate = new Date(today);
				} else {
					endDate = new Date(date.getFullYear(), month + 1, 0);
				}

				this.dateShortcuts.push({
					name: '{0}-{1}月'.format(date.getFullYear(), month + 1),
					beginDate: beginDate,
					endDate: endDate
				});

				date.setMonth(month - 1);
			}
			/*this.dateShortcuts.push({
   	name: today.getFullYear() + '年',
   	beginDate: new Date(today.getFullYear(), 0, 1),
   	endDate : today,
   });*/
		},

		queryCardDetailByShortcuts(idx) {
			this.queryDateShourtcut = idx;
			let d = this.dateShortcuts[idx];
			this.cardDetailQuery.dates = [Date.new(d.beginDate), Date.new(d.endDate)];
			this.statCardDetail();
		},

		queryCardDetailByDates() {
			if (!this.cardDetailQuery.dates || !this.cardDetailQuery.dates[0] || !this.cardDetailQuery.dates[1]) {
				this.queryDateShourtcut = null;
			} else {
				this.queryDateShourtcut = -1;
			}
			this.statCardDetail();
		},

		queryCardDetailWithAll() {
			this.queryDateShourtcut = null;
			this.cardDetailQuery.dates = null;
			this.statCardDetail();
		},

		openCardPaymentDlg(cardId, cardName) {
			this.selectCardId = cardId;
			this.selectCardName = cardName;
			this.queryCardPayment();
			this.cardPaymentDlg = true;
		},

		queryCardPayment(page = null) {
			if (!page) this.cardPaymentCount = null;
			let args = {
				ignoreSum: false,
				cardId: this.selectCardId,
				page: page
			};
			if (this.cardDetailQuery.dates && this.cardDetailQuery.dates[0] && this.cardDetailQuery.dates[1]) {
				args.beginDate = this.cardDetailQuery.dates[0];
				args.endDate = this.cardDetailQuery.dates[1];
			}
			$.Req.service($.SvName.MEMBER_CARD_PAYMENT_QUERY, args, ret => {
				this.memberCardPaymentList = ret.memberCardPaymentList;
				if (page === null) {
					this.cardPaymentCount = ret.count;
				}
				window.scrollTo(0, 0);
			}, true);
		}
	}
});

/***/ }),

/***/ 1437:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },

	computed: {
		chartOption() {
			return {
				grid: { x: 60, y: 50, x2: 40, y2: 30 },
				legend: {
					data: ['会籍卡', '私教卡', '团课卡']
				},

				tooltip: {
					trigger: 'axis',
					formatter: function (a) {
						if (!a || a.length === 0) return '';

						let elements = [];
						for (let e of a) {
							elements.push('{0}：￥{1}'.format(e.seriesName, e.value));
						}
						return a[0].name + '<br>' + elements.join('<br>');
					}
				},
				calculable: false,
				xAxis: [{
					padding: 1,
					type: 'category',
					boundaryGap: false,
					data: this.chartData.xdata
				}],
				yAxis: [{
					type: 'value',
					axisLabel: {
						formatter: '￥{value}'
					}
				}],
				series: [{
					name: '会籍卡',
					type: 'line',
					data: this.chartData.membCardAmtList,
					itemStyle: {
						normal: {
							color: "#F24B52",
							label: { show: true }
						}
					},
					lineStyle: {
						normal: {
							color: "#F24B52"
						}
					}
				}, {
					name: '私教卡',
					type: 'line',
					data: this.chartData.pcCardAmtList,
					itemStyle: {
						normal: {
							color: "#5FD60F"
						}
					},
					lineStyle: {
						normal: {
							color: "#5FD60F"
						}
					}
				}, {
					name: '团课卡',
					type: 'line',
					data: this.chartData.gcCardAmtList,
					itemStyle: {
						normal: {
							color: "#6AB2FF"
						}
					},
					lineStyle: {
						normal: {
							color: "#6AB2FF"
						}
					}
				}]
			};
		}

	},

	data() {
		return {
			g: window.$,
			menuList: $.PageMenus.cardStat('stat-card-by-class'),
			cardDetails: [],
			statDataList: [],
			dateShortcuts: [],
			queryDateShourtcut: null,
			chartData: {
				xdata: [],
				membCardAmtList: [],
				gcCardAmtList: [],
				pcCardAmtList: []
			},
			statQuery: {
				statType: 1,
				dates: [null, null]
			},
			statQueryLoading: false,
			cardPaymentDlg: false,
			cardPaymentCount: null,
			selectCardId: null,
			selectCardName: null,
			memberCardPaymentList: null,
			cardChart: {
				termCardChartData: null,
				timesCardChartData: null,
				valueCardChartData: null
			},
			sum: {
				pcCardAmt: 0,
				gcCardAmt: 0,
				membCardAmt: 0
			},
			dateOptions1: {
				disabledDate(date) {
					return date && date.valueOf() > Date.now();
				},
				shortcuts: [{
					text: '最近一周',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);
						return [start, end];
					}
				}, {
					text: '最近一个月',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);
						return [start, end];
					}
				}, {
					text: '最近两个月',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 60);
						return [start, end];
					}
				}, {
					text: '最近三个月',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);
						return [start, end];
					}
				}, {
					text: '最近半年',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 180);
						return [start, end];
					}
				}]
			}
		};
	},

	created() {
		this.initQuery();
		this.initDateShortCuts();
		this.loadStat($.Dict.DateStatType.BY_DAY);
	},

	methods: {
		initQuery() {
			let endDate = new Date();
			let beginDate = new Date(endDate.getTime() - 31 * 3600 * 24 * 1000);
			this.statQuery.dates = [beginDate, endDate];
			this.statQuery.dates = [beginDate, endDate];
		},

		loadStat(statType) {
			if (statType !== 3) {
				if (!this.statQuery.dates[0] || !this.statQuery.dates[1]) {
					$.Dlg.error('请输入完整的日期范围。');
					return;
				}

				if (statType === 2) {
					let beginDate = this.statQuery.dates[0];
					let endDate = this.statQuery.dates[1];
					if (beginDate.getFullYear() !== endDate.getFullYear()) {
						beginDate.setFullYear(endDate.getFullYear());
						beginDate.setMonth(0);
						beginDate.setDate(1);
						this.statQuery.dates = [beginDate, endDate];
					}
				}
			}

			this.statQuery.statType = statType;
			let args = {
				statType: statType,
				beginDate: Date.new(this.statQuery.dates[0]),
				endDate: Date.new(this.statQuery.dates[1])
			};

			this.statQueryLoading = true;
			$.Req.service($.SvName.CARD_AMOUNT_STAT, args, ret => {
				this.statQueryLoading = false;
				let membCardAmtMap = {},
				    pcCardAmtMap = {},
				    gcCardAmtMap = {},
				    dateid;
				let xdata = [],
				    membCardAmtList = [],
				    pcCardAmtList = [],
				    gcCardAmtList = [];
				this.statDataList = [];
				this.sum.membCardAmt = 0;
				this.sum.pcCardAmt = 0;
				this.sum.gcCardAmt = 0;
				for (let c of ret.membCardStatList) {
					this.sum.membCardAmt += c.amount ? c.amount : 0;
				}
				for (let c of ret.pcCardStatList) {
					this.sum.pcCardAmt += c.amount ? c.amount : 0;
				}
				for (let c of ret.gcCardStatList) {
					this.sum.gcCardAmt += c.amount ? c.amount : 0;
				}
				if (statType === 1) {
					// stat by day
					for (let c of ret.membCardStatList) {
						dateid = Date.new(c.createDate).format('yyyyMMdd');
						membCardAmtMap[dateid] = c.amount;
					}
					for (let c of ret.pcCardStatList) {
						dateid = new Date(c.createDate).format('yyyyMMdd');
						pcCardAmtMap[dateid] = c.amount;
					}
					for (let c of ret.gcCardStatList) {
						dateid = new Date(c.createDate).format('yyyyMMdd');
						gcCardAmtMap[dateid] = c.amount;
					}
					for (let bt = args.beginDate; bt <= args.endDate; bt = new Date(bt.getTime() + 3600 * 24 * 1000)) {
						xdata.push(bt.format('M/d'));
						dateid = bt.format('yyyyMMdd');
						membCardAmtList.push(membCardAmtMap[dateid] ? membCardAmtMap[dateid] : 0);
						pcCardAmtList.push(pcCardAmtMap[dateid] ? pcCardAmtMap[dateid] : 0);
						gcCardAmtList.push(gcCardAmtMap[dateid] ? gcCardAmtMap[dateid] : 0);

						this.statDataList.push({
							date: bt.format('yyyy-MM-dd'),
							c0: membCardAmtMap[dateid],
							c1: gcCardAmtMap[dateid],
							c2: pcCardAmtMap[dateid]
						});
					}
					this.statDataList.reverse();
				} else if (statType === 2) {
					// stat by week
					for (let c of ret.membCardStatList) {
						membCardAmtMap[c.createWeek] = c.amount;
					}
					for (let c of ret.pcCardStatList) {
						pcCardAmtMap[c.createWeek] = c.amount;
					}
					for (let c of ret.gcCardStatList) {
						gcCardAmtMap[c.createWeek] = c.amount;
					}
					let beginWeek = $.Util.getYearWeek(args.beginDate);
					let endWeek = $.Util.getYearWeek(args.endDate);
					for (let w = beginWeek; w <= endWeek; w++) {
						xdata.push('{0}周'.format(w));
						membCardAmtList.push(membCardAmtMap[w] ? membCardAmtMap[w] : 0);
						pcCardAmtList.push(pcCardAmtMap[w] ? pcCardAmtMap[w] : 0);
						gcCardAmtList.push(gcCardAmtMap[w] ? gcCardAmtMap[w] : 0);

						this.statDataList.push({
							date: '{0}周'.format(w), c0: membCardAmtMap[w], c1: gcCardAmtMap[w], c2: pcCardAmtMap[w]
						});
					}
					this.statDataList.reverse();
				} else if (statType === 3) {
					// stat by month
					let year,
					    month,
					    monthid,
					    dates = [];
					for (let c of ret.membCardStatList) {
						year = parseInt(c.createMonth / 100);
						month = c.createMonth % 100;
						monthid = '{0}-{1}'.format(year, month);
						membCardAmtMap[monthid] = c.amount;
						if (!dates.contains(monthid)) dates.push(monthid);
					}
					for (let c of ret.pcCardStatList) {
						year = parseInt(c.createMonth / 100);
						month = c.createMonth % 100;
						monthid = '{0}-{1}'.format(year, month);
						pcCardAmtMap[monthid] = c.amount;
						if (!dates.contains(monthid)) dates.push(monthid);
					}
					for (let c of ret.gcCardStatList) {
						year = parseInt(c.createMonth / 100);
						month = c.createMonth % 100;
						monthid = '{0}-{1}'.format(year, month);
						gcCardAmtMap[monthid] = c.amount;
						if (!dates.contains(monthid)) dates.push(monthid);
					}
					dates.reverse();
					for (let d of dates) {
						xdata.push(d);
						membCardAmtList.push(membCardAmtMap[d] ? membCardAmtMap[d] : 0);
						pcCardAmtList.push(pcCardAmtMap[d] ? pcCardAmtMap[d] : 0);
						gcCardAmtList.push(gcCardAmtMap[d] ? gcCardAmtMap[d] : 0);
						this.statDataList.push({
							date: d + '月', c0: membCardAmtMap[d], c1: gcCardAmtMap[d], c2: pcCardAmtMap[d]
						});
					}
				}

				this.chartData.xdata = xdata;
				this.chartData.membCardAmtList = membCardAmtList;
				this.chartData.pcCardAmtList = pcCardAmtList;
				this.chartData.gcCardAmtList = gcCardAmtList;
			}, false, err => {
				this.statQueryLoading = false;
				$.Dlg.error(err);
			});
		},

		initDateShortCuts() {
			// 获取最近3个月的月份
			let today = new Date();
			let date = new Date();
			let year, month, beginDate, endDate;
			date.setDate(1);
			for (let i = 0; i < 3; i++) {
				year = date.getFullYear();
				month = date.getMonth();
				beginDate = new Date(date.getFullYear(), month, 1);
				if (i === 0) {
					endDate = new Date(today);
				} else {
					endDate = new Date(date.getFullYear(), month + 1, 0);
				}

				this.dateShortcuts.push({
					name: '{0}-{1}月'.format(date.getFullYear(), month + 1),
					beginDate: beginDate,
					endDate: endDate
				});

				date.setMonth(month - 1);
			}
			/*this.dateShortcuts.push({
   	name: today.getFullYear() + '年',
   	beginDate: new Date(today.getFullYear(), 0, 1),
   	endDate : today,
   });*/
		}
	}
});

/***/ }),

/***/ 1438:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },

	computed: {
		termCardStatOption() {
			return {
				tooltip: {
					trigger: 'item',
					formatter: "{a} <br/>{b} : {c}元"
				},
				color: ['#3693C9', '#0E76B2'],
				toolbox: {
					show: true,
					feature: {
						mark: { show: true },
						dataView: { show: true, readOnly: false },
						magicType: {
							show: true,
							type: ['pie', 'funnel'],
							option: {
								funnel: {
									x: '25%',
									width: '50%',
									funnelAlign: 'left',
									max: 1548
								}
							}
						},
						restore: { show: true },
						saveAsImage: { show: true }
					}
				},
				calculable: true,
				series: [{
					name: '期限卡',
					type: 'pie',
					radius: '55%',
					center: ['50%', '50%'],
					data: this.cardChart.termCardChartData
				}]
			};
		},

		timesCardStatOption() {
			return {
				tooltip: {
					trigger: 'item',
					formatter: "{a} <br/>{b} : {c}元"
				},
				color: ['#40A240', '#3A763A'],
				toolbox: {
					show: true,
					feature: {
						mark: { show: true },
						dataView: { show: true, readOnly: false },
						magicType: {
							show: true,
							type: ['pie', 'funnel'],
							option: {
								funnel: {
									x: '25%',
									width: '50%',
									funnelAlign: 'left',
									max: 1548
								}
							}
						},
						restore: { show: true },
						saveAsImage: { show: true }
					}
				},
				calculable: true,
				series: [{
					name: '次数卡',
					type: 'pie',
					radius: '55%',
					center: ['50%', '50%'],
					data: this.cardChart.timesCardChartData
				}]
			};
		},

		valueCardStatOption() {
			return {
				tooltip: {
					trigger: 'item',
					formatter: "{a} <br/>{b} : {c}元"
				},
				color: ['#E56462', '#D64D4B'],
				toolbox: {
					show: true,
					feature: {
						mark: { show: true },
						dataView: { show: true, readOnly: false },
						magicType: {
							show: true,
							type: ['pie', 'funnel'],
							option: {
								funnel: {
									x: '25%',
									width: '50%',
									funnelAlign: 'left',
									max: 1548
								}
							}
						},
						restore: { show: true },
						saveAsImage: { show: true }
					}
				},
				calculable: true,
				series: [{
					name: '储值卡',
					type: 'pie',
					radius: '55%',
					center: ['50%', '50%'],
					data: this.cardChart.valueCardChartData
				}]
			};
		}
	},

	data() {
		return {
			g: window.$,
			menuList: $.PageMenus.cardStat('stat-card-by-type'),
			statDataList: [],
			dateShortcuts: [],
			queryDateShourtcut: null,
			cardDetailQuery: {
				beginDate: null,
				endDate: null
			},
			chartData: {
				xdata: [],
				membCardAmtList: [],
				gcCardAmtList: [],
				pcCardAmtList: []
			},
			statQuery: {
				statType: 1,
				dates: [null, null]
			},
			cardPaymentDlg: false,
			cardPaymentCount: null,
			selectCardId: null,
			selectCardName: null,
			memberCardPaymentList: null,
			cardAmountSum: {
				termCardTotalAmount: null,
				termCardLeftAmount: null,
				termCardUnusedAmount: null,
				termCardUsedAmount: null,

				timesCardTotalAmount: null,
				timesCardLeftAmount: null,
				timesCardUsedAmount: null,

				valueCardTotalAmount: null,
				valueCardLeftAmount: null,
				valueCardUsedAmount: null
			},
			cardChart: {
				termCardChartData: null,
				timesCardChartData: null,
				valueCardChartData: null
			},
			queryByDates: null,
			queryDates: [null, null],
			queryCardClass: null,
			queryDateOptions: {
				disabledDate(date) {
					return date && date.valueOf() > Date.now();
				},
				shortcuts: []
			},
			acquiredOptions: [true, null, null]
		};
	},

	created() {
		this.initDateShortCuts();
		this.sumCardAmount();
	},

	methods: {
		initDateShortCuts() {
			// 获取最近6个月的月份
			const MONTHS = 6;
			let today = new Date();
			let date = new Date();
			let year, month, beginDate, endDate;
			date.setDate(1);
			for (let i = 0; i < MONTHS; i++) {
				year = date.getFullYear();
				month = date.getMonth();
				beginDate = new Date(date.getFullYear(), month, 1);
				if (i === 0) {
					endDate = new Date(today);
				} else {
					endDate = new Date(date.getFullYear(), month + 1, 0);
				}

				this.queryDateOptions.shortcuts.push({
					text: '{0}/{1}月'.format(date.getFullYear(), month + 1),
					dateValues: [Date.new(beginDate), Date.new(endDate)],
					value() {
						return this.dateValues;
					}
				});

				date.setMonth(month - 1);
			}
		},

		reset() {
			this.queryByDates = null;
			this.queryCardClass = null;
			this.queryDates = [null, null];
			this.sumCardAmount();
		},

		sumCardAmount() {
			let args = {};
			if ($.Util.isNotEmpty(this.queryCardClass)) args.cardClass = this.queryCardClass;
			if (this.acquiredOptions[1]) args.isStatOutdateCard = true;
			if (this.acquiredOptions[2]) args.isStatDiscardedCard = true;
			$.Req.service($.SvName.CARD_AMOUNT_SUM, args, ret => {
				this.cardAmountSum = ret;
				this.cardAmountSum.cardTotalAmountSum = $.Util.round((ret.termCardTotalAmount ? ret.termCardTotalAmount : 0) + (ret.timesCardTotalAmount ? ret.timesCardTotalAmount : 0) + (ret.valueCardTotalAmount ? ret.valueCardTotalAmount : 0));
				this.cardAmountSum.cardUsedAmountSum = $.Util.round((ret.termCardUsedAmount ? ret.termCardUsedAmount : 0) + (ret.acquiredTimesCardAmount ? ret.acquiredTimesCardAmount : 0) + (ret.acquiredValueCardAmount ? ret.acquiredValueCardAmount : 0));
				this.cardAmountSum.cardLeftAmountSum = $.Util.round((ret.termCardLeftAmount ? ret.termCardLeftAmount : 0) + (ret.termCardUnusedAmount ? ret.termCardUnusedAmount : 0) + (ret.timesCardLeftAmount ? ret.timesCardLeftAmount : 0) + (ret.valueCardLeftAmount ? ret.valueCardLeftAmount : 0));

				let termCardUsedRate = ret.termCardUsedAmount / (ret.termCardUsedAmount + ret.termCardLeftAmount + ret.termCardUnusedAmount);
				this.cardChart.termCardChartData = [{ name: '已实现收入\n\n({0}%)'.format($.Util.round(termCardUsedRate * 100)), value: ret.termCardUsedAmount }, { name: '未实现收入\n\n({0})%'.format($.Util.round((1 - termCardUsedRate) * 100)), value: $.Util.round(ret.termCardLeftAmount + ret.termCardUnusedAmount) }];
				let acquiredTimesCardRate = ret.acquiredTimesCardAmount / (ret.acquiredTimesCardAmount + ret.timesCardLeftAmount);
				this.cardChart.timesCardChartData = [{ name: '已实现收入\n\n({0}%)'.format($.Util.round(acquiredTimesCardRate * 100)), value: ret.acquiredTimesCardAmount }, { name: '未实现收入\n\n({0}%)'.format($.Util.round((1 - acquiredTimesCardRate) * 100)), value: ret.timesCardLeftAmount }];
				let acquiredValueCardRate = ret.acquiredValueCardAmount / (ret.acquiredValueCardAmount + ret.valueCardLeftAmount);
				this.cardChart.valueCardChartData = [{ name: '已实现收入\n\n({0}%)'.format($.Util.round(acquiredValueCardRate * 100)), value: ret.acquiredValueCardAmount }, { name: '未实现收入\n\n({0}%)'.format($.Util.round((1 - acquiredValueCardRate) * 100)), value: ret.valueCardLeftAmount }];
			});
		},

		submitStat() {
			if (this.queryDates.length == 2 && (this.queryDates[0] || this.queryDates[1])) {
				if (!this.queryDates[0] || !this.queryDates[1]) {
					$.Msg.error('请输入完整的查询日期范围');
					return;
				}
				if ($.Util.calcDateDiffDays(this.queryDates[1], this.queryDates[0]) > 180) {
					$.Dlg.error('查询日期范围不能超过180天');
					return;
				}
			} else {
				this.queryByDates = null;
				this.sumCardAmount();
				return;
			}

			let args = { beginDate: this.queryDates[0], endDate: this.queryDates[1] };
			if ($.Util.isNotEmpty(this.queryCardClass)) args.cardClass = this.queryCardClass;
			if (this.acquiredOptions[1]) args.isStatOutdateCard = true;
			if (this.acquiredOptions[2]) args.isStatDiscardedCard = true;
			$.Req.service($.SvName.CARD_AMOUNT_SUM, args, ret => {
				this.queryByDates = true;
				this.cardAmountSum = ret;
				this.cardAmountSum.cardTotalAmountSum = $.Util.round((ret.termCardTotalAmount ? ret.termCardTotalAmount : 0) + (ret.timesCardTotalAmount ? ret.timesCardTotalAmount : 0) + (ret.valueCardTotalAmount ? ret.valueCardTotalAmount : 0));
				this.cardAmountSum.cardUsedAmountSum = $.Util.round((ret.termCardUsedAmount ? ret.termCardUsedAmount : 0) + (ret.acquiredTimesCardAmount ? ret.acquiredTimesCardAmount : 0) + (ret.acquiredValueCardAmount ? ret.acquiredValueCardAmount : 0));
			}, true);
		}
	}
});

/***/ }),

/***/ 1439:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_coach_vue__ = __webpack_require__(1193);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_coach_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stat_coach_vue__);
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, CoachStat: __WEBPACK_IMPORTED_MODULE_1__stat_coach_vue___default.a },
	data() {
		return {
			menuList: $.PageMenus.shopStaffStat('stat-group-coach')
		};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1440:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_course_vue__ = __webpack_require__(1131);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_course_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stat_course_vue__);
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, CourseStat: __WEBPACK_IMPORTED_MODULE_1__stat_course_vue___default.a },
	data() {
		return {
			menuList: $.PageMenus.shopCourseStat('stat-group-course')
		};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1441:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_course_vue__ = __webpack_require__(1131);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_course_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stat_course_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_lesson_list_vue__ = __webpack_require__(1166);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_lesson_list_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_member_member_lesson_list_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, CourseStat: __WEBPACK_IMPORTED_MODULE_1__stat_course_vue___default.a, MemberLessonList: __WEBPACK_IMPORTED_MODULE_2__pages_member_member_lesson_list_vue___default.a },
	data() {
		return {
			g: $,
			dateShortcuts: [],
			queryDateShourtcut: 0,
			query: {
				dates: [],
				statBy: 1,
				dates2: []
			},
			statInSum: {},
			statList: null,
			lessonSum: {},
			groupBy: 'day',
			memberLessonListDlg: null,
			queryLessonBeginDate: null,
			queryLessonEndDate: null,
			memberLessonListDlgTit: '',
			dateOptions1: {
				shortcuts: [{
					text: '最近一周',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);
						return [start, end];
					}
				}, {
					text: '最近30天',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);
						return [start, end];
					}
				}, {
					text: '最近60天',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 60);
						return [start, end];
					}
				}, {
					text: '最近90天',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);
						return [start, end];
					}
				}, {
					text: '最近180天',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 180);
						return [start, end];
					}
				}]
			}
		};
	},

	created() {
		this.initQuery();
		this.initDateShortCuts();
		this.statGlByDateShortcuts(0);
		this.statLessson(1);
	},

	methods: {
		initDateShortCuts() {
			// 获取最近*个月的月份
			let today = new Date();
			let date = new Date();
			let year, month, beginDate, endDate;
			date.setDate(1);
			for (let i = 0; i < 6; i++) {
				year = date.getFullYear();
				month = date.getMonth();
				beginDate = new Date(date.getFullYear(), month, 1);
				if (i === 0) {
					endDate = new Date(today);
				} else {
					endDate = new Date(date.getFullYear(), month + 1, 0);
				}

				this.dateShortcuts.push({
					name: '{0}-{1}月'.format(date.getFullYear(), month + 1),
					beginDate: beginDate,
					endDate: endDate
				});

				date.setMonth(month - 1);
			}
		},

		initQuery() {
			let endDate = new Date();
			let beginDate = new Date();
			beginDate.setDate(1);
			this.query.dates = [beginDate, endDate];
			this.query.dates2 = [beginDate, endDate];
		},

		statGlByDateShortcuts(idx) {
			this.queryDateShourtcut = idx;
			this.query.dates[0] = this.dateShortcuts[idx].beginDate;
			this.query.dates[1] = this.dateShortcuts[idx].endDate;
			this.statGroupLessonInSum();
		},

		statGroupLessonInSum() {
			if (!this.query.dates || !this.query.dates[0] || !this.query.dates[1]) {
				$.Dlg.error('请设置正确的日期范围');
				return;
			}
			let args = {
				beginDate: Date.new(this.query.dates[0]),
				endDate: Date.new(this.query.dates[1])
			};
			$.Req.service($.SvName.GROUP_LESSON_STAT, args, ret => {
				if (ret.attendanceStatList) {
					this.statInSum = ret.attendanceStatList[0];
				} else {
					this.statInSum = { lessonCnt: 0, bookingCnt: 0, checkinCnt: 0, memberCnt: 0 };
				}
			}, true);
		},

		statLessson(statBy) {
			if (!this.query.dates2 || !this.query.dates2[0] || !this.query.dates2[1]) {
				$.Dlg.error('请设置正确的日期范围');
				return;
			}
			if (statBy) {
				this.query.statBy = statBy;
				if (statBy === 3) {
					let date = Date.new(this.query.dates2[0]);
					date.setMonth(0);
					this.query.dates2 = [date, this.query.dates2[1]];
				} else {
					this.initQuery();
				}
			}
			let args = {
				statBy: this.query.statBy,
				beginDate: Date.new(this.query.dates2[0]),
				endDate: Date.new(this.query.dates2[1]),
				needCardCostFee: true
			};
			if (args.statBy === 1 && $.Util.calcDateDiffDays(this.query.dates2[1], this.query.dates2[0]) > 180) {
				$.Dlg.error('日期范围不能超过180天');
				return;
			}
			$.Req.service($.SvName.GROUP_LESSON_STAT, args, ret => {
				this.statList = ret.attendanceStatList;
				this.lessonSum.sumOfLessonCnt = ret.sumOfLessonCnt;
				this.lessonSum.sumOfBookingCnt = ret.sumOfBookingCnt;
				this.lessonSum.sumOfCheckinCnt = ret.sumOfCheckinCnt;
				this.lessonSum.sumOfMemberCnt = ret.sumOfMemberCnt;
				this.lessonSum.sumOfCardCost = ret.sumOfCardCostFee;
			}, true);
		},

		viewMemberLessonListByMonth(lesonMonth) {
			let beginDate = Date.new($.Util.formatMonth(lesonMonth) + '-1');
			let endDate = new Date(beginDate.getFullYear(), beginDate.getMonth() + 1, 0);
			this.queryLessonBeginDate = beginDate;
			this.queryLessonEndDate = Date.new(endDate);
			this.memberLessonListDlgTit = $.Util.formatMonth(lesonMonth) + '月';
			this.memberLessonListDlg = true;
		},

		viewMemberLessonListByDate(lessonDate) {
			this.queryLessonBeginDate = Date.new(lessonDate);
			this.queryLessonEndDate = Date.new(lessonDate);
			this.memberLessonListDlgTit = $.Util.formatDate(lessonDate);
			this.memberLessonListDlg = true;
		}
	}
});

/***/ }),

/***/ 1442:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_member_vue__ = __webpack_require__(1125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_member_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stat_member_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberStat: __WEBPACK_IMPORTED_MODULE_1__stat_member_vue___default.a },
	data() {
		return {
			menuList: $.PageMenus.shopMemberStat('stat-member-checkin-days')
		};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1443:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_member_vue__ = __webpack_require__(1125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_member_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stat_member_vue__);
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberStat: __WEBPACK_IMPORTED_MODULE_1__stat_member_vue___default.a },
	data() {
		return {
			menuList: $.PageMenus.shopMemberStat('stat-member-entry')
		};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1444:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_member_vue__ = __webpack_require__(1125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_member_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stat_member_vue__);
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberStat: __WEBPACK_IMPORTED_MODULE_1__stat_member_vue___default.a },
	data() {
		return {
			menuList: $.PageMenus.shopMemberStat('stat-member-lesson')
		};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1445:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_time_select__ = __webpack_require__(405);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_sys_time_select___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_sys_time_select__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { TimeSelect: __WEBPACK_IMPORTED_MODULE_1__components_sys_time_select___default.a, PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
	data() {
		return {
			menuList: $.PageMenus.shopMemberStat('stat-member-more'),
			query: {
				beginDateForSexStat: null,
				endDateForSexStat: null,
				beginDateForAgeStat: null,
				endDateForAgeStat: null,
				ageSpanType: 1,
				memberTypeForSexStat: 0,
				memberTypeForAgeStat: 0
			},
			dateOptions: {
				disabledDate(date) {
					return date && date.valueOf() > Date.now();
				}
			},
			dateShortcuts: [],
			queryDateShourtcut: null,
			sexStatData: null,
			ageNames: [],
			ageStatData: [],
			ageStatList: null
		};
	},

	computed: {
		memberSexStatOption() {
			return {
				title: {
					text: '',
					x: 'center'
				},
				tooltip: {
					trigger: 'item',
					formatter: "{a} <br/>{b}"
				},
				legend: {
					orient: 'vertical',
					x: 'left',
					data: this.sexNames
				},
				toolbox: {
					show: true,
					feature: {
						mark: { show: true },
						dataView: { show: true, readOnly: false },
						magicType: {
							show: true,
							type: ['pie', 'funnel'],
							option: {
								funnel: {
									x: '25%',
									width: '50%',
									funnelAlign: 'left',
									max: 1548
								}
							}
						},
						restore: { show: true },
						saveAsImage: { show: true }
					}
				},
				calculable: true,
				series: [{
					name: '性别',
					type: 'pie',
					radius: '75%',
					center: ['50%', '55%'],
					data: this.sexStatData
				}]
			};
		},

		memberAgeStatOption() {
			return {
				color: ['#ffaa00'],
				legend: {
					orient: 'vertical',
					x: 'left',
					data: this.ageNames
				},
				tooltip: {
					trigger: 'item',
					formatter: "{b} {c}个"
				},
				xAxis: {
					type: 'category',
					data: this.ageNames
				},
				yAxis: {
					type: 'value'
				},
				series: [{
					data: this.ageStatData,
					type: 'bar',
					barWidth: '40px'
				}]
			};
		}
	},

	created() {
		if ($.Util.cookie.get($.Conf.CookieKeys.STAT_MEMBER_AGE_SAPN_TYPE)) {
			this.query.ageSpanType = parseInt($.Util.cookie.get($.Conf.CookieKeys.STAT_MEMBER_AGE_SAPN_TYPE));
		}
		this.statMemberSex();
		this.statMemberAge();
	},

	methods: {
		statMemberSex() {
			let args = {
				statType: 6,
				beginDate: this.query.beginDateForSexStat,
				endDate: this.query.endDateForSexStat,
				memberType: this.query.memberTypeForSexStat
			};
			$.Req.service($.SvName.MEMBER_STAT, args, ret => {
				this.sexNames = [];
				this.sexStatData = [];
				let memberCnt = 0;
				for (let s of ret.sexStatList) {
					memberCnt += s.count;
				}
				for (let s of ret.sexStatList) {
					let sname = "{0} ({1}个，{2}%)".format(s.flag ? '男' : '女', s.count, $.Util.round(s.count * 100 / memberCnt));
					this.sexNames.push(sname);
					this.sexStatData.push({
						value: s.count, name: sname
					});
				}
			}, true);
		},

		statMemberAge() {
			let args = {
				statType: 7,
				ageSpanType: this.query.ageSpanType,
				beginDate: this.query.beginDateForAgeStat,
				endDate: this.query.endDateForAgeStat,
				memberType: this.query.memberTypeForAgeStat
			};
			$.Req.service($.SvName.MEMBER_STAT, args, ret => {
				this.ageNames = [];
				this.ageStatData = [];
				let memberCnt = 0;
				for (let s of ret.ageStatList) {
					memberCnt += s.count;
				}
				for (let s of ret.ageStatList) {
					s.rate = $.Util.round(s.count * 100 / memberCnt);
					this.ageNames.push(s.flagName);
					this.ageStatData.push(s.count);
				}
				this.ageStatList = ret.ageStatList;
			}, true);
		},

		changeMemberAgeSpan(val) {
			$.Util.cookie.set($.Conf.CookieKeys.STAT_MEMBER_AGE_SAPN_TYPE, val, 365);
			this.statMemberAge();
		}
	}
});

/***/ }),

/***/ 1446:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_member_vue__ = __webpack_require__(1125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_member_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stat_member_vue__);
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberStat: __WEBPACK_IMPORTED_MODULE_1__stat_member_vue___default.a },
	data() {
		return {
			menuList: $.PageMenus.shopMemberStat('stat-member-payment')
		};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1447:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_member_vue__ = __webpack_require__(1125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_member_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stat_member_vue__);
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberStat: __WEBPACK_IMPORTED_MODULE_1__stat_member_vue___default.a },
	data() {
		return {
			menuList: $.PageMenus.shopMemberStat('stat-member-points')
		};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1448:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_1__pages_member_member_base_info_vue___default.a },
	data() {
		return {
			g: $,
			menuList: $.PageMenus.shopMemberStat('stat-member-private-lesson'),
			memberPlStatCount: null,
			viewMemberDlg: false,
			selectMemberId: null,
			stat: {},
			memberPlStatList: null,
			query: {
				minLeftCount: null,
				maxLeftCount: null,
				unused: null
			}
		};
	},

	created() {
		this.statMemberPl();
	},

	methods: {
		statMemberPl(page = null) {
			this.query.unused = null;
			let args = {
				page: page,
				minLeftCount: this.query.minLeftCount,
				maxLeftCount: this.query.maxLeftCount
			};
			if (!page && this.query.minLeftCount === null) {
				this.memberPlStatCount = null;
				args.initMinLeftCount = 1;
				args.initMaxLeftCount = 5;
			}

			$.Req.service($.SvName.MEMBER_PL_STAT, args, ret => {
				if (!page && this.query.minLeftCount === null) {
					this.stat = ret;
				}
				this.memberPlStatList = ret.memberPlStatList;
				if (!page) {
					this.memberPlStatCount = ret.count;
				}
			});
		},

		viewMember(memberId) {
			this.selectMemberId = memberId;
			this.viewMemberDlg = true;
		},

		queryByLeftCount(minLeft, maxLeft, curCnt) {
			if (!curCnt) {
				return;
			}
			this.query.minLeftCount = minLeft;
			this.query.maxLeftCount = maxLeft;
			this.statMemberPl();
		},

		queryUnusedMemberPl(page = null) {
			this.query.unused = true;
			this.query.minLeftCount = null;
			this.query.maxLeftCount = null;
			if (!page) {
				this.memberPlStatCount = null;
			}
			let args = { page: page, unused: true };
			$.Req.service($.SvName.MEMBER_PL_STAT, args, ret => {
				this.memberPlStatList = ret.memberPlStatList;
				if (!page) {
					this.memberPlStatCount = ret.count;
				}
			});
		}
	}
});

/***/ }),

/***/ 1449:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
	data() {
		return {
			menuList: $.PageMenus.shopMemberStat('stat-member-source'),
			query: {
				beginDate: null,
				endDate: null
			},
			dateOptions: {
				disabledDate(date) {
					return date && date.valueOf() > Date.now();
				}
			},
			dateShortcuts: [],
			statList: null,
			memberCount: null,
			queryDateShourtcut: null,
			custSourceNames: [],
			custSourceChartData: null
		};
	},

	computed: {
		memberSourceStatOption() {
			return {
				title: {
					text: '新会员来源统计',
					x: 'center'
				},
				tooltip: {
					trigger: 'item',
					formatter: "{a} <br/>{b} : {c}"
				},
				legend: {
					orient: 'vertical',
					x: 'left',
					data: this.custSourceNames
				},
				toolbox: {
					show: true,
					feature: {
						mark: { show: true },
						dataView: { show: true, readOnly: false },
						magicType: {
							show: true,
							type: ['pie', 'funnel'],
							option: {
								funnel: {
									x: '25%',
									width: '50%',
									funnelAlign: 'left',
									max: 1548
								}
							}
						},
						restore: { show: true },
						saveAsImage: { show: true }
					}
				},
				calculable: true,
				series: [{
					name: '访问来源',
					type: 'pie',
					radius: '75%',
					center: ['50%', '55%'],
					data: this.custSourceChartData
				}]
			};
		}
	},

	created() {
		this.initQuery();
		this.initDateShortCuts();
		this.statCustSource();
	},

	methods: {
		initQuery() {
			this.query.endDate = new Date();
			this.query.beginDate = new Date(this.query.endDate.getTime() - 30 * 3600 * 24 * 1000);
		},

		initDateShortCuts() {
			// 获取最近3个月的月份
			let today = new Date();
			let date = new Date();
			let year, month, beginDate, endDate;
			date.setDate(1);
			for (let i = 0; i < 3; i++) {
				year = date.getFullYear();
				month = date.getMonth();
				beginDate = new Date(date.getFullYear(), month, 1);
				if (i === 0) {
					endDate = new Date(today);
				} else {
					endDate = new Date(date.getFullYear(), month + 1, 0);
				}

				this.dateShortcuts.push({
					name: '{0}-{1}月'.format(date.getFullYear(), month + 1),
					beginDate: beginDate,
					endDate: endDate
				});

				date.setMonth(month - 1);
			}
			this.dateShortcuts.push({
				name: today.getFullYear() + '年',
				beginDate: new Date(today.getFullYear(), 0, 1),
				endDate: today
			});
		},

		statByDateShortcuts(idx) {
			this.queryDateShourtcut = idx;
			let d = this.dateShortcuts[idx];
			this.query.beginDate = Date.new(d.beginDate);
			this.query.endDate = Date.new(d.endDate);
			this.statCustSource();
		},

		statCustSource() {
			let args = {
				beginDate: this.query.beginDate,
				endDate: this.query.endDate
			};
			$.Req.service($.SvName.CUST_SOURCE_STAT, args, ret => {
				this.statList = ret.custSourceStatList;
				this.memberCount = ret.count;
				this.custSourceNames = [];
				this.custSourceChartData = [];
				for (let s of this.statList) {
					let sname = "{0} ({1}%)".format(s.sourceName ? s.sourceName : '无', (s.rate * 100).toFixed(1));
					this.custSourceNames.push(sname);
					this.custSourceChartData.push({
						value: s.count, name: sname
					});
				}
			}, true);
		}

	}
});

/***/ }),

/***/ 1450:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },

	computed: {
		memberCntChartOption() {
			return {
				grid: { x: 45, y: 50, x2: 30, y2: 30 },
				legend: {
					data: ['新增会员数']
				},
				tooltip: {
					trigger: 'axis',
					formatter: "{b} : 新入会员{c} 人"
				},
				calculable: false,
				xAxis: [{
					padding: 1,
					type: 'category',
					boundaryGap: false,
					data: this.memberCntChartData.xdata
				}],
				yAxis: [{
					type: 'value',
					axisLabel: {
						formatter: '{value}'
					}
				}],
				series: [{
					name: '新增会员数',
					type: 'line',
					data: this.memberCntChartData.ydata,
					itemStyle: {
						normal: {
							color: "#86C440",
							label: { show: true }
						}
					},
					lineStyle: {
						normal: {
							color: "#86C440"
						}
					}
				}]
			};
		},

		memberEntryChartOption() {
			return {
				grid: { x: 45, y: 50, x2: 30, y2: 30 },
				legend: {
					data: ['入场人次']
				},
				tooltip: {
					trigger: 'axis',
					formatter: "{b} : 入场{c} 人次"
				},
				calculable: false,
				xAxis: [{
					padding: 1,
					type: 'category',
					boundaryGap: false,
					data: this.memberEntryChartData.xdata
				}],
				yAxis: [{
					type: 'value',
					axisLabel: {
						formatter: '{value}'
					}
				}],
				series: [{
					name: '入场人次',
					type: 'line',
					data: this.memberEntryChartData.ydata,
					itemStyle: {
						normal: {
							label: { show: true }
						}
					}
				}]
			};
		},

		memberCntForCpChartOption() {
			return {
				grid: { x: 45, y: 50, x2: 30, y2: 30 },
				legend: {
					data: ['续卡会员数']
				},
				tooltip: {
					trigger: 'axis',
					formatter: "{b} : 续卡会员 {c} 人"
				},
				calculable: false,
				xAxis: [{
					padding: 1,
					type: 'category',
					boundaryGap: false,
					data: this.memberCntForCpChartData.xdata
				}],
				yAxis: [{
					type: 'value',
					axisLabel: {
						formatter: '{value}'
					}
				}],
				series: [{
					name: '续卡会员数',
					type: 'line',
					data: this.memberCntForCpChartData.ydata,
					itemStyle: {
						normal: {
							color: "#5BAEFB",
							label: { show: true }
						}
					},
					lineStyle: {
						normal: {
							color: "#5BAEFB"
						}
					}
				}]
			};
		}
	},

	data() {
		return {
			g: $,
			menuList: $.PageMenus.shopMemberStat('shop-stat-member'),
			queryShopIdx: -1,
			memberEntryChartData: {
				xdata: [],
				ydata: []
			},
			memberEntryQuery: {
				statType: 1,
				dates: [null, null]
			},
			mentryQueryLoading: false,

			memberCntChartData: {
				xdata: [],
				ydata: []
			},
			memberCntQuery: {
				statType: 1,
				dates: [null, null]
			},
			mcntQueryLoading: false,

			memberCntForCpChartData: {
				xdata: [],
				ydata: []
			},
			memberCntForCpQuery: {
				statType: 1,
				dates: [null, null]
			},
			mcntForCpQueryLoading: false,
			dateOptions1: {
				disabledDate(date) {
					return date && date.valueOf() > Date.now();
				},
				shortcuts: [{
					text: '最近一周',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);
						return [start, end];
					}
				}, {
					text: '最近一个月',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);
						return [start, end];
					}
				}, {
					text: '最近两个月',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 30 * 2);
						return [start, end];
					}
				}, {
					text: '最近三个月',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 30 * 3);
						return [start, end];
					}
				}, {
					text: '最近六个月',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 30 * 6);
						return [start, end];
					}
				}]
			}

		};
	},

	created() {
		this.initQuery();
		this.loadMemberEntryStat($.Dict.DateStatType.BY_DAY);
		this.loadMemberCntStat($.Dict.DateStatType.BY_DAY);
		this.loadMemberCardPaymentCntStat($.Dict.DateStatType.BY_DAY);
	},

	methods: {
		initQuery() {
			let endDate = new Date();
			let beginDate = new Date(endDate.getTime() - 60 * 3600 * 24 * 1000);
			this.memberCntQuery.dates = [beginDate, endDate];
			this.memberEntryQuery.dates = [beginDate, endDate];
			this.memberCntForCpQuery.dates = [beginDate, endDate];
		},

		reloadData(idx) {
			this.queryShopIdx = idx;
			this.loadMemberEntryStat(this.memberEntryQuery.statType);
			this.loadMemberCntStat(this.memberCntQuery.statType);
			this.loadMemberCardPaymentCntStat(this.memberCntForCpQuery.statType);
		},

		loadMemberCntStat(statType) {
			if (statType !== 3) {
				if (!this.memberCntQuery.dates[0] || !this.memberCntQuery.dates[1]) {
					$.Dlg.error('请输入完整的日期范围。');
					return;
				}

				if (statType === 2) {
					let beginDate = this.memberCntQuery.dates[0];
					let endDate = this.memberCntQuery.dates[1];
					if (beginDate.getFullYear() !== endDate.getFullYear()) {
						beginDate.setFullYear(endDate.getFullYear());
						beginDate.setMonth(0);
						beginDate.setDate(1);
						this.memberCntQuery.dates = [beginDate, endDate];
					}
				}
			}

			this.memberCntQuery.statType = statType;
			let args = {
				statType: statType,
				beginDate: this.memberCntQuery.dates[0],
				endDate: this.memberCntQuery.dates[1]
			};

			this.mcntQueryLoading = true;
			$.Req.service($.SvName.MEMBER_CNT_STAT, args, ret => {
				this.mcntQueryLoading = false;
				let xdata = [],
				    ydata = [],
				    cnt;
				if (statType === 1) {
					let cntMap = {};
					for (let c of ret.memberCntStatList) {
						cntMap[Date.new(c.createDate).format('yyyyMMdd')] = c.count;
					}
					for (let bt = args.beginDate; bt <= args.endDate; bt = new Date(bt.getTime() + 3600 * 24 * 1000)) {
						xdata.push(bt.format('M/d'));
						cnt = cntMap[bt.format('yyyyMMdd')];
						if (!cnt) cnt = 0;
						ydata.push(cnt);
					}
				} else if (statType === 2) {
					let cntMap = {};
					for (let c of ret.memberCntStatList) {
						cntMap[c.createWeek] = c.count;
					}
					let beginWeek = $.Util.getYearWeek(args.beginDate);
					let endWeek = $.Util.getYearWeek(args.endDate);
					for (let w = beginWeek; w <= endWeek; w++) {
						xdata.push('{0}周'.format(w));
						cnt = cntMap[w];
						if (!cnt) cnt = 0;
						ydata.push(cnt);
					}
				} else if (statType === 3) {
					let year, month;
					for (let c of ret.memberCntStatList) {
						year = parseInt(c.createMonth / 100);
						month = c.createMonth % 100;
						xdata.push('{0}-{1}'.format(year, month));
						ydata.push(c.count);
					}
				}

				this.memberCntChartData.xdata = xdata;
				this.memberCntChartData.ydata = ydata;
			}, true, err => {
				this.mcntQueryLoading = false;
				$.Dlg.error(err);
			});
		},

		loadMemberEntryStat(statType) {
			if (statType !== 3) {
				if (!this.memberEntryQuery.dates[0] || !this.memberEntryQuery.dates[1]) {
					$.Dlg.error('请输入完整的日期范围。');
					return;
				}

				if (statType === 2) {
					let beginDate = this.memberEntryQuery.dates[0];
					let endDate = this.memberEntryQuery.dates[1];
					if (beginDate.getFullYear() !== endDate.getFullYear()) {
						beginDate.setFullYear(endDate.getFullYear());
						beginDate.setMonth(0);
						beginDate.setDate(1);
						this.memberEntryQuery.dates = [beginDate, endDate];
					}
				}
			}

			this.memberEntryQuery.statType = statType;
			let args = {
				statType: statType,
				beginDate: this.memberEntryQuery.dates[0],
				endDate: this.memberEntryQuery.dates[1]
			};
			/*if ($.data.user.isTenantOwner) {
     args.queryInTenant = true;
     if (this.queryShopIdx >= 0) {
   		args.encSid = $.data.shopList[this.queryShopIdx].encSid;
   	}
   }*/

			this.mentryQueryLoading = true;
			$.Req.service($.SvName.MEMBER_ENTRY_STAT_BY_DATE, args, ret => {
				this.mentryQueryLoading = false;
				let xdata = [],
				    ydata = [],
				    cnt;
				if (statType === 1) {
					let cntMap = {};
					for (let c of ret.memberCntStatList) {
						cntMap[c.createDateId] = c.count;
					}
					for (let bt = args.beginDate; bt <= args.endDate; bt = new Date(bt.getTime() + 3600 * 24 * 1000)) {
						xdata.push(bt.format('M/d'));
						cnt = cntMap[bt.format('yyyyMMdd')];
						if (!cnt) cnt = 0;
						ydata.push(cnt);
					}
				} else if (statType === 2) {
					let cntMap = {};
					for (let c of ret.memberCntStatList) {
						cntMap[c.createWeek] = c.count;
					}
					let beginWeek = $.Util.getYearWeek(args.beginDate);
					let endWeek = $.Util.getYearWeek(args.endDate);
					for (let w = beginWeek; w <= endWeek; w++) {
						xdata.push('{0}周'.format(w));
						cnt = cntMap[w];
						if (!cnt) cnt = 0;
						ydata.push(cnt);
					}
				} else if (statType === 3) {
					let year, month;
					for (let c of ret.memberCntStatList) {
						year = parseInt(c.createMonth / 100);
						month = c.createMonth % 100;
						xdata.push('{0}-{1}'.format(year, month));
						ydata.push(c.count);
					}
				}

				this.memberEntryChartData.xdata = xdata;
				this.memberEntryChartData.ydata = ydata;
			}, true, err => {
				this.mentryQueryLoading = false;
				$.Dlg.error(err);
			});
		},

		loadMemberCardPaymentCntStat(statType) {
			if (statType !== 3) {
				if (!this.memberCntForCpQuery.dates[0] || !this.memberCntForCpQuery.dates[1]) {
					$.Dlg.error('请输入完整的日期范围。');
					return;
				}

				if (statType === 2) {
					let beginDate = this.memberCntForCpQuery.dates[0];
					let endDate = this.memberCntForCpQuery.dates[1];
					if (beginDate.getFullYear() !== endDate.getFullYear()) {
						beginDate.setFullYear(endDate.getFullYear());
						beginDate.setMonth(0);
						beginDate.setDate(1);
						this.memberCntForCpQuery.dates = [beginDate, endDate];
					}
				}
			}

			this.memberCntForCpQuery.statType = statType;
			let args = {
				statType: statType,
				beginDate: this.memberCntForCpQuery.dates[0],
				endDate: this.memberCntForCpQuery.dates[1]
			};

			this.mcntForCpQueryLoading = true;
			$.Req.service($.SvName.MEMBER_CARD_PAYMENT_CNT_STAT, args, ret => {
				this.mcntForCpQueryLoading = false;
				let xdata = [],
				    ydata = [],
				    cnt;
				if (statType === 1) {
					let cntMap = {};
					for (let c of ret.memberCntStatList) {
						cntMap[Date.new(c.createDate).format('yyyyMMdd')] = c.count;
					}
					for (let bt = args.beginDate; bt <= args.endDate; bt = new Date(bt.getTime() + 3600 * 24 * 1000)) {
						xdata.push(bt.format('M/d'));
						cnt = cntMap[bt.format('yyyyMMdd')];
						if (!cnt) cnt = 0;
						ydata.push(cnt);
					}
				} else if (statType === 2) {
					let cntMap = {};
					for (let c of ret.memberCntStatList) {
						cntMap[c.createWeek] = c.count;
					}
					let beginWeek = $.Util.getYearWeek(args.beginDate);
					let endWeek = $.Util.getYearWeek(args.endDate);
					for (let w = beginWeek; w <= endWeek; w++) {
						xdata.push('{0}周'.format(w));
						cnt = cntMap[w];
						if (!cnt) cnt = 0;
						ydata.push(cnt);
					}
				} else if (statType === 3) {
					let year, month;
					for (let c of ret.memberCntStatList) {
						year = parseInt(c.createMonth / 100);
						month = c.createMonth % 100;
						xdata.push('{0}-{1}'.format(year, month));
						ydata.push(c.count);
					}
				}

				this.memberCntForCpChartData.xdata = xdata;
				this.memberCntForCpChartData.ydata = ydata;
			}, true, err => {
				this.mcntForCpQueryLoading = false;
				$.Dlg.error(err);
			});
		}
	}
});

/***/ }),

/***/ 1451:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_pos_card_pay_list_vue__ = __webpack_require__(2099);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_pos_card_pay_list_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stat_pos_card_pay_list_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__stat_pos_card_refund_vue__ = __webpack_require__(2100);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__stat_pos_card_refund_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stat_pos_card_refund_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
  components: {
    PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a,
    MallPosCoursePayList: __WEBPACK_IMPORTED_MODULE_1__stat_pos_card_pay_list_vue___default.a,
    MallPosCourseRefund: __WEBPACK_IMPORTED_MODULE_2__stat_pos_card_refund_vue___default.a
  },
  props: {},
  data() {
    return {
      g: $,
      tabValue: "1",
      activeMenus: new Set(),
      menuList: $.PageMenus.cardStat("shop-pos-pay/card"),
      payRole: $.Util.hasRoleFunc($.Dict.RoleFunc.POS_PAY.value),
      refundRole: $.Util.hasRoleFunc($.Dict.RoleFunc.POS_PAY_REFUND.value)
    };
  },
  computed: {},
  watch: {
    "$route.query.active": {
      handler(newValue) {
        this.tabValue = this.$route.query.active || "1";
        if (newValue === undefined) {
          return this.activeMenus.add("1");
        }
        this.activeMenus.add(this.tabValue);
      },
      immediate: true
    }
  },
  created() {},
  mounted() {},
  methods: {
    tabsFun() {
      this.$router.push({
        path: this.$route.path,
        query: {
          active: this.tabValue
        }
      });
    }
  }
});

/***/ }),

/***/ 1452:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
  components: {},
  props: {},
  data() {
    return {};
  },
  computed: {},
  watch: {},
  created() {},
  mounted() {},
  methods: {}
});

/***/ }),

/***/ 1453:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_coach_vue__ = __webpack_require__(1193);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_coach_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stat_coach_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_base_info_vue__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_member_member_base_info_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_member_member_base_info_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, CoachStat: __WEBPACK_IMPORTED_MODULE_1__stat_coach_vue___default.a, MemberBaseInfo: __WEBPACK_IMPORTED_MODULE_2__pages_member_member_base_info_vue___default.a },
	data() {
		return {
			g: $,
			menuList: $.PageMenus.shopStaffStat('stat-private-coach'),
			coachType: 2,
			query: {
				beginDate: null,
				endDate: null,
				orderBy: 'lessonDate',
				deptId: null,
				isEndStatus: null
			},
			dateOptions: {
				disabledDate(date) {
					return date && date.valueOf() > Date.now();
				}
			},
			dateShortcuts: [],
			statLists: [[], [], []],
			statConf: [{ typeName: '上课次数', statType: 1, unitType: '次', bgcolor: 'orange' }, { typeName: '学员数', statType: 2, unitType: '人', bgcolor: '#47DC47' }, { typeName: '平均得分', statType: 3, unitType: '分', bgcolor: '#01BFC6' }],
			loadings: [false, false, false],
			queryDateShourtcut: null,
			coachLessonCostList: [],
			sum: {
				lessonCnt: null,
				lessonFee: null,
				custLessonCnt: null,
				salesAmount: null,
				valueCardCost: null,
				timesCardCost: null
			},
			plDetailSum: {
				lessonCnt: null,
				finishedLessonCnt: null,
				coachLessonFee: null,
				memberCardPaymentAmount: null,
				memberCardPaymentTimes: null,
				sumOfTimesCardAmount: null
			},
			coachTotalLessonStatMap: {},
			includePcTotal: false,
			coachSaleMap: {},
			dlg: {
				selectCoachId: null,
				selectCoachName: null,
				pcLessonView: false,
				privateLessonList: null,
				salesView: false,
				mcpList: null
			},
			privateCoachList: null,
			privateCoachIdList: [],
			enablePrivateCoachScore: false,
			coachList: [],
			memberPlStatList: null,
			courseStatList: null,
			selectMemberId: null,
			selectCourseId: null,
			exportDlg: false,
			exportFileUrl: null,
			viewMemberDlg: false,
			viewMemberId: null,
			salesChartData: null,
			salesNames: [],
			departmentList: null,
			coachLessonFeeMap: {},
			staffDeptIds: []
		};
	},

	created() {
		this.initDateShortCuts();
		this.queryDepartments(() => {
			this.queryCoachList(coachList => {
				if (coachList) {
					this.privateCoachList = coachList;
					this.statByDateShortcuts(0);
					this.queryPrivateCoachScorePermit();
				}
			});
		});
	},

	computed: {
		salesAmountStatOption() {
			return {
				title: {
					text: '私教销售业绩统计图',
					x: 'center'
				},
				tooltip: {
					trigger: 'item',
					formatter: "{a} <br/>{b} : {c}"
				},
				legend: {
					orient: 'vertical',
					x: 'left',
					data: this.salesNames
				},
				toolbox: {
					show: true,
					feature: {
						mark: { show: true },
						dataView: { show: true, readOnly: false },
						magicType: {
							show: true,
							type: ['pie', 'funnel'],
							option: {
								funnel: {
									x: '25%',
									width: '50%',
									funnelAlign: 'left',
									max: 1548
								}
							}
						},
						restore: { show: true },
						saveAsImage: { show: true }
					}
				},
				calculable: true,
				series: [{
					name: '销售额',
					type: 'pie',
					radius: '75%',
					center: ['50%', '55%'],
					data: this.salesChartData
				}]
			};
		}
	},

	methods: {
		queryCoachList(callback = null) {
			let args = { isPrivateCoach: true, deptId: this.query.deptId };
			$.Req.service($.SvName.COACH_BASE_QUERY, args, ret => {
				if (callback) {
					callback(ret.coachList);
				}
			});
		},

		initDateShortCuts() {
			// 获取最近6个月的月份
			let today = new Date();
			let date = new Date();
			date.setDate(1);
			let year, month, beginDate, endDate;
			for (let i = 0; i < 6; i++) {
				year = date.getFullYear();
				month = date.getMonth();
				beginDate = new Date(date.getFullYear(), month, 1);
				if (i === 0) {
					endDate = new Date(today);
				} else {
					endDate = new Date(date.getFullYear(), month + 1, 0);
				}

				this.dateShortcuts.push({
					name: '{0}-{1}月'.format(date.getFullYear(), month + 1),
					beginDate: beginDate,
					endDate: endDate
				});

				date.setMonth(month - 1);
			}
			/*this.dateShortcuts.push({
    name: today.getFullYear() + '年',
    beginDate: new Date(today.getFullYear(), 0, 1),
    endDate : today,
    });*/
		},

		statCoachLessonCost(callback = null) {
			let args = {
				beginDate: this.query.beginDate,
				endDate: this.query.endDate,
				deptId: this.query.deptId
			};
			$.Req.service($.SvName.COACH_LESSON_COST_STAT, args, ret => {
				let coachIds = {};
				for (let s of ret.lessonCostList) {
					coachIds[s.coachId] = true;
					this.coachLessonFeeMap[s.coachId] = s.lessonFee;
				}
				for (let c of this.privateCoachList) {
					if (!coachIds[c.staffId]) {
						ret.lessonCostList.push({ coachId: c.staffId, coachName: c.name });
					}
				}
				if (ret.custLessonStatList) {
					for (let s of ret.lessonCostList) {
						for (let c of ret.custLessonStatList) {
							if (s.coachId === c.coachId) {
								s.custLessonCnt = c.custLessonCnt;
								break;
							}
						}
					}
				}
				let sumLessonCnt = 0,
				    sumFee = 0,
				    sumCustLessonCnt = 0,
				    sumValueCardCost = 0,
				    sumTimesCardCost = 0,
				    sumTimesCardCoustAmount = 0;
				this.coachList = [];
				for (let s of ret.lessonCostList) {
					if (s.lessonCnt) sumLessonCnt += s.lessonCnt;
					if (s.lessonFee) sumFee += s.lessonFee;
					if (s.custLessonCnt) sumCustLessonCnt += s.custLessonCnt;
					if (s.valueCardCost) sumValueCardCost += s.valueCardCost;
					if (s.timesCardCost) sumTimesCardCost += s.timesCardCost;
					if (s.timesCardCostAmount) sumTimesCardCoustAmount += s.timesCardCostAmount;
					this.coachList.push({ coachId: s.coachId, coachName: s.coachName });
				}
				this.sum.lessonCnt = $.Util.round(sumLessonCnt);
				this.sum.lessonFee = $.Util.round(sumFee);
				this.sum.custLessonCnt = $.Util.round(sumCustLessonCnt);
				this.sum.valueCardCost = $.Util.round(sumValueCardCost);
				this.sum.timesCardCost = $.Util.round(sumTimesCardCost);
				this.sum.timesCardCostAmount = $.Util.round(sumTimesCardCoustAmount);
				this.coachLessonCostList = ret.lessonCostList;

				this.privateCoachIdList = [];
				for (let c of ret.lessonCostList) {
					this.privateCoachIdList.push(c.coachId);
				}
				if (callback) callback();
			}, true);
		},

		statByDateShortcuts(idx) {
			this.queryDateShourtcut = idx;
			let d = this.dateShortcuts[idx];
			this.query.beginDate = new Date(d.beginDate);
			this.query.endDate = new Date(d.endDate);
			this.statCoach();
			this.statCoachLessonCost(() => {
				this.statCoachSales();
			});
		},

		statCoach() {
			for (let i = 0; i < 3; i++) {
				this.callCoachStat(i + 1, ret => {
					this.$set(this.statLists, i, ret.coachStatList);
				});
			}
		},

		callCoachStat(statType, callback) {
			let args = {
				coachType: this.coachType,
				statType: statType,
				beginDate: this.query.beginDate,
				endDate: this.query.endDate
			};
			this.$set(this.loadings, statType - 1, true);
			$.Req.service($.SvName.COACH_STAT, args, ret => {
				this.$set(this.loadings, statType - 1, false);
				callback(ret);
			}, false, err => {
				this.$set(this.loadings, statType - 1, false);
				$.Dlg.error(err);
			});
		},

		statCoachSales() {
			let args = {
				statType: 1,
				needStatAll: true,
				beginDate: this.query.beginDate,
				endDate: this.query.endDate,
				deptId: this.query.deptId
			};

			$.Req.service($.SvName.SALES_STAT, args, ret => {
				this.coachSaleMap = {};
				let sum = 0;
				for (let r of ret.salesStatList) {
					this.coachSaleMap[r.salesId] = r.salesAmount;
					if (!this.privateCoachIdList.contains(r.salesId)) {
						//this.coachLessonCostList.push({coachId: r.salesId, coachName: r.salesName});
					}
				}
				for (let c of this.coachLessonCostList) {
					let id = c.coachId;
					if (this.coachSaleMap[id]) {
						sum += this.coachSaleMap[id];
					}
				}
				this.sum.salesAmount = $.Util.round(sum);

				// gen chart data
				this.salesNames = [];
				this.salesChartData = [];
				for (let s of ret.salesStatList) {
					//if (!this.privateCoachIdList.contains(s.salesId)) continue;

					let sname = "{0} ￥{1}（{2}%）".format(s.salesName, $.Util.round(s.salesAmount), (s.salesAmount * 100 / sum).toFixed(1));
					this.salesNames.push(sname);
					this.salesChartData.push({ value: s.salesAmount, name: sname });
				}
			});
		},

		doQuery() {
			this.queryDateShourtcut = null;
			this.statCoach();
			this.statCoachLessonCost();
			this.statCoachSales();
		},

		viewPrivateLesson(coachId) {
			this.dlg.selectCoachId = coachId;
			this.dlg.pcLessonView = true;
			this.selectMemberId = null;
			this.queryPrivateLesson();
		},

		queryPrivateLesson(isExport = null) {
			let args = {
				coachId: this.dlg.selectCoachId,
				beginDate: this.query.beginDate,
				endDate: this.query.endDate,
				needPaging: false,
				needMemberCardInfo: true,
				needStatMemberLessonCount: true,
				needStatCourseCount: true,
				orderBy: this.query.orderBy,
				needTimesCardAmount: true,
				deptId: this.query.deptId,
				needLessonCount: true
			};
			if (isExport) {
				args.orderBy = 'coachFirst';
				args.coachId = null;
				args.isExport = true;
				this.exportDlg = true;
			}
			if (this.selectMemberId) {
				args.memberId = this.selectMemberId;
			}
			if (this.selectCourseId) {
				args.courseId = this.selectCourseId;
			}
			if (this.query.isEndStatus) {
				args.status = 9;
			}
			let sumOfMemberValueCardPayment = 0,
			    sumOfFinishedLessonCnt = 0,
			    sumOfMemberCardTimes = 0;
			$.Req.service($.SvName.PC_LESSON_QUERY, args, ret => {
				if (isExport) {
					this.exportFileUrl = ret.fileurl;
					return;
				}

				let lessonIdMap = {};
				for (let l of ret.pcLessonList) {
					l.lessonDate = $.Util.formatDate(l.lessonDate);
					l.lessonTimeDesc = "{0}~{1}".format($.Util.formatTime(l.beginTime), $.Util.formatTime(l.endTime));
					if (l.isViceCoach && l.viceCoachFee) l.coachLessonFee = l.viceCoachFee;

					if (l.memberCardType === 2) sumOfMemberCardTimes += l.memberCardPayment;else if (l.memberCardType === 3) sumOfMemberValueCardPayment += l.memberCardPayment;
					if (!lessonIdMap[l.lessonId]) {
						if (l.status === 9) sumOfFinishedLessonCnt++;
						lessonIdMap[l.lessonId] = true;
					}
				}
				this.plDetailSum.lessonCnt = ret.count;
				this.plDetailSum.memberCardPaymentAmount = $.Util.round(sumOfMemberValueCardPayment);
				this.plDetailSum.memberCardPaymentTimes = sumOfMemberCardTimes;
				this.plDetailSum.finishedLessonCnt = sumOfFinishedLessonCnt;
				this.plDetailSum.sumOfTimesCardAmount = $.Util.round(ret.sumOfTimesCardAmount);
				this.dlg.privateLessonList = ret.pcLessonList;
				this.memberPlStatList = ret.memberPlStatList;
				this.courseStatList = ret.courseStatList;
			}, true);
		},

		viewCoachSales(coachId, coachName) {
			this.dlg.selectCoachId = coachId;
			this.dlg.selectCoachName = coachName;
			this.dlg.salesView = true;
			this.queryMemberCardPayments();
		},

		queryMemberCardPayments(isExport = null) {
			let args = {
				salesId: this.dlg.selectCoachId,
				beginDate: this.query.beginDate,
				endDate: this.query.endDate,
				needPaging: false,
				salesDeptId: this.query.deptId
			};
			if (isExport) {
				args.salesId = null;
				args.salesIdList = this.privateCoachIdList;
				args.isExport = true;
				this.exportFileUrl = null;
				this.exportDlg = true;
			}
			$.Req.service($.SvName.MEMBER_CARD_PAYMENT_QUERY, args, ret => {
				if (isExport) {
					this.exportFileUrl = ret.fileurl;
					return;
				}

				this.dlg.mcpList = ret.memberCardPaymentList;
			}, true);
		},

		queryPrivateCoachScorePermit() {
			let args = { typeId: $.Dict.ShopArg.PRIVATE_COACH_LESSON_SALARY_TYPE };
			$.Req.service($.SvName.SHOP_ARG_QUERY, args, ret => {
				if (ret.value) {
					this.enablePrivateCoachScore = ret.value === '4' || ret.value.indexOf('4,') === 0;
				}
			});
		},

		changeCoachForPlList(val) {
			this.dlg.selectCoachId = val;
			this.selectMemberId = null;
			this.queryPrivateLesson();
		},

		queryMemberPlStatByMemberId(memberId) {
			if (memberId === this.selectMemberId) {
				this.selectMemberId = null;
			} else {
				this.selectMemberId = memberId;
			}
			this.queryPrivateLesson();
		},

		queryMemberPlStatByCourse(courseId) {
			if (courseId === this.selectCourseId) {
				this.selectCourseId = null;
			} else {
				this.selectCourseId = courseId;
			}
			this.queryPrivateLesson();
		},

		setOrderBy(orderBy) {
			this.query.orderBy = orderBy;
			this.queryPrivateLesson();
		},

		viewMemberInfo(memberId) {
			this.viewMemberId = memberId;
			this.viewMemberDlg = true;
		},

		queryDepartments(callback = null) {
			let args = { isBaseInfo: true };
			$.Req.service($.SvName.SHOP_DEPARTMENT_QUERY, args, ret => {
				if ($.data.user.isShopOwner) {
					this.departmentList = ret.departmentList;
				} else {
					this.departmentList = [];
					let myStaffId = $.data.user.staffId + '';
					for (let d of ret.departmentList) {
						if (d.ownerStaffIds && d.ownerStaffIds.split(',').contains(myStaffId)) {
							this.staffDeptIds.push(d.sdId);
							this.departmentList.push(d);
						}
					}
					if (this.departmentList.length === 0) this.departmentList = ret.departmentList;else this.query.deptId = this.departmentList[0].sdId;
				}
				if (callback) callback();
			});
		},

		changeDeptId() {
			this.queryCoachList(coachList => {
				if (coachList) {
					this.privateCoachList = coachList;
					this.statCoachLessonCost();
					this.statCoachSales();
				}
			});
		}
	}
});

/***/ }),

/***/ 1454:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_course_vue__ = __webpack_require__(1131);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_course_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stat_course_vue__);
//
//
//
//
//
//
//
//
//
//
//




/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, CourseStat: __WEBPACK_IMPORTED_MODULE_1__stat_course_vue___default.a },
	data() {
		return {
			menuList: $.PageMenus.shopCourseStat('stat-private-course')
		};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1455:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_course_vue__ = __webpack_require__(1131);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stat_course_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stat_course_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_help_vue__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_help_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_help_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a, CourseStat: __WEBPACK_IMPORTED_MODULE_1__stat_course_vue___default.a, Help: __WEBPACK_IMPORTED_MODULE_2__components_help_vue___default.a },
	data() {
		return {
			g: $,
			plStat: {},
			plStatEndDate: null,
			plStatCardDatesType: null,
			plStatCardIdList: [],
			privateCoachList: null,
			hasLoadCoachStat: false,
			cardList: null
		};
	},

	created() {
		this.dateShortcuts = $.Util.getDateShortcuts(6, false);
		this.statPrivateLesson();
		$.Req.queryCoachBase(2, coachList => {
			if (coachList) {
				this.privateCoachList = coachList;
				this.statCoachLessonCost();
			}
		});
		this.queryPcCardList();
	},

	methods: {
		queryPcCardList() {
			let args = {
				cardClass: 2,
				cardType: 2
			};
			$.Req.service($.SvName.CARD_QUERY, args, ret => {
				this.cardList = ret.cardList;
			});
		},

		statPrivateLesson() {
			let args = {
				cardDatesType: this.plStatCardDatesType,
				cardIdList: this.plStatCardIdList
			};
			if (this.plStatEndDate) args.endDate = this.plStatEndDate;
			$.Req.service($.SvName.PRIVATE_LESSON_STAT, args, ret => {
				this.plStat = ret;
				if (this.plStat.totalTimes > 0) {
					this.plStat.costTimesRate = (100 * this.plStat.costTimes / this.plStat.totalTimes).toFixed(1);
					this.plStat.costFeeRate = (100 * this.plStat.costFee / this.plStat.totalAmount).toFixed(1);
				} else {
					this.plStat.costTimesRate = 0;
					this.plStat.costFeeRate = 0;
				}
			});
		},

		statCoachLessonCost() {
			let args = {
				needStatTotal: true
			};
			$.Req.service($.SvName.COACH_LESSON_COST_STAT, args, ret => {
				let map = {};
				for (let s of ret.totalLessonStatList) {
					map[s.coachId] = s;
				}
				for (let c of this.privateCoachList) {
					c.stat = map[c.staffId];
				}
				this.hasLoadCoachStat = true;
			});
		},

		resetPlStat() {
			this.plStatEndDate = null;
			this.plStatCardDatesType = null;
			this.plStatCardIdList = [];
		}
	}
});

/***/ }),

/***/ 1456:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__stat_report_vue__ = __webpack_require__(1169);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__stat_report_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stat_report_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { StatReport: __WEBPACK_IMPORTED_MODULE_0__stat_report_vue___default.a },
	data() {
		return {
			g: $
		};
	},

	created() {},

	methods: {}
});

/***/ }),

/***/ 1457:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },

	computed: {
		chargeChartOption() {
			return {
				grid: { x: 60, y: 45, x2: 40, y2: 30 },
				legend: {
					data: ['收入', '支出', '余额']
				},

				tooltip: {
					trigger: 'axis',
					formatter: function (a) {
						if (!a || a.length === 0) return '';

						let elements = [];
						for (let e of a) {
							elements.push('{0}：￥{1}'.format(e.seriesName, e.value));
						}
						return a[0].name + '<br>' + elements.join('<br>');
					}
				},
				calculable: false,
				xAxis: [{
					padding: 1,
					type: 'category',
					boundaryGap: false,
					data: this.chargeChartData.xdata,
					normal: {
						//color: "orange",
						label: { show: true }
					}
				}],
				yAxis: [{
					type: 'value',
					axisLabel: {
						formatter: '￥{value}'
					}
				}],
				series: [{
					name: '收入',
					type: 'line',
					data: this.chargeChartData.arAmounts,
					itemStyle: {
						normal: {
							color: "orange"
							//label: {show: true}
						}
					},
					lineStyle: {
						normal: {
							//color: "orange"
						}
					}
				}, {
					name: '支出',
					type: 'line',
					data: this.chargeChartData.apAmounts,
					itemStyle: {
						normal: {
							color: "green"
							//label: {show: true}
						}
					},
					lineStyle: {
						normal: {
							color: "green"
						}
					}
				}, {
					name: '余额',
					type: 'line',
					data: this.chargeChartData.balances,
					itemStyle: {
						normal: {
							color: "#3399FF"
							//label: {show: true}
						}
					},
					lineStyle: {
						normal: {
							color: "#3399FF"
						}
					}
				}]
			};
		}

	},

	data() {
		return {
			g: window.$,
			chargeChartData: {
				xdata: [],
				arAmounts: [],
				apAmounts: [],
				balances: []
			},
			chargeQuery: {
				statType: 1,
				dates: [null, null]
			},
			chargeQueryLoading: false,
			dateOptions1: {
				disabledDate(date) {
					return date && date.valueOf() > Date.now();
				},
				shortcuts: [{
					text: '最近一周',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);
						return [start, end];
					}
				}, {
					text: '最近一个月',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);
						return [start, end];
					}
				}, {
					text: '最近两个月',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 60);
						return [start, end];
					}
				}, {
					text: '最近三个月',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);
						return [start, end];
					}
				}, {
					text: '最近半年',
					value() {
						const end = new Date();
						const start = new Date();
						start.setTime(start.getTime() - 3600 * 1000 * 24 * 180);
						return [start, end];
					}
				}]
			},
			chargeStatList: []
		};
	},

	created() {
		this.initQuery();
		this.loadChargeStat($.Dict.DateStatType.BY_DAY);
	},

	methods: {
		initQuery() {
			let endDate = new Date();
			let beginDate = new Date(endDate.getTime() - 31 * 3600 * 24 * 1000);
			this.chargeQuery.dates = [beginDate, endDate];
			this.chargeQuery.dates = [beginDate, endDate];
		},

		loadChargeStat(statType) {
			if (statType !== 3) {
				if (!this.chargeQuery.dates[0] || !this.chargeQuery.dates[1]) {
					$.Dlg.error('请输入完整的日期范围。');
					return;
				}

				if (statType === 2) {
					let beginDate = this.chargeQuery.dates[0];
					let endDate = this.chargeQuery.dates[1];
					if (beginDate.getFullYear() !== endDate.getFullYear()) {
						beginDate.setFullYear(endDate.getFullYear());
						beginDate.setMonth(0);
						beginDate.setDate(1);
						this.chargeQuery.dates = [beginDate, endDate];
					}
				}
			}

			this.chargeQuery.statType = statType;
			let args = {
				statType: statType,
				beginDate: Date.new(this.chargeQuery.dates[0]),
				endDate: Date.new(this.chargeQuery.dates[1])
			};

			this.chargeQueryLoading = true;
			$.Req.service($.SvName.CHARGE_STAT, args, ret => {
				this.chargeStatList = ret.chargeStatList;

				this.chargeQueryLoading = false;
				let xdata = [],
				    arAmounts = [],
				    apAmounts = [],
				    balances = [];
				if (statType === 1) {
					let arAmountMap = {},
					    apAmountMap = {},
					    balanceMap = {},
					    dateid;
					for (let c of ret.chargeStatList) {
						dateid = Date.new(c.createDate).format('yyyyMMdd');
						arAmountMap[dateid] = $.Util.round(c.arAmount);
						apAmountMap[dateid] = $.Util.round(c.apAmount);
						balanceMap[dateid] = $.Util.round(c.balance);
					}
					for (let bt = args.beginDate; bt <= args.endDate; bt = new Date(bt.getTime() + 3600 * 24 * 1000)) {
						xdata.push(bt.format('M/d'));
						dateid = bt.format('yyyyMMdd');
						arAmounts.push(arAmountMap[dateid] ? arAmountMap[dateid] : 0);
						apAmounts.push(apAmountMap[dateid] ? apAmountMap[dateid] : 0);
						balances.push(balanceMap[dateid] ? balanceMap[dateid] : 0);
					}
				} else if (statType === 2) {
					let arAmountMap = {},
					    apAmountMap = {},
					    balanceMap = {};
					for (let c of ret.chargeStatList) {
						arAmountMap[c.createWeek] = $.Util.round(c.arAmount);
						apAmountMap[c.createWeek] = $.Util.round(c.apAmount);
						balanceMap[c.createWeek] = $.Util.round(c.balance);
					}
					let beginWeek = $.Util.getYearWeek(args.beginDate);
					let endWeek = $.Util.getYearWeek(args.endDate);
					for (let w = beginWeek; w <= endWeek; w++) {
						xdata.push('{0}周'.format(w));
						arAmounts.push(arAmountMap[w] ? arAmountMap[w] : 0);
						apAmounts.push(apAmountMap[w] ? apAmountMap[w] : 0);
						balances.push(balanceMap[w] ? balanceMap[w] : 0);
					}
				} else if (statType === 3) {
					let year, month;
					for (let c of ret.chargeStatList) {
						year = parseInt(c.createMonth / 100);
						month = c.createMonth % 100;
						xdata.push('{0}-{1}'.format(year, month));
						arAmounts.push($.Util.round(c.arAmount));
						apAmounts.push($.Util.round(c.apAmount));
						balances.push($.Util.round(c.balance));
					}
				}

				this.chargeChartData.xdata = xdata;
				this.chargeChartData.arAmounts = arAmounts;
				this.chargeChartData.apAmounts = apAmounts;
				this.chargeChartData.balances = balances;

				this.chargeStatList.reverse();
			}, false, err => {
				this.chargeQueryLoading = false;
				$.Dlg.error(err);
			});
		}
	}
});

/***/ }),

/***/ 1458:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
  components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
  data() {
    return {
      g: $,
      menuList: $.PageMenus.shopStaffStat("stat-sales-target"),
      dateOptions: {
        disabledDate(date) {
          return date && date.valueOf() > Date.now();
        }
      },
      departmentList: [],
      queryDate: "",
      year: "",
      month: "",
      deptId: "",
      deptTargetStatList: [],
      staffTargetStatList: [],
      shopAchievement: "",
      shopTarget: "",
      shopCompletionRate: "",
      shopDifference: "",
      dateShortcuts: [],
      queryDateShourtcut: 0,
      salesChartData: [],
      hasData: false,
      staffDeptIds: []
    };
  },

  computed: {
    salesAmountStatOption() {
      return {
        title: {
          text: "销售业绩统计图",
          x: "center"
        },
        tooltip: {
          trigger: "item",
          formatter: "{a} <br/>{b} : {c}"
        },
        legend: {
          orient: "vertical",
          x: "left",
          data: this.salesNames
        },
        toolbox: {
          show: true,
          feature: {
            mark: { show: true },
            dataView: { show: true, readOnly: false },
            magicType: {
              show: true,
              type: ["pie", "funnel"],
              option: {
                funnel: {
                  x: "25%",
                  width: "50%",
                  funnelAlign: "left",
                  max: 1548
                }
              }
            },
            restore: { show: true },
            saveAsImage: { show: true }
          }
        },
        calculable: true,
        series: [{
          name: "销售额",
          type: "pie",
          radius: "75%",
          center: ["50%", "55%"],
          data: this.salesChartData
        }]
      };
    }
  },

  created() {
    this.initDateShortCuts();
    this.queryDate = new Date();
    this.year = this.queryDate.getFullYear();
    this.month = this.queryDate.getMonth() + 1;
    this.queryDepartments(() => {
      this.loadData();
    });
  },

  methods: {
    loadData() {
      let args = {
        year: this.year,
        month: this.month,
        deptId: this.deptId
      };
      $.Req.service($.SvName.SALES_TARGET_STAT, args, res => {
        this.deptTargetStatList = res.deptTargetStatList;
        this.staffTargetStatList = res.staffTargetStatList;
        this.shopAchievement = res.shopAchievement;
        this.shopTarget = res.shopTarget;
        this.shopCompletionRate = (res.shopCompletionRate * 100).toFixed(1);
        this.shopDifference = res.shopDifference;
        if (this.shopAchievement && this.shopAchievement !== "" || this.shopTarget && this.shopTarget !== "" || this.shopCompletionRate && this.shopCompletionRate !== 0) {
          this.hasData = true;
          let shopName1 = "{0} ￥{1}（{2}%）".format("完成率", this.shopAchievement, this.shopCompletionRate);
          let diff = this.shopTarget - this.shopAchievement;
          let shopName2 = "{0} ￥{1}（{2}%）".format("未完成率", diff < 0 ? 0 : diff, 100 - this.shopCompletionRate);
          this.salesChartData = [{
            value: this.shopAchievement,
            name: shopName1
          }, {
            value: diff,
            name: shopName2
          }];
        } else {
          this.hasData = false;
          this.salesChartData = [];
        }
      }, true);
    },

    dateChange(e) {
      this.queryDate = e;
      let arr = e.split("-");
      this.year = Number(arr[0]);
      this.month = Number(arr[1]);
      let index;
      this.dateShortcuts.filter((v, idx) => {
        if (v.year == this.year && v.month == this.month) {
          index = idx;
        }
      });
      this.queryDateShourtcut = typeof index == "number" ? index : 0;
    },

    initDateShortCuts() {
      // 获取最近6个月的月份
      let date = new Date();
      let year = date.getFullYear();
      let month = date.getMonth() + 2;
      for (let i = 0; i < 6; i++) {
        month = month - 1;
        if (month <= 0) {
          year = year - 1;
          month = month + 12;
        }
        if (month < 10) {
          month = month;
        }
        this.dateShortcuts.push({
          name: "{0}-{1}月".format(year, month),
          year: year,
          month: month
        });
      }
    },

    statByDateShortcuts(idx) {
      this.queryDateShourtcut = idx;
      let d = this.dateShortcuts[idx];
      this.year = d.year;
      this.month = d.month;
      this.queryDate = this.year + "-" + (this.month < 10 ? "0" + this.month : this.month);
      this.loadData();
    },

    queryDepartments(callback = null) {
      let args = { isBaseInfo: true };
      $.Req.service($.SvName.SHOP_DEPARTMENT_QUERY, args, ret => {
        if ($.data.user.isShopOwner) {
          this.departmentList = ret.departmentList;
        } else {
          this.departmentList = [];
          let myStaffId = $.data.user.staffId + '';
          for (let d of ret.departmentList) {
            if (d.ownerStaffIds && d.ownerStaffIds.split(',').contains(myStaffId)) {
              this.staffDeptIds.push(d.sdId);
              this.departmentList.push(d);
            }
          }
          if (this.departmentList.length === 0) this.departmentList = ret.departmentList;else this.deptId = this.departmentList[0].sdId;
        }
        if (callback) callback();
      });
    }
  }
});

/***/ }),

/***/ 1459:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_page_header_vue__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
	components: { PageHeader: __WEBPACK_IMPORTED_MODULE_0__components_page_header_vue___default.a },
	data() {
		return {
			g: $,
			menuList: $.PageMenus.shopStaffStat('stat-sales'),
			query: {
				beginDate: null,
				endDate: null,
				deptId: -1
			},
			dateOptions: {
				disabledDate(date) {
					return date && date.valueOf() > Date.now();
				}
			},
			dateShortcuts: [],
			salesAmountList: [],
			saleMembersMap: {},
			statByPaymentTypeMap: {},
			loadings: [false, false, false],
			queryDateShourtcut: null,
			mcpList: [],
			mcpTotalCount: null,
			selectSalesId: null,
			selectSalesName: null,
			salesDetailDlg: false,
			departmentList: false,
			exportDlg: false,
			exportFileUrl: null,
			salesNames: [],
			salesChartData: null,
			saleSum: {
				totalAmount: 0, amountsOfPaymentTypes: [0, 0, 0], totalMembers: 0
			},
			staffDeptIds: []
		};
	},

	created() {
		this.initDateShortCuts();
		this.queryDepartment(() => {
			this.statByDateShortcuts(0);
		});
	},

	computed: {
		salesAmountStatOption() {
			return {
				title: {
					text: '销售业绩统计图',
					x: 'center'
				},
				tooltip: {
					trigger: 'item',
					formatter: "{a} <br/>{b} : {c}"
				},
				legend: {
					orient: 'vertical',
					x: 'left',
					data: this.salesNames
				},
				toolbox: {
					show: true,
					feature: {
						mark: { show: true },
						dataView: { show: true, readOnly: false },
						magicType: {
							show: true,
							type: ['pie', 'funnel'],
							option: {
								funnel: {
									x: '25%',
									width: '50%',
									funnelAlign: 'left',
									max: 1548
								}
							}
						},
						restore: { show: true },
						saveAsImage: { show: true }
					}
				},
				calculable: true,
				series: [{
					name: '销售额',
					type: 'pie',
					radius: '75%',
					center: ['50%', '55%'],
					data: this.salesChartData
				}]
			};
		}
	},

	methods: {
		initDateShortCuts() {
			// 获取最近6个月的月份
			let today = new Date();
			let date = new Date();
			let year, month, beginDate, endDate;
			date.setDate(1);
			for (let i = 0; i < 6; i++) {
				year = date.getFullYear();
				month = date.getMonth();
				beginDate = new Date(date.getFullYear(), month, 1);
				if (i === 0) {
					endDate = new Date(today);
				} else {
					endDate = new Date(date.getFullYear(), month + 1, 0);
				}

				this.dateShortcuts.push({
					name: '{0}-{1}月'.format(date.getFullYear(), month + 1),
					beginDate: beginDate,
					endDate: endDate
				});

				date.setMonth(month - 1);
			}
			/*this.dateShortcuts.push({
    name: today.getFullYear() + '年',
    beginDate: new Date(today.getFullYear(), 0, 1),
    endDate : today,
    });*/
		},

		statByDateShortcuts(idx) {
			this.queryDateShourtcut = idx;
			let d = this.dateShortcuts[idx];
			this.query.beginDate = new Date(d.beginDate);
			this.query.endDate = new Date(d.endDate);
			this.statSales();
		},

		statSales() {
			this.callSalesStat(1, ret => {
				this.salesAmountList = ret.salesStatList;
				let _salesAmountSum = 0;
				for (let s of ret.salesStatList) {
					_salesAmountSum += s.salesAmount;
				}
				this.saleSum.totalAmount = $.Util.round(_salesAmountSum);

				// gen chart data
				this.salesNames = [];
				this.salesChartData = [];
				for (let s of ret.salesStatList) {
					let sname = "{0} ￥{1}（{2}%）".format(s.salesName, $.Util.round(s.salesAmount), (s.salesAmount * 100 / this.saleSum.totalAmount).toFixed(1));
					this.salesNames.push(sname);
					this.salesChartData.push({ value: s.salesAmount, name: sname });
				}

				this.callSalesStat(2, r1 => {
					this.saleMembersMap = {};
					let sumVal = 0;
					for (let s of r1.salesStatList) {
						this.saleMembersMap[s.salesId] = s.salesMembers;
						sumVal += s.salesMembers;
					}
					this.saleSum.totalMembers = sumVal;
				});

				this.callSalesStat(3, r2 => {
					this.statByPaymentTypeMap = {};
					this.saleSum.amountsOfPaymentTypes = [0, 0, 0];
					for (let s of r2.salesStatList) {
						this.statByPaymentTypeMap[s.salesId + '#' + s.paymentType] = $.Util.round(s.salesAmount);
						this.saleSum.amountsOfPaymentTypes[s.paymentType - 1] += $.Util.round(s.salesAmount);
					}
				});
			});
		},

		callSalesStat(statType, callback) {
			let args = {
				statType: statType,
				beginDate: this.query.beginDate,
				endDate: this.query.endDate,
				needStatAll: true
			};
			if (this.query.deptId > 0) {
				args.deptId = this.query.deptId;
			}
			this.$set(this.loadings, statType - 1, true);
			$.Req.service($.SvName.SALES_STAT, args, ret => {
				this.$set(this.loadings, statType - 1, false);
				callback(ret);
			}, false, err => {
				this.$set(this.loadings, statType - 1, false);
				$.Dlg.error(err);
			});
		},

		viewSalesDetail(salesName, salesId) {
			this.selectSalesName = salesName;
			this.selectSalesId = salesId;
			this.salesDetailDlg = true;
			this.queryMemberCardPayments();
		},

		queryMemberCardPayments(page = null) {
			if (!page) this.mcpTotalCount = null;
			let args = {
				beginDate: this.query.beginDate,
				endDate: this.query.endDate,
				salesId: this.selectSalesId,
				page: page
			};
			$.Req.service($.SvName.MEMBER_CARD_PAYMENT_QUERY, args, ret => {
				this.mcpList = ret.memberCardPaymentList;
				if (!page) {
					this.mcpTotalCount = ret.count;
				}
			}, true);
		},

		queryMemberCardPaymentsForExport() {
			let args = {
				beginDate: this.query.beginDate,
				endDate: this.query.endDate,
				needPaging: false,
				isExport: true
			};
			if (this.query.deptId > 0) args.salesDeptId = this.query.deptId;
			this.exportFileUrl = null;
			this.exportDlg = true;
			$.Req.service($.SvName.MEMBER_CARD_PAYMENT_QUERY, args, ret => {
				this.exportFileUrl = ret.fileurl;
			}, true);
		},

		queryDepartment(callback = null) {
			let args = { isBaseInfo: true };
			$.Req.service($.SvName.SHOP_DEPARTMENT_QUERY, args, ret => {
				if ($.data.user.isShopOwner) {
					this.departmentList = ret.departmentList;
				} else {
					this.departmentList = [];
					let myStaffId = $.data.user.staffId + '';
					for (let d of ret.departmentList) {
						if (d.ownerStaffIds && d.ownerStaffIds.split(',').contains(myStaffId)) {
							this.staffDeptIds.push(d.sdId);
							this.departmentList.push(d);
						}
					}
					if (this.departmentList.length === 0) this.departmentList = ret.departmentList;else this.query.deptId = this.departmentList[0].sdId;
				}
				if (callback) callback();
			});
		},

		doQuery() {
			this.queryDateShourtcut = null;
			this.statSales();
		}
	}
});

/***/ }),

/***/ 1483:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".chart[data-v-01c8d45e]{width:100%;height:200px}.stat1 .sum[data-v-01c8d45e]{padding-bottom:15px}.stat1 .sum li[data-v-01c8d45e]{display:inline;border-right:1px solid #ddd;padding:0 15px}.stat1 .sum li[data-v-01c8d45e]:last-child{padding-right:0;border-right:0}.stat1 .sum li label[data-v-01c8d45e]{padding-right:5px;color:#999}.stat1 .sum li div[data-v-01c8d45e]{display:inline;font-size:14px}.stat1 .sum li[data-v-01c8d45e]:first-child{padding-left:0}.stat1 table[data-v-01c8d45e]{width:100%}.stat1 table td[data-v-01c8d45e]{vertical-align:middle;font-size:12px;text-align:center;padding:10px 0}.stat1 table .left[data-v-01c8d45e]{padding-left:0;padding-right:30px}.stat1 table .right[data-v-01c8d45e]{width:50%;border-left:1px dashed #eee;padding-left:30px;padding-right:0}.stat1 .cost[data-v-01c8d45e]{background:#1aad19}.stat1 .current[data-v-01c8d45e]{background:#67f567}.stat1 .cost1[data-v-01c8d45e]{background:#0f64a0}.stat1 .current1[data-v-01c8d45e]{background:#3bb4f2}.stat1 .stat-graph[data-v-01c8d45e]{text-align:center;width:1000px}.stat1 .stat-graph div[data-v-01c8d45e]{display:inline-block;height:26px}.stat1 .stat-graph-desc[data-v-01c8d45e]{text-align:left;margin-top:25px}.stat1 .stat-graph-desc .flag[data-v-01c8d45e]{display:inline-block;width:20px;height:20px;margin-right:5px}.stat1 .stat-graph-desc .current1[data-v-01c8d45e],.stat1 .stat-graph-desc .current[data-v-01c8d45e]{margin-left:10px}.stat1 .remark[data-v-01c8d45e]{color:#888;margin-top:20px;padding:15px 0 0;border-top:1px dashed #eee}.stat1 .remark[data-v-01c8d45e]:hover{color:#ff4500}.stat1 .cont[data-v-01c8d45e]{background:#f8f8f8;padding:12px;margin-bottom:20px}.stat2 .opt-list[data-v-01c8d45e]{display:inline-block;margin-left:30px;position:relative;top:3px}.stat2 .opt-list li[data-v-01c8d45e]{padding:0 15px}.stat2 .opt-list li a[data-v-01c8d45e]{font-size:12px;font-weight:400}.stat2 .opt-list li.on a[data-v-01c8d45e]{color:#444;font-weight:700}.stat2 table[data-v-01c8d45e]{border-bottom:0}.stat2 table .sum[data-v-01c8d45e]{border:0}.stat2 table .sum td[data-v-01c8d45e]{border:0;font-size:13px}.stat2 table .sum[data-v-01c8d45e]:hover{background:none}.stat2 table .color1[data-v-01c8d45e]{color:darkred}.stat2 table .color2[data-v-01c8d45e]{color:#179b16}.stat2 table .color3[data-v-01c8d45e]{color:#ff4500}.stat2 .remark[data-v-01c8d45e]{padding:20px 0 0;color:#888}.stat2 .remark[data-v-01c8d45e]:hover{color:#ff4500}", ""]);

// exports


/***/ }),

/***/ 1484:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1514:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-style- .chart[data-v-14a4ae36]{width:100%;height:300px}.-style- .hd .menu[data-v-14a4ae36]{display:inline-block;padding-left:40px}.-style- .hd .menu li[data-v-14a4ae36]{display:inline}.-style- .hd .menu li a[data-v-14a4ae36]{line-height:53px;display:inline-block}.-style- .hd .menu li[data-v-14a4ae36]:after{content:\"|\";color:#ddd;padding:0 12px}.-style- .hd .menu li[data-v-14a4ae36]:last-child:after{content:\"\"}.-style- .hd .menu .on[data-v-14a4ae36]{color:#666}.-style- .hd .menu .on[data-v-14a4ae36]:before{content:\"\\25CF\";color:#2e90f7;font-size:14px;padding-right:4px}", ""]);

// exports


/***/ }),

/***/ 1526:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".piechart[data-v-1c7e55bc]{width:100%;height:300px}.barchart[data-v-1c7e55bc]{width:100%;height:400px}.opt-list[data-v-1c7e55bc]{padding-top:1px}", ""]);

// exports


/***/ }),

/***/ 1530:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".piechart[data-v-1ea3507c]{width:100%;height:450px}.opt-list[data-v-1ea3507c]{padding-top:1px}", ""]);

// exports


/***/ }),

/***/ 1542:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1589:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".qrcode-order .pos-qrcode-img img[data-v-404307be]{width:100%}.qrcode-order .order-amount[data-v-404307be]{font-size:18px;color:red;margin-top:0}", ""]);

// exports


/***/ }),

/***/ 1595:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-style- .detail .course-name[data-v-44d6e369]{line-height:180%}.-style- .detail .coach-name[data-v-44d6e369]{font-size:12px;color:#aaa}.-style- .detail .tit[data-v-44d6e369]{border-bottom:1px solid #ddd}.-style- .detail .tit i[data-v-44d6e369]{padding-right:5px;font-size:16px;font-weight:400}.-style- .detail .order[data-v-44d6e369]{font-size:14px;width:30px}.stat-order .detail .item .cont .tit[data-v-44d6e369]{color:#666;line-height:40px;height:40px;background:#f2f2f2;font-weight:700}section .hd .opt-list .opt-tit[data-v-44d6e369]{color:#777;margin-right:30px}", ""]);

// exports


/***/ }),

/***/ 1612:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-style- .detail-link[data-v-4ba9f20e]{font-size:12px;display:block}.-style- .remark[data-v-4ba9f20e]{margin-top:30px;line-height:35px;clear:both;color:#999;padding:0 12px;background:#e9e9e9;border-radius:2px}.-style- .remark[data-v-4ba9f20e]:hover{color:#ff4500}.detail .item[data-v-4ba9f20e]{width:380px}.piechart[data-v-4ba9f20e]{width:100%;height:450px;margin:10px 0 0 5px}.chart[data-v-4ba9f20e]{width:100%;height:200px}.stat1 li[data-v-4ba9f20e]{display:inline;border-right:1px solid #ddd;padding:0 15px}.stat1 li[data-v-4ba9f20e]:last-child{padding-right:0;border-right:0}.stat1 li label[data-v-4ba9f20e]{padding-right:5px;color:#999}.stat1 li div[data-v-4ba9f20e]{display:inline;font-size:14px}.stat1 table[data-v-4ba9f20e]{width:100%}.stat1 table td[data-v-4ba9f20e]{vertical-align:middle;font-size:12px;text-align:center;padding:10px 0}.stat1 table .left[data-v-4ba9f20e]{padding-left:0;padding-right:30px}.stat1 table .right[data-v-4ba9f20e]{width:50%;border-left:1px dashed #eee;padding-left:30px;padding-right:0}.stat1 .cost[data-v-4ba9f20e]{background:#1aad19}.stat1 .current[data-v-4ba9f20e]{background:#67f567}.stat1 .cost1[data-v-4ba9f20e]{background:#0f64a0}.stat1 .current1[data-v-4ba9f20e]{background:#3bb4f2}.stat1 .stat-graph[data-v-4ba9f20e]{text-align:center;width:1000px}.stat1 .stat-graph div[data-v-4ba9f20e]{display:inline-block;height:26px}.stat1 .stat-graph-desc[data-v-4ba9f20e]{text-align:left;margin-top:25px}.stat1 .stat-graph-desc .flag[data-v-4ba9f20e]{display:inline-block;width:20px;height:20px;margin-right:5px}.stat1 .stat-graph-desc .current1[data-v-4ba9f20e],.stat1 .stat-graph-desc .current[data-v-4ba9f20e]{margin-left:10px}.stat1 .remark[data-v-4ba9f20e]{color:#888;margin-top:20px;padding:15px 0 0;border-top:1px dashed #eee}.stat1 .remark[data-v-4ba9f20e]:hover{color:#ff4500}.query-date[data-v-4ba9f20e]{margin-left:20px;font-size:12px;font-weight:400}", ""]);

// exports


/***/ }),

/***/ 1621:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1632:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1633:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1641:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-style- .detail-link[data-v-590b7720]{font-size:12px;display:block}.-style- .remark[data-v-590b7720]{margin-top:30px;line-height:35px;clear:both;color:#999;padding:0 12px;background:#e9e9e9;border-radius:2px}.-style- .remark[data-v-590b7720]:hover{color:#ff4500}.detail .item[data-v-590b7720]{width:380px}.piechart[data-v-590b7720]{width:100%;height:450px;margin:10px 0 0 5px}", ""]);

// exports


/***/ }),

/***/ 1646:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".bottom-remark[data-v-5c73905e]{padding:15px;line-height:1;background:#e9e9e9;margin-top:20px;color:#777}.bottom-remark[data-v-5c73905e]:hover{color:#ff4500}", ""]);

// exports


/***/ }),

/***/ 1655:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1664:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".stat2[data-v-6ab08038]{clear:both;margin-top:15px}.stat2 table[data-v-6ab08038]{border-bottom:0}.stat2 table .sum td b[data-v-6ab08038]{font-size:14px}.sumtips[data-v-6ab08038]{padding:0 0 15px;text-align:right}.memb-pl-stat[data-v-6ab08038]{border:1px solid #e3e8ee;padding:0 10px;margin:15px 0 0}.memb-pl-stat ul li[data-v-6ab08038]{display:inline-block;padding:0 7px 0 12px;line-height:24px;margin:4px;background:#eee;cursor:pointer;color:#2d8cf0;word-break:keep-all}.memb-pl-stat ul li[data-v-6ab08038]:hover{background:#ddd}.memb-pl-stat ul li.on[data-v-6ab08038]{background:#2e90f7;color:#fff}.memb-pl-stat td[data-v-6ab08038]{border-bottom:1px dashed #ddd;padding:8px 0}.memb-pl-stat tr:last-child td[data-v-6ab08038]{border-bottom:0}.piechart[data-v-6ab08038]{width:100%;height:450px;margin:10px 0 0 5px}", ""]);

// exports


/***/ }),

/***/ 1667:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "section .hd .menu[data-v-6d6f023c]{display:inline-block}section .hd .menu li[data-v-6d6f023c]{display:inline;border:0}section .hd .menu li a[data-v-6d6f023c]{line-height:53px;display:inline-block}section .hd .menu li[data-v-6d6f023c]:after{content:\"|\";color:#ddd;padding:0 15px}section .hd .menu li[data-v-6d6f023c]:last-child:after{content:\"\"}section .hd .menu .on[data-v-6d6f023c],section .hd .menu .on a[data-v-6d6f023c]{color:#666}section .hd .menu .on[data-v-6d6f023c]:before{content:\"\\25CF\";color:#2e90f7;font-size:14px;padding-right:4px}section .hd .menu .opt-tit[data-v-6d6f023c]{margin-right:20px}section .hd .menu li.opt-tit[data-v-6d6f023c]:after{content:\"\"}.lesson-sum-stat[data-v-6d6f023c]{min-width:1018px;overflow-x:auto}.lesson-sum-stat table[data-v-6d6f023c]{width:100%}.lesson-sum-stat .color1 dl[data-v-6d6f023c]{background:#1aad19}.lesson-sum-stat .color1 dl i[data-v-6d6f023c]{color:#1aa51a;font-size:70px}.lesson-sum-stat .color2 dl[data-v-6d6f023c]{background:#3398ff}.lesson-sum-stat .color2 dl i[data-v-6d6f023c]{color:#3190f7;font-size:85px;font-weight:700}.lesson-sum-stat .color3 dl[data-v-6d6f023c]{background:#d64d4b}.lesson-sum-stat .color3 dl i[data-v-6d6f023c]{color:#ce4846;font-size:80px}.lesson-sum-stat .color4 dl[data-v-6d6f023c]{background:#f7b403}.lesson-sum-stat .color4 dl i[data-v-6d6f023c]{color:#edad03;font-size:80px}.lesson-sum-stat td[data-v-6d6f023c]{width:25%;padding:5px 10px;color:#fff;border-radius:2px}.lesson-sum-stat td dl[data-v-6d6f023c]{width:100%;display:block;height:150px;vertical-align:middle;border-radius:3px;padding:10px 25px}.lesson-sum-stat td .l[data-v-6d6f023c]{width:100px}.lesson-sum-stat td .r[data-v-6d6f023c]{padding-top:5px}.lesson-sum-stat td h2[data-v-6d6f023c]{font-size:45px;font-family:Times New Roman;padding:15px 0 10px}.lesson-sum-stat td label[data-v-6d6f023c]{font-size:15px;color:#f4f4f4}.lesson-sum-stat td[data-v-6d6f023c]:first-child{padding-left:5px}.lesson-sum-stat td[data-v-6d6f023c]:last-child{padding-right:5px}.mytbl .sum[data-v-6d6f023c]{font-weight:700}", ""]);

// exports


/***/ }),

/***/ 1692:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".stat-sum[data-v-7b958de9]{margin:0 0 15px}.stat-sum dl[data-v-7b958de9]{display:inline-block;margin-right:10px;cursor:pointer;border:1px solid #eee;width:260px}.stat-sum dl[data-v-7b958de9]:hover{box-shadow:5px 5px 3px #ccc}.stat-sum dl dd[data-v-7b958de9]{display:block;line-height:75px;padding:12px;font-size:32px;text-align:center;background:#fff}.stat-sum dl dt[data-v-7b958de9]{display:block;line-height:34px;color:#fff;padding:0 12px;text-align:center}.stat-sum .color1 dd[data-v-7b958de9]{color:#12c9af}.stat-sum .color1 dt[data-v-7b958de9]{background:#12c9af}.stat-sum .color2 dd[data-v-7b958de9]{color:#e8505f}.stat-sum .color2 dt[data-v-7b958de9]{background:#e8505f}.stat-sum .color3 dd[data-v-7b958de9]{color:#1aad19}.stat-sum .color3 dt[data-v-7b958de9]{background:#1aad19}.stat-sum .on[data-v-7b958de9]{border-bottom:1px solid orange}.input-s[data-v-7b958de9]{height:30px;width:80px;margin:0 3px;position:relative;top:1px;text-align:center;font-weight:700;font-size:13px}", ""]);

// exports


/***/ }),

/***/ 1704:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-style- .chart[data-v-8ade09a0]{width:100%;height:350px}.-style- .hd .menu[data-v-8ade09a0]{display:inline;padding-left:40px}.-style- .hd .menu li[data-v-8ade09a0]{display:inline}.-style- .hd .menu li[data-v-8ade09a0]:after{content:\"|\";color:#ddd;padding:0 12px}.-style- .hd .menu li[data-v-8ade09a0]:last-child:after{content:\"\"}.-style- .hd .menu .on[data-v-8ade09a0]{color:#666}.-style- .hd .menu .on[data-v-8ade09a0]:before{content:\"\\25CF\";color:#2e90f7;font-size:14px;padding-right:4px}.-style- .charge-list[data-v-8ade09a0]{margin-top:25px}", ""]);

// exports


/***/ }),

/***/ 1716:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-style- .hd .menu[data-v-9d7e83b6],.-style- .hd .menu li[data-v-9d7e83b6]{display:inline}.-style- .hd .menu li[data-v-9d7e83b6]:after{content:\"|\";color:#ddd;padding:0 12px}.-style- .hd .menu li[data-v-9d7e83b6]:last-child:after{content:\"\"}.-style- .hd .menu .on[data-v-9d7e83b6]{color:#666}.-style- .hd .menu .on[data-v-9d7e83b6]:before{content:\"\\25CF\";color:#2e90f7;font-size:14px;padding-right:4px}.-style- .data-list[data-v-9d7e83b6]{margin-top:25px}.-style- .wrap[data-v-9d7e83b6]{width:100%}.-style- .wrap .graph[data-v-9d7e83b6]{padding:10px 20px}", ""]);

// exports


/***/ }),

/***/ 1733:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".stat-member-info{padding:8px 0}.stat-member-info img{width:50px;border-radius:50%;cursor:pointer}.stat-member-info a,.stat-member-info img{display:inline-block;height:50px;float:left}.stat-member-info a{font-size:14px;margin-left:15px;line-height:50px}.query-cond-inline-s .date{width:115px}", ""]);

// exports


/***/ }),

/***/ 1734:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".tips[data-v-c76e1f6c]{color:#999;padding-top:10px}.-stat-memb- .query-cond-inline-s[data-v-c76e1f6c],.more-query[data-v-c76e1f6c]{padding-bottom:15px}.more-query .card-sel[data-v-c76e1f6c]{width:300px;margin-right:20px}.duration[data-v-c76e1f6c]{width:70px;text-align:center;font-weight:700;margin:0 10px}", ""]);

// exports


/***/ }),

/***/ 1737:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ 1746:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".items[data-v-ed22a562]{padding-left:15px;margin-top:5px}.items li[data-v-ed22a562]{list-style-type:square;padding-top:8px}.-style- .card-sum .tips[data-v-ed22a562]{padding-left:10px;color:#999}.-style- .card-sum .charts[data-v-ed22a562]{width:100%;margin-top:20px;background:#fff;border:1px solid #e3e8ee}.-style- .card-sum .charts .tit[data-v-ed22a562]{font-size:13px;font-weight:700}.-style- .card-sum .charts li[data-v-ed22a562]{display:inline-block;width:33%;padding:10px;text-align:center;border-right:1px solid #e4e4e4;margin:20px 0}.-style- .card-sum .charts li[data-v-ed22a562]:last-child{border-right:0}.-style- .card-sum .charts li .piechart[data-v-ed22a562]{height:280px;width:100%}.-style- .hd .menu[data-v-ed22a562],.-style- .hd .menu li[data-v-ed22a562]{display:inline}.-style- .hd .menu li[data-v-ed22a562]:after{content:\"|\";color:#ddd;padding:0 12px}.-style- .hd .menu li[data-v-ed22a562]:last-child:after{content:\"\"}.-style- .hd .menu .on[data-v-ed22a562]{color:#666}.-style- .hd .menu .on[data-v-ed22a562]:before{content:\"\\25CF\";color:#2e90f7;font-size:14px;padding-right:4px}.-style- .data-list[data-v-ed22a562]{margin-top:25px}.-style- .wrap[data-v-ed22a562]{width:100%}.-style- .wrap .graph[data-v-ed22a562]{padding:10px 20px}.mytbl i[data-v-ed22a562]{font-style:normal;color:#aaa;font-size:11px;font-weight:400}.query-item[data-v-ed22a562]{border:1px solid #dddee1;padding:7px 5px 7px 10px;margin-right:6px;position:relative;top:2px;border-radius:2px}", ""]);

// exports


/***/ }),

/***/ 1748:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(862)(false);
// imports


// module
exports.push([module.i, ".-style- .chart[data-v-f103519a]{width:100%;height:350px}.-style- .hd .menu[data-v-f103519a],.-style- .hd .menu li[data-v-f103519a]{display:inline}.-style- .hd .menu li[data-v-f103519a]:after{content:\"|\";color:#ddd;padding:0 12px}.-style- .hd .menu li[data-v-f103519a]:last-child:after{content:\"\"}.-style- .hd .menu .on[data-v-f103519a]{color:#666}.-style- .hd .menu .on[data-v-f103519a]:before{content:\"\\25CF\";color:#2e90f7;font-size:14px;padding-right:4px}.-style- .data-list[data-v-f103519a]{margin-top:25px}.-style- .wrap[data-v-f103519a]{width:100%}.-style- .wrap .graph[data-v-f103519a]{padding:10px 20px}", ""]);

// exports


/***/ }),

/***/ 1761:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1483);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("d1acea4c", content, true, {});

/***/ }),

/***/ 1762:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1484);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("7947c085", content, true, {});

/***/ }),

/***/ 1792:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1514);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("4df7631a", content, true, {});

/***/ }),

/***/ 1804:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1526);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("59c860a9", content, true, {});

/***/ }),

/***/ 1808:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1530);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("93f6b8ee", content, true, {});

/***/ }),

/***/ 1820:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1542);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("4b2b7630", content, true, {});

/***/ }),

/***/ 1867:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1589);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("e718b46a", content, true, {});

/***/ }),

/***/ 1873:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1595);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("0ea15426", content, true, {});

/***/ }),

/***/ 1890:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1612);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("6b4ffde9", content, true, {});

/***/ }),

/***/ 1899:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1621);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("40f7f667", content, true, {});

/***/ }),

/***/ 1910:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1632);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("6f3e649c", content, true, {});

/***/ }),

/***/ 1911:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1633);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("9d54dc0a", content, true, {});

/***/ }),

/***/ 1919:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1641);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("e83051c4", content, true, {});

/***/ }),

/***/ 1924:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1646);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("60fea4dd", content, true, {});

/***/ }),

/***/ 1933:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1655);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("772335c9", content, true, {});

/***/ }),

/***/ 1942:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1664);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("1eb23944", content, true, {});

/***/ }),

/***/ 1945:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1667);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("86045400", content, true, {});

/***/ }),

/***/ 1970:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1692);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("022d2bbd", content, true, {});

/***/ }),

/***/ 1982:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1704);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("31314890", content, true, {});

/***/ }),

/***/ 1994:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1716);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("ed29c5b0", content, true, {});

/***/ }),

/***/ 2011:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1733);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("4fb61c4f", content, true, {});

/***/ }),

/***/ 2012:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1734);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("a9ef882a", content, true, {});

/***/ }),

/***/ 2015:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1737);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("02295357", content, true, {});

/***/ }),

/***/ 2024:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1746);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("03f5bae1", content, true, {});

/***/ }),

/***/ 2026:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1748);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(863)("ce8be174", content, true, {});

/***/ }),

/***/ 2099:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1867)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1429),
  /* template */
  __webpack_require__(2213),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-404307be",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2100:
/***/ (function(module, exports, __webpack_require__) {

function injectStyle (ssrContext) {
  __webpack_require__(1910)
  __webpack_require__(1911)
}
var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(1430),
  /* template */
  __webpack_require__(2257),
  /* styles */
  injectStyle,
  /* scopeId */
  "data-v-551e4ed3",
  /* moduleIdentifier (server only) */
  null
)

module.exports = Component.exports


/***/ }),

/***/ 2103:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-private-lesson"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main"
  }, [_c('section', {
    staticClass: "stat1"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("私教课次卡统计")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [(_vm.plStat && _vm.plStat.totalTimes) ? _c('ul', {
    staticClass: "sum",
    staticStyle: {
      "display": "inline-block",
      "margin-right": "10px"
    }
  }, [_c('li', [_c('label', [_vm._v("总次数")]), _vm._v(" "), _c('div', {
    staticClass: "orange"
  }, [_vm._v(_vm._s(_vm.plStat.totalTimes) + " "), _c('span', {
    staticClass: "small"
  }, [_vm._v("次")])])]), _vm._v(" "), (_vm.plStat.totalAmount) ? _c('li', [_c('label', [_vm._v("总金额")]), _vm._v(" "), _c('div', {
    staticClass: "green"
  }, [_c('span', {
    staticClass: "small"
  }, [_vm._v("￥")]), _vm._v(_vm._s(_vm.plStat.totalAmount))])]) : _vm._e(), _vm._v(" "), (_vm.plStat.totalAmount) ? _c('li', [_c('label', [_vm._v("平均单次价")]), _vm._v(" "), _c('div', {
    staticClass: "orangered"
  }, [_c('span', {
    staticClass: "small"
  }, [_vm._v("￥")]), _vm._v(_vm._s((_vm.plStat.totalAmount / _vm.plStat.totalTimes).toFixed(2)))])]) : _vm._e()]) : _vm._e()])]), _vm._v(" "), _c('div', {
    staticClass: "cont"
  }, [_c('date-picker', {
    staticClass: "date",
    staticStyle: {
      "width": "120px"
    },
    attrs: {
      "type": "date",
      "placeholder": "统计截止日期"
    },
    model: {
      value: (_vm.plStatEndDate),
      callback: function($$v) {
        _vm.plStatEndDate = $$v
      },
      expression: "plStatEndDate"
    }
  }), _vm._v(" "), _c('span', {
    staticClass: "l5"
  }, [_c('i-select', {
    staticStyle: {
      "width": "140px"
    },
    attrs: {
      "placeholder": "会员卡有效期筛选",
      "clearable": ""
    },
    model: {
      value: (_vm.plStatCardDatesType),
      callback: function($$v) {
        _vm.plStatCardDatesType = $$v
      },
      expression: "plStatCardDatesType"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 0
    }
  }, [_vm._v("不限制")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("有效期内的卡")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("过期的卡")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 3
    }
  }, [_vm._v("未设置期限的卡")])], 1)], 1), _vm._v(" "), _c('span', {
    staticClass: "l5"
  }, [_c('i-select', {
    staticStyle: {
      "width": "500px"
    },
    attrs: {
      "placeholder": "请选择私教次卡",
      "multiple": true,
      "clearable": ""
    },
    model: {
      value: (_vm.plStatCardIdList),
      callback: function($$v) {
        _vm.plStatCardIdList = $$v
      },
      expression: "plStatCardIdList"
    }
  }, _vm._l((_vm.cardList), function(c) {
    return _c('i-option', {
      key: c.cardId,
      attrs: {
        "value": c.cardId
      }
    }, [_vm._v(_vm._s(c.cardName))])
  }), 1), _vm._v(" "), _c('span', {
    staticClass: "l10"
  }, [_c('i-button', {
    on: {
      "click": _vm.statPrivateLesson
    }
  }, [_vm._v("确定")]), _vm._v("\n\t\t\t\t\t\t \n\t\t\t\t\t\t"), _c('i-button', {
    on: {
      "click": _vm.resetPlStat
    }
  }, [_vm._v("重置")])], 1)], 1)], 1), _vm._v(" "), (_vm.plStat && _vm.plStat.totalTimes > 0 && _vm.plStat.totalTimes >= _vm.plStat.currentTimes) ? [_c('div', {
    staticClass: "stat-graph"
  }, [_c('div', {
    staticClass: "cost",
    style: ('width: ' + _vm.plStat.costTimesRate + '%')
  }, [_vm._v(" ")]), _c('div', {
    staticClass: "current",
    style: ('width: ' + (100 - _vm.plStat.costTimesRate) + '%')
  }, [_vm._v(" ")])]), _vm._v(" "), _c('div', {
    staticClass: "stat-graph-desc"
  }, [_c('span', {
    staticClass: "cost flag"
  }, [_vm._v(" ")]), _vm._v(" "), _c('b', [_vm._v("消耗")]), _vm._v("（"), _c('span', {
    staticClass: "green"
  }, [_vm._v(_vm._s(_vm.plStat.costTimesRate) + "%")]), _vm._v("）：  "), _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.plStat.costTimes))]), _vm._v(" 次\n\t\t\t\t\t"), (_vm.plStat.costFee) ? _c('span', {
    staticClass: "l10"
  }, [_vm._v("（￥"), _c('b', {
    staticClass: "normal"
  }, [_vm._v(_vm._s(_vm.plStat.costFee))]), _vm._v("）")]) : _vm._e(), _vm._v(" "), _c('span', {
    staticClass: "current flag",
    staticStyle: {
      "margin-left": "30px"
    }
  }, [_vm._v(" ")]), _vm._v(" "), _c('b', [_vm._v("剩余")]), _vm._v("（"), _c('span', {
    staticClass: "green"
  }, [_vm._v(_vm._s(_vm.g.Util.round(100 - _vm.plStat.costTimesRate)) + "%")]), _vm._v("）： "), _c('b', {
    staticClass: "big"
  }, [_vm._v(_vm._s(_vm.plStat.currentTimes))]), _vm._v(" 次\n\t\t\t\t\t"), (_vm.plStat.leftFee) ? _c('span', {
    staticClass: "l10"
  }, [_vm._v("（￥"), _c('b', {
    staticClass: "normal"
  }, [_vm._v(_vm._s(_vm.plStat.leftFee))]), _vm._v("）")]) : _vm._e(), _vm._v("\n\t\t\t\t\t \n\t\t\t\t\t"), _c('help', {
    attrs: {
      "title": "提示"
    }
  }, [_c('h3', [_vm._v("说明：")]), _vm._v(" "), _c('ol', [_c('li', [_vm._v("消耗卡次数，是指使用私教次卡消课的总次数")]), _vm._v(" "), _c('li', [_vm._v("剩余卡次数，是指会员卡尚未消耗的次数")]), _vm._v(" "), _c('li', [_vm._v("金额 = 次数 * 会员卡平均单价")])])])], 1), _vm._v(" "), _vm._m(0)] : _c('div', {
    staticClass: "none"
  }, [_vm._v("无数据")])], 2), _vm._v(" "), _c('section', {
    staticClass: "stat2"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("私教课时统计")]), _vm._v(" "), _c('div', {
    staticClass: "r gray"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        return _vm.g.Util.exportToExcel('privateCoachLessonStat', '私教消课统计')
      }
    }
  }, [_vm._v("导出")])], 1)]), _vm._v(" "), (_vm.hasLoadCoachStat) ? _c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    attrs: {
      "id": "privateCoachLessonStat"
    }
  }, [_vm._m(1), _vm._v(" "), _vm._l((_vm.privateCoachList), function(c) {
    return (c.stat && (c.stat.totalTimes || c.stat.usedTimes)) ? _c('tr', [_c('td', [_vm._v(_vm._s(c.name))]), _vm._v(" "), _c('td', {
      staticClass: "color1"
    }, [(c.stat && c.stat.totalTimes) ? [_vm._v(_vm._s(c.stat.totalTimes) + " 次")] : _vm._e()], 2), _vm._v(" "), _c('td', {
      staticClass: "color1"
    }, [(c.stat && c.stat.totalFee) ? [_vm._v("￥" + _vm._s(_vm.g.Util.round(c.stat.totalFee)))] : _vm._e()], 2), _vm._v(" "), _c('td', {
      staticClass: "color2"
    }, [(c.stat && c.stat.usedTimes) ? _c('span', [_vm._v(_vm._s(c.stat.usedTimes) + " 次")]) : _vm._e()]), _vm._v(" "), _c('td', {
      staticClass: "color2"
    }, [(c.stat) ? [_vm._v("￥" + _vm._s(_vm.g.Util.round(c.stat.usedFee)))] : _vm._e()], 2), _vm._v(" "), _c('td', {
      staticClass: "color3"
    }, [(c.stat && c.stat.totalTimes > c.stat.usedTimes) ? [_vm._v(_vm._s(c.stat.totalTimes - c.stat.usedTimes) + " 次")] : _vm._e()], 2), _vm._v(" "), _c('td', {
      staticClass: "color3"
    }, [(c.stat && c.stat.totalFee > c.stat.usedFee) ? [_vm._v("￥" + _vm._s(_vm.g.Util.round(c.stat.totalFee - c.stat.usedFee)))] : _vm._e()], 2)]) : _vm._e()
  })], 2), _vm._v(" "), (_vm.privateCoachList && _vm.privateCoachList.length === 0) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e()]) : _vm._e(), _vm._v(" "), _vm._m(2)]), _vm._v(" "), _c('course-stat', {
    attrs: {
      "course-type": 2
    }
  })], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "remark"
  }, [_c('b', [_vm._v("备注")]), _vm._v("： 此处统计数据仅来源于私教次卡充值记录\n\t\t\t\t")])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("教练")]), _vm._v(" "), _c('th', [_vm._v("总排课数")]), _vm._v(" "), _c('th', [_vm._v("总课时费")]), _vm._v(" "), _c('th', [_vm._v("已消课数")]), _vm._v(" "), _c('th', [_vm._v("已消课费用")]), _vm._v(" "), _c('th', [_vm._v("剩余课时数")]), _vm._v(" "), _c('th', [_vm._v("剩余课时费")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "remark"
  }, [_c('b', [_vm._v("备注")]), _vm._v("： 此处统计数据仅来源于私教排课和约课记录 （数据如有不对，请仔细检查私教排课）\n\t\t\t")])
}]}

/***/ }),

/***/ 2104:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "stat-pos-card-pay g-main"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), (!_vm.payRole && !_vm.refundRole) ? _c('section', {
    staticClass: "no-permit"
  }, [_c('i', {
    staticClass: "iconfont icon-alert2 big"
  }), _vm._v(" 您尚无【" + _vm._s(_vm.g.Dict.RoleFunc.POS_PAY.name) + "】【" + _vm._s(_vm.g.Dict.RoleFunc.POS_PAY_REFUND.name) + "】权限，无权查看\n  ")]) : [_c('Tabs', {
    attrs: {
      "animated": false
    },
    on: {
      "on-click": _vm.tabsFun
    },
    model: {
      value: (_vm.tabValue),
      callback: function($$v) {
        _vm.tabValue = $$v
      },
      expression: "tabValue"
    }
  }, [_c('TabPane', {
    attrs: {
      "label": "POS购卡订单",
      "name": "1"
    }
  }, [(_vm.activeMenus.has('1')) ? _c('MallPosCoursePayList') : _vm._e()], 1), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "POS购卡退款",
      "name": "2"
    }
  }, [(_vm.activeMenus.has('2')) ? _c('MallPosCourseRefund') : _vm._e()], 1)], 1)]], 2)
},staticRenderFns: []}

/***/ }),

/***/ 2135:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-member"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList,
      "include-back": true
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("入场签到数")]), _vm._v(" "), _c('ul', {
    staticClass: "menu"
  }, [_c('li', [_c('a', {
    class: {
      'on': _vm.memberEntryQuery.statType === 1
    },
    on: {
      "click": function($event) {
        return _vm.loadMemberEntryStat(1)
      }
    }
  }, [_vm._v("日统计")])]), _vm._v(" "), _c('li', [_c('a', {
    class: {
      'on': _vm.memberEntryQuery.statType === 2
    },
    on: {
      "click": function($event) {
        return _vm.loadMemberEntryStat(2)
      }
    }
  }, [_vm._v("周统计")])]), _vm._v(" "), _c('li', [_c('a', {
    class: {
      'on': _vm.memberEntryQuery.statType === 3
    },
    on: {
      "click": function($event) {
        return _vm.loadMemberEntryStat(3)
      }
    }
  }, [_vm._v("月统计")])])])]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('ul', {
    staticClass: "query-cond-inline-s"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("统计日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "daterange",
    attrs: {
      "size": "small",
      "options": _vm.dateOptions1,
      "type": "daterange",
      "format": "yyyy-MM-dd",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.memberEntryQuery.dates),
      callback: function($$v) {
        _vm.$set(_vm.memberEntryQuery, "dates", $$v)
      },
      expression: "memberEntryQuery.dates"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary",
      "loading": _vm.mentryQueryLoading
    },
    on: {
      "click": function($event) {
        return _vm.loadMemberEntryStat(_vm.memberEntryQuery.statType)
      }
    }
  }, [_vm._v("查询")])], 1)])])]), _vm._v(" "), _c('chart', {
    staticClass: "chart",
    attrs: {
      "options": _vm.memberEntryChartOption
    }
  })], 1), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("新增会员数")]), _vm._v(" "), _c('ul', {
    staticClass: "menu"
  }, [_c('li', [_c('a', {
    class: {
      'on': _vm.memberCntQuery.statType === 1
    },
    on: {
      "click": function($event) {
        return _vm.loadMemberCntStat(1)
      }
    }
  }, [_vm._v("日统计")])]), _vm._v(" "), _c('li', [_c('a', {
    class: {
      'on': _vm.memberCntQuery.statType === 2
    },
    on: {
      "click": function($event) {
        return _vm.loadMemberCntStat(2)
      }
    }
  }, [_vm._v("周统计")])]), _vm._v(" "), _c('li', [_c('a', {
    class: {
      'on': _vm.memberCntQuery.statType === 3
    },
    on: {
      "click": function($event) {
        return _vm.loadMemberCntStat(3)
      }
    }
  }, [_vm._v("月统计")])])])]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('ul', {
    staticClass: "query-cond-inline-s"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("统计日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "daterange",
    attrs: {
      "size": "small",
      "options": _vm.dateOptions1,
      "type": "daterange",
      "format": "yyyy-MM-dd",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.memberCntQuery.dates),
      callback: function($$v) {
        _vm.$set(_vm.memberCntQuery, "dates", $$v)
      },
      expression: "memberCntQuery.dates"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary",
      "loading": _vm.mcntQueryLoading
    },
    on: {
      "click": function($event) {
        return _vm.loadMemberCntStat(_vm.memberCntQuery.statType)
      }
    }
  }, [_vm._v("查询")])], 1)])])]), _vm._v(" "), _c('chart', {
    staticClass: "chart",
    attrs: {
      "options": _vm.memberCntChartOption
    }
  })], 1), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("续卡会员数")]), _vm._v(" "), _c('ul', {
    staticClass: "menu"
  }, [_c('li', [_c('a', {
    class: {
      'on': _vm.memberCntForCpQuery.statType === 1
    },
    on: {
      "click": function($event) {
        return _vm.loadMemberCardPaymentCntStat(1)
      }
    }
  }, [_vm._v("日统计")])]), _vm._v(" "), _c('li', [_c('a', {
    class: {
      'on': _vm.memberCntForCpQuery.statType === 2
    },
    on: {
      "click": function($event) {
        return _vm.loadMemberCardPaymentCntStat(2)
      }
    }
  }, [_vm._v("周统计")])]), _vm._v(" "), _c('li', [_c('a', {
    class: {
      'on': _vm.memberCntForCpQuery.statType === 3
    },
    on: {
      "click": function($event) {
        return _vm.loadMemberCardPaymentCntStat(3)
      }
    }
  }, [_vm._v("月统计")])])])]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('ul', {
    staticClass: "query-cond-inline-s"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("统计日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "daterange",
    attrs: {
      "size": "small",
      "options": _vm.dateOptions1,
      "type": "daterange",
      "format": "yyyy-MM-dd",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.memberCntForCpQuery.dates),
      callback: function($$v) {
        _vm.$set(_vm.memberCntForCpQuery, "dates", $$v)
      },
      expression: "memberCntForCpQuery.dates"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary",
      "loading": _vm.mcntForCpQueryLoading
    },
    on: {
      "click": function($event) {
        return _vm.loadMemberCardPaymentCntStat(_vm.memberCntForCpQuery.statType)
      }
    }
  }, [_vm._v("查询")])], 1)])])]), _vm._v(" "), _c('chart', {
    staticClass: "chart",
    attrs: {
      "options": _vm.memberCntForCpChartOption
    }
  })], 1)], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2147:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-member"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('member-stat', {
    attrs: {
      "stat-type": 3
    }
  })], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2149:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-member"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main stat-order -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_vm._m(0), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('ul', {
    staticClass: "query-cond-inline-s"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("会员类型")]), _vm._v(" "), _c('i-select', {
    staticStyle: {
      "width": "100px"
    },
    attrs: {
      "size": "small"
    },
    model: {
      value: (_vm.query.memberTypeForSexStat),
      callback: function($$v) {
        _vm.$set(_vm.query, "memberTypeForSexStat", _vm._n($$v))
      },
      expression: "query.memberTypeForSexStat"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 0
    }
  }, [_vm._v("所有会员")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("有效会员")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("无效会员")])], 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("会员注册日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "开始日期",
      "options": _vm.dateOptions
    },
    model: {
      value: (_vm.query.beginDateForSexStat),
      callback: function($$v) {
        _vm.$set(_vm.query, "beginDateForSexStat", $$v)
      },
      expression: "query.beginDateForSexStat"
    }
  }), _vm._v("\n\t\t\t\t\t\t\t~\n\t\t\t\t\t\t\t"), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "结束日期",
      "options": _vm.dateOptions
    },
    model: {
      value: (_vm.query.endDateForSexStat),
      callback: function($$v) {
        _vm.$set(_vm.query, "endDateForSexStat", $$v)
      },
      expression: "query.endDateForSexStat"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.statMemberSex()
      }
    }
  }, [_vm._v("查询")])], 1)])])]), _vm._v(" "), (_vm.sexStatData && _vm.sexStatData.length > 0) ? _c('div', [_c('chart', {
    staticClass: "piechart",
    attrs: {
      "options": _vm.memberSexStatOption
    }
  })], 1) : _vm._e()]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_vm._m(1), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('ul', {
    staticClass: "query-cond-inline-s"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("会员类型")]), _vm._v(" "), _c('i-select', {
    staticStyle: {
      "width": "100px"
    },
    attrs: {
      "size": "small"
    },
    model: {
      value: (_vm.query.memberTypeForAgeStat),
      callback: function($$v) {
        _vm.$set(_vm.query, "memberTypeForAgeStat", _vm._n($$v))
      },
      expression: "query.memberTypeForAgeStat"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 0
    }
  }, [_vm._v("所有会员")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("有效会员")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("无效会员")])], 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("会员注册日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "开始日期",
      "options": _vm.dateOptions
    },
    model: {
      value: (_vm.query.beginDateForAgeStat),
      callback: function($$v) {
        _vm.$set(_vm.query, "beginDateForAgeStat", $$v)
      },
      expression: "query.beginDateForAgeStat"
    }
  }), _vm._v("\n\t\t\t\t\t\t\t~\n\t\t\t\t\t\t\t"), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "结束日期",
      "options": _vm.dateOptions
    },
    model: {
      value: (_vm.query.endDateForAgeStat),
      callback: function($$v) {
        _vm.$set(_vm.query, "endDateForAgeStat", $$v)
      },
      expression: "query.endDateForAgeStat"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-select', {
    staticStyle: {
      "width": "95px"
    },
    attrs: {
      "size": "small"
    },
    on: {
      "on-change": _vm.changeMemberAgeSpan
    },
    model: {
      value: (_vm.query.ageSpanType),
      callback: function($$v) {
        _vm.$set(_vm.query, "ageSpanType", $$v)
      },
      expression: "query.ageSpanType"
    }
  }, [_c('i-option', {
    attrs: {
      "value": 1
    }
  }, [_vm._v("10岁间隔")]), _vm._v(" "), _c('i-option', {
    attrs: {
      "value": 2
    }
  }, [_vm._v("1岁间隔")])], 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.statMemberAge()
      }
    }
  }, [_vm._v("查询")])], 1)])])]), _vm._v(" "), _c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', {
    attrs: {
      "width": "280"
    }
  }, [_c('table', {
    staticClass: "mytbl"
  }, [_vm._m(2), _vm._v(" "), _vm._l((_vm.ageStatList), function(r) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(r.flagName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(r.count))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(r.rate) + "%")])])
  })], 2)]), _vm._v(" "), _c('td', [(_vm.ageStatData && _vm.ageStatData.length > 0) ? _c('div', {
    staticClass: "l15"
  }, [_c('chart', {
    staticClass: "barchart",
    attrs: {
      "options": _vm.memberAgeStatOption
    }
  })], 1) : _vm._e()])])])])], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "l",
    staticStyle: {
      "padding": "0"
    }
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员性别统计")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "l",
    staticStyle: {
      "padding": "0"
    }
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员年龄统计")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("年龄段")]), _c('th', [_vm._v("人数")]), _c('th', [_vm._v("比例")])])
}]}

/***/ }),

/***/ 2153:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-member"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main stat-order -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l",
    staticStyle: {
      "padding": "0"
    }
  }, [_c('ul', {
    staticClass: "opt-list"
  }, [_c('li', {
    staticClass: "opt-tit gray"
  }, [_vm._v("日期导航：")]), _vm._v(" "), _vm._l((_vm.dateShortcuts), function(d, idx) {
    return _c('li', {
      class: {
        'on': _vm.queryDateShourtcut === idx
      }
    }, [_c('a', {
      on: {
        "click": function($event) {
          return _vm.statByDateShortcuts(idx)
        }
      }
    }, [_vm._v(_vm._s(d.name))])])
  })], 2)]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('ul', {
    staticClass: "query-cond-inline-s"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("统计日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "开始日期",
      "options": _vm.dateOptions
    },
    model: {
      value: (_vm.query.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "beginDate", $$v)
      },
      expression: "query.beginDate"
    }
  }), _vm._v("\n\t\t\t\t\t\t\t~\n\t\t\t\t\t\t\t"), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "结束日期",
      "options": _vm.dateOptions
    },
    model: {
      value: (_vm.query.endDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "endDate", $$v)
      },
      expression: "query.endDate"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        _vm.queryDateShourtcut = null;
        _vm.statCustSource()
      }
    }
  }, [_vm._v("查询")])], 1)])])]), _vm._v(" "), (_vm.statList && _vm.statList.length > 0) ? _c('div', [_c('chart', {
    staticClass: "piechart",
    attrs: {
      "options": _vm.memberSourceStatOption
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.statList) ? _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.statList), function(s, idx) {
    return _c('tr', [_c('td', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.sourceName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.count))]), _vm._v(" "), _c('td', [_vm._v(_vm._s((s.rate * 100).toFixed(2)) + "%")])])
  })], 2), _vm._v(" "), _c('div', {
    staticStyle: {
      "margin": "15px 0 0 170px"
    }
  }, [_vm._v("合计： "), _c('b', {
    staticClass: "orangered"
  }, [_vm._v(_vm._s(_vm.memberCount))]), _vm._v(" 人")])]) : _vm._e()])], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("来源")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("会员数")]), _vm._v(" "), _c('th', [_vm._v("比例")])])
}]}

/***/ }),

/***/ 2165:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "shop-pos-pay"
  }, [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-card"
    }
  }), _vm._v(" "), _c('router-view')], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2168:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-member"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('member-stat', {
    attrs: {
      "stat-type": 1
    }
  })], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2213:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "-mall-pos-card-pay-list"
  }, [(!_vm.payRole) ? _c('section', {
    staticClass: "no-permit"
  }, [_c('i', {
    staticClass: "iconfont icon-alert2 big"
  }), _vm._v(" 您尚无【" + _vm._s(_vm.g.Dict.RoleFunc.POS_PAY.name) + "】权限，无权查看\n  ")]) : [_c('section', {
    staticClass: "query-section"
  }, [_c('ul', {
    staticClass: "query-cond-inline"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("状态")]), _vm._v(" "), _c('i-select', {
    staticStyle: {
      "width": "90px"
    },
    attrs: {
      "clearable": ""
    },
    model: {
      value: (_vm.query.status),
      callback: function($$v) {
        _vm.$set(_vm.query, "status", $$v)
      },
      expression: "query.status"
    }
  }, _vm._l((_vm.g.Dict.posStatus), function(s, key) {
    return _c('i-option', {
      key: key,
      attrs: {
        "value": key
      }
    }, [_vm._v(_vm._s(s))])
  }), 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("订单来源")]), _vm._v(" "), _c('i-select', {
    staticStyle: {
      "width": "90px"
    },
    attrs: {
      "clearable": ""
    },
    model: {
      value: (_vm.query.apiType),
      callback: function($$v) {
        _vm.$set(_vm.query, "apiType", $$v)
      },
      expression: "query.apiType"
    }
  }, _vm._l((_vm.g.Dict.posApiType), function(a, key) {
    return _c('i-option', {
      key: key,
      attrs: {
        "value": key
      }
    }, [_vm._v(_vm._s(a))])
  }), 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("订单日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "input",
    staticStyle: {
      "width": "200px"
    },
    attrs: {
      "format": "yyyy-MM-dd",
      "placeholder": "请选择订单日期",
      "confirm": "",
      "options": _vm.orderDateOption,
      "type": "daterange",
      "placement": "bottom-start"
    },
    model: {
      value: (_vm.query.orderDates),
      callback: function($$v) {
        _vm.$set(_vm.query, "orderDates", $$v)
      },
      expression: "query.orderDates"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("订单号")]), _vm._v(" "), _c('i-input', {
    staticStyle: {
      "width": "180px"
    },
    attrs: {
      "type": "text",
      "placeholder": "请输入订单号"
    },
    model: {
      value: (_vm.query.tradeNo),
      callback: function($$v) {
        _vm.$set(_vm.query, "tradeNo", $$v)
      },
      expression: "query.tradeNo"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    attrs: {
      "type": "primary",
      "icon": "ios-search"
    },
    on: {
      "click": function($event) {
        return _vm.cardPosOrderQuery(null)
      }
    }
  }, [_vm._v("查询")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.resetQuery
    }
  }, [_vm._v("重置")])], 1)])]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.orderList), function(o) {
    return _c('tr', {
      key: o.orderId
    }, [_c('td', [_vm._v(_vm._s(o.createTime))]), _vm._v(" "), _c('td', [(o.status === 0 || o.status === -1) ? _c('a', {
      on: {
        "click": function($event) {
          return _vm.posQrcodeFun(o)
        }
      }
    }, [_vm._v(_vm._s(o.tradeNo))]) : _c('span', [_vm._v(_vm._s(o.tradeNo))])]), _vm._v(" "), _c('td', [_c('span', {
      class: {
        'red': o.status === 1,
        'orange': o.status === 0,
        'green': o.status === 9
      }
    }, [_vm._v(_vm._s(_vm.g.Dict.posStatus[o.status]) + " "), (o.status === 0) ? _c('a', {
      on: {
        "click": function($event) {
          return _vm.orderStatus(o.tradeNo)
        }
      }
    }, [_vm._v("\n                  [刷新]\n                ")]) : _vm._e()])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.posApiType[o.apiType]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.memberName || o.name))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.transTime))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(o.paymentAmount))]), _vm._v(" "), _c('td', [_c('ul', {
      staticClass: "opt-list"
    }, [_c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.tradeDetailsFun(o.orderId)
        }
      }
    }, [_vm._v("详情")])])])])])
  })], 2)]), _vm._v(" "), (_vm.orderList && _vm.orderList.length > 0) ? _c('div', {
    staticClass: "page-nav"
  }, [(_vm.orderCount > _vm.g.Conf.PAGE_SIZE) ? _c('page', {
    attrs: {
      "total": _vm.orderCount,
      "page-size": _vm.g.Conf.PAGE_SIZE,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "click": function($event) {
        return _vm.g.Util.jumpClick('.g-main')
      },
      "on-change": _vm.cardPosOrderQuery
    },
    model: {
      value: (_vm.query.page),
      callback: function($$v) {
        _vm.$set(_vm.query, "page", $$v)
      },
      expression: "query.page"
    }
  }) : _c('div', {
    staticClass: "center gray"
  }, [_vm._v("共 " + _vm._s(_vm.orderCount) + " 条记录")])], 1) : _vm._e(), _vm._v(" "), (_vm.orderList && !_vm.orderList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()])], _vm._v(" "), _c('modal', {
    attrs: {
      "mask-closable": false,
      "title": "订单支付（使用POS机扫描该二维码）",
      "footer-hide": "",
      "width": "375",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.posTradeNoShow),
      callback: function($$v) {
        _vm.posTradeNoShow = $$v
      },
      expression: "posTradeNoShow"
    }
  }, [(_vm.posTradeNoShow && _vm.qrcodeTradeNoUrl) ? _c('div', {
    staticClass: "qrcode-order"
  }, [_c('div', {
    staticClass: "pos-qrcode-img center"
  }, [_c('qrcode-vue', {
    attrs: {
      "value": _vm.qrcodeTradeNoUrl,
      "size": 200,
      "level": "H"
    }
  })], 1), _vm._v(" "), _c('div', {
    staticClass: "center"
  }, [_vm._v("需支付金额："), _c('span', {
    staticClass: "red"
  }, [_vm._v("￥ ")]), _c('span', {
    staticClass: "order-amount"
  }, [_vm._v(_vm._s(_vm.orderAmount))])]), _vm._v(" "), _c('div', {
    staticClass: "center none"
  }, [_vm._v("注意：使用POS扫码之后该订单将无法被修改")])]) : _vm._e()]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "订单详情",
      "footer-hide": "",
      "width": "900",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.dlg.tradeDetailsShow),
      callback: function($$v) {
        _vm.$set(_vm.dlg, "tradeDetailsShow", $$v)
      },
      expression: "dlg.tradeDetailsShow"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._l((_vm.orderItemList), function(o, idx) {
    return [(_vm.g.Util.isNotEmpty(o.value)) ? _c('tr', {
      key: idx
    }, [_c('th', {
      attrs: {
        "width": "100"
      }
    }, [_vm._v(_vm._s(o.name))]), _vm._v(" "), _c('td', [_c('span', {
      class: {
        'red': o.value === '支付失败',
        'orange': o.value === '处理中',
        'green': o.value === '支付完成'
      }
    }, [_vm._v(_vm._s(o.value))])])]) : _vm._e()]
  })], 2)]), _vm._v(" "), _c('p'), _vm._v(" "), _c('div', {
    staticClass: "center none"
  }, [(_vm.isPosArg && _vm.refundRole && _vm.orderItem && _vm.orderItem.status == 9 && _vm.orderItem.currentPaymentAmount > 0) ? [_c('i-button', {
    staticStyle: {
      "width": "100px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.cardPosOrderRefundFun(_vm.orderItem)
      }
    }
  }, [_vm._v("退款")]), _vm._v("\n         \n      ")] : _vm._e(), _vm._v(" "), (_vm.refundList && _vm.refundList.length) ? [_c('i-button', {
    staticStyle: {
      "width": "100px"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.refundListFun
    }
  }, [_vm._v("查看退款记录")]), _vm._v("\n         \n      ")] : _vm._e(), _vm._v(" "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlg.tradeDetailsShow = false
      }
    }
  }, [_vm._v("关闭")])], 2)]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "退款记录",
      "footer-hide": "",
      "width": "1550",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.dlg.refundListShow),
      callback: function($$v) {
        _vm.$set(_vm.dlg, "refundListShow", $$v)
      },
      expression: "dlg.refundListShow"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("退款订单创建时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "170"
    }
  }, [_vm._v("退款订单号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("退款时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("退款数量")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("退款充值金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("退款购卡金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("退款购卡天数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("退款原因")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作人")]), _vm._v(" "), _c('th', {
    style: ({
      minWidth: '120px'
    })
  }, [_vm._v("退款失败原因")])]), _vm._v(" "), _vm._l((_vm.refundList), function(o) {
    return _c('tr', {
      key: o.refundId
    }, [_c('td', [_vm._v(_vm._s(o.createTime))]), _vm._v(" "), _c('td', [_c('span', [_vm._v(_vm._s(o.refundNo))])]), _vm._v(" "), _c('td', [_c('span', {
      class: {
        'red': o.status === 1,
        'orange': o.status === 0,
        'green': o.status === 2
      }
    }, [_vm._v(_vm._s(_vm.g.Dict.posRefundStatus[o.status]) + " "), (o.status === 0) ? _c('a', {
      on: {
        "click": function($event) {
          $event.stopPropagation();
          return _vm.refundStatus(o.refundId)
        }
      }
    }, [_c('Icon', {
      attrs: {
        "type": "md-refresh",
        "size": "16"
      }
    })], 1) : _vm._e()])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.memberName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.transTime))]), _vm._v(" "), _c('td', [(o.refundTimes) ? _c('span', [_vm._v(_vm._s(o.refundTimes) + " " + _vm._s(o.cardType == 4 ? (o.cardTimeType == 1 ? '分钟' : '小时') : '次'))]) : _vm._e()]), _vm._v(" "), _c('td', [(o.refundAmount) ? _c('span', [_vm._v("￥" + _vm._s(o.refundAmount))]) : _vm._e()]), _vm._v(" "), _c('td', [(o.refundPaymentAmount) ? _c('span', [_vm._v("￥" + _vm._s(o.refundPaymentAmount))]) : _vm._e()]), _vm._v(" "), _c('td', [(o.refundDays) ? _c('span', [_vm._v(_vm._s(o.refundDays) + "天")]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.refundRemark))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.updateUname))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.errMsg))])])
  })], 2)]), _vm._v(" "), _c('p'), _vm._v(" "), _c('div', {
    staticClass: "center none"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlg.refundListShow = false
      }
    }
  }, [_vm._v("关闭")])], 1)]), _vm._v(" "), _c('Modal', {
    attrs: {
      "mask-closable": false,
      "title": "退款",
      "footer-hide": "",
      "width": "500",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.dlg.cardPosOrderRefundShow),
      callback: function($$v) {
        _vm.$set(_vm.dlg, "cardPosOrderRefundShow", $$v)
      },
      expression: "dlg.cardPosOrderRefundShow"
    }
  }, [(_vm.orderItem) ? _c('i-form', {
    ref: "refundRefs",
    staticClass: "myform",
    staticStyle: {
      "width": "440px",
      "margin-top": "10px"
    },
    attrs: {
      "model": _vm.orderRefund,
      "rules": _vm.refundOrderRule,
      "label-width": 120
    }
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("\n          退款信息\n        ")])]), _vm._v(" "), (_vm.orderItem.currentAmount) ? _c('form-item', {
    attrs: {
      "prop": "refundAmount",
      "label": "退款充值金额"
    }
  }, [_c('input-num', {
    style: ({
      width: '320px'
    }),
    attrs: {
      "min": (_vm.orderItem.currentAmount > 0) ? 0.01 : 0,
      "max": _vm.orderItem.currentAmount,
      "placeholder": '退款充值金额，最大不能超过 ￥{0}'.format(_vm.orderItem.currentAmount)
    },
    model: {
      value: (_vm.orderRefund.refundAmount),
      callback: function($$v) {
        _vm.$set(_vm.orderRefund, "refundAmount", $$v)
      },
      expression: "orderRefund.refundAmount"
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.orderItem.currentDays) ? _c('form-item', {
    attrs: {
      "prop": "refundDays",
      "label": "退款购卡天数"
    }
  }, [_c('input-num', {
    style: ({
      width: '320px'
    }),
    attrs: {
      "min": (_vm.orderItem.currentDays > 0) ? 0.01 : 0,
      "max": _vm.orderItem.currentDays,
      "placeholder": '退款购卡天数，最大不能超过{0}天'.format(_vm.orderItem.currentDays)
    },
    model: {
      value: (_vm.orderRefund.refundDays),
      callback: function($$v) {
        _vm.$set(_vm.orderRefund, "refundDays", $$v)
      },
      expression: "orderRefund.refundDays"
    }
  })], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "refundPaymentAmount",
      "label": "退款购卡金额"
    }
  }, [_c('input-num', {
    style: ({
      width: '320px'
    }),
    attrs: {
      "min": (_vm.orderItem.currentPaymentAmount > 0) ? 0.01 : 0,
      "max": _vm.orderItem.currentPaymentAmount,
      "placeholder": '退款购卡金额，最大不能超过 ￥{0}'.format(_vm.orderItem.currentPaymentAmount)
    },
    model: {
      value: (_vm.orderRefund.refundPaymentAmount),
      callback: function($$v) {
        _vm.$set(_vm.orderRefund, "refundPaymentAmount", $$v)
      },
      expression: "orderRefund.refundPaymentAmount"
    }
  })], 1), _vm._v(" "), (_vm.orderItem.currentTimes) ? _c('form-item', {
    attrs: {
      "prop": "refundTimes",
      "label": "退款购卡数量"
    }
  }, [_c('input-num', {
    style: ({
      width: '320px'
    }),
    attrs: {
      "min": "0",
      "max": _vm.orderItem.currentTimes,
      "placeholder": '退款购卡数量，最大不能超过 {0} {1}'.format(_vm.orderItem.currentTimes, _vm.orderItem.cardType == 4 ? (_vm.orderItem.cardTimeType == 1 ? '分钟' : '小时') : '次')
    },
    model: {
      value: (_vm.orderRefund.refundTimes),
      callback: function($$v) {
        _vm.$set(_vm.orderRefund, "refundTimes", $$v)
      },
      expression: "orderRefund.refundTimes"
    }
  })], 1) : _vm._e(), _vm._v(" "), _c('form-item', {
    attrs: {
      "prop": "refundRemark",
      "label": "退款原因"
    }
  }, [_c('i-input', {
    staticStyle: {
      "width": "320px"
    },
    attrs: {
      "type": "textarea",
      "rows": 5,
      "placeholder": "退款原因"
    },
    model: {
      value: (_vm.orderRefund.refundRemark),
      callback: function($$v) {
        _vm.$set(_vm.orderRefund, "refundRemark", (typeof $$v === 'string' ? $$v.trim() : $$v))
      },
      expression: "orderRefund.refundRemark"
    }
  })], 1)], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "form-submit",
    staticStyle: {
      "padding-left": "120px"
    }
  }, [_c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.refundBtn()
      }
    }
  }, [_vm._v("退款")]), _vm._v("\n       \n      "), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlg.cardPosOrderRefundShow = false
      }
    }
  }, [_vm._v("关闭")])], 1)], 1)], 2)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("订单时间 ↓")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "170"
    }
  }, [_vm._v("订单号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("订单来源")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "160"
    }
  }, [_vm._v("支付时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("实收金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("操作")])])
}]}

/***/ }),

/***/ 2219:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "stat-order -style-"
  }, [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('ul', {
    staticClass: "opt-list"
  }, [(_vm.courseType === 2) ? _c('li', {
    staticClass: "opt-tit tit"
  }, [_vm._v("课程排名")]) : _vm._e(), _vm._v(" "), _vm._l((_vm.dateShortcuts), function(d, idx) {
    return _c('li', {
      class: {
        'on': _vm.queryDateShourtcut === idx
      }
    }, [_c('a', {
      on: {
        "click": function($event) {
          return _vm.statByDateShortcuts(idx)
        }
      }
    }, [_vm._v(_vm._s(d.name))])])
  })], 2)]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('ul', {
    staticClass: "query-cond-inline-s"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("统计日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "开始日期",
      "options": _vm.dateOptions
    },
    model: {
      value: (_vm.query.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "beginDate", $$v)
      },
      expression: "query.beginDate"
    }
  }), _vm._v("\n\t\t\t\t\t~\n\t\t\t\t\t"), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "结束日期",
      "options": _vm.dateOptions
    },
    model: {
      value: (_vm.query.endDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "endDate", $$v)
      },
      expression: "query.endDate"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        _vm.queryDateShourtcut = null;
        _vm.statCoach()
      }
    }
  }, [_vm._v("查询")])], 1)])])]), _vm._v(" "), _c('ul', {
    staticClass: "detail"
  }, _vm._l((_vm.statConf), function(c, idx) {
    return (_vm.courseType === 1 || (_vm.courseType === 2 && c.statType !== 4)) ? _c('li', {
      staticClass: "item",
      style: ('width: ' + (_vm.courseType === 2 ? 33 : 25) + '%')
    }, [_c('div', {
      staticClass: "cont"
    }, [_c('div', {
      staticClass: "tit"
    }, [_c('i', {
      staticClass: "iconfont icon-list",
      style: ('color: ' + c.bgcolor)
    }), _vm._v(" 按"), _c('span', [_vm._v(_vm._s(c.typeName))]), _vm._v("排名\n\t\t\t\t\t")]), _vm._v(" "), _c('div', {
      staticStyle: {
        "padding": "0 10px"
      }
    }, [_c('table', [_c('tr', [_c('th', {
      attrs: {
        "width": "45",
        "align": "center"
      }
    }, [_vm._v("排名")]), _c('th', [_vm._v("课程")]), _c('th', {
      attrs: {
        "width": "70"
      }
    }, [_vm._v(_vm._s(c.typeName))])]), _vm._v(" "), _vm._l((_vm.statLists[idx]), function(s, sidx) {
      return _c('tr', [_c('td', [_c('span', {
        staticClass: "order"
      }, [_vm._v(_vm._s(sidx + 1))])]), _vm._v(" "), _c('td', {
        staticClass: "course-name"
      }, [_vm._v(_vm._s(s.courseName) + " "), (s.coachName) ? _c('span', {
        staticClass: "coach-name"
      }, [_vm._v("- " + _vm._s(s.coachName))]) : _vm._e()]), _vm._v(" "), _c('td', [(idx === 0) ? _c('span', [_vm._v(_vm._s(s.lessonCnt))]) : _vm._e(), _vm._v(" "), (idx === 1) ? _c('span', [_vm._v(_vm._s(s.memberCnt))]) : _vm._e(), _vm._v(" "), (idx === 2) ? _c('span', [_vm._v(_vm._s(_vm.g.Util.round(s.avgScore)))]) : _vm._e(), _vm._v(" "), (idx === 3) ? _c('span', [_vm._v(_vm._s(s.checkinCnt))]) : _vm._e(), _vm._v("\n\t\t\t\t\t\t\t\t\t" + _vm._s(c.unitType) + "\n\t\t\t\t\t\t\t\t")])])
    })], 2), _vm._v(" "), _c('p', {
      directives: [{
        name: "show",
        rawName: "v-show",
        value: (_vm.statLists[idx] && !_vm.statLists[idx].length),
        expression: "statLists[idx] && !statLists[idx].length"
      }],
      staticClass: "gray center"
    }, [_vm._v("暂无数据")])]), _vm._v(" "), _c('spin', {
      directives: [{
        name: "show",
        rawName: "v-show",
        value: (_vm.loadings[idx]),
        expression: "loadings[idx]"
      }],
      staticClass: "spin"
    })], 1)]) : _vm._e()
  }), 0)])])
},staticRenderFns: []}

/***/ }),

/***/ 2236:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-staff"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main stat-order -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', {
    staticClass: "query"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('ul', {
    staticClass: "opt-list"
  }, [_c('li', {
    staticClass: "opt-tit"
  }, [_vm._v("日期导航：")]), _vm._v(" "), _vm._l((_vm.dateShortcuts), function(d, idx) {
    return _c('li', {
      key: idx,
      class: {
        on: _vm.queryDateShourtcut === idx
      }
    }, [_c('a', {
      on: {
        "click": function($event) {
          return _vm.statByDateShortcuts(idx)
        }
      }
    }, [_vm._v(_vm._s(d.name))])])
  })], 2)]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('ul', {
    staticClass: "query-cond-inline-s"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("统计日期")]), _vm._v(" "), _c('Date-picker', {
    staticClass: "date",
    attrs: {
      "type": "month",
      "placeholder": "请选择年月",
      "options": _vm.dateOptions,
      "clearable": false,
      "size": "small"
    },
    on: {
      "on-change": _vm.dateChange
    },
    model: {
      value: (_vm.queryDate),
      callback: function($$v) {
        _vm.queryDate = $$v
      },
      expression: "queryDate"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("选择部门")]), _vm._v(" "), _c('i-select', {
    staticStyle: {
      "width": "150px"
    },
    attrs: {
      "size": "small",
      "placeholder": "请选择部门"
    },
    model: {
      value: (_vm.deptId),
      callback: function($$v) {
        _vm.deptId = _vm._n($$v)
      },
      expression: "deptId"
    }
  }, [(_vm.g.data.user.isShopOwner || _vm.g.Util.isEmptyArray(_vm.staffDeptIds)) ? [_c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_c('i', {
    staticClass: "gray"
  }, [_vm._v("所有部门")])])] : _vm._e(), _vm._v(" "), _vm._l((_vm.departmentList), function(d) {
    return _c('i-option', {
      key: d.sdId,
      attrs: {
        "value": d.sdId
      }
    }, [_vm._v(_vm._s(d.deptName))])
  })], 2)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.loadData
    }
  }, [_vm._v("查询")])], 1)])])]), _vm._v(" "), (_vm.hasData && !_vm.deptId) ? _c('section', {
    staticClass: "stat1"
  }, [_vm._m(0), _vm._v(" "), _c('ul', {
    staticStyle: {
      "display": "inline-block",
      "margin-right": "10px"
    }
  }, [(_vm.g.Util.isNotEmpty(_vm.shopAchievement)) ? _c('li', [_c('label', [_vm._v("当月业绩")]), _vm._v(" "), _c('div', {
    staticClass: "green"
  }, [_c('span', {
    staticClass: "small"
  }, [_vm._v("￥")]), _vm._v(_vm._s(Number(_vm.shopAchievement)) + "\n            ")])]) : _vm._e(), _vm._v(" "), (_vm.g.Util.isNotEmpty(_vm.shopTarget)) ? _c('li', [_c('label', [_vm._v("目标业绩")]), _vm._v(" "), _c('div', {
    staticClass: "orange"
  }, [_c('span', {
    staticClass: "small"
  }, [_vm._v("￥")]), _vm._v(_vm._s(Number(_vm.shopTarget)) + "\n            ")])]) : _vm._e(), _vm._v(" "), (_vm.g.Util.isNotEmpty(_vm.shopAchievement)) ? _c('li', [_c('label', [_vm._v("完成率")]), _vm._v(" "), _c('div', {
    staticClass: "orangered"
  }, [_vm._v(_vm._s(Number(_vm.shopCompletionRate)) + "%")])]) : _vm._e(), _vm._v(" "), (_vm.g.Util.isNotEmpty(_vm.shopDifference)) ? _c('li', [_c('label', [_vm._v("差额")]), _vm._v(" "), _c('div', {
    staticClass: "orangered"
  }, [_c('span', {
    staticClass: "small"
  }, [_vm._v("￥")]), _vm._v(_vm._s(Number(_vm.shopDifference)) + "\n            ")])]) : _vm._e()])]) : _vm._e(), _vm._v(" "), _c('section', [_vm._m(1), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(2), _vm._v(" "), (_vm.staffTargetStatList && _vm.staffTargetStatList.length > 0) ? _vm._l((_vm.staffTargetStatList), function(c, idx) {
    return _c('tr', {
      key: idx
    }, [_c('td', [_vm._v(_vm._s(c.name))]), _vm._v(" "), _c('td', {
      staticClass: "color1"
    }, [_c('span', {
      staticClass: "small"
    }, [_vm._v("￥")]), _vm._v(_vm._s(c.achievement) + "\n                ")]), _vm._v(" "), _c('td', {
      staticClass: "color1"
    }, [_c('span', {
      staticClass: "small"
    }, [_vm._v("￥")]), _c('span', [_vm._v(_vm._s(c.target))])]), _vm._v(" "), _c('td', {
      staticClass: "color2"
    }, [_c('span', [_vm._v(_vm._s(c.completionRate * 100) + "%")])]), _vm._v(" "), _c('td', {
      staticClass: "color2"
    }, [_c('span', {
      staticClass: "small"
    }, [_vm._v("￥")]), _c('span', [_vm._v(_vm._s(c.difference))])])])
  }) : _vm._e()], 2), _vm._v(" "), (!_vm.staffTargetStatList || (_vm.staffTargetStatList && _vm.staffTargetStatList.length === 0)) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e()])]), _vm._v(" "), _c('section', [_vm._m(3), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(4), _vm._v(" "), (_vm.deptTargetStatList && _vm.deptTargetStatList.length > 0) ? _vm._l((_vm.deptTargetStatList), function(c, idx) {
    return _c('tr', {
      key: idx
    }, [_c('td', [_vm._v(_vm._s(c.deptName))]), _vm._v(" "), _c('td', {
      staticClass: "color1"
    }, [_c('span', {
      staticClass: "small"
    }, [_vm._v("￥")]), _vm._v(_vm._s(c.achievement) + "\n                ")]), _vm._v(" "), _c('td', {
      staticClass: "color1"
    }, [_c('span', {
      staticClass: "small"
    }, [_vm._v("￥")]), _c('span', [_vm._v(_vm._s(c.target))])]), _vm._v(" "), _c('td', {
      staticClass: "color2"
    }, [_c('span', [_vm._v(_vm._s(c.completionRate * 100) + "%")])]), _vm._v(" "), _c('td', {
      staticClass: "color2"
    }, [_c('span', {
      staticClass: "small"
    }, [_vm._v("￥")]), _c('span', [_vm._v(_vm._s(c.difference))])])])
  }) : _vm._e()], 2), _vm._v(" "), (!_vm.deptTargetStatList || (_vm.deptTargetStatList && _vm.deptTargetStatList.length === 0)) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e()])]), _vm._v(" "), (_vm.g.Util.isNotEmpty(_vm.shopAchievement)) ? _c('section', [_c('div', [_c('chart', {
    staticClass: "piechart",
    attrs: {
      "options": _vm.salesAmountStatOption
    }
  })], 1), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(5), _vm._v(" "), _c('tr', [_c('td', [_c('span', {
    staticClass: "small"
  }, [_vm._v("￥")]), _c('span', [_vm._v(_vm._s(Number(_vm.shopAchievement)))])]), _vm._v(" "), _c('td', {
    staticClass: "color1"
  }, [_c('span', {
    staticClass: "small"
  }, [_vm._v("￥")]), _c('span', [_vm._v(_vm._s(Number(_vm.shopTarget)))])]), _vm._v(" "), _c('td', {
    staticClass: "color1"
  }, [_c('span', [_vm._v(_vm._s(Number(_vm.shopCompletionRate)) + "%")])])])])])]) : _vm._e()], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("场馆销售目标")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("销售业绩统计")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  })])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("销售")]), _vm._v(" "), _c('th', [_vm._v("当月业绩")]), _vm._v(" "), _c('th', [_vm._v("目标业绩")]), _vm._v(" "), _c('th', [_vm._v("完成率")]), _vm._v(" "), _c('th', [_vm._v("差额")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("部门业绩及目标")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("部门名称")]), _vm._v(" "), _c('th', [_vm._v("当月业绩")]), _vm._v(" "), _c('th', [_vm._v("目标业绩")]), _vm._v(" "), _c('th', [_vm._v("完成率")]), _vm._v(" "), _c('th', [_vm._v("差额")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', [_vm._v("当月场馆业绩")]), _vm._v(" "), _c('th', [_vm._v("全场馆销售目标")]), _vm._v(" "), _c('th', [_vm._v("完成率")])])
}]}

/***/ }),

/***/ 2245:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-report"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('stat-report', {
    attrs: {
      "is-in-tenant": false
    }
  })], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2249:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-course-home"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('course-stat', {
    attrs: {
      "course-type": 2
    }
  })], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2257:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "-mall-pos-refund"
  }, [(!_vm.refundRole) ? _c('section', {
    staticClass: "no-permit"
  }, [_c('i', {
    staticClass: "iconfont icon-alert2 big"
  }), _vm._v(" 您尚无【" + _vm._s(_vm.g.Dict.RoleFunc.POS_PAY_REFUND.name) + "】权限，无权查看\n  ")]) : [_c('section', {
    staticClass: "query-section"
  }, [_c('ul', {
    staticClass: "query-cond-inline"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("状态")]), _vm._v(" "), _c('i-select', {
    staticStyle: {
      "width": "90px"
    },
    attrs: {
      "clearable": ""
    },
    model: {
      value: (_vm.query.status),
      callback: function($$v) {
        _vm.$set(_vm.query, "status", $$v)
      },
      expression: "query.status"
    }
  }, _vm._l((_vm.g.Dict.posRefundStatus), function(a, key) {
    return _c('i-option', {
      key: key,
      attrs: {
        "value": key
      }
    }, [_vm._v(_vm._s(a))])
  }), 1)], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("订单日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "input",
    staticStyle: {
      "width": "200px"
    },
    attrs: {
      "format": "yyyy-MM-dd",
      "placeholder": "请选择订单日期",
      "confirm": "",
      "options": _vm.orderDateOption,
      "type": "daterange",
      "placement": "bottom-start"
    },
    model: {
      value: (_vm.query.orderDates),
      callback: function($$v) {
        _vm.$set(_vm.query, "orderDates", $$v)
      },
      expression: "query.orderDates"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("订单号")]), _vm._v(" "), _c('i-input', {
    staticStyle: {
      "width": "180px"
    },
    attrs: {
      "type": "text",
      "placeholder": "请输入订单号"
    },
    model: {
      value: (_vm.query.tradeNo),
      callback: function($$v) {
        _vm.$set(_vm.query, "tradeNo", $$v)
      },
      expression: "query.tradeNo"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("退款订单号")]), _vm._v(" "), _c('i-input', {
    staticStyle: {
      "width": "180px"
    },
    attrs: {
      "type": "text",
      "placeholder": "请输入退款订单号"
    },
    model: {
      value: (_vm.query.refundNo),
      callback: function($$v) {
        _vm.$set(_vm.query, "refundNo", $$v)
      },
      expression: "query.refundNo"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    attrs: {
      "type": "primary",
      "icon": "ios-search"
    },
    on: {
      "click": function($event) {
        return _vm.cardPosOrderRefundQuery(1)
      }
    }
  }, [_vm._v("查询")]), _vm._v(" "), _c('i-button', {
    on: {
      "click": _vm.resetQuery
    }
  }, [_vm._v("重置")])], 1)])]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("退款订单创建时间 ↓")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "170"
    }
  }, [_vm._v("订单号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "170"
    }
  }, [_vm._v("退款订单号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("学员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("课程")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "170"
    }
  }, [_vm._v("退款时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("退款数量")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "110"
    }
  }, [_vm._v("退款购卡金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("退款原因")]), _vm._v(" "), _c('th', {
    style: ({
      minWidth: '100px'
    })
  }, [_vm._v("退款失败原因")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("操作")])]), _vm._v(" "), _vm._l((_vm.refundList), function(o) {
    return _c('tr', {
      key: o.refundId
    }, [_c('td', [_vm._v(_vm._s(o.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.tradeNo))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.refundNo))]), _vm._v(" "), _c('td', [_c('span', {
      class: {
        'red': o.status === 1,
        'orange': o.status === 0,
        'green': o.status === 2
      }
    }, [_vm._v(_vm._s(_vm.g.Dict.posRefundStatus[o.status]) + " "), (o.status === 0) ? _c('a', {
      on: {
        "click": function($event) {
          return _vm.refundStatus(o.refundId)
        }
      }
    }, [_c('Icon', {
      attrs: {
        "type": "md-refresh",
        "size": "16"
      }
    })], 1) : _vm._e()])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.memberName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.transTime))]), _vm._v(" "), _c('td', [(o.refundTimes) ? _c('span', [_vm._v(_vm._s(o.refundTimes) + " " + _vm._s(o.cardType == 4 ? (o.cardTimeType == 1 ? '分钟' : '小时') : '次'))]) : _vm._e()]), _vm._v(" "), _c('td', [(o.refundPaymentAmount) ? _c('span', [_vm._v("￥" + _vm._s(o.refundPaymentAmount))]) : _vm._e()]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.refundRemark))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(o.errMsg))]), _vm._v(" "), _c('td', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.refundInfoShow(o.refundId)
        }
      }
    }, [_vm._v("详情")])])])
  })], 2)]), _vm._v(" "), (_vm.refundList && _vm.refundList.length > 0) ? _c('div', {
    staticClass: "page-nav"
  }, [(_vm.refundCount > _vm.g.Conf.PAGE_SIZE) ? _c('page', {
    attrs: {
      "total": _vm.refundCount,
      "page-size": _vm.g.Conf.PAGE_SIZE,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "click": function($event) {
        return _vm.g.Util.jumpClick('.g-main')
      },
      "on-change": _vm.cardPosOrderRefundQuery
    },
    model: {
      value: (_vm.query.page),
      callback: function($$v) {
        _vm.$set(_vm.query, "page", $$v)
      },
      expression: "query.page"
    }
  }) : _c('div', {
    staticClass: "center gray"
  }, [_vm._v("共 " + _vm._s(_vm.refundCount) + " 条记录")])], 1) : _vm._e(), _vm._v(" "), (_vm.refundList && !_vm.refundList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("暂无数据")]) : _vm._e()])], _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "退款详情",
      "footer-hide": "",
      "width": "900",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.dlg.refundDetailsShow),
      callback: function($$v) {
        _vm.$set(_vm.dlg, "refundDetailsShow", $$v)
      },
      expression: "dlg.refundDetailsShow"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._l((_vm.refundItemList), function(o, idx) {
    return [(o.value) ? _c('tr', {
      key: idx
    }, [_c('th', {
      attrs: {
        "width": "100"
      }
    }, [_vm._v(_vm._s(o.name))]), _vm._v(" "), _c('td', [_c('span', {
      class: {
        'red': o.value === '退款失败',
        'orange': o.value === '处理中',
        'green': o.value === '退款成功'
      }
    }, [_vm._v(_vm._s(o.value))])])]) : _vm._e()]
  })], 2)]), _vm._v(" "), _c('p'), _vm._v(" "), _c('div', {
    staticClass: "center none"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlg.refundDetailsShow = false
      }
    }
  }, [_vm._v("关闭")])], 1)])], 2)
},staticRenderFns: []}

/***/ }),

/***/ 2264:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-staff"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main stat-order -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', {
    staticClass: "query"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('ul', {
    staticClass: "opt-list"
  }, [_c('li', {
    staticClass: "opt-tit"
  }, [_vm._v("日期导航：")]), _vm._v(" "), _vm._l((_vm.dateShortcuts), function(d, idx) {
    return _c('li', {
      class: {
        'on': _vm.queryDateShourtcut === idx
      }
    }, [_c('a', {
      on: {
        "click": function($event) {
          return _vm.statByDateShortcuts(idx)
        }
      }
    }, [_vm._v(_vm._s(d.name))])])
  })], 2)]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('ul', {
    staticClass: "query-cond-inline-s"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("统计日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "开始日期",
      "options": _vm.dateOptions
    },
    model: {
      value: (_vm.query.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "beginDate", $$v)
      },
      expression: "query.beginDate"
    }
  }), _vm._v("\n\t\t\t\t\t\t~\n\t\t\t\t\t\t"), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "结束日期",
      "options": _vm.dateOptions
    },
    model: {
      value: (_vm.query.endDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "endDate", $$v)
      },
      expression: "query.endDate"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.doQuery
    }
  }, [_vm._v("查询")]), _vm._v("\n\t\t\t\t\t\t \n\t\t\t\t\t\t"), _c('i-button', {
    staticClass: "query-btn",
    on: {
      "click": function($event) {
        return _vm.queryMemberCardPaymentsForExport()
      }
    }
  }, [_vm._v("导出明细")])], 1)])])]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("销售业绩统计")]), _vm._v(" "), (_vm.departmentList && _vm.departmentList.length) ? _c('div', {
    staticClass: "r"
  }, [_c('RadioGroup', {
    on: {
      "on-change": _vm.statSales
    },
    model: {
      value: (_vm.query.deptId),
      callback: function($$v) {
        _vm.$set(_vm.query, "deptId", $$v)
      },
      expression: "query.deptId"
    }
  }, [(_vm.g.data.user.isShopOwner || _vm.g.Util.isEmptyArray(_vm.staffDeptIds)) ? [_c('Radio', {
    attrs: {
      "label": -1
    }
  }, [_vm._v("所有部门")]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v("  \n\t\t\t\t\t\t")] : _vm._e(), _vm._v(" "), _vm._l((_vm.departmentList), function(d) {
    return _c('Radio', {
      key: d.sdId,
      attrs: {
        "label": d.sdId
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(d.deptName) + "\n\t\t\t\t\t\t")])
  })], 2)], 1) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_vm._m(0), _vm._v(" "), _vm._l((_vm.salesAmountList), function(s, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.salesName))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.g.Util.round(s.salesAmount)))]), _vm._v(" "), _c('td', [(_vm.statByPaymentTypeMap[s.salesId + '#1']) ? [_vm._v("￥" + _vm._s(_vm.statByPaymentTypeMap[s.salesId + '#1']) + "\n\t\t\t\t\t\t\t\t（" + _vm._s((100 * _vm.statByPaymentTypeMap[s.salesId + '#1'] / s.salesAmount).toFixed(1)) + "%）\n\t\t\t\t\t\t\t")] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("0")])], 2), _vm._v(" "), _c('td', [(_vm.statByPaymentTypeMap[s.salesId + '#2']) ? [_vm._v("￥" + _vm._s(_vm.statByPaymentTypeMap[s.salesId + '#2']) + "\n\t\t\t\t\t\t\t\t（" + _vm._s((100 * _vm.statByPaymentTypeMap[s.salesId + '#2'] / s.salesAmount).toFixed(1)) + "%）\n\t\t\t\t\t\t\t")] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("0")])], 2), _vm._v(" "), _c('td', [(_vm.statByPaymentTypeMap[s.salesId + '#3']) ? [_vm._v("￥" + _vm._s(_vm.statByPaymentTypeMap[s.salesId + '#3']) + "\n\t\t\t\t\t\t\t\t（" + _vm._s((100 * _vm.statByPaymentTypeMap[s.salesId + '#3'] / s.salesAmount).toFixed(1)) + "%）\n\t\t\t\t\t\t\t")] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("0")])], 2), _vm._v(" "), _c('td', {
      attrs: {
        "width": "90"
      }
    }, [_vm._v(_vm._s(_vm.saleMembersMap[s.salesId]) + " 人")]), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "detail-link",
      on: {
        "click": function($event) {
          return _vm.viewSalesDetail(s.salesName, s.salesId)
        }
      }
    }, [_vm._v("查看")])])])
  }), _vm._v(" "), _c('tr', {
    staticClass: "bold"
  }, [_c('td', {
    attrs: {
      "colspan": "2",
      "align": "center"
    }
  }, [_vm._v("合计")]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.saleSum.totalAmount))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.g.Util.round(_vm.saleSum.amountsOfPaymentTypes[0].toFixed(2))) + "\n\t\t\t\t\t\t\t"), (_vm.saleSum.totalAmount && _vm.saleSum.amountsOfPaymentTypes[0]) ? [_vm._v("（" + _vm._s((100 * _vm.saleSum.amountsOfPaymentTypes[0] / _vm.saleSum.totalAmount).toFixed(1)) + "%）")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.g.Util.round(_vm.saleSum.amountsOfPaymentTypes[1].toFixed(2))) + "\n\t\t\t\t\t\t\t"), (_vm.saleSum.totalAmount && _vm.saleSum.amountsOfPaymentTypes[1]) ? [_vm._v("（" + _vm._s((100 * _vm.saleSum.amountsOfPaymentTypes[1] / _vm.saleSum.totalAmount).toFixed(1)) + "%）")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.g.Util.round(_vm.saleSum.amountsOfPaymentTypes[2].toFixed(2))) + "\n\t\t\t\t\t\t\t"), (_vm.saleSum.totalAmount && _vm.saleSum.amountsOfPaymentTypes[2]) ? [_vm._v("（" + _vm._s((100 * _vm.saleSum.amountsOfPaymentTypes[2] / _vm.saleSum.totalAmount).toFixed(1)) + "%）")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.saleSum.totalMembers) + " 人")]), _vm._v(" "), _c('td')])], 2)])]), _vm._v(" "), (_vm.salesChartData && _vm.salesChartData.length > 1) ? _c('section', [_c('chart', {
    staticClass: "piechart",
    attrs: {
      "options": _vm.salesAmountStatOption
    }
  })], 1) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": '销售记录 - ' + _vm.selectSalesName,
      "width": "1050",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.salesDetailDlg),
      callback: function($$v) {
        _vm.salesDetailDlg = $$v
      },
      expression: "salesDetailDlg"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "40"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("创建时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', [_vm._v("会员卡名称")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("卡类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("支付类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("支付方式")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("充值金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("实收金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("销售业绩")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("创建人")])]), _vm._v(" "), _vm._l((_vm.mcpList), function(m, idx) {
    return _c('tr', [_c('td', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.memberName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardType[m.cardType]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardPaymentType[m.paymentType]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardPaymentChannel[m.paymentChannel]))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(m.usableAmount))]), _vm._v(" "), _c('td', [(m.deposit) ? [_vm._v("\n\t\t\t\t\t\t\t￥" + _vm._s(m.paymentAmount) + " + "), _c('span', {
      staticClass: "gray"
    }, [_vm._v(" 订金 ")]), _vm._v("￥" + _vm._s(m.deposit) + "\n\t\t\t\t\t\t")] : [_vm._v("￥" + _vm._s(m.paymentAmount))]], 2), _vm._v(" "), _c('td', [(m.salesId) ? [_vm._v("￥" + _vm._s(m.paymentAmount + (m.deposit || 0)))] : (m.salesConfList) ? _vm._l((m.salesConfList), function(sc) {
      return (sc.split(':')[0] == _vm.selectSalesId) ? _c('div', [_vm._v("￥" + _vm._s(parseFloat(sc.split(':')[2])))]) : _vm._e()
    }) : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createUname))])])
  })], 2)]), _vm._v(" "), (_vm.mcpTotalCount > 0) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.mcpTotalCount,
      "page-size": 30
    },
    on: {
      "on-change": _vm.queryMemberCardPayments
    }
  })], 1) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "导出文件下载",
      "width": "500",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.exportDlg),
      callback: function($$v) {
        _vm.exportDlg = $$v
      },
      expression: "exportDlg"
    }
  }, [_c('div', {
    staticClass: "center p10"
  }, [(_vm.exportFileUrl) ? [(_vm.exportFileUrl) ? _c('a', {
    attrs: {
      "href": _vm.exportFileUrl,
      "target": "_blank"
    }
  }, [_vm._v("下载导出文件（xls）")]) : _vm._e()] : _c('span', [_vm._v("正在查询并导出，请稍候...")])], 2)])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "60"
    }
  }, [_vm._v("序号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("销售人员")]), _vm._v(" "), _c('th', [_vm._v("总销售额")]), _vm._v(" "), _c('th', [_vm._v("新会员办卡")]), _vm._v(" "), _c('th', [_vm._v("会员卡续费")]), _vm._v(" "), _c('th', [_vm._v("老会员购卡")]), _vm._v(" "), _c('th', [_vm._v("销售会员数")]), _vm._v(" "), _c('th', [_vm._v("明细")])])
}]}

/***/ }),

/***/ 2269:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-member"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('member-stat', {
    attrs: {
      "stat-type": 5
    }
  }), _vm._v(" "), _vm._m(0)], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "bottom-remark"
  }, [_c('b', [_vm._v("备注：")]), _vm._v(" 出勤是指会员入场签到、团课签到或私教课签到；如果一天内多次签到，也只算作一次。\n\t\t")])
}]}

/***/ }),

/***/ 2271:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-member"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('member-stat', {
    attrs: {
      "stat-type": 4
    }
  })], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2279:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "stat-order -style-"
  }, [_c('section', {
    staticClass: "query"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('ul', {
    staticClass: "opt-list"
  }, [_c('li', {
    staticClass: "opt-tit"
  }, [_vm._v("日期导航：")]), _vm._v(" "), _vm._l((_vm.dateShortcuts), function(d, idx) {
    return _c('li', {
      class: {
        'on': _vm.queryDateShourtcut === idx
      }
    }, [_c('a', {
      on: {
        "click": function($event) {
          return _vm.statByDateShortcuts(idx)
        }
      }
    }, [_vm._v(_vm._s(d.name))])])
  })], 2)]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('ul', {
    staticClass: "query-cond-inline-s"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("统计日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "开始日期",
      "options": _vm.dateOptions
    },
    model: {
      value: (_vm.query.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "beginDate", $$v)
      },
      expression: "query.beginDate"
    }
  }), _vm._v("\n\t\t\t\t\t~\n\t\t\t\t\t"), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "结束日期",
      "options": _vm.dateOptions
    },
    model: {
      value: (_vm.query.endDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "endDate", $$v)
      },
      expression: "query.endDate"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        _vm.queryDateShourtcut = null;
        _vm.statCoach()
      }
    }
  }, [_vm._v("查询")])], 1)])])]), _vm._v(" "), _c('ul', {
    staticClass: "detail"
  }, _vm._l((_vm.statConf), function(c, idx) {
    return _c('li', {
      staticClass: "item"
    }, [_c('div', {
      staticClass: "cont"
    }, [_c('div', {
      staticClass: "tit",
      style: ('background:' + c.bgcolor)
    }, [_vm._v("\n\t\t\t\t\t按"), _c('span', {}, [_vm._v(_vm._s(c.typeName))]), _vm._v("排名\n\t\t\t\t")]), _vm._v(" "), _c('div', {
      staticStyle: {
        "padding": "0 10px"
      }
    }, [_c('table', [_c('tr', [_c('th', {
      attrs: {
        "width": "75",
        "align": "center"
      }
    }, [_vm._v("排名")]), _c('th', {
      attrs: {
        "width": "100"
      }
    }, [_vm._v("教练")]), _c('th', [_vm._v(_vm._s(c.typeName))])]), _vm._v(" "), _vm._l((_vm.statLists[idx]), function(s, sidx) {
      return _c('tr', [_c('td', [_c('span', {
        staticClass: "order"
      }, [_vm._v(_vm._s(sidx + 1))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.coachName))]), _vm._v(" "), _c('td', [(idx === 0) ? _c('span', [_vm._v(_vm._s(s.lessonCnt))]) : _vm._e(), _vm._v(" "), (idx === 1) ? _c('span', [_vm._v(_vm._s(s.memberCnt))]) : _vm._e(), _vm._v(" "), (idx === 2) ? _c('span', [_vm._v(_vm._s(s.avgScore.toFixed(2)))]) : _vm._e(), _vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(c.unitType) + "\n\t\t\t\t\t\t\t")])])
    })], 2), _vm._v(" "), _c('p', {
      directives: [{
        name: "show",
        rawName: "v-show",
        value: (!_vm.statLists[idx].length),
        expression: "!statLists[idx].length"
      }],
      staticClass: "gray center"
    }, [_vm._v("暂无数据")])]), _vm._v(" "), _c('spin', {
      directives: [{
        name: "show",
        rawName: "v-show",
        value: (_vm.loadings[idx]),
        expression: "loadings[idx]"
      }],
      staticClass: "spin"
    })], 1)])
  }), 0)])
},staticRenderFns: []}

/***/ }),

/***/ 2288:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-staff"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main stat-order"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', {
    staticClass: "query"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('ul', {
    staticClass: "opt-list"
  }, [_c('li', {
    staticClass: "opt-tit"
  }, [_vm._v("日期导航：")]), _vm._v(" "), _vm._l((_vm.dateShortcuts), function(d, idx) {
    return _c('li', {
      class: {
        'on': _vm.queryDateShourtcut === idx
      }
    }, [_c('a', {
      on: {
        "click": function($event) {
          return _vm.statByDateShortcuts(idx)
        }
      }
    }, [_vm._v(_vm._s(d.name))])])
  })], 2)]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('ul', {
    staticClass: "query-cond-inline-s"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("统计日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "开始日期",
      "options": _vm.dateOptions
    },
    model: {
      value: (_vm.query.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "beginDate", $$v)
      },
      expression: "query.beginDate"
    }
  }), _vm._v("\n\t\t\t\t\t\t~\n\t\t\t\t\t\t"), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "结束日期",
      "options": _vm.dateOptions
    },
    model: {
      value: (_vm.query.endDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "endDate", $$v)
      },
      expression: "query.endDate"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.doQuery
    }
  }, [_vm._v("查询")])], 1)])])]), _vm._v(" "), _c('section', {
    staticClass: "stat2"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("私教业绩统计")]), _vm._v(" "), _c('div', {
    staticClass: "r gray"
  }, [(_vm.departmentList && _vm.departmentList.length) ? _c('i-select', {
    staticStyle: {
      "width": "200px"
    },
    attrs: {
      "placeholder": "请选择部门"
    },
    on: {
      "on-change": _vm.changeDeptId
    },
    model: {
      value: (_vm.query.deptId),
      callback: function($$v) {
        _vm.$set(_vm.query, "deptId", $$v)
      },
      expression: "query.deptId"
    }
  }, [(_vm.g.data.user.isShopOwner || _vm.g.Util.isEmptyArray(_vm.staffDeptIds)) ? [_c('i-option', {
    attrs: {
      "value": ""
    }
  }, [_c('i', {
    staticClass: "gray"
  }, [_vm._v("所有部门")])])] : _vm._e(), _vm._v(" "), _vm._l((_vm.departmentList), function(d) {
    return _c('i-option', {
      key: d.sdId,
      attrs: {
        "value": d.sdId
      }
    }, [_vm._v(_vm._s(d.deptName))])
  })], 2) : _vm._e(), _vm._v("\n\t\t\t\t\t \n\t\t\t\t\t"), _c('i-button', {
    attrs: {
      "icon": "ios-cloud-download-outline"
    },
    on: {
      "click": function($event) {
        return _vm.queryPrivateLesson(true)
      }
    }
  }, [_vm._v("导出上课明细")]), _vm._v("  \n\t\t\t\t\t"), _c('i-button', {
    attrs: {
      "icon": "ios-cloud-download-outline"
    },
    on: {
      "click": function($event) {
        return _vm.queryMemberCardPayments(true)
      }
    }
  }, [_vm._v("导出销售明细")]), _vm._v("  \n\t\t\t\t\t"), _c('i-button', {
    on: {
      "click": function($event) {
        return _vm.g.Util.exportToExcel('privateCoachLessonStat', '私教消课统计')
      }
    }
  }, [_vm._v("导出业绩统计")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    attrs: {
      "id": "privateCoachLessonStat"
    }
  }, [_vm._m(0), _vm._v(" "), _vm._l((_vm.coachLessonCostList), function(s) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(s.coachName))]), _vm._v(" "), _c('td', [(_vm.coachSaleMap[s.coachId]) ? [_vm._v("￥" + _vm._s(_vm.coachSaleMap[s.coachId]))] : _vm._e()], 2), _vm._v(" "), _c('td', [(s.lessonCnt) ? [_vm._v(_vm._s(s.lessonCnt) + " 次")] : _vm._e()], 2), _vm._v(" "), _c('td', [(s.lessonFee) ? [_vm._v("￥" + _vm._s(_vm.g.Util.round(s.lessonFee)))] : _vm._e()], 2), _vm._v(" "), _c('td', [(s.custLessonCnt) ? [_vm._v(_vm._s(s.custLessonCnt) + " 次")] : _vm._e()], 2), _vm._v(" "), _c('td', [(s.valueCardCost) ? [_vm._v("￥" + _vm._s(_vm.g.Util.round(s.valueCardCost)))] : _vm._e()], 2), _vm._v(" "), _c('td', [(s.timesCardCost) ? [_vm._v(_vm._s(_vm.g.Util.round(s.timesCardCost)) + " 次")] : _vm._e()], 2), _vm._v(" "), _c('td', [(s.timesCardCostAmount) ? [_vm._v("￥" + _vm._s(_vm.g.Util.round(s.timesCardCostAmount)))] : _vm._e()], 2), _vm._v(" "), _c('td', [_c('ul', {
      staticClass: "opt-list"
    }, [(_vm.coachSaleMap[s.coachId]) ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.viewCoachSales(s.coachId, s.coachName)
        }
      }
    }, [_vm._v("销售明细")])]) : _vm._e(), _vm._v(" "), (s.lessonCnt || s.custLessonCnt) ? _c('li', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.viewPrivateLesson(s.coachId)
        }
      }
    }, [_vm._v("上课明细")])]) : _vm._e()])])])
  }), _vm._v(" "), (_vm.coachLessonCostList.length > 0) ? _c('tr', {
    staticClass: "sum"
  }, [_vm._m(1), _vm._v(" "), _c('td', [_vm._v("￥"), _c('b', [_vm._v(_vm._s(_vm.sum.salesAmount))])]), _vm._v(" "), _c('td', [_c('b', [_vm._v(_vm._s(_vm.sum.lessonCnt))]), _vm._v(" 次")]), _vm._v(" "), _c('td', [_vm._v("￥"), _c('b', [_vm._v(_vm._s(_vm.sum.lessonFee))])]), _vm._v(" "), _c('td', [_c('b', [_vm._v(_vm._s(_vm.sum.custLessonCnt))]), _vm._v(" 次")]), _vm._v(" "), _c('td', [_vm._v("￥"), _c('b', [_vm._v(_vm._s(_vm.sum.valueCardCost))])]), _vm._v(" "), _c('td', [_c('b', [_vm._v(_vm._s(_vm.sum.timesCardCost))]), _vm._v(" 次")]), _vm._v(" "), _c('td', [(_vm.sum.timesCardCostAmount) ? [_vm._v("￥"), _c('b', [_vm._v(_vm._s(_vm.sum.timesCardCostAmount))])] : _vm._e()], 2), _vm._v(" "), _c('td')]) : _vm._e()], 2), _vm._v(" "), (_vm.coachLessonCostList && _vm.coachLessonCostList.length === 0) ? _c('div', {
    staticClass: "none p15"
  }, [_vm._v("暂无数据")]) : _vm._e()])]), _vm._v(" "), _c('section', [_vm._m(2), _vm._v(" "), _c('ul', {
    staticClass: "detail"
  }, _vm._l((_vm.statConf), function(c, idx) {
    return _c('li', {
      staticClass: "item"
    }, [_c('div', {
      staticClass: "cont"
    }, [_c('div', {
      staticClass: "tit",
      style: ('background:' + c.bgcolor)
    }, [_vm._v("\n\t\t\t\t\t\t\t按"), _c('span', {}, [_vm._v(_vm._s(c.typeName))]), _vm._v("排名\n\t\t\t\t\t")]), _vm._v(" "), _c('div', {
      staticStyle: {
        "padding": "0 10px"
      }
    }, [_c('table', [_c('tr', [_c('th', {
      attrs: {
        "width": "50",
        "align": "center"
      }
    }, [_vm._v("排名")]), _c('th', [_vm._v("教练")]), _c('th', [_vm._v(_vm._s(c.typeName))])]), _vm._v(" "), _vm._l((_vm.statLists[idx]), function(s, sidx) {
      return _c('tr', [_c('td', [_c('span', {
        staticClass: "order"
      }, [_vm._v(_vm._s(sidx + 1))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.coachName))]), _vm._v(" "), _c('td', [(idx === 0) ? _c('span', [_vm._v(_vm._s(s.lessonCnt))]) : _vm._e(), _vm._v(" "), (idx === 1) ? _c('span', [_vm._v(_vm._s(s.memberCnt))]) : _vm._e(), _vm._v(" "), (idx === 2) ? _c('span', [_vm._v(_vm._s(_vm.g.Util.round(s.avgScore)))]) : _vm._e(), _vm._v("\n\t\t\t\t\t\t\t\t\t\t" + _vm._s(c.unitType) + "\n\t\t\t\t\t\t\t\t")])])
    })], 2), _vm._v(" "), _c('p', {
      directives: [{
        name: "show",
        rawName: "v-show",
        value: (!_vm.statLists[idx].length),
        expression: "!statLists[idx].length"
      }],
      staticClass: "gray center"
    }, [_vm._v("暂无数据")])]), _vm._v(" "), _c('spin', {
      directives: [{
        name: "show",
        rawName: "v-show",
        value: (_vm.loadings[idx]),
        expression: "loadings[idx]"
      }],
      staticClass: "spin"
    })], 1)])
  }), 0)]), _vm._v(" "), (_vm.salesChartData && _vm.salesChartData.length > 1) ? _c('section', [_c('chart', {
    staticClass: "piechart",
    attrs: {
      "options": _vm.salesAmountStatOption
    }
  })], 1) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "私教上课明细",
      "width": "1250",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.dlg.pcLessonView),
      callback: function($$v) {
        _vm.$set(_vm.dlg, "pcLessonView", $$v)
      },
      expression: "dlg.pcLessonView"
    }
  }, [(_vm.dlg.pcLessonView) ? _c('table', {
    staticClass: "mytbl",
    staticStyle: {
      "border-left": "1px solid #E3E8EE",
      "border-right": "1px solid #E3E8EE"
    }
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("教练")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("状态过滤")]), _vm._v(" "), _c('th', [_vm._v("未结束课时数")]), _vm._v(" "), _c('th', [_vm._v("已结束课时数")]), _vm._v(" "), _c('th', [_vm._v("教练课时费")]), _vm._v(" "), _c('th', [_vm._v("会员次卡消费 "), _c('a', {
    staticClass: "th-help",
    attrs: {
      "title": "每个会员的次卡消费金额来自于该会员会员卡的平均单次价"
    }
  }, [_vm._v("?")])]), _vm._v(" "), _c('th', [_vm._v("会员储值卡消费")])]), _vm._v(" "), _c('tr', [_c('td', [_c('i-select', {
    staticStyle: {
      "width": "150px"
    },
    on: {
      "on-change": _vm.changeCoachForPlList
    },
    model: {
      value: (_vm.dlg.selectCoachId),
      callback: function($$v) {
        _vm.$set(_vm.dlg, "selectCoachId", $$v)
      },
      expression: "dlg.selectCoachId"
    }
  }, _vm._l((_vm.coachList), function(c) {
    return _c('i-option', {
      key: c.coachId,
      attrs: {
        "value": c.coachId
      }
    }, [_vm._v(_vm._s(c.coachName))])
  }), 1)], 1), _vm._v(" "), _c('td', [_c('checkbox', {
    on: {
      "on-change": function($event) {
        return _vm.queryPrivateLesson(null)
      }
    },
    model: {
      value: (_vm.query.isEndStatus),
      callback: function($$v) {
        _vm.$set(_vm.query, "isEndStatus", $$v)
      },
      expression: "query.isEndStatus"
    }
  }, [_vm._v("已结束")])], 1), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t" + _vm._s(_vm.plDetailSum.lessonCnt - _vm.plDetailSum.finishedLessonCnt) + " 节\n\t\t\t\t")]), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t" + _vm._s(_vm.plDetailSum.finishedLessonCnt) + " 节\n\t\t\t\t")]), _vm._v(" "), _c('td', [(_vm.coachLessonFeeMap[_vm.dlg.selectCoachId]) ? [_vm._v("￥" + _vm._s(_vm.coachLessonFeeMap[_vm.dlg.selectCoachId]))] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t" + _vm._s(_vm.g.Util.round(_vm.plDetailSum.memberCardPaymentTimes)) + " 次\n\t\t\t\t\t"), (_vm.plDetailSum.sumOfTimesCardAmount) ? [_vm._v("（￥" + _vm._s(_vm.plDetailSum.sumOfTimesCardAmount) + "）")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t￥" + _vm._s(_vm.g.Util.round(_vm.plDetailSum.memberCardPaymentAmount)) + "\n\t\t\t\t")])])]) : _vm._e(), _vm._v(" "), (_vm.memberPlStatList && _vm.memberPlStatList.length > 1) ? _c('div', {
    staticClass: "memb-pl-stat"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("会员私教课：")]), _vm._v(" "), _c('td', [_c('ul', _vm._l((_vm.memberPlStatList), function(s) {
    return _c('li', {
      key: s.memberId,
      class: {
        on: _vm.selectMemberId === s.memberId
      },
      on: {
        "click": function($event) {
          return _vm.queryMemberPlStatByMemberId(s.memberId)
        }
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(s.memberName) + "（" + _vm._s(s.lessonCnt) + "）\n\t\t\t\t\t\t\t")])
  }), 0)])]), _vm._v(" "), (_vm.courseStatList && _vm.courseStatList.length) ? _c('tr', [_c('td', [_vm._v("私教课程名：")]), _vm._v(" "), _c('td', [_c('ul', _vm._l((_vm.courseStatList), function(s) {
    return _c('li', {
      key: s.courseId,
      class: {
        on: _vm.selectCourseId === s.courseId
      },
      on: {
        "click": function($event) {
          return _vm.queryMemberPlStatByCourse(s.courseId)
        }
      }
    }, [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(s.courseName) + "（" + _vm._s(s.lessonCnt) + "）\n\t\t\t\t\t\t\t")])
  }), 0)])]) : _vm._e()])]) : _vm._e(), _vm._v(" "), (_vm.dlg.pcLessonView) ? _c('div', {
    staticClass: "mytbl p15"
  }, [_c('table', {
    attrs: {
      "id": "statPrivateCoach_pcLesson"
    }
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "40"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [(_vm.query.orderBy === 'member') ? [_vm._v("学员 ↓")] : _c('a', {
    staticClass: "block",
    on: {
      "click": function($event) {
        return _vm.setOrderBy('member')
      }
    }
  }, [_vm._v("学员")])], 2), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("上课类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("课程名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "95"
    }
  }, [(_vm.query.orderBy === 'lessonDate') ? [_vm._v("上课日期 ↓")] : _c('a', {
    staticClass: "block",
    on: {
      "click": function($event) {
        return _vm.setOrderBy('lessonDate')
      }
    }
  }, [_vm._v("上课日期")])], 2), _vm._v(" "), _c('th', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("上课时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "65"
    }
  }, [_vm._v("状态")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("签到时间")]), _vm._v(" "), _c('th', [_vm._v("计费会员卡")]), _vm._v(" "), (_vm.enablePrivateCoachScore) ? _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("教练得分")]) : _vm._e(), _vm._v(" "), _c('th', [_vm._v("本次卡消费")]), _vm._v(" "), _c('th', [_vm._v("教练课时费"), _c('span', {
    staticClass: "th-help",
    attrs: {
      "title": "私教排课中设置的教练课时费"
    }
  }, [_vm._v("?")])])]), _vm._v(" "), _vm._l((_vm.dlg.privateLessonList), function(l, idx) {
    return _c('tr', [_c('td', {
      staticClass: "gray"
    }, [(l.ltype === 1 && l.mplId) ? _c('a', {
      staticClass: "block",
      attrs: {
        "target": "_blank",
        "href": '#/private-lesson-edit/' + l.lessonId + '/' + l.mplId
      }
    }, [_vm._v(_vm._s(idx + 1))]) : [_vm._v(_vm._s(idx + 1))]], 2), _vm._v(" "), _c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMemberInfo(l.memberId)
        }
      }
    }, [_vm._v(_vm._s(l.memberName))])]), _vm._v(" "), _c('td', [(l.ltype === 1) ? [_vm._v("常规课")] : _c('span', {
      staticClass: "orange"
    }, [_vm._v("体验课")])], 2), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t\t" + _vm._s(l.courseName) + "\n\t\t\t\t\t")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonDate))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.lessonTimeDesc))]), _vm._v(" "), _c('td', [_c('span', {
      class: {
        'green': l.status === 9,
        'gray': l.status !== 9
      }
    }, [_vm._v(_vm._s(_vm.g.Dict.PcLessonStatus[l.status]))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.checkinTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(l.memberCardName))]), _vm._v(" "), (_vm.enablePrivateCoachScore) ? _c('td', [_vm._v(_vm._s(l.coachScore))]) : _vm._e(), _vm._v(" "), _c('td', [(l.memberCardType > 1) ? [_vm._v(_vm._s(l.memberCardPayment) + " " + _vm._s(_vm.g.Dict.CardUnitName[l.memberCardType]))] : _c('i', {
      staticClass: "gray"
    }, [_vm._v("不计费")]), _vm._v(" "), (l.memberCardType === 2 && l.memberCardPaymentAmount) ? [_c('span', {
      staticClass: "spt"
    }, [_vm._v("|")]), _vm._v("\n\t\t\t\t\t\t\t￥" + _vm._s(l.memberCardPaymentAmount) + "\n\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), _c('td', [(l.coachLessonFee) ? _c('span', {
      class: {
        gray: l.status !== 9
      }
    }, [_vm._v("￥" + _vm._s(l.coachLessonFee))]) : _vm._e()])])
  })], 2)]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [(_vm.dlg.privateLessonList && _vm.dlg.privateLessonList.length) ? _c('i-button', {
    on: {
      "click": function($event) {
        return _vm.g.Util.exportToExcel('statPrivateCoach_pcLesson', '私教上课明细')
      }
    }
  }, [_vm._v("导出")]) : _vm._e(), _vm._v("\n\t\t\t \n\t\t\t"), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlg.pcLessonView = false
      }
    }
  }, [_vm._v("关闭")])], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": '销售明细 - ' + _vm.dlg.selectCoachName,
      "width": "1000",
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.dlg.salesView),
      callback: function($$v) {
        _vm.$set(_vm.dlg, "salesView", $$v)
      },
      expression: "dlg.salesView"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    attrs: {
      "id": "statPrivateCoach_sales"
    }
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("创建时间")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', [_vm._v("会员卡名称")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("卡类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "95"
    }
  }, [_vm._v("支付类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("支付方式")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("充值金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("实收金额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("销售业绩")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("创建人")])]), _vm._v(" "), _vm._l((_vm.dlg.mcpList), function(m, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(m.createTime))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.memberName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardType[m.cardType]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardPaymentType[m.paymentType]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardPaymentChannel[m.paymentChannel]))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(m.usableAmount))]), _vm._v(" "), _c('td', [(m.deposit) ? [_vm._v("\n\t\t\t\t\t\t\t￥" + _vm._s(m.paymentAmount) + " + "), _c('span', {
      staticClass: "gray"
    }, [_vm._v("(订金)")]), _vm._v(" ￥" + _vm._s(m.deposit) + "\n\t\t\t\t\t\t\t")] : [_vm._v("￥" + _vm._s(m.paymentAmount))]], 2), _vm._v(" "), _c('td', [(m.salesId) ? [_vm._v("￥" + _vm._s(m.paymentAmount + (m.deposit || 0)))] : (m.salesConfList) ? _vm._l((m.salesConfList), function(sc) {
      return (sc.split(':')[0] == _vm.dlg.selectCoachId) ? _c('div', [_vm._v("￥" + _vm._s(parseFloat(sc.split(':')[2])))]) : _vm._e()
    }) : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(m.createUname))])])
  })], 2)]), _vm._v(" "), _c('div', {
    staticClass: "center",
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        return _vm.g.Util.exportToExcel('statPrivateCoach_sales', '私教销售明细')
      }
    }
  }, [_vm._v("导出")]), _vm._v("\n\t\t\t \n\t\t\t"), _c('i-button', {
    on: {
      "click": function($event) {
        _vm.dlg.salesView = false
      }
    }
  }, [_vm._v("关闭")])], 1)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "导出文件下载",
      "width": "500",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.exportDlg),
      callback: function($$v) {
        _vm.exportDlg = $$v
      },
      expression: "exportDlg"
    }
  }, [_c('div', {
    staticClass: "center p10"
  }, [(_vm.exportFileUrl) ? [(_vm.exportFileUrl) ? _c('a', {
    attrs: {
      "href": _vm.exportFileUrl,
      "target": "_blank"
    }
  }, [_vm._v("下载导出文件（xls）")]) : _vm._e()] : _c('span', [_vm._v("正在查询并导出，请稍候...")])], 2)]), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": "按Esc键或点击其它地方可关闭"
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.viewMemberId
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("教练")]), _vm._v(" "), _c('th', [_vm._v("销售额")]), _vm._v(" "), _c('th', [_vm._v("常规课上课次数")]), _vm._v(" "), _c('th', [_vm._v("常规课教练课时费")]), _vm._v(" "), _c('th', [_vm._v("体验课上课次数")]), _vm._v(" "), _c('th', [_vm._v("储值卡消费")]), _vm._v(" "), _c('th', [_vm._v("次卡消费次数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("次卡上课金额"), _c('a', {
    staticClass: "th-help",
    attrs: {
      "title": "根据上课时间与充值时间估算出的次卡上课金额，即每次上课的次卡消费金额来自于某次充值记录的单价"
    }
  }, [_vm._v("?")])]), _vm._v(" "), _c('th', [_vm._v("明细")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('td', {
    staticClass: "gray"
  }, [_c('b', [_vm._v("合计")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("私教上课业绩排名")])])
}]}

/***/ }),

/***/ 2291:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-group-lesson"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main stat-order -style-"
  }, [_c('section', [_vm._m(0), _vm._v(" "), _c('div', {
    staticClass: "lesson-sum-stat"
  }, [_c('table', [_c('tr', [_c('td', {
    staticClass: "color1"
  }, [_c('dl', [_c('div', {
    staticClass: "l"
  }, [_c('h2', [_vm._v(_vm._s(_vm.statInSum.lessonCnt ? _vm.statInSum.lessonCnt : 0))]), _c('label', [_vm._v("总课时数")])]), _vm._v(" "), _vm._m(1)])]), _vm._v(" "), _c('td', {
    staticClass: "color2"
  }, [_c('dl', [_c('div', {
    staticClass: "l"
  }, [_c('h2', [_vm._v(_vm._s(_vm.statInSum.bookingCnt ? _vm.statInSum.bookingCnt : 0))]), _c('label', [_vm._v("预约人次")])]), _vm._v(" "), _vm._m(2)])]), _vm._v(" "), _c('td', {
    staticClass: "color3"
  }, [_c('dl', [_c('div', {
    staticClass: "l"
  }, [_c('h2', [_vm._v(_vm._s(_vm.statInSum.checkinCnt ? _vm.statInSum.checkinCnt : 0))]), _c('label', [_vm._v("签到人次")])]), _vm._v(" "), _vm._m(3)])]), _vm._v(" "), _c('td', {
    staticClass: "color4"
  }, [_c('dl', [_c('div', {
    staticClass: "l"
  }, [_c('h2', [_vm._v(_vm._s(_vm.statInSum.memberCnt ? _vm.statInSum.memberCnt : 0))]), _c('label', [_vm._v("参与人数")])]), _vm._v(" "), _vm._m(4)])])])])])]), _vm._v(" "), _c('Tabs', {
    attrs: {
      "animated": false
    }
  }, [_c('TabPane', {
    attrs: {
      "label": "上课统计"
    }
  }, [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('ul', {
    staticClass: "menu"
  }, [_c('li', [_c('a', {
    class: {
      'on': _vm.query.statBy === 1
    },
    on: {
      "click": function($event) {
        return _vm.statLessson(1)
      }
    }
  }, [_vm._v("日统计")])]), _vm._v(" "), _c('li', [_c('a', {
    class: {
      'on': _vm.query.statBy === 2
    },
    on: {
      "click": function($event) {
        return _vm.statLessson(2)
      }
    }
  }, [_vm._v("周统计")])]), _vm._v(" "), _c('li', [_c('a', {
    class: {
      'on': _vm.query.statBy === 3
    },
    on: {
      "click": function($event) {
        return _vm.statLessson(3)
      }
    }
  }, [_vm._v("月统计")])])])]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('ul', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.query.statType !== 3),
      expression: "query.statType !== 3"
    }],
    staticClass: "query-cond-inline-s"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("统计日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "daterange",
    attrs: {
      "size": "small",
      "options": _vm.dateOptions1,
      "type": "daterange",
      "format": "yyyy-MM-dd",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.query.dates2),
      callback: function($$v) {
        _vm.$set(_vm.query, "dates2", $$v)
      },
      expression: "query.dates2"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.statLessson(null)
      }
    }
  }, [_vm._v("查询")]), _vm._v("  \n\t\t\t\t\t\t\t\t\t"), _c('i-button', {
    staticClass: "query-btn",
    on: {
      "click": function($event) {
        return _vm.g.Util.exportToExcel('statGroupLesson_AttendenceStat')
      }
    }
  }, [_vm._v("导出")])], 1)])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    attrs: {
      "id": "statGroupLesson_AttendenceStat"
    }
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [(_vm.query.statBy === 1) ? [_vm._v("日期")] : (_vm.query.statBy === 2) ? [_vm._v("周数")] : (_vm.query.statBy === 3) ? [_vm._v("月份")] : _vm._e()], 2), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("已上课次数 "), _c('a', {
    staticClass: "th-help",
    attrs: {
      "title": "指在课表中已有预约或签到的课时数"
    }
  }, [_vm._v("?")])]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("预约人次")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("签到人次")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("参与人数 "), _c('a', {
    staticClass: "th-help",
    attrs: {
      "title": "指不重复的预约或签到人数"
    }
  }, [_vm._v("?")])]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("固定班级平均出勤率 "), _c('a', {
    staticClass: "th-help",
    attrs: {
      "title": "=AVG（每节固定班级课的出勤率），出勤率=签到人数 / 固定班级课学员数"
    }
  }, [_vm._v("?")])]), _vm._v(" "), _c('th', [_vm._v("会员卡消费折算金额 "), _c('a', {
    staticClass: "th-help",
    attrs: {
      "title": "汇总每个约课或签到会员的会员卡消费金额（期限卡根据日均费计算，次卡根据平均单次价计算）"
    }
  }, [_vm._v("?")])]), _vm._v(" "), (_vm.query.statBy !== 2) ? _c('th', [_vm._v("明细")]) : _vm._e()]), _vm._v(" "), _c('tr', {
    staticClass: "sum"
  }, [_c('td', [_vm._v("合计")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.lessonSum.sumOfLessonCnt))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.lessonSum.sumOfBookingCnt))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.lessonSum.sumOfCheckinCnt))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.lessonSum.sumOfMemberCnt))]), _vm._v(" "), _c('td'), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.lessonSum.sumOfCardCost))]), _vm._v(" "), (_vm.query.statBy !== 2) ? _c('td') : _vm._e()]), _vm._v(" "), _vm._l((_vm.statList), function(s) {
    return _c('tr', [_c('td', [(_vm.query.statBy === 1) ? [_vm._v(_vm._s(_vm.g.Util.formatDate(s.lessonDate)))] : _vm._e(), _vm._v(" "), (_vm.query.statBy === 2) ? [_vm._v("第" + _vm._s(s.lessonWeek) + "周")] : (_vm.query.statBy === 3) ? [_vm._v("\n\t\t\t\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.formatMonth(s.lessonMonth)) + "月\n\t\t\t\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.lessonCnt))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.bookingCnt))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.checkinCnt))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.memberCnt))]), _vm._v(" "), _c('td', [(s.avgCheckinRateForClass) ? _c('span', [_vm._v(_vm._s(_vm.g.Util.round(s.avgCheckinRateForClass * 100)) + "%")]) : _vm._e()]), _vm._v(" "), _c('td', [(s.cardCostFee) ? [_vm._v("￥" + _vm._s(_vm.g.Util.round(s.cardCostFee)))] : [_vm._v("0")]], 2), _vm._v(" "), (_vm.query.statBy !== 2) ? _c('td', [(_vm.query.statBy === 1) ? _c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMemberLessonListByDate(s.lessonDate)
        }
      }
    }, [_vm._v("上课明细")]) : _vm._e(), _vm._v(" "), (_vm.query.statBy === 3) ? _c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMemberLessonListByMonth(s.lessonMonth)
        }
      }
    }, [_vm._v("上课明细")]) : _vm._e()]) : _vm._e()])
  })], 2)])])]), _vm._v(" "), _c('TabPane', {
    attrs: {
      "label": "团课排名"
    }
  }, [_c('course-stat', {
    attrs: {
      "course-type": 1
    }
  })], 1)], 1)], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": '上课明细：' + _vm.memberLessonListDlgTit,
      "width": "1200",
      "styles": {
        top: '10px'
      },
      "closable": true,
      "mask-closable": true
    },
    model: {
      value: (_vm.memberLessonListDlg),
      callback: function($$v) {
        _vm.memberLessonListDlg = $$v
      },
      expression: "memberLessonListDlg"
    }
  }, [(_vm.memberLessonListDlg) ? [_c('member-lesson-list', {
    attrs: {
      "lesson-date": _vm.queryLessonBeginDate,
      "lesson-end-date": _vm.queryLessonEndDate
    }
  }), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  })] : _vm._e()], 2)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("本月上课统计")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "r"
  }, [_c('i', {
    staticClass: "iconfont icon-kebiao"
  })])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "r"
  }, [_c('i', {
    staticClass: "iconfont icon-booking"
  })])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "r"
  }, [_c('i', {
    staticClass: "iconfont icon-check3"
  })])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "r"
  }, [_c('i', {
    staticClass: "iconfont icon-people"
  })])
}]}

/***/ }),

/***/ 2316:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-member"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main stat-order -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "stat-sum"
  }, [_c('dl', {
    staticClass: "color1",
    on: {
      "click": function($event) {
        return _vm.queryByLeftCount(0, 0, _vm.stat.membersOfFinishedPl)
      }
    }
  }, [_c('dt', [_vm._v("已结束课时的会员数")]), _c('dd', [_vm._v(_vm._s(_vm.stat.membersOfFinishedPl))])]), _vm._v(" "), _c('dl', {
    staticClass: "color2",
    on: {
      "click": function($event) {
        return _vm.queryByLeftCount(1, 5, _vm.stat.membersOfLeftCnt)
      }
    }
  }, [_c('dt', [_vm._v("快结束课时（1~5次）的会员数")]), _c('dd', [_vm._v(_vm._s(_vm.stat.membersOfLeftCnt))])]), _vm._v(" "), _c('dl', {
    staticClass: "color3",
    on: {
      "click": function($event) {
        return _vm.queryUnusedMemberPl(null)
      }
    }
  }, [_c('dt', [_vm._v("尚未约课的会员数")]), _c('dd', {
    class: {
      on: _vm.query.unused
    }
  }, [_vm._v(_vm._s(_vm.stat.membersOfUnusedPl))])])]), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "tbl-header"
  }, [_c('div', {
    staticClass: "l"
  }, [_vm._v("\n\t\t\t\t\t剩余次数：\n\t\t\t\t\t"), _c('input-int', {
    staticClass: "input-s",
    model: {
      value: (_vm.query.minLeftCount),
      callback: function($$v) {
        _vm.$set(_vm.query, "minLeftCount", $$v)
      },
      expression: "query.minLeftCount"
    }
  }), _vm._v(" ~ "), _c('input-int', {
    staticClass: "input-s",
    model: {
      value: (_vm.query.maxLeftCount),
      callback: function($$v) {
        _vm.$set(_vm.query, "maxLeftCount", $$v)
      },
      expression: "query.maxLeftCount"
    }
  }), _vm._v("  \n\t\t\t\t\t"), _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.statMemberPl(null)
      }
    }
  }, [_vm._v("查询")])], 1), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        return _vm.g.Util.exportToExcel('statMemberPl', '会员私教课报表')
      }
    }
  }, [_vm._v("导出")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    attrs: {
      "id": "statMemberPl"
    }
  }, [_vm._m(0), _vm._v(" "), _vm._l((_vm.memberPlStatList), function(s, idx) {
    return _c('tr', [_c('td', [_c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(s.memberId)
        }
      }
    }, [_vm._v(_vm._s(s.memberName))])]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.totalCount))]), _vm._v(" "), _c('td', {
      staticClass: "darkred"
    }, [_vm._v(_vm._s(s.usedCount))]), _vm._v(" "), _c('td', [(s.totalCount && s.usedCount) ? [_vm._v(_vm._s(_vm.g.Util.round(100 * s.usedCount / s.totalCount)) + "%")] : _vm._e()], 2), _vm._v(" "), _c('td', {
      staticClass: "green"
    }, [(s.totalCount > s.usedCount) ? [_vm._v(_vm._s(s.totalCount - s.usedCount))] : _vm._e()], 2), _vm._v(" "), _c('td', [(s.totalCount && s.totalCount > s.usedCount) ? [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(_vm.g.Util.round(100 * (s.totalCount - s.usedCount) / s.totalCount)) + "%")] : _vm._e()], 2)])
  })], 2)]), _vm._v(" "), (_vm.memberPlStatCount && _vm.memberPlStatCount > 0) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.memberPlStatCount,
      "page-size": 50,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.statMemberPl
    }
  })], 1) : _vm._e()])], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.selectMemberId
    }
  }) : _vm._e()], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "120"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', [_vm._v("总排课次数")]), _vm._v(" "), _c('th', [_vm._v("已用课时数")]), _vm._v(" "), _c('th', [_vm._v("已用比例")]), _vm._v(" "), _c('th', [_vm._v("剩余课时数")]), _vm._v(" "), _c('th', [_vm._v("剩余比例")])])
}]}

/***/ }),

/***/ 2321:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-member"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('member-stat', {
    attrs: {
      "stat-type": 2
    }
  })], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2329:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-revenue"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("收支统计")]), _vm._v(" "), _c('ul', {
    staticClass: "menu"
  }, [_c('li', [_c('a', {
    class: {
      'on': _vm.chargeQuery.statType === 1
    },
    on: {
      "click": function($event) {
        return _vm.loadChargeStat(1)
      }
    }
  }, [_vm._v("日统计")])]), _vm._v(" "), _c('li', [_c('a', {
    class: {
      'on': _vm.chargeQuery.statType === 2
    },
    on: {
      "click": function($event) {
        return _vm.loadChargeStat(2)
      }
    }
  }, [_vm._v("周统计")])]), _vm._v(" "), _c('li', [_c('a', {
    class: {
      'on': _vm.chargeQuery.statType === 3
    },
    on: {
      "click": function($event) {
        return _vm.loadChargeStat(3)
      }
    }
  }, [_vm._v("月统计")])])])]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('ul', {
    staticClass: "query-cond-inline-s"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("统计日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "daterange",
    attrs: {
      "size": "small",
      "options": _vm.dateOptions1,
      "type": "daterange",
      "format": "yyyy-MM-dd",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.chargeQuery.dates),
      callback: function($$v) {
        _vm.$set(_vm.chargeQuery, "dates", $$v)
      },
      expression: "chargeQuery.dates"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary",
      "loading": _vm.chargeQueryLoading
    },
    on: {
      "click": function($event) {
        return _vm.loadChargeStat(_vm.chargeQuery.statType)
      }
    }
  }, [_vm._v("查询")]), _vm._v("\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t"), _c('i-button', {
    staticClass: "query-btn",
    on: {
      "click": function($event) {
        return _vm.g.Util.exportToExcel('shop_stat_revenue')
      }
    }
  }, [_vm._v("导出")])], 1)])])]), _vm._v(" "), (_vm.chargeStatList) ? _c('div', [_c('chart', {
    staticClass: "chart",
    attrs: {
      "options": _vm.chargeChartOption
    }
  })], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "mytbl charge-list"
  }, [_c('table', {
    attrs: {
      "id": "shop_stat_revenue"
    }
  }, [_c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [(_vm.chargeQuery.statType === 1) ? [_vm._v("日期")] : (_vm.chargeQuery.statType === 2) ? [_vm._v("周数")] : (_vm.chargeQuery.statType === 3) ? [_vm._v("月份")] : _vm._e()], 2), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("收入")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("支出")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("余额")])]), _vm._v(" "), _vm._l((_vm.chargeStatList), function(s, idx) {
    return _c('tr', [_c('td', [(_vm.chargeQuery.statType === 1) ? [_vm._v(_vm._s(_vm.g.Util.formatDate(s.createDate)))] : (_vm.chargeQuery.statType === 2) ? [_vm._v("第" + _vm._s(s.createWeek) + "周")] : (_vm.chargeQuery.statType === 3) ? [_vm._v("\n\t\t\t\t\t\t\t\t" + _vm._s(parseInt(s.createMonth / 100)) + "-" + _vm._s(s.createMonth % 100) + "月\n\t\t\t\t\t\t\t")] : _vm._e()], 2), _vm._v(" "), _c('td', [(s.arAmount) ? [_vm._v("￥" + _vm._s(_vm.g.Util.round(s.arAmount)))] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("0")])], 2), _vm._v(" "), _c('td', [(s.apAmount) ? [_vm._v("￥" + _vm._s(_vm.g.Util.round(s.apAmount)))] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("0")])], 2), _vm._v(" "), _c('td', [(s.balance > 0) ? [_vm._v("￥" + _vm._s(_vm.g.Util.round(s.balance)))] : (s.balance < 0) ? _c('span', {
      staticClass: "red"
    }, [_vm._v("￥" + _vm._s(_vm.g.Util.round(s.balance)))]) : _c('span', {
      staticClass: "gray"
    }, [_vm._v("0")])], 2)])
  })], 2)])])])], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2341:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-card"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('ul', {
    staticClass: "menu"
  }, [_c('li', [_c('a', {
    class: {
      'on': _vm.queryDateShourtcut === null
    },
    on: {
      "click": _vm.queryCardDetailWithAll
    }
  }, [_vm._v("所有时间")])]), _vm._v(" "), _vm._l((_vm.dateShortcuts), function(d, idx) {
    return _c('li', [_c('a', {
      class: {
        'on': _vm.queryDateShourtcut === idx
      },
      on: {
        "click": function($event) {
          return _vm.queryCardDetailByShortcuts(idx)
        }
      }
    }, [_vm._v(_vm._s(d.name))])])
  })], 2)]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('ul', {
    staticClass: "query-cond-inline-s"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("统计日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "daterange",
    attrs: {
      "size": "small",
      "options": _vm.dateOptions1,
      "type": "daterange",
      "format": "yyyy-MM-dd",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.cardDetailQuery.dates),
      callback: function($$v) {
        _vm.$set(_vm.cardDetailQuery, "dates", $$v)
      },
      expression: "cardDetailQuery.dates"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary"
    },
    on: {
      "click": _vm.queryCardDetailByDates
    }
  }, [_vm._v("查询")])], 1), _vm._v(" "), _c('li', {
    staticClass: "item",
    staticStyle: {
      "padding-left": "3px"
    }
  }, [_c('i-button', {
    staticClass: "query-btn",
    on: {
      "click": function($event) {
        return _vm.g.Util.exportToExcel('statCardDetail', '会员卡详细统计')
      }
    }
  }, [_vm._v("导出")])], 1)])])]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', {
    attrs: {
      "id": "statCardDetail"
    }
  }, [_vm._m(0), _vm._v(" "), _vm._l((_vm.cardDetails), function(d, idx) {
    return _c('tr', [_c('td', {
      staticClass: "gray"
    }, [_vm._v(_vm._s(idx + 1))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(d.cardName))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardType[d.cardType]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(d.memberCnt))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(d.memberCardCnt))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(d.records))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.g.Util.round(d.payment)))]), _vm._v(" "), _c('td', [_c('a', {
      on: {
        "click": function($event) {
          return _vm.openCardPaymentDlg(d.cardId, d.cardName)
        }
      }
    }, [_vm._v("查看")])])])
  })], 2)])]), _vm._v(" "), _c('modal', {
    attrs: {
      "width": "1000",
      "title": '会员卡销售明细 - ' + _vm.selectCardName,
      "styles": {
        top: '10px'
      }
    },
    model: {
      value: (_vm.cardPaymentDlg),
      callback: function($$v) {
        _vm.cardPaymentDlg = $$v
      },
      expression: "cardPaymentDlg"
    }
  }, [_c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "90"
    }
  }, [_vm._v("充值类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("充值")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("实收")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "75"
    }
  }, [_vm._v("使用额")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("支付方式")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("销售")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "70"
    }
  }, [_vm._v("创建人")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "145"
    }
  }, [_vm._v("创建时间 ↓")]), _vm._v(" "), _c('th', [_vm._v("备注")])]), _vm._v(" "), _vm._l((_vm.memberCardPaymentList), function(c, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(c.memberName ? c.memberName.shorten(5) : null))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardPaymentType[c.paymentType]))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(c.usableAmount))]), _vm._v(" "), _c('td', {
      class: {
        orangered: c.usableAmount !== c.paymentAmount
      }
    }, [_vm._v("￥" + _vm._s(c.paymentAmount))]), _vm._v(" "), _c('td', [(c.cardType === 1) ? [_vm._v(_vm._s(c.usableDays) + " 天")] : (c.cardType === 2) ? [_vm._v(_vm._s(c.usableTimes) + " 次")] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.CardPaymentChannelForView[c.paymentChannel]))]), _vm._v(" "), _c('td', [(c.salesName) ? [_vm._v(_vm._s(c.salesName.shorten(3)))] : _vm._e()], 2), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createUname.shorten(3)))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(c.createTime))]), _vm._v(" "), _c('td', [(c.createUname === c.memberName) ? _c('i', {
      staticClass: "gray"
    }, [_vm._v("会员在线购买")]) : _vm._e(), _vm._v(_vm._s(c.remark))])])
  })], 2)]), _vm._v(" "), (_vm.cardPaymentCount > 0) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.cardPaymentCount,
      "page-size": _vm.g.Conf.PAGE_SIZE,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.queryCardPayment
    }
  })], 1) : _vm._e(), _vm._v(" "), _c('div', {
    attrs: {
      "slot": "footer"
    },
    slot: "footer"
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        _vm.cardPaymentDlg = false
      }
    }
  }, [_vm._v("关闭")])], 1)])], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('tr', [_c('th', {
    attrs: {
      "width": "50"
    }
  }, [_vm._v("#")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "250"
    }
  }, [_vm._v("会员卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("类型")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("销售会员数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("销售会员卡数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("充值记录数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("销售总金额")]), _vm._v(" "), _c('th', [_vm._v("明细")])])
}]}

/***/ }),

/***/ 2358:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-course-home"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('course-stat', {
    attrs: {
      "course-type": 1
    }
  })], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2360:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "-stat-memb-"
  }, [_c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('ul', {
    staticClass: "opt-list"
  }, [_c('li', {
    staticClass: "opt-tit gray"
  }, [_vm._v("日期导航：")]), _vm._v(" "), _vm._l((_vm.dateShortcuts), function(d, idx) {
    return _c('li', {
      class: {
        'on': _vm.queryDateShourtcut === idx
      }
    }, [_c('a', {
      on: {
        "click": function($event) {
          return _vm.statMemberByDateShortcuts(idx)
        }
      }
    }, [_vm._v(_vm._s(d.name))])])
  })], 2)]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('ul', {
    staticClass: "query-cond-inline-s"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('checkbox', {
    model: {
      value: (_vm.showMemberPhoto),
      callback: function($$v) {
        _vm.showMemberPhoto = $$v
      },
      expression: "showMemberPhoto"
    }
  }, [_vm._v("显示会员头像")]), _vm._v(" "), (_vm.statType === 3) ? [_c('checkbox', {
    model: {
      value: (_vm.query.includeGl),
      callback: function($$v) {
        _vm.$set(_vm.query, "includeGl", $$v)
      },
      expression: "query.includeGl"
    }
  }, [_vm._v("团课")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.query.includePl),
      callback: function($$v) {
        _vm.$set(_vm.query, "includePl", $$v)
      },
      expression: "query.includePl"
    }
  }, [_vm._v("私教课")])] : _vm._e()], 2), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("统计日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "开始日期",
      "options": _vm.dateOptions
    },
    model: {
      value: (_vm.query.beginDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "beginDate", $$v)
      },
      expression: "query.beginDate"
    }
  }), _vm._v("\n\t\t\t\t\t\t~\n\t\t\t\t\t\t"), _c('date-picker', {
    staticClass: "date",
    attrs: {
      "size": "small",
      "type": "date",
      "placeholder": "结束日期",
      "options": _vm.dateOptions
    },
    model: {
      value: (_vm.query.endDate),
      callback: function($$v) {
        _vm.$set(_vm.query, "endDate", $$v)
      },
      expression: "query.endDate"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    staticClass: "query-btn",
    staticStyle: {
      "margin-right": "0"
    },
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.handleQueryBtn(null)
      }
    }
  }, [_vm._v("查询")]), _vm._v("\n\t\t\t\t\t\t \n\t\t\t\t\t\t"), _c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "icon": "ios-cloud-download-outline"
    },
    on: {
      "click": function($event) {
        return _vm.statMember(null, true)
      }
    }
  }, [_vm._v("导出")])], 1)])])]), _vm._v(" "), (_vm.statType === 1) ? _c('div', {
    staticClass: "more-query"
  }, [_c('table', {
    attrs: {
      "width": "100%"
    }
  }, [_c('tr', [_c('td', [_c('i-select', {
    staticClass: "card-sel",
    attrs: {
      "placeholder": "可选择多张会员卡统计",
      "multiple": ""
    },
    model: {
      value: (_vm.query.cardIdList),
      callback: function($$v) {
        _vm.$set(_vm.query, "cardIdList", $$v)
      },
      expression: "query.cardIdList"
    }
  }, _vm._l((_vm.cardList), function(c) {
    return _c('i-option', {
      key: c.cardId,
      attrs: {
        "value": c.cardId
      }
    }, [_vm._v(_vm._s(c.cardName))])
  }), 1), _vm._v(" "), (_vm.g.data.shopList && _vm.g.data.shopList.length > 1) ? [_c('checkbox', {
    model: {
      value: (_vm.query.onlyOriginalMember),
      callback: function($$v) {
        _vm.$set(_vm.query, "onlyOriginalMember", $$v)
      },
      expression: "query.onlyOriginalMember"
    }
  }, [_vm._v("只选择本店原始会员")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.query.includeAllShops),
      callback: function($$v) {
        _vm.$set(_vm.query, "includeAllShops", $$v)
      },
      expression: "query.includeAllShops"
    }
  }, [_vm._v("包含所有店的签到")])] : _vm._e(), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v(" "), _c('span', [_vm._v("\n\t\t\t\t\t\t\t入场时长至少"), _c('input-int', {
    staticClass: "duration",
    model: {
      value: (_vm.query.duration),
      callback: function($$v) {
        _vm.$set(_vm.query, "duration", $$v)
      },
      expression: "query.duration"
    }
  }), _vm._v("分钟\n\t\t\t\t\t\t")], 1)], 2), _vm._v(" "), _c('td', {
    attrs: {
      "align": "right"
    }
  }, [_c('i-button', {
    on: {
      "click": function($event) {
        return _vm.handleQueryBtn(null)
      }
    }
  }, [_vm._v("确定")])], 1)])])]) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("排名")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "200"
    }
  }, [_vm._v("会员")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v(_vm._s(_vm.columnNames[_vm.statType]))]), _vm._v(" "), (_vm.query.includeGl && _vm.query.includePl) ? [_c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("团课次数")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("私教课次数")])] : _vm._e(), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("手机号")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "80"
    }
  }, [_vm._v("性别")]), _vm._v(" "), _c('th', [_vm._v("注册日期")])], 2), _vm._v(" "), _vm._l((_vm.statList), function(s, idx) {
    return _c('tr', [_c('td', [_c('div', {
      domProps: {
        "innerHTML": _vm._s(s.order)
      }
    })]), _vm._v(" "), _c('td', [(_vm.showMemberPhoto) ? _c('div', {
      staticClass: "stat-member-info"
    }, [_c('img', {
      attrs: {
        "src": _vm.g.Util.getImgUrl(s.avatarPathname, 100, 100, 'e5e5e5')
      },
      on: {
        "click": function($event) {
          return _vm.viewMember(s.memberId)
        }
      }
    }), _vm._v(" "), _c('a', {
      on: {
        "click": function($event) {
          return _vm.viewMember(s.memberId)
        }
      }
    }, [_vm._v(_vm._s(s.name))])]) : _c('a', {
      staticClass: "block",
      on: {
        "click": function($event) {
          return _vm.viewMember(s.memberId)
        }
      }
    }, [_vm._v(_vm._s(s.name))])]), _vm._v(" "), _c('td', [_c('div', {
      domProps: {
        "innerHTML": _vm._s(s.valDesc)
      }
    })]), _vm._v(" "), (_vm.query.includeGl && _vm.query.includePl) ? [_c('td', [_vm._v(_vm._s(s.gcLessonTimes) + " 次")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.pcLessonTimes) + " 次")])] : _vm._e(), _vm._v(" "), _c('td', [_vm._v(_vm._s(s.phoneNo))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Dict.Sex[s.sex]))]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.g.Util.formatDate(s.memberCreateTime)))])], 2)
  })], 2), _vm._v(" "), (_vm.statList && !_vm.statList.length) ? _c('div', {
    staticClass: "no-data"
  }, [_vm._v("\n\t\t\t\t暂无数据\n\t\t\t")]) : _vm._e(), _vm._v(" "), (_vm.totalCount && _vm.totalCount > 1) ? _c('div', {
    staticClass: "page-nav"
  }, [_c('page', {
    attrs: {
      "total": _vm.totalCount,
      "page-size": 50,
      "show-total": "",
      "show-elevator": ""
    },
    on: {
      "on-change": _vm.changePageNo
    }
  })], 1) : _vm._e()])]), _vm._v(" "), (_vm.statType === 3) ? _c('div', {
    staticClass: "tips"
  }, [_vm._v("\n\t\t备注：仅统计会员已签到的上课次数，预约未签到的课不在此统计范围内\n\t")]) : _vm._e(), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "会员基本信息",
      "width": "800",
      "styles": {
        top: '10px'
      },
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.viewMemberDlg),
      callback: function($$v) {
        _vm.viewMemberDlg = $$v
      },
      expression: "viewMemberDlg"
    }
  }, [(_vm.viewMemberDlg) ? _c('member-base-info', {
    attrs: {
      "member-id": _vm.selectMemberId
    }
  }) : _vm._e()], 1), _vm._v(" "), _c('modal', {
    attrs: {
      "title": "导出文件下载",
      "width": "500",
      "ok-text": "关闭",
      "cancel-text": ""
    },
    model: {
      value: (_vm.exportDlg),
      callback: function($$v) {
        _vm.exportDlg = $$v
      },
      expression: "exportDlg"
    }
  }, [_c('div', {
    staticClass: "export-xls"
  }, [(_vm.exportFileUrl) ? [(_vm.exportFileUrl) ? _c('a', {
    attrs: {
      "href": _vm.exportFileUrl,
      "target": "_blank"
    }
  }, [_vm._v("下载导出文件（xls）")]) : _vm._e()] : _c('span', [_vm._v("正在查询并导出，请稍候...")])], 2)])], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2363:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-card"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('card-bills')], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2370:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-staff"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('coach-stat', {
    attrs: {
      "coach-type": 1
    }
  })], 1)], 1)
},staticRenderFns: []}

/***/ }),

/***/ 2374:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-card"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', {
    staticClass: "stat-sum card-sum"
  }, [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit"
  }, [_vm._v("会员卡汇总统计")]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('span', {
    staticClass: "query-item"
  }, [_vm._v("\n\t\t\t\t\t\t已实现"), _c('span', {
    staticClass: "gray"
  }, [_vm._v("（次卡/储值卡）")]), _vm._v("：\n\t\t\t\t\t\t"), _c('checkbox', {
    attrs: {
      "disabled": true
    },
    model: {
      value: (_vm.acquiredOptions[0]),
      callback: function($$v) {
        _vm.$set(_vm.acquiredOptions, 0, $$v)
      },
      expression: "acquiredOptions[0]"
    }
  }, [_vm._v("已消费")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.acquiredOptions[1]),
      callback: function($$v) {
        _vm.$set(_vm.acquiredOptions, 1, $$v)
      },
      expression: "acquiredOptions[1]"
    }
  }, [_vm._v("过期卡剩余")]), _vm._v(" "), _c('checkbox', {
    model: {
      value: (_vm.acquiredOptions[2]),
      callback: function($$v) {
        _vm.$set(_vm.acquiredOptions, 2, $$v)
      },
      expression: "acquiredOptions[2]"
    }
  }, [_vm._v("作废卡剩余")])], 1), _vm._v(" "), _c('i-select', {
    staticStyle: {
      "width": "80px"
    },
    attrs: {
      "placeholder": "卡类别",
      "clearable": ""
    },
    model: {
      value: (_vm.queryCardClass),
      callback: function($$v) {
        _vm.queryCardClass = $$v
      },
      expression: "queryCardClass"
    }
  }, _vm._l((_vm.g.Dict.CardClass), function(name, id) {
    return _c('i-option', {
      key: id,
      attrs: {
        "value": id
      }
    }, [_vm._v(_vm._s(name))])
  }), 1), _vm._v("  \n\t\t\t\t\t"), _c('date-picker', {
    staticStyle: {
      "width": "200px"
    },
    attrs: {
      "placeholder": "根据日期范围统计",
      "options": _vm.queryDateOptions,
      "type": "daterange",
      "format": "yyyy-MM-dd",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.queryDates),
      callback: function($$v) {
        _vm.queryDates = $$v
      },
      expression: "queryDates"
    }
  }), _vm._v("\n\t\t\t\t\t \n\t\t\t\t\t"), _c('i-button', {
    attrs: {
      "type": "primary"
    },
    on: {
      "click": function($event) {
        return _vm.submitStat()
      }
    }
  }, [_vm._v("确定")]), _vm._v("\n\t\t\t\t\t \n\t\t\t\t\t"), _c('i-button', {
    on: {
      "click": function($event) {
        return _vm.reset()
      }
    }
  }, [_vm._v("重置")])], 1)]), _vm._v(" "), _c('div', {
    staticClass: "mytbl"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "100"
    }
  }, [_vm._v("卡类型")]), _vm._v(" "), _c('th', [_vm._v("充值实收")]), _vm._v(" "), _c('th', [_vm._v("已实现")]), _vm._v(" "), (!_vm.queryByDates) ? _c('th', [_vm._v("未实现")]) : _vm._e()]), _vm._v(" "), _c('tr', [_c('td', [_vm._v("期限卡")]), _vm._v(" "), _c('td', [(_vm.cardAmountSum.termCardTotalAmount) ? [_vm._v(_vm._s(_vm.cardAmountSum.termCardTotalAmount || 0) + " "), _c('i', [_vm._v("元")])] : _vm._e()], 2), _vm._v(" "), _c('td', [(_vm.cardAmountSum.termCardUsedAmount) ? [_vm._v(_vm._s(_vm.cardAmountSum.termCardUsedAmount || 0) + " "), _c('i', [_vm._v("元")])] : _vm._e()], 2), _vm._v(" "), (!_vm.queryByDates) ? _c('td', [_vm._v(_vm._s(_vm.g.Util.round(_vm.cardAmountSum.termCardLeftAmount + _vm.cardAmountSum.termCardUnusedAmount)) + " "), _c('i', [_vm._v("元")]), _vm._v(" "), _c('span', {
    staticClass: "l10 orange"
  }, [_vm._v("\n\t\t\t\t\t\t( 已开卡余额 "), _c('i', [_vm._v(_vm._s(_vm.cardAmountSum.termCardLeftAmount || 0) + " 元")]), _vm._v(" + 未开卡余额 "), _c('i', [_vm._v(_vm._s(_vm.cardAmountSum.termCardUnusedAmount || 0) + " 元")]), _vm._v(" ）\n\t\t\t\t\t\t")])]) : _vm._e()]), _vm._v(" "), _c('tr', [_c('td', [_vm._v("次数卡")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.cardAmountSum.timesCardTotalTimes || 0) + " "), _c('i', [_vm._v("次")]), _vm._v(" （" + _vm._s(_vm.cardAmountSum.timesCardTotalAmount || 0) + " "), _c('i', [_vm._v("元")]), _vm._v("）")]), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(_vm.cardAmountSum.acquiredTimesCardTimes || 0) + " "), _c('i', [_vm._v("次")]), _vm._v(" "), _c('span', {
    staticClass: "spt"
  }, [_vm._v("|")]), _vm._v(" " + _vm._s(_vm.cardAmountSum.acquiredTimesCardAmount || 0) + " "), _c('i', [_vm._v("元")]), _vm._v(" "), (_vm.acquiredOptions[1] || _vm.acquiredOptions[2]) ? _c('ul', {
    staticClass: "items"
  }, [_c('li', [_vm._v("\n\t\t\t\t\t\t\t\t\t会员已消费：" + _vm._s(_vm.cardAmountSum.timesCardUsedTimes || 0) + " "), _c('i', [_vm._v("次")]), _vm._v("\n\t\t\t\t\t\t\t\t\t（" + _vm._s(_vm.cardAmountSum.timesCardUsedAmount || 0) + " "), _c('i', [_vm._v("元")]), _vm._v("）\n\t\t\t\t\t\t\t\t")]), _vm._v(" "), (_vm.acquiredOptions[1] && _vm.cardAmountSum.outdateTimesCardLeftTimes) ? _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t\t过期卡剩余：" + _vm._s(_vm.cardAmountSum.outdateTimesCardLeftTimes || 0) + " "), _c('i', [_vm._v("次")]), _vm._v("\n\t\t\t\t\t\t\t\t\t（" + _vm._s(_vm.cardAmountSum.outdateTimesCardLeftAmount || 0) + " "), _c('i', [_vm._v("元")]), _vm._v("）\n\t\t\t\t\t\t\t\t")]) : _vm._e(), _vm._v(" "), (_vm.acquiredOptions[2] && _vm.cardAmountSum.discardedTimesCardLeftTimes) ? _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t\t作废卡剩余：" + _vm._s(_vm.cardAmountSum.discardedTimesCardLeftTimes || 0) + " "), _c('i', [_vm._v("次")]), _vm._v("\n\t\t\t\t\t\t\t\t\t（" + _vm._s(_vm.cardAmountSum.discardedTimesCardLeftAmount || 0) + " "), _c('i', [_vm._v("元")]), _vm._v("）\n\t\t\t\t\t\t\t\t")]) : _vm._e()]) : _vm._e()]), _vm._v(" "), (!_vm.queryByDates) ? _c('td', [_vm._v(_vm._s(_vm.cardAmountSum.timesCardLeftTimes || 0) + " "), _c('i', [_vm._v("次")]), _vm._v(" （" + _vm._s(_vm.cardAmountSum.timesCardLeftAmount || 0) + " "), _c('i', [_vm._v("元")]), _vm._v("）")]) : _vm._e()]), _vm._v(" "), _c('tr', [_c('td', [_vm._v("储值卡")]), _vm._v(" "), _c('td', [_vm._v(_vm._s(_vm.cardAmountSum.valueCardTotalAmount || 0) + " "), _c('i', [_vm._v("元")])]), _vm._v(" "), _c('td', [_vm._v("\n\t\t\t\t\t\t\t" + _vm._s(_vm.cardAmountSum.acquiredValueCardAmount || 0) + " "), _c('i', [_vm._v("元")]), _vm._v(" "), (_vm.acquiredOptions[1] || _vm.acquiredOptions[2]) ? _c('ul', {
    staticClass: "items"
  }, [_c('li', [_vm._v("\n\t\t\t\t\t\t\t\t\t会员已消费：" + _vm._s(_vm.cardAmountSum.valueCardUsedAmount || 0) + " "), _c('i', [_vm._v("元")])]), _vm._v(" "), (_vm.acquiredOptions[1] && _vm.cardAmountSum.outdateValueCardLeftAmount) ? _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t\t过期卡剩余：" + _vm._s(_vm.cardAmountSum.outdateValueCardLeftAmount || 0) + " "), _c('i', [_vm._v("元")])]) : _vm._e(), _vm._v(" "), (_vm.acquiredOptions[2] && _vm.cardAmountSum.discardedValueCardLeftAmount) ? _c('li', [_vm._v("\n\t\t\t\t\t\t\t\t\t作废卡剩余：" + _vm._s(_vm.cardAmountSum.discardedValueCardLeftAmount || 0) + " "), _c('i', [_vm._v("元")])]) : _vm._e()]) : _vm._e()]), _vm._v(" "), (!_vm.queryByDates) ? _c('td', [_vm._v(_vm._s(_vm.cardAmountSum.valueCardLeftAmount || 0) + " "), _c('i', [_vm._v("元")])]) : _vm._e()]), _vm._v(" "), _c('tr', [_c('td', {
    staticClass: "gray"
  }, [_vm._v("合计")]), _vm._v(" "), _c('td', {
    staticClass: "bold"
  }, [_vm._v(_vm._s(_vm.cardAmountSum.cardTotalAmountSum) + " "), _c('i', [_vm._v("元")])]), _vm._v(" "), _c('td', {
    staticClass: "bold"
  }, [_vm._v(_vm._s(_vm.cardAmountSum.cardUsedAmountSum) + " "), _c('i', [_vm._v("元")])]), _vm._v(" "), (!_vm.queryByDates) ? _c('td', {
    staticClass: "bold"
  }, [_vm._v("￥" + _vm._s(_vm.cardAmountSum.cardLeftAmountSum) + " "), _c('i', [_vm._v("元")])]) : _vm._e()])])]), _vm._v(" "), (!_vm.queryByDates) ? _c('ul', {
    staticClass: "charts"
  }, [(_vm.cardAmountSum.termCardTotalAmount &&
    _vm.cardAmountSum.timesCardTotalAmount > (_vm.cardAmountSum.timesCardUsedAmount + _vm.cardAmountSum.timesCardLeftAmount)) ? _c('li', [_vm._m(0), _vm._v(" "), _c('chart', {
    staticClass: "piechart",
    attrs: {
      "options": _vm.termCardStatOption
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.cardAmountSum.timesCardTotalAmount && _vm.cardAmountSum.timesCardTotalAmount > (_vm.cardAmountSum.timesCardUsedAmount + _vm.cardAmountSum.timesCardLeftAmount)) ? _c('li', [_vm._m(1), _vm._v(" "), _c('chart', {
    staticClass: "piechart",
    attrs: {
      "options": _vm.timesCardStatOption
    }
  })], 1) : _vm._e(), _vm._v(" "), (_vm.cardAmountSum.valueCardTotalAmount && _vm.cardAmountSum.valueCardTotalAmount > (_vm.cardAmountSum.valueCardUsedAmount + _vm.cardAmountSum.valueCardLeftAmount)) ? _c('li', [_vm._m(2), _vm._v(" "), _c('chart', {
    staticClass: "piechart",
    attrs: {
      "options": _vm.valueCardStatOption
    }
  })], 1) : _vm._e()]) : _vm._e()]), _vm._v(" "), _vm._m(3)], 1)], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "tit"
  }, [_c('b', [_vm._v("期限卡统计")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "tit"
  }, [_c('b', [_vm._v("次数卡统计")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "tit"
  }, [_c('b', [_vm._v("储值卡统计")])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "tit-help"
  }, [_vm._v("您需要知道的")])]), _vm._v(" "), _c('div', {
    staticClass: "bd"
  }, [_c('ol', [_c('li', [_vm._v("充值实收：指会员的会员卡充值记录中的实收金额、可使用次数")]), _vm._v(" "), _c('li', [_vm._v("已实现：指会员卡已消费的次数，或（折算）金额，例如，入场签到、上课、场地预约等")]), _vm._v(" "), _c('li', [_vm._v("未实现：指会员卡还未消费的剩余金额或次数")])])])])
}]}

/***/ }),

/***/ 2376:
/***/ (function(module, exports) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', [_c('shop-nav', {
    attrs: {
      "menu": "shop-stat"
    }
  }), _vm._v(" "), _c('sys-header', {
    attrs: {
      "menu": "shop-stat",
      "page": "shop-stat-card"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "g-main -style-"
  }, [_c('page-header', {
    attrs: {
      "menu-list": _vm.menuList
    }
  }), _vm._v(" "), _c('section', [_c('div', {
    staticClass: "hd"
  }, [_c('div', {
    staticClass: "l"
  }, [_c('ul', {
    staticClass: "menu"
  }, [_c('li', [_c('a', {
    class: {
      'on': _vm.statQuery.statType === 1
    },
    on: {
      "click": function($event) {
        return _vm.loadStat(1)
      }
    }
  }, [_vm._v("日统计")])]), _vm._v(" "), _c('li', [_c('a', {
    class: {
      'on': _vm.statQuery.statType === 2
    },
    on: {
      "click": function($event) {
        return _vm.loadStat(2)
      }
    }
  }, [_vm._v("周统计")])]), _vm._v(" "), _c('li', [_c('a', {
    class: {
      'on': _vm.statQuery.statType === 3
    },
    on: {
      "click": function($event) {
        return _vm.loadStat(3)
      }
    }
  }, [_vm._v("月统计")])])])]), _vm._v(" "), _c('div', {
    staticClass: "r"
  }, [_c('ul', {
    staticClass: "query-cond-inline-s"
  }, [_c('li', {
    staticClass: "item"
  }, [_c('label', [_vm._v("统计日期")]), _vm._v(" "), _c('date-picker', {
    staticClass: "daterange",
    attrs: {
      "size": "small",
      "options": _vm.dateOptions1,
      "type": "daterange",
      "format": "yyyy-MM-dd",
      "placement": "bottom-end"
    },
    model: {
      value: (_vm.statQuery.dates),
      callback: function($$v) {
        _vm.$set(_vm.statQuery, "dates", $$v)
      },
      expression: "statQuery.dates"
    }
  })], 1), _vm._v(" "), _c('li', {
    staticClass: "item"
  }, [_c('i-button', {
    staticClass: "query-btn",
    attrs: {
      "type": "primary",
      "loading": _vm.statQueryLoading
    },
    on: {
      "click": function($event) {
        return _vm.loadStat(_vm.statQuery.statType)
      }
    }
  }, [_vm._v("查询")])], 1)])])]), _vm._v(" "), (_vm.statDataList) ? _c('div', [_c('chart', {
    staticClass: "chart",
    attrs: {
      "options": _vm.chartOption
    }
  })], 1) : _vm._e(), _vm._v(" "), _c('div', {
    staticClass: "mytbl data-list"
  }, [_c('table', [_c('tr', [_c('th', {
    attrs: {
      "width": "150"
    }
  }, [(_vm.statQuery.statType === 1) ? [_vm._v("日期")] : (_vm.statQuery.statType === 2) ? [_vm._v("周数")] : (_vm.statQuery.statType === 3) ? [_vm._v("月份")] : _vm._e()], 2), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("会籍卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("私教卡")]), _vm._v(" "), _c('th', {
    attrs: {
      "width": "150"
    }
  }, [_vm._v("团课卡")]), _vm._v(" "), _c('th', [_vm._v("合计")])]), _vm._v(" "), _vm._l((_vm.statDataList), function(s, idx) {
    return _c('tr', [_c('td', [_vm._v(_vm._s(s.date))]), _vm._v(" "), _c('td', [(s.c0) ? [_vm._v("￥" + _vm._s(_vm.g.Util.round(s.c0)))] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("0")])], 2), _vm._v(" "), _c('td', [(s.c2) ? [_vm._v("￥" + _vm._s(_vm.g.Util.round(s.c2)))] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("0")])], 2), _vm._v(" "), _c('td', [(s.c1) ? [_vm._v("￥" + _vm._s(_vm.g.Util.round(s.c1)))] : _c('span', {
      staticClass: "gray"
    }, [_vm._v("0")])], 2), _vm._v(" "), _c('td', [(!s.c0 && !s.c1 && !s.c2) ? _c('span', {
      staticClass: "gray"
    }, [_vm._v("0")]) : [_vm._v("\n\t\t\t\t\t\t\t\t￥" + _vm._s(_vm.g.Util.round((s.c0 ? s.c0 : 0) + (s.c1 ? s.c1 : 0) + (s.c2 ? s.c2 : 0))) + "\n\t\t\t\t\t\t\t")]], 2)])
  }), _vm._v(" "), _c('tr', [_c('td', [_vm._v("合计")]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.g.Util.round(_vm.sum.membCardAmt)))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.g.Util.round(_vm.sum.pcCardAmt)))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.g.Util.round(_vm.sum.gcCardAmt)))]), _vm._v(" "), _c('td', [_vm._v("￥" + _vm._s(_vm.g.Util.round(_vm.sum.membCardAmt + _vm.sum.pcCardAmt + _vm.sum.gcCardAmt)))])])], 2)])])], 1)], 1)
},staticRenderFns: []}

/***/ })

});